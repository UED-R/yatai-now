(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function CE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var f_={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function bT(){if(Qv)return Kl;Qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(o,c,d){var _=null;if(d!==void 0&&(_=""+d),c.key!==void 0&&(_=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:r,type:o,key:_,ref:c!==void 0?c:null,props:d}}return Kl.Fragment=t,Kl.jsx=i,Kl.jsxs=i,Kl}var $v;function ST(){return $v||($v=1,f_.exports=bT()),f_.exports}var M=ST(),d_={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function TT(){if(Jv)return Ct;Jv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),_=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function Q(x,G,J){this.props=x,this.context=G,this.refs=U,this.updater=J||H}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=Q.prototype;function it(x,G,J){this.props=x,this.context=G,this.refs=U,this.updater=J||H}var lt=it.prototype=new et;lt.constructor=it,V(lt,Q.prototype),lt.isPureReactComponent=!0;var It=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function zt(x,G,J,tt,at,ht){return J=ht.ref,{$$typeof:r,type:x,key:G,ref:J!==void 0?J:null,props:ht}}function re(x,G){return zt(x.type,G,void 0,void 0,void 0,x.props)}function Gt(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function Re(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return G[J]})}var qt=/\/+/g;function Bt(x,G){return typeof x=="object"&&x!==null&&x.key!=null?Re(""+x.key):G.toString(36)}function Ln(){}function ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ln,Ln):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Ee(x,G,J,tt,at){var ht=typeof x;(ht==="undefined"||ht==="boolean")&&(x=null);var rt=!1;if(x===null)rt=!0;else switch(ht){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(x.$$typeof){case r:case t:rt=!0;break;case T:return rt=x._init,Ee(rt(x._payload),G,J,tt,at)}}if(rt)return at=at(x),rt=tt===""?"."+Bt(x,0):tt,It(at)?(J="",rt!=null&&(J=rt.replace(qt,"$&/")+"/"),Ee(at,G,J,"",function(Vn){return Vn})):at!=null&&(Gt(at)&&(at=re(at,J+(at.key==null||x&&x.key===at.key?"":(""+at.key).replace(qt,"$&/")+"/")+rt)),G.push(at)),1;rt=0;var le=tt===""?".":tt+":";if(It(x))for(var Ut=0;Ut<x.length;Ut++)tt=x[Ut],ht=le+Bt(tt,Ut),rt+=Ee(tt,G,J,ht,at);else if(Ut=A(x),typeof Ut=="function")for(x=Ut.call(x),Ut=0;!(tt=x.next()).done;)tt=tt.value,ht=le+Bt(tt,Ut++),rt+=Ee(tt,G,J,ht,at);else if(ht==="object"){if(typeof x.then=="function")return Ee(ge(x),G,J,tt,at);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return rt}function q(x,G,J){if(x==null)return x;var tt=[],at=0;return Ee(x,tt,"","",function(ht){return G.call(J,ht,at++)}),tt}function st(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var $=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function X(){}return Ct.Children={map:q,forEach:function(x,G,J){q(x,function(){G.apply(this,arguments)},J)},count:function(x){var G=0;return q(x,function(){G++}),G},toArray:function(x){return q(x,function(G){return G})||[]},only:function(x){if(!Gt(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ct.Component=Q,Ct.Fragment=i,Ct.Profiler=c,Ct.PureComponent=it,Ct.StrictMode=o,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(x){return pt.H.useMemoCache(x)}},Ct.cache=function(x){return function(){return x.apply(null,arguments)}},Ct.cloneElement=function(x,G,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var tt=V({},x.props),at=x.key,ht=void 0;if(G!=null)for(rt in G.ref!==void 0&&(ht=void 0),G.key!==void 0&&(at=""+G.key),G)!wt.call(G,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&G.ref===void 0||(tt[rt]=G[rt]);var rt=arguments.length-2;if(rt===1)tt.children=J;else if(1<rt){for(var le=Array(rt),Ut=0;Ut<rt;Ut++)le[Ut]=arguments[Ut+2];tt.children=le}return zt(x.type,at,void 0,void 0,ht,tt)},Ct.createContext=function(x){return x={$$typeof:_,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},Ct.createElement=function(x,G,J){var tt,at={},ht=null;if(G!=null)for(tt in G.key!==void 0&&(ht=""+G.key),G)wt.call(G,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(at[tt]=G[tt]);var rt=arguments.length-2;if(rt===1)at.children=J;else if(1<rt){for(var le=Array(rt),Ut=0;Ut<rt;Ut++)le[Ut]=arguments[Ut+2];at.children=le}if(x&&x.defaultProps)for(tt in rt=x.defaultProps,rt)at[tt]===void 0&&(at[tt]=rt[tt]);return zt(x,ht,void 0,void 0,null,at)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(x){return{$$typeof:g,render:x}},Ct.isValidElement=Gt,Ct.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:st}},Ct.memo=function(x,G){return{$$typeof:E,type:x,compare:G===void 0?null:G}},Ct.startTransition=function(x){var G=pt.T,J={};pt.T=J;try{var tt=x(),at=pt.S;at!==null&&at(J,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(X,$)}catch(ht){$(ht)}finally{pt.T=G}},Ct.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Ct.use=function(x){return pt.H.use(x)},Ct.useActionState=function(x,G,J){return pt.H.useActionState(x,G,J)},Ct.useCallback=function(x,G){return pt.H.useCallback(x,G)},Ct.useContext=function(x){return pt.H.useContext(x)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(x,G){return pt.H.useDeferredValue(x,G)},Ct.useEffect=function(x,G,J){var tt=pt.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(x,G)},Ct.useId=function(){return pt.H.useId()},Ct.useImperativeHandle=function(x,G,J){return pt.H.useImperativeHandle(x,G,J)},Ct.useInsertionEffect=function(x,G){return pt.H.useInsertionEffect(x,G)},Ct.useLayoutEffect=function(x,G){return pt.H.useLayoutEffect(x,G)},Ct.useMemo=function(x,G){return pt.H.useMemo(x,G)},Ct.useOptimistic=function(x,G){return pt.H.useOptimistic(x,G)},Ct.useReducer=function(x,G,J){return pt.H.useReducer(x,G,J)},Ct.useRef=function(x){return pt.H.useRef(x)},Ct.useState=function(x){return pt.H.useState(x)},Ct.useSyncExternalStore=function(x,G,J){return pt.H.useSyncExternalStore(x,G,J)},Ct.useTransition=function(){return pt.H.useTransition()},Ct.version="19.1.1",Ct}var ty;function ap(){return ty||(ty=1,d_.exports=TT()),d_.exports}var z=ap();const D_=CE(z);var __={exports:{}},Xl={},p_={exports:{}},m_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function wT(){return ey||(ey=1,(function(r){function t(q,st){var $=q.length;q.push(st);t:for(;0<$;){var X=$-1>>>1,x=q[X];if(0<c(x,st))q[X]=st,q[$]=x,$=X;else break t}}function i(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var st=q[0],$=q.pop();if($!==st){q[0]=$;t:for(var X=0,x=q.length,G=x>>>1;X<G;){var J=2*(X+1)-1,tt=q[J],at=J+1,ht=q[at];if(0>c(tt,$))at<x&&0>c(ht,tt)?(q[X]=ht,q[at]=$,X=at):(q[X]=tt,q[J]=$,X=J);else if(at<x&&0>c(ht,$))q[X]=ht,q[at]=$,X=at;else break t}}return st}function c(q,st){var $=q.sortIndex-st.sortIndex;return $!==0?$:q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var _=Date,g=_.now();r.unstable_now=function(){return _.now()-g}}var v=[],E=[],T=1,C=null,A=3,H=!1,V=!1,U=!1,Q=!1,et=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function It(q){for(var st=i(E);st!==null;){if(st.callback===null)o(E);else if(st.startTime<=q)o(E),st.sortIndex=st.expirationTime,t(v,st);else break;st=i(E)}}function pt(q){if(U=!1,It(q),!V)if(i(v)!==null)V=!0,wt||(wt=!0,Bt());else{var st=i(E);st!==null&&Ee(pt,st.startTime-q)}}var wt=!1,zt=-1,re=5,Gt=-1;function Re(){return Q?!0:!(r.unstable_now()-Gt<re)}function qt(){if(Q=!1,wt){var q=r.unstable_now();Gt=q;var st=!0;try{t:{V=!1,U&&(U=!1,it(zt),zt=-1),H=!0;var $=A;try{e:{for(It(q),C=i(v);C!==null&&!(C.expirationTime>q&&Re());){var X=C.callback;if(typeof X=="function"){C.callback=null,A=C.priorityLevel;var x=X(C.expirationTime<=q);if(q=r.unstable_now(),typeof x=="function"){C.callback=x,It(q),st=!0;break e}C===i(v)&&o(v),It(q)}else o(v);C=i(v)}if(C!==null)st=!0;else{var G=i(E);G!==null&&Ee(pt,G.startTime-q),st=!1}}break t}finally{C=null,A=$,H=!1}st=void 0}}finally{st?Bt():wt=!1}}}var Bt;if(typeof lt=="function")Bt=function(){lt(qt)};else if(typeof MessageChannel<"u"){var Ln=new MessageChannel,ge=Ln.port2;Ln.port1.onmessage=qt,Bt=function(){ge.postMessage(null)}}else Bt=function(){et(qt,0)};function Ee(q,st){zt=et(function(){q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(q){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var $=A;A=st;try{return q()}finally{A=$}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(q,st){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=A;A=q;try{return st()}finally{A=$}},r.unstable_scheduleCallback=function(q,st,$){var X=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=$+x,q={id:T++,callback:st,priorityLevel:q,startTime:$,expirationTime:x,sortIndex:-1},$>X?(q.sortIndex=$,t(E,q),i(v)===null&&q===i(E)&&(U?(it(zt),zt=-1):U=!0,Ee(pt,$-X))):(q.sortIndex=x,t(v,q),V||H||(V=!0,wt||(wt=!0,Bt()))),q},r.unstable_shouldYield=Re,r.unstable_wrapCallback=function(q){var st=A;return function(){var $=A;A=st;try{return q.apply(this,arguments)}finally{A=$}}}})(m_)),m_}var ny;function CT(){return ny||(ny=1,p_.exports=wT()),p_.exports}var g_={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function xT(){if(iy)return Xe;iy=1;var r=ap();function t(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,E,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:v,containerInfo:E,implementation:T}}var _=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Xe.createPortal=function(v,E){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return d(v,E,null,T)},Xe.flushSync=function(v){var E=_.T,T=o.p;try{if(_.T=null,o.p=2,v)return v()}finally{_.T=E,o.p=T,o.d.f()}},Xe.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,o.d.C(v,E))},Xe.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Xe.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var T=E.as,C=g(T,E.crossOrigin),A=typeof E.integrity=="string"?E.integrity:void 0,H=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;T==="style"?o.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:C,integrity:A,fetchPriority:H}):T==="script"&&o.d.X(v,{crossOrigin:C,integrity:A,fetchPriority:H,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Xe.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var T=g(E.as,E.crossOrigin);o.d.M(v,{crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&o.d.M(v)},Xe.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var T=E.as,C=g(T,E.crossOrigin);o.d.L(v,T,{crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Xe.preloadModule=function(v,E){if(typeof v=="string")if(E){var T=g(E.as,E.crossOrigin);o.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else o.d.m(v)},Xe.requestFormReset=function(v){o.d.r(v)},Xe.unstable_batchedUpdates=function(v,E){return v(E)},Xe.useFormState=function(v,E,T){return _.H.useFormState(v,E,T)},Xe.useFormStatus=function(){return _.H.useHostTransitionStatus()},Xe.version="19.1.1",Xe}var sy;function xE(){if(sy)return g_.exports;sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),g_.exports=xT(),g_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function AT(){if(ry)return Xl;ry=1;var r=CT(),t=ap(),i=xE();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function _(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(o(188))}function v(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,u=n;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),e;if(p===u)return g(f),n;p=p.sibling}throw Error(o(188))}if(a.return!==u.return)a=f,u=p;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,u=p;break}if(w===u){b=!0,u=f,a=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===a){b=!0,a=p,u=f;break}if(w===u){b=!0,u=p,a=f;break}w=w.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),qt=Symbol.iterator;function Bt(e){return e===null||typeof e!="object"?null:(e=qt&&e[qt]||e["@@iterator"],typeof e=="function"?e:null)}var Ln=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ln?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case pt:return"Suspense";case wt:return"SuspenseList";case Gt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zt:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var Ee=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},X=[],x=-1;function G(e){return{current:e}}function J(e){0>x||(e.current=X[x],X[x]=null,x--)}function tt(e,n){x++,X[x]=e.current,e.current=n}var at=G(null),ht=G(null),rt=G(null),le=G(null);function Ut(e,n){switch(tt(rt,n),tt(ht,e),tt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cv(n),e=xv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(at),tt(at,e)}function Vn(){J(at),J(ht),J(rt)}function Nr(e){e.memoizedState!==null&&tt(le,e);var n=at.current,a=xv(n,e.type);n!==a&&(tt(ht,e),tt(at,a))}function gs(e){ht.current===e&&(J(at),J(ht)),le.current===e&&(J(le),Gl._currentValue=$)}var Ri=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,Vo=r.unstable_cancelCallback,Bu=r.unstable_shouldYield,Hu=r.unstable_requestPaint,hn=r.unstable_now,Ta=r.unstable_getCurrentPriorityLevel,ju=r.unstable_ImmediatePriority,Fo=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Zu=r.unstable_LowPriority,Yo=r.unstable_IdlePriority,gf=r.log,vf=r.unstable_setDisableYieldValue,Oi=null,Ve=null;function Fn(e){if(typeof gf=="function"&&vf(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Oi,e)}catch{}}var $e=Math.clz32?Math.clz32:yf,qu=Math.log,Gu=Math.LN2;function yf(e){return e>>>=0,e===0?32:31-(qu(e)/Gu|0)|0}var Mr=256,ys=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wa(e,n,a){var u=e.pendingLanes;if(u===0)return 0;var f=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=li(u):(b&=w,b!==0?f=li(b):a||(a=w&~e,a!==0&&(f=li(a))))):(w=u&~p,w!==0?f=li(w):b!==0?f=li(b):a||(a=u&~e,a!==0&&(f=li(a)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:f}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ef(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var e=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),e}function Wo(){var e=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),e}function Ca(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bf(e,n,a,u,f,p){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,k=e.hiddenUpdates;for(a=b&~a;0<a;){var F=31-$e(a),W=1<<F;w[F]=0,O[F]=-1;var B=k[F];if(B!==null)for(k[F]=null,F=0;F<B.length;F++){var j=B[F];j!==null&&(j.lane&=-536870913)}a&=~W}u!==0&&Fu(e,u,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~n))}function Fu(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-$e(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194090}function Yu(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var u=31-$e(a),f=1<<u;f&n|e[u]&n&&(e[u]|=n),a&=~f}}function Ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Vv(e.type))}function Qo(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var ui=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ui,Fe="__reactProps$"+ui,bs="__reactContainer$"+ui,fn="__reactEvents$"+ui,dt="__reactListeners$"+ui,Ku="__reactHandles$"+ui,$o="__reactResources$"+ui,Ss="__reactMarker$"+ui;function xa(e){delete e[Oe],delete e[Fe],delete e[fn],delete e[dt],delete e[Ku]}function ci(e){var n=e[Oe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[bs]||a[Oe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Nv(e);e!==null;){if(a=e[Oe])return a;e=Nv(e)}return n}e=a,a=e.parentNode}return null}function Ni(e){if(e=e[Oe]||e[bs]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Li(e){var n=e[$o];return n||(n=e[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[Ss]=!0}var Xu=new Set,Qu={};function Mi(e,n){Ii(e,n),Ii(e+"Capture",n)}function Ii(e,n){for(Qu[e]=n,e=0;e<n.length;e++)Xu.add(n[e])}var Sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},$u={};function Tf(e){return Ri.call($u,e)?!0:Ri.call(Ir,e)?!1:Sf.test(e)?$u[e]=!0:(Ir[e]=!0,!1)}function Aa(e,n,a){if(Tf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ra(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Wn(e,n,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+u)}}var Dr,Ts;function Di(e){if(Dr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+e+Ts}var Oa=!1;function Pi(e,n){if(!e||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(j){var B=j}Reflect.construct(e,[],W)}else{try{W.call()}catch(j){B=j}e.call(W.prototype)}}else{try{throw Error()}catch(j){B=j}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var O=b.split(`
`),k=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===k.length)for(u=O.length-1,f=k.length-1;1<=u&&0<=f&&O[u]!==k[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==k[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==k[f]){var F=`
`+O[u].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function Pt(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return Di("Activity");default:return""}}function Jt(e){try{var n="";do n+=Pt(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ki(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ws(e){var n=ki(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Cs(e){e._valueTracker||(e._valueTracker=ws(e))}function Tt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return e&&(u=ki(e)?e.checked?"true":"false":e.value),e=u,e!==a?(n.setValue(e),!0):!1}function te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jo=/[\n"\\]/g;function Ue(e){return e.replace(Jo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ye(e,n,a,u,f,p,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?xs(e,b,ze(n)):a!=null?xs(e,b,ze(a)):u!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+ze(w):e.removeAttribute("name")}function Ju(e,n,a,u,f,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,w||n===e.value||(e.value=n),e.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=w?e.checked:!!u,e.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function xs(e,n,a){n==="number"&&te(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dn(e,n,a,u){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ue(e,n,a){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ze(a):""}function hi(e,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(o(92));if(Ee(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=ze(n),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function In(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(e,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,a):typeof a!="number"||a===0||Pr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function As(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Na(e,f,u)}else for(var p in n)n.hasOwnProperty(p)&&Na(e,p,n[p])}function kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),La=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return La.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zr=null;function Os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,fi=null;function tc(e){var n=Ni(e);if(n&&(e=n.stateNode)){var a=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ye(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==e&&u.form===e.form){var f=u[Fe]||null;if(!f)throw Error(o(90));Ye(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===e.form&&Tt(u)}break t;case"textarea":ue(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&dn(e,!!a.multiple,n,!1)}}}var St=!1;function yn(e,n,a){if(St)return e(n,a);St=!0;try{var u=e(n);return u}finally{if(St=!1,(zi!==null||fi!==null)&&(Wc(),zi&&(n=zi,e=fi,fi=zi=null,tc(n),e)))for(n=0;n<e.length;n++)tc(e[n])}}function Ht(e,n){var a=e.stateNode;if(a===null)return null;var u=a[Fe]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Dn)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Ur=!1}var Pn=null,Kn=null,Ns=null;function Ls(){if(Ns)return Ns;var e,n=Kn,a=n.length,u,f="value"in Pn?Pn.value:Pn.textContent,p=f.length;for(e=0;e<a&&n[e]===f[e];e++);var b=a-e;for(u=1;u<=b&&n[a-u]===f[p-u];u++);return Ns=f.slice(e,1<u?1-u:void 0)}function de(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function kn(){return!0}function el(){return!1}function Be(e){function n(a,u,f,p,b){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?kn:el,this.isPropagationStopped=el,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=Be(Bi),Hi=T({},Bi,{view:0,detail:0}),wf=Be(Hi),Ma,At,Hr,We=T({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Ma=e.screenX-Hr.screenX,At=e.screenY-Hr.screenY):At=Ma=0,Hr=e),Ma)},movementY:function(e){return"movementY"in e?e.movementY:At}}),Ms=Be(We),ec=T({},We,{dataTransfer:0}),Cf=Be(ec),nl=T({},Hi,{relatedTarget:0}),il=Be(nl),nc=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),xf=Be(nc),Af=T({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sl=Be(Af),Rf=T({},Bi,{data:0}),En=Be(Rf),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=di[e])?!!n[e]:!1}function Ia(){return sc}var rl=T({},Hi,{key:function(e){if(e.key){var n=Of[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=de(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ic[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?de(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?de(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=Be(rl),rc=T({},We,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Be(rc),Lf=T({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Mf=Be(Lf),ol=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),If=Be(ol),ac=T({},We,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=Be(ac),Da=T({},Bi,{newState:0,oldState:0}),ji=Be(Da),Df=[9,13,27,32],Zi=Dn&&"CompositionEvent"in window,Ne=null;Dn&&"documentMode"in document&&(Ne=document.documentMode);var lc=Dn&&"TextEvent"in window&&!Ne,ll=Dn&&(!Zi||Ne&&8<Ne&&11>=Ne),uc=" ",Pa=!1;function ka(e,n){switch(e){case"keyup":return Df.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function hc(e,n){switch(e){case"compositionend":return cc(n);case"keypress":return n.which!==32?null:(Pa=!0,uc);case"textInput":return e=n.data,e===uc&&Pa?null:e;default:return null}}function Pf(e,n){if(Is)return e==="compositionend"||!Zi&&ka(e,n)?(e=Ls(),Ns=Kn=Pn=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ll&&n.locale!=="ko"?null:n.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bn[e.type]:n==="textarea"}function fc(e,n,a,u){zi?fi?fi.push(u):fi=[u]:zi=u,n=th(n,"onChange"),0<n.length&&(a=new Br("onChange","change",null,a,u),e.push({event:a,listeners:n}))}var Je=null,jr=null;function Ds(e){Ev(e,0)}function za(e){var n=Mn(e);if(Tt(n))return e}function Ps(e,n){if(e==="change")return n}var ul=!1;if(Dn){var ks;if(Dn){var cl="oninput"in document;if(!cl){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),cl=typeof Xn.oninput=="function"}ks=cl}else ks=!1;ul=ks&&(!document.documentMode||9<document.documentMode)}function Zr(){Je&&(Je.detachEvent("onpropertychange",dc),jr=Je=null)}function dc(e){if(e.propertyName==="value"&&za(jr)){var n=[];fc(n,jr,e,Os(e)),yn(Ds,n)}}function hl(e,n,a){e==="focusin"?(Zr(),Je=n,jr=a,Je.attachEvent("onpropertychange",dc)):e==="focusout"&&Zr()}function kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(jr)}function Qn(e,n){if(e==="click")return za(n)}function zf(e,n){if(e==="input"||e==="change")return za(n)}function zs(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tn=typeof Object.is=="function"?Object.is:zs;function en(e,n){if(tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Ri.call(n,f)||!tn(e[f],n[f]))return!1}return!0}function qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fl(e,n){var a=qr(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=n&&u>=n)return{node:a,offset:n-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qr(a)}}function Ua(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ua(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=te(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=te(e.document)}return n}function Vr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ba=Dn&&"documentMode"in document&&11>=document.documentMode,Sn=null,Us=null,Gi=null,Ha=!1;function _c(e,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ha||Sn==null||Sn!==te(u)||(u=Sn,"selectionStart"in u&&Vr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gi&&en(Gi,u)||(Gi=u,u=th(Us,"onSelect"),0<u.length&&(n=new Br("onSelect","select",null,n,a),e.push({event:n,listeners:u}),n.target=Sn)))}function zn(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Bs={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},ja={},pc={};Dn&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function _i(e){if(ja[e])return ja[e];if(!Bs[e])return e;var n=Bs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in pc)return ja[e]=n[a];return e}var mc=_i("animationend"),Tn=_i("animationiteration"),Fr=_i("animationstart"),Uf=_i("transitionrun"),Za=_i("transitionstart"),Bf=_i("transitioncancel"),dl=_i("transitionend"),gc=new Map,Vi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vi.push("scrollEnd");function wn(e,n){gc.set(e,n),Mi(n,[e])}var Fi=new WeakMap;function nn(e,n){if(typeof e=="object"&&e!==null){var a=Fi.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Jt(n)},Fi.set(e,n),n)}return{value:e,source:n,stack:Jt(n)}}var sn=[],Hs=0,Cn=0;function Yr(){for(var e=Hs,n=Cn=Hs=0;n<e;){var a=sn[n];sn[n++]=null;var u=sn[n];sn[n++]=null;var f=sn[n];sn[n++]=null;var p=sn[n];if(sn[n++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&Kr(a,f,p)}}function Wr(e,n,a,u){sn[Hs++]=e,sn[Hs++]=n,sn[Hs++]=a,sn[Hs++]=u,Cn|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Yi(e,n,a,u){return Wr(e,n,a,u),pi(e)}function js(e,n){return Wr(e,null,null,n),pi(e)}function Kr(e,n,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-$e(a),e=p.hiddenUpdates,u=e[f],u===null?e[f]=[n]:u.push(n),n.lane=a|536870912),p):null}function pi(e){if(50<kl)throw kl=0,kd=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Wi={};function vc(e,n,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,n,a,u){return new vc(e,n,a,u)}function qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,n){var a=e.alternate;return a===null?(a=rn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _l(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xr(e,n,a,u,f,p){var b=0;if(u=e,typeof e=="function")qa(e)&&(b=1);else if(typeof e=="string")b=lT(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Gt:return e=rn(31,a,n,f),e.elementType=Gt,e.lanes=p,e;case V:return mi(a.children,f,p,n);case U:b=8,f|=24;break;case Q:return e=rn(12,a,n,f|2),e.elementType=Q,e.lanes=p,e;case pt:return e=rn(13,a,n,f),e.elementType=pt,e.lanes=p,e;case wt:return e=rn(19,a,n,f),e.elementType=wt,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case lt:b=10;break t;case it:b=9;break t;case It:b=11;break t;case zt:b=14;break t;case re:b=16,u=null;break t}b=29,a=Error(o(130,e===null?"null":typeof e,"")),u=null}return n=rn(b,a,n,f),n.elementType=e,n.type=u,n.lanes=p,n}function mi(e,n,a,u){return e=rn(7,e,u,n),e.lanes=a,e}function pl(e,n,a){return e=rn(6,e,null,n),e.lanes=a,e}function Ga(e,n,a){return n=rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ki=[],Zs=0,s=null,l=0,h=[],m=0,y=null,S=1,R="";function D(e,n){Ki[Zs++]=l,Ki[Zs++]=s,s=e,l=n}function Z(e,n,a){h[m++]=S,h[m++]=R,h[m++]=y,y=e;var u=S;e=R;var f=32-$e(u)-1;u&=~(1<<f),a+=1;var p=32-$e(n)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,S=1<<32-$e(n)+f|a<<f|u,R=p+e}else S=1<<p|a<<f|u,R=e}function K(e){e.return!==null&&(D(e,1),Z(e,1,0))}function ot(e){for(;e===s;)s=Ki[--Zs],Ki[Zs]=null,l=Ki[--Zs],Ki[Zs]=null;for(;e===y;)y=h[--m],h[m]=null,R=h[--m],h[m]=null,S=h[--m],h[m]=null}var ut=null,ft=null,bt=!1,ee=null,ce=!1,Le=Error(o(519));function _n(e){var n=Error(o(418,""));throw Gs(nn(n,e)),Le}function yc(e){var n=e.stateNode,a=e.type,u=e.memoizedProps;switch(n[Oe]=e,n[Fe]=u,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Lt(Ul[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Ju(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Cs(n);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),hi(n,u.value,u.defaultValue,u.children),Cs(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||wv(n.textContent,a)?(u.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),u.onScroll!=null&&Lt("scroll",n),u.onScrollEnd!=null&&Lt("scrollend",n),u.onClick!=null&&(n.onclick=eh),n=!0):n=!1,n||_n(e)}function Ec(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:ce=!1;return;case 27:case 3:ce=!0;return;default:ut=ut.return}}function Qr(e){if(e!==ut)return!1;if(!bt)return Ec(e),bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&ft&&_n(e),Ec(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ft=ei(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ft=null}}else n===27?(n=ft,rr(e.type)?(e=n_,n_=null,ft=e):ft=n):ft=ut?ei(e.stateNode.nextSibling):null;return!0}function qs(){ft=ut=null,bt=!1}function bc(){var e=ee;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),ee=null),e}function Gs(e){ee===null?ee=[e]:ee.push(e)}var ae=G(null),Bn=null,$n=null;function gi(e,n,a){tt(ae,n._currentValue),n._currentValue=a}function Jn(e){e._currentValue=ae.current,J(ae)}function $r(e,n,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===a)break;e=e.return}}function Va(e,n,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=f;for(var O=0;O<n.length;O++)if(w.context===n[O]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),$r(p.return,a,e),u||(b=null);break t}p=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(o(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),$r(b,a,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Jr(e,n,a,u){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var w=f.type;tn(f.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(f===le.current){if(b=f.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}f=f.return}e!==null&&Va(n,e,a,u),n.flags|=262144}function Sc(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){Bn=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return cm(Bn,e)}function Tc(e,n){return Bn===null&&ta(e),cm(e,n)}function cm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},$n===null){if(e===null)throw Error(o(308));$n=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $n=$n.next=n;return a}var oS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},lS=r.unstable_scheduleCallback,uS=r.unstable_NormalPriority,we={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new oS,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&lS(uS,function(){e.controller.abort()})}var gl=null,jf=0,Fa=0,Ya=null;function cS(e,n){if(gl===null){var a=gl=[];jf=0,Fa=qd(),Ya={status:"pending",value:void 0,then:function(u){a.push(u)}}}return jf++,n.then(hm,hm),n}function hm(){if(--jf===0&&gl!==null){Ya!==null&&(Ya.status="fulfilled");var e=gl;gl=null,Fa=0,Ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hS(e,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var fm=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cS(e,n),fm!==null&&fm(e,n)};var ea=G(null);function Zf(){var e=ea.current;return e!==null?e:ne.pooledCache}function wc(e,n){n===null?tt(ea,ea.current):tt(ea,n.pool)}function dm(){var e=Zf();return e===null?null:{parent:we._currentValue,pool:e}}var vl=Error(o(460)),_m=Error(o(474)),Cc=Error(o(542)),qf={then:function(){}};function pm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xc(){}function mm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(xc,xc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vm(e),e;default:if(typeof n.status=="string")n.then(xc,xc);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vm(e),e}throw yl=n,vl}}var yl=null;function gm(){if(yl===null)throw Error(o(459));var e=yl;return yl=null,e}function vm(e){if(e===vl||e===Cc)throw Error(o(483))}var Vs=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(e,n,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Vt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=pi(e),Kr(e,null,a),n}return Wr(e,u,n,a),pi(e)}function El(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,Yu(e,a)}}function Ff(e,n){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?f=p=n:p=p.next=n}else f=p=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Yf=!1;function bl(){if(Yf){var e=Ya;if(e!==null)throw e}}function Sl(e,n,a,u){Yf=!1;var f=e.updateQueue;Vs=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,k=O.next;O.next=null,b===null?p=k:b.next=k,b=O;var F=e.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==b&&(w===null?F.firstBaseUpdate=k:w.next=k,F.lastBaseUpdate=O))}if(p!==null){var W=f.baseState;b=0,F=k=O=null,w=p;do{var B=w.lane&-536870913,j=B!==w.lane;if(j?(kt&B)===B:(u&B)===B){B!==0&&B===Fa&&(Yf=!0),F!==null&&(F=F.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Et=e,mt=w;B=n;var Kt=a;switch(mt.tag){case 1:if(Et=mt.payload,typeof Et=="function"){W=Et.call(Kt,W,B);break t}W=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=mt.payload,B=typeof Et=="function"?Et.call(Kt,W,B):Et,B==null)break t;W=T({},W,B);break t;case 2:Vs=!0}}B=w.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=f.callbacks,j===null?f.callbacks=[B]:j.push(B))}else j={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(k=F=j,O=W):F=F.next=j,b|=B;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;j=w,w=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);F===null&&(O=W),f.baseState=O,f.firstBaseUpdate=k,f.lastBaseUpdate=F,p===null&&(f.shared.lanes=0),er|=b,e.lanes=b,e.memoizedState=W}}function ym(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Em(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ym(a[e],n)}var Wa=G(null),Ac=G(0);function bm(e,n){e=ns,tt(Ac,e),tt(Wa,n),ns=e|n.baseLanes}function Wf(){tt(Ac,ns),tt(Wa,Wa.current)}function Kf(){ns=Ac.current,J(Wa),J(Ac)}var Ws=0,xt=null,Yt=null,Se=null,Rc=!1,Ka=!1,na=!1,Oc=0,Tl=0,Xa=null,fS=0;function ve(){throw Error(o(321))}function Xf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!tn(e[a],n[a]))return!1;return!0}function Qf(e,n,a,u,f,p){return Ws=p,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?sg:rg,na=!1,p=a(u,f),na=!1,Ka&&(p=Tm(n,a,u,f)),Sm(e),p}function Sm(e){q.H=Pc;var n=Yt!==null&&Yt.next!==null;if(Ws=0,Se=Yt=xt=null,Rc=!1,Tl=0,Xa=null,n)throw Error(o(300));e===null||Me||(e=e.dependencies,e!==null&&Sc(e)&&(Me=!0))}function Tm(e,n,a,u){xt=e;var f=0;do{if(Ka&&(Xa=null),Tl=0,Ka=!1,25<=f)throw Error(o(301));if(f+=1,Se=Yt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=yS,p=n(a,u)}while(Ka);return p}function dS(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(xt.flags|=1024),n}function $f(){var e=Oc!==0;return Oc=0,e}function Jf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function td(e){if(Rc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rc=!1}Ws=0,Se=Yt=xt=null,Ka=!1,Tl=Oc=0,Xa=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xt.memoizedState=Se=e:Se=Se.next=e,Se}function Te(){if(Yt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Se===null?xt.memoizedState:Se.next;if(n!==null)Se=n,Yt=e;else{if(e===null)throw xt.alternate===null?Error(o(467)):Error(o(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Se===null?xt.memoizedState=Se=e:Se=Se.next=e}return Se}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var n=Tl;return Tl+=1,Xa===null&&(Xa=[]),e=mm(Xa,e,n),n=xt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?sg:rg),e}function Nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===lt)return Ke(e)}throw Error(o(438,String(e)))}function nd(e){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ed(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),u=0;u<e;u++)a[u]=Re;return n.index++,a}function Xi(e,n){return typeof n=="function"?n(e):n}function Lc(e){var n=Te();return id(n,Yt,e)}function id(e,n,a){var u=e.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var f=e.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}n.baseQueue=f=p,u.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var w=b=null,O=null,k=n,F=!1;do{var W=k.lane&-536870913;if(W!==k.lane?(kt&W)===W:(Ws&W)===W){var B=k.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),W===Fa&&(F=!0);else if((Ws&B)===B){k=k.next,B===Fa&&(F=!0);continue}else W={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(w=O=W,b=p):O=O.next=W,xt.lanes|=B,er|=B;W=k.action,na&&a(p,W),p=k.hasEagerState?k.eagerState:a(p,W)}else B={lane:W,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(w=O=B,b=p):O=O.next=B,xt.lanes|=W,er|=W;k=k.next}while(k!==null&&k!==n);if(O===null?b=p:O.next=w,!tn(p,e.memoizedState)&&(Me=!0,F&&(a=Ya,a!==null)))throw a;e.memoizedState=p,e.baseState=b,e.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function sd(e){var n=Te(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,p=n.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do p=e(p,b.action),b=b.next;while(b!==f);tn(p,n.memoizedState)||(Me=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,u]}function wm(e,n,a){var u=xt,f=Te(),p=bt;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=n();var b=!tn((Yt||f).memoizedState,a);b&&(f.memoizedState=a,Me=!0),f=f.queue;var w=Am.bind(null,u,f,e);if(Cl(2048,8,w,[e]),f.getSnapshot!==n||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,Qa(9,Mc(),xm.bind(null,u,f,a,n),null),ne===null)throw Error(o(349));p||(Ws&124)!==0||Cm(u,n,a)}return a}function Cm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=ed(),xt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function xm(e,n,a,u){n.value=a,n.getSnapshot=u,Rm(n)&&Om(e)}function Am(e,n,a){return a(function(){Rm(n)&&Om(e)})}function Rm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!tn(e,a)}catch{return!0}}function Om(e){var n=js(e,2);n!==null&&Nn(n,e,2)}function rd(e){var n=pn();if(typeof e=="function"){var a=e;if(e=a(),na){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},n}function Nm(e,n,a,u){return e.baseState=a,id(e,Yt,typeof u=="function"?u:Xi)}function _S(e,n,a,u,f){if(Dc(e))throw Error(o(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};q.T!==null?a(!0):p.isTransition=!1,u(p),a=n.pending,a===null?(p.next=n.pending=p,Lm(n,p)):(p.next=a.next,n.pending=a.next=p)}}function Lm(e,n){var a=n.action,u=n.payload,f=e.state;if(n.isTransition){var p=q.T,b={};q.T=b;try{var w=a(f,u),O=q.S;O!==null&&O(b,w),Mm(e,n,w)}catch(k){ad(e,n,k)}finally{q.T=p}}else try{p=a(f,u),Mm(e,n,p)}catch(k){ad(e,n,k)}}function Mm(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Im(e,n,u)},function(u){return ad(e,n,u)}):Im(e,n,a)}function Im(e,n,a){n.status="fulfilled",n.value=a,Dm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Lm(e,a)))}function ad(e,n,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,Dm(n),n=n.next;while(n!==u)}e.action=null}function Dm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Pm(e,n){return n}function km(e,n){if(bt){var a=ne.formState;if(a!==null){t:{var u=xt;if(bt){if(ft){e:{for(var f=ft,p=ce;f.nodeType!==8;){if(!p){f=null;break e}if(f=ei(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ft=ei(f.nextSibling),u=f.data==="F!";break t}}_n(u)}u=!1}u&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},a.queue=u,a=eg.bind(null,xt,u),u.dispatch=a,u=rd(!1),p=hd.bind(null,xt,!1,u.queue),u=pn(),f={state:n,dispatch:null,action:e,pending:null},u.queue=f,a=_S.bind(null,xt,f,p,a),f.dispatch=a,u.memoizedState=e,[n,a,!1]}function zm(e){var n=Te();return Um(n,Yt,e)}function Um(e,n,a){if(n=id(e,n,Pm)[0],e=Lc(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=wl(n)}catch(b){throw b===vl?Cc:b}else u=n;n=Te();var f=n.queue,p=f.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,Qa(9,Mc(),pS.bind(null,f,a),null)),[u,p,e]}function pS(e,n){e.action=n}function Bm(e){var n=Te(),a=Yt;if(a!==null)return Um(n,a,e);Te(),n=n.memoizedState,a=Te();var u=a.queue.dispatch;return a.memoizedState=e,[n,u,!1]}function Qa(e,n,a,u){return e={tag:e,create:a,deps:u,inst:n,next:null},n=xt.updateQueue,n===null&&(n=ed(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,n.lastEffect=e),e}function Mc(){return{destroy:void 0,resource:void 0}}function Hm(){return Te().memoizedState}function Ic(e,n,a,u){var f=pn();u=u===void 0?null:u,xt.flags|=e,f.memoizedState=Qa(1|n,Mc(),a,u)}function Cl(e,n,a,u){var f=Te();u=u===void 0?null:u;var p=f.memoizedState.inst;Yt!==null&&u!==null&&Xf(u,Yt.memoizedState.deps)?f.memoizedState=Qa(n,p,a,u):(xt.flags|=e,f.memoizedState=Qa(1|n,p,a,u))}function jm(e,n){Ic(8390656,8,e,n)}function Zm(e,n){Cl(2048,8,e,n)}function qm(e,n){return Cl(4,2,e,n)}function Gm(e,n){return Cl(4,4,e,n)}function Vm(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fm(e,n,a){a=a!=null?a.concat([e]):null,Cl(4,4,Vm.bind(null,n,e),a)}function od(){}function Ym(e,n){var a=Te();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&Xf(n,u[1])?u[0]:(a.memoizedState=[e,n],e)}function Wm(e,n){var a=Te();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&Xf(n,u[1]))return u[0];if(u=e(),na){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[u,n],u}function ld(e,n,a){return a===void 0||(Ws&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Qg(),xt.lanes|=e,er|=e,a)}function Km(e,n,a,u){return tn(a,n)?a:Wa.current!==null?(e=ld(e,a,u),tn(e,n)||(Me=!0),e):(Ws&42)===0?(Me=!0,e.memoizedState=a):(e=Qg(),xt.lanes|=e,er|=e,n)}function Xm(e,n,a,u,f){var p=st.p;st.p=p!==0&&8>p?p:8;var b=q.T,w={};q.T=w,hd(e,!1,n,a);try{var O=f(),k=q.S;if(k!==null&&k(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=hS(O,u);xl(e,n,F,On(e))}else xl(e,n,u,On(e))}catch(W){xl(e,n,{then:function(){},status:"rejected",reason:W},On())}finally{st.p=p,q.T=b}}function mS(){}function ud(e,n,a,u){if(e.tag!==5)throw Error(o(476));var f=Qm(e).queue;Xm(e,f,n,$,a===null?mS:function(){return $m(e),a(u)})}function Qm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:$},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $m(e){var n=Qm(e).next.queue;xl(e,n,{},On())}function cd(){return Ke(Gl)}function Jm(){return Te().memoizedState}function tg(){return Te().memoizedState}function gS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();e=Fs(a);var u=Ys(n,e,a);u!==null&&(Nn(u,n,a),El(u,n,a)),n={cache:Hf()},e.payload=n;return}n=n.return}}function vS(e,n,a){var u=On();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(e)?ng(n,a):(a=Yi(e,n,a,u),a!==null&&(Nn(a,e,u),ig(a,n,u)))}function eg(e,n,a){var u=On();xl(e,n,a,u)}function xl(e,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))ng(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,w=p(b,a);if(f.hasEagerState=!0,f.eagerState=w,tn(w,b))return Wr(e,n,f,0),ne===null&&Yr(),!1}catch{}finally{}if(a=Yi(e,n,f,u),a!==null)return Nn(a,e,u),ig(a,n,u),!0}return!1}function hd(e,n,a,u){if(u={lane:2,revertLane:qd(),action:u,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(n)throw Error(o(479))}else n=Yi(e,a,u,2),n!==null&&Nn(n,e,2)}function Dc(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function ng(e,n){Ka=Rc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ig(e,n,a){if((a&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,Yu(e,a)}}var Pc={readContext:Ke,use:Nc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},sg={readContext:Ke,use:Nc,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:jm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ic(4194308,4,Vm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ic(4194308,4,e,n)},useInsertionEffect:function(e,n){Ic(4,2,e,n)},useMemo:function(e,n){var a=pn();n=n===void 0?null:n;var u=e();if(na){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[u,n],u},useReducer:function(e,n,a){var u=pn();if(a!==void 0){var f=a(n);if(na){Fn(!0);try{a(n)}finally{Fn(!1)}}}else f=n;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=vS.bind(null,xt,e),[u.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:function(e){e=rd(e);var n=e.queue,a=eg.bind(null,xt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:od,useDeferredValue:function(e,n){var a=pn();return ld(a,e,n)},useTransition:function(){var e=rd(!1);return e=Xm.bind(null,xt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var u=xt,f=pn();if(bt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),ne===null)throw Error(o(349));(kt&124)!==0||Cm(u,n,a)}f.memoizedState=a;var p={value:a,getSnapshot:n};return f.queue=p,jm(Am.bind(null,u,p,e),[e]),u.flags|=2048,Qa(9,Mc(),xm.bind(null,u,p,a,n),null),a},useId:function(){var e=pn(),n=ne.identifierPrefix;if(bt){var a=R,u=S;a=(u&~(1<<32-$e(u)-1)).toString(32)+a,n=""+n+"R"+a,a=Oc++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=fS++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:cd,useFormState:km,useActionState:km,useOptimistic:function(e){var n=pn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=hd.bind(null,xt,!0,a),a.dispatch=n,[e,n]},useMemoCache:nd,useCacheRefresh:function(){return pn().memoizedState=gS.bind(null,xt)}},rg={readContext:Ke,use:Nc,useCallback:Ym,useContext:Ke,useEffect:Zm,useImperativeHandle:Fm,useInsertionEffect:qm,useLayoutEffect:Gm,useMemo:Wm,useReducer:Lc,useRef:Hm,useState:function(){return Lc(Xi)},useDebugValue:od,useDeferredValue:function(e,n){var a=Te();return Km(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Lc(Xi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:wm,useId:Jm,useHostTransitionStatus:cd,useFormState:zm,useActionState:zm,useOptimistic:function(e,n){var a=Te();return Nm(a,Yt,e,n)},useMemoCache:nd,useCacheRefresh:tg},yS={readContext:Ke,use:Nc,useCallback:Ym,useContext:Ke,useEffect:Zm,useImperativeHandle:Fm,useInsertionEffect:qm,useLayoutEffect:Gm,useMemo:Wm,useReducer:sd,useRef:Hm,useState:function(){return sd(Xi)},useDebugValue:od,useDeferredValue:function(e,n){var a=Te();return Yt===null?ld(a,e,n):Km(a,Yt.memoizedState,e,n)},useTransition:function(){var e=sd(Xi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:wm,useId:Jm,useHostTransitionStatus:cd,useFormState:Bm,useActionState:Bm,useOptimistic:function(e,n){var a=Te();return Yt!==null?Nm(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:tg},$a=null,Al=0;function kc(e){var n=Al;return Al+=1,$a===null&&($a=[]),mm($a,e,n)}function Rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zc(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ag(e){var n=e._init;return n(e._payload)}function og(e){function n(I,N){if(e){var P=I.deletions;P===null?(I.deletions=[N],I.flags|=16):P.push(N)}}function a(I,N){if(!e)return null;for(;N!==null;)n(I,N),N=N.sibling;return null}function u(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function f(I,N){return I=Un(I,N),I.index=0,I.sibling=null,I}function p(I,N,P){return I.index=P,e?(P=I.alternate,P!==null?(P=P.index,P<N?(I.flags|=67108866,N):P):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function b(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function w(I,N,P,Y){return N===null||N.tag!==6?(N=pl(P,I.mode,Y),N.return=I,N):(N=f(N,P),N.return=I,N)}function O(I,N,P,Y){var ct=P.type;return ct===V?F(I,N,P.props.children,Y,P.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===re&&ag(ct)===N.type)?(N=f(N,P.props),Rl(N,P),N.return=I,N):(N=Xr(P.type,P.key,P.props,null,I.mode,Y),Rl(N,P),N.return=I,N)}function k(I,N,P,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Ga(P,I.mode,Y),N.return=I,N):(N=f(N,P.children||[]),N.return=I,N)}function F(I,N,P,Y,ct){return N===null||N.tag!==7?(N=mi(P,I.mode,Y,ct),N.return=I,N):(N=f(N,P),N.return=I,N)}function W(I,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=pl(""+N,I.mode,P),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return P=Xr(N.type,N.key,N.props,null,I.mode,P),Rl(P,N),P.return=I,P;case H:return N=Ga(N,I.mode,P),N.return=I,N;case re:var Y=N._init;return N=Y(N._payload),W(I,N,P)}if(Ee(N)||Bt(N))return N=mi(N,I.mode,P,null),N.return=I,N;if(typeof N.then=="function")return W(I,kc(N),P);if(N.$$typeof===lt)return W(I,Tc(I,N),P);zc(I,N)}return null}function B(I,N,P,Y){var ct=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:w(I,N,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return P.key===ct?O(I,N,P,Y):null;case H:return P.key===ct?k(I,N,P,Y):null;case re:return ct=P._init,P=ct(P._payload),B(I,N,P,Y)}if(Ee(P)||Bt(P))return ct!==null?null:F(I,N,P,Y,null);if(typeof P.then=="function")return B(I,N,kc(P),Y);if(P.$$typeof===lt)return B(I,N,Tc(I,P),Y);zc(I,P)}return null}function j(I,N,P,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(P)||null,w(N,I,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return I=I.get(Y.key===null?P:Y.key)||null,O(N,I,Y,ct);case H:return I=I.get(Y.key===null?P:Y.key)||null,k(N,I,Y,ct);case re:var Rt=Y._init;return Y=Rt(Y._payload),j(I,N,P,Y,ct)}if(Ee(Y)||Bt(Y))return I=I.get(P)||null,F(N,I,Y,ct,null);if(typeof Y.then=="function")return j(I,N,P,kc(Y),ct);if(Y.$$typeof===lt)return j(I,N,P,Tc(N,Y),ct);zc(N,Y)}return null}function Et(I,N,P,Y){for(var ct=null,Rt=null,_t=N,gt=N=0,De=null;_t!==null&&gt<P.length;gt++){_t.index>gt?(De=_t,_t=null):De=_t.sibling;var jt=B(I,_t,P[gt],Y);if(jt===null){_t===null&&(_t=De);break}e&&_t&&jt.alternate===null&&n(I,_t),N=p(jt,N,gt),Rt===null?ct=jt:Rt.sibling=jt,Rt=jt,_t=De}if(gt===P.length)return a(I,_t),bt&&D(I,gt),ct;if(_t===null){for(;gt<P.length;gt++)_t=W(I,P[gt],Y),_t!==null&&(N=p(_t,N,gt),Rt===null?ct=_t:Rt.sibling=_t,Rt=_t);return bt&&D(I,gt),ct}for(_t=u(_t);gt<P.length;gt++)De=j(_t,I,gt,P[gt],Y),De!==null&&(e&&De.alternate!==null&&_t.delete(De.key===null?gt:De.key),N=p(De,N,gt),Rt===null?ct=De:Rt.sibling=De,Rt=De);return e&&_t.forEach(function(cr){return n(I,cr)}),bt&&D(I,gt),ct}function mt(I,N,P,Y){if(P==null)throw Error(o(151));for(var ct=null,Rt=null,_t=N,gt=N=0,De=null,jt=P.next();_t!==null&&!jt.done;gt++,jt=P.next()){_t.index>gt?(De=_t,_t=null):De=_t.sibling;var cr=B(I,_t,jt.value,Y);if(cr===null){_t===null&&(_t=De);break}e&&_t&&cr.alternate===null&&n(I,_t),N=p(cr,N,gt),Rt===null?ct=cr:Rt.sibling=cr,Rt=cr,_t=De}if(jt.done)return a(I,_t),bt&&D(I,gt),ct;if(_t===null){for(;!jt.done;gt++,jt=P.next())jt=W(I,jt.value,Y),jt!==null&&(N=p(jt,N,gt),Rt===null?ct=jt:Rt.sibling=jt,Rt=jt);return bt&&D(I,gt),ct}for(_t=u(_t);!jt.done;gt++,jt=P.next())jt=j(_t,I,gt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&_t.delete(jt.key===null?gt:jt.key),N=p(jt,N,gt),Rt===null?ct=jt:Rt.sibling=jt,Rt=jt);return e&&_t.forEach(function(ET){return n(I,ET)}),bt&&D(I,gt),ct}function Kt(I,N,P,Y){if(typeof P=="object"&&P!==null&&P.type===V&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case A:t:{for(var ct=P.key;N!==null;){if(N.key===ct){if(ct=P.type,ct===V){if(N.tag===7){a(I,N.sibling),Y=f(N,P.props.children),Y.return=I,I=Y;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===re&&ag(ct)===N.type){a(I,N.sibling),Y=f(N,P.props),Rl(Y,P),Y.return=I,I=Y;break t}a(I,N);break}else n(I,N);N=N.sibling}P.type===V?(Y=mi(P.props.children,I.mode,Y,P.key),Y.return=I,I=Y):(Y=Xr(P.type,P.key,P.props,null,I.mode,Y),Rl(Y,P),Y.return=I,I=Y)}return b(I);case H:t:{for(ct=P.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(I,N.sibling),Y=f(N,P.children||[]),Y.return=I,I=Y;break t}else{a(I,N);break}else n(I,N);N=N.sibling}Y=Ga(P,I.mode,Y),Y.return=I,I=Y}return b(I);case re:return ct=P._init,P=ct(P._payload),Kt(I,N,P,Y)}if(Ee(P))return Et(I,N,P,Y);if(Bt(P)){if(ct=Bt(P),typeof ct!="function")throw Error(o(150));return P=ct.call(P),mt(I,N,P,Y)}if(typeof P.then=="function")return Kt(I,N,kc(P),Y);if(P.$$typeof===lt)return Kt(I,N,Tc(I,P),Y);zc(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(I,N.sibling),Y=f(N,P),Y.return=I,I=Y):(a(I,N),Y=pl(P,I.mode,Y),Y.return=I,I=Y),b(I)):a(I,N)}return function(I,N,P,Y){try{Al=0;var ct=Kt(I,N,P,Y);return $a=null,ct}catch(_t){if(_t===vl||_t===Cc)throw _t;var Rt=rn(29,_t,null,I.mode);return Rt.lanes=Y,Rt.return=I,Rt}finally{}}}var Ja=og(!0),lg=og(!1),Hn=G(null),vi=null;function Ks(e){var n=e.alternate;tt(Ce,Ce.current&1),tt(Hn,e),vi===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(vi=e)}function ug(e){if(e.tag===22){if(tt(Ce,Ce.current),tt(Hn,e),vi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(vi=e)}}else Xs()}function Xs(){tt(Ce,Ce.current),tt(Hn,Hn.current)}function Qi(e){J(Hn),vi===e&&(vi=null),J(Ce)}var Ce=G(0);function Uc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||e_(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fd(e,n,a,u){n=e.memoizedState,a=a(u,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dd={enqueueSetState:function(e,n,a){e=e._reactInternals;var u=On(),f=Fs(u);f.payload=n,a!=null&&(f.callback=a),n=Ys(e,f,u),n!==null&&(Nn(n,e,u),El(n,e,u))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var u=On(),f=Fs(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Ys(e,f,u),n!==null&&(Nn(n,e,u),El(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=On(),u=Fs(a);u.tag=2,n!=null&&(u.callback=n),n=Ys(e,u,a),n!==null&&(Nn(n,e,a),El(n,e,a))}};function cg(e,n,a,u,f,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,b):n.prototype&&n.prototype.isPureReactComponent?!en(a,u)||!en(f,p):!0}function hg(e,n,a,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==e&&dd.enqueueReplaceState(n,n.state,null)}function ia(e,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fg(e){Bc(e)}function dg(e){console.error(e)}function _g(e){Bc(e)}function Hc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function pg(e,n,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(e,n,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(e,n)},a}function mg(e){return e=Fs(e),e.tag=3,e}function gg(e,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;e.payload=function(){return f(p)},e.callback=function(){pg(n,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){pg(n,a,u),typeof f!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function ES(e,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&Jr(n,a,f,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return vi===null?Ud():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===qf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),Hd(e,u,f)),!1;case 22:return a.flags|=65536,u===qf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),Hd(e,u,f)),!1}throw Error(o(435,a.tag))}return Hd(e,u,f),Ud(),!1}if(bt)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Le&&(e=Error(o(422),{cause:u}),Gs(nn(e,a)))):(u!==Le&&(n=Error(o(423),{cause:u}),Gs(nn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=nn(u,a),f=_d(e.stateNode,u,f),Ff(e,f),_e!==4&&(_e=2)),!1;var p=Error(o(520),{cause:u});if(p=nn(p,a),Pl===null?Pl=[p]:Pl.push(p),_e!==4&&(_e=2),n===null)return!0;u=nn(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=_d(a.stateNode,u,e),Ff(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=mg(f),gg(f,e,a,u),Ff(a,f),!1}a=a.return}while(a!==null);return!1}var vg=Error(o(461)),Me=!1;function He(e,n,a,u){n.child=e===null?lg(n,null,a,u):Ja(n,e.child,a,u)}function yg(e,n,a,u,f){a=a.render;var p=n.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ta(n),u=Qf(e,n,a,b,p,f),w=$f(),e!==null&&!Me?(Jf(e,n,f),$i(e,n,f)):(bt&&w&&K(n),n.flags|=1,He(e,n,u,f),n.child)}function Eg(e,n,a,u,f){if(e===null){var p=a.type;return typeof p=="function"&&!qa(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,bg(e,n,p,u,f)):(e=Xr(a.type,null,u,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Sd(e,f)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:en,a(b,u)&&e.ref===n.ref)return $i(e,n,f)}return n.flags|=1,e=Un(p,u),e.ref=n.ref,e.return=n,n.child=e}function bg(e,n,a,u,f){if(e!==null){var p=e.memoizedProps;if(en(p,u)&&e.ref===n.ref)if(Me=!1,n.pendingProps=u=p,Sd(e,f))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,$i(e,n,f)}return pd(e,n,a,u,f)}function Sg(e,n,a){var u=n.pendingProps,f=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,e!==null){for(f=n.child=e.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;n.childLanes=p&~u}else n.childLanes=0,n.child=null;return Tg(e,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wc(n,p!==null?p.cachePool:null),p!==null?bm(n,p):Wf(),ug(n);else return n.lanes=n.childLanes=536870912,Tg(e,n,p!==null?p.baseLanes|a:a,a)}else p!==null?(wc(n,p.cachePool),bm(n,p),Xs(),n.memoizedState=null):(e!==null&&wc(n,null),Wf(),Xs());return He(e,n,f,a),n.child}function Tg(e,n,a,u){var f=Zf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&wc(n,null),Wf(),ug(n),e!==null&&Jr(e,n,u,!0),null}function jc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function pd(e,n,a,u,f){return ta(n),a=Qf(e,n,a,u,void 0,f),u=$f(),e!==null&&!Me?(Jf(e,n,f),$i(e,n,f)):(bt&&u&&K(n),n.flags|=1,He(e,n,a,f),n.child)}function wg(e,n,a,u,f,p){return ta(n),n.updateQueue=null,a=Tm(n,u,a,f),Sm(e),u=$f(),e!==null&&!Me?(Jf(e,n,p),$i(e,n,p)):(bt&&u&&K(n),n.flags|=1,He(e,n,a,p),n.child)}function Cg(e,n,a,u,f){if(ta(n),n.stateNode===null){var p=Wi,b=a.contextType;typeof b=="object"&&b!==null&&(p=Ke(b)),p=new a(u,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dd,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=u,p.state=n.memoizedState,p.refs={},Gf(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?Ke(b):Wi,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(fd(n,a,b,u),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&dd.enqueueReplaceState(p,p.state,null),Sl(n,u,p,f),bl(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){p=n.stateNode;var w=n.memoizedProps,O=ia(a,w);p.props=O;var k=p.context,F=a.contextType;b=Wi,typeof F=="object"&&F!==null&&(b=Ke(F));var W=a.getDerivedStateFromProps;F=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||k!==b)&&hg(n,p,u,b),Vs=!1;var B=n.memoizedState;p.state=B,Sl(n,u,p,f),bl(),k=n.memoizedState,w||B!==k||Vs?(typeof W=="function"&&(fd(n,a,W,u),k=n.memoizedState),(O=Vs||cg(n,a,O,u,B,k,b))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=k),p.props=u,p.state=k,p.context=b,u=O):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Vf(e,n),b=n.memoizedProps,F=ia(a,b),p.props=F,W=n.pendingProps,B=p.context,k=a.contextType,O=Wi,typeof k=="object"&&k!==null&&(O=Ke(k)),w=a.getDerivedStateFromProps,(k=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==W||B!==O)&&hg(n,p,u,O),Vs=!1,B=n.memoizedState,p.state=B,Sl(n,u,p,f),bl();var j=n.memoizedState;b!==W||B!==j||Vs||e!==null&&e.dependencies!==null&&Sc(e.dependencies)?(typeof w=="function"&&(fd(n,a,w,u),j=n.memoizedState),(F=Vs||cg(n,a,F,u,B,j,O)||e!==null&&e.dependencies!==null&&Sc(e.dependencies))?(k||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,j,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,j,O)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=j),p.props=u,p.state=j,p.context=O,u=F):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),u=!1)}return p=u,jc(e,n),u=(n.flags&128)!==0,p||u?(p=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&u?(n.child=Ja(n,e.child,null,f),n.child=Ja(n,null,a,f)):He(e,n,a,f),n.memoizedState=p.state,e=n.child):e=$i(e,n,f),e}function xg(e,n,a,u){return qs(),n.flags|=256,He(e,n,a,u),n.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:dm()}}function vd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=jn),e}function Ag(e,n,a){var u=n.pendingProps,f=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(bt){if(f?Ks(n):Xs(),bt){var w=ft,O;if(O=w){t:{for(O=w,w=ce;O.nodeType!==8;){if(!w){w=null;break t}if(O=ei(O.nextSibling),O===null){w=null;break t}}w=O}w!==null?(n.memoizedState={dehydrated:w,treeContext:y!==null?{id:S,overflow:R}:null,retryLane:536870912,hydrationErrors:null},O=rn(18,null,null,0),O.stateNode=w,O.return=n,n.child=O,ut=n,ft=null,O=!0):O=!1}O||_n(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return e_(w)?n.lanes=32:n.lanes=536870912,null;Qi(n)}return w=u.children,u=u.fallback,f?(Xs(),f=n.mode,w=Zc({mode:"hidden",children:w},f),u=mi(u,f,a,null),w.return=n,u.return=n,w.sibling=u,n.child=w,f=n.child,f.memoizedState=gd(a),f.childLanes=vd(e,b,a),n.memoizedState=md,u):(Ks(n),yd(n,w))}if(O=e.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(p)n.flags&256?(Ks(n),n.flags&=-257,n=Ed(e,n,a)):n.memoizedState!==null?(Xs(),n.child=e.child,n.flags|=128,n=null):(Xs(),f=u.fallback,w=n.mode,u=Zc({mode:"visible",children:u.children},w),f=mi(f,w,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Ja(n,e.child,null,a),u=n.child,u.memoizedState=gd(a),u.childLanes=vd(e,b,a),n.memoizedState=md,n=f);else if(Ks(n),e_(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var k=b.dgst;b=k,u=Error(o(419)),u.stack="",u.digest=b,Gs({value:u,source:null,stack:null}),n=Ed(e,n,a)}else if(Me||Jr(e,n,a,!1),b=(a&e.childLanes)!==0,Me||b){if(b=ne,b!==null&&(u=a&-a,u=(u&42)!==0?1:Ko(u),u=(u&(b.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,js(e,u),Nn(b,e,u),vg;w.data==="$?"||Ud(),n=Ed(e,n,a)}else w.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,ft=ei(w.nextSibling),ut=n,bt=!0,ee=null,ce=!1,e!==null&&(h[m++]=S,h[m++]=R,h[m++]=y,S=e.id,R=e.overflow,y=n),n=yd(n,u.children),n.flags|=4096);return n}return f?(Xs(),f=u.fallback,w=n.mode,O=e.child,k=O.sibling,u=Un(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,k!==null?f=Un(k,f):(f=mi(f,w,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,w=e.child.memoizedState,w===null?w=gd(a):(O=w.cachePool,O!==null?(k=we._currentValue,O=O.parent!==k?{parent:k,pool:k}:O):O=dm(),w={baseLanes:w.baseLanes|a,cachePool:O}),f.memoizedState=w,f.childLanes=vd(e,b,a),n.memoizedState=md,u):(Ks(n),a=e.child,e=a.sibling,a=Un(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function yd(e,n){return n=Zc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zc(e,n){return e=rn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ed(e,n,a){return Ja(n,e.child,null,a),e=yd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Rg(e,n,a){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),$r(e.return,n,a)}function bd(e,n,a,u,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function Og(e,n,a){var u=n.pendingProps,f=u.revealOrder,p=u.tail;if(He(e,n,u.children,a),u=Ce.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rg(e,a,n);else if(e.tag===19)Rg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(tt(Ce,u),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Uc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),bd(n,!1,f,a,p);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Uc(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bd(n,!0,a,null,p);break;case"together":bd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $i(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),er|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Jr(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Un(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Un(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Sd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sc(e)))}function bS(e,n,a){switch(n.tag){case 3:Ut(n,n.stateNode.containerInfo),gi(n,we,e.memoizedState.cache),qs();break;case 27:case 5:Nr(n);break;case 4:Ut(n,n.stateNode.containerInfo);break;case 10:gi(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ag(e,n,a):(Ks(n),e=$i(e,n,a),e!==null?e.sibling:null);Ks(n);break;case 19:var f=(e.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||(Jr(e,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return Og(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(Ce,Ce.current),u)break;return null;case 22:case 23:return n.lanes=0,Sg(e,n,a);case 24:gi(n,we,e.memoizedState.cache)}return $i(e,n,a)}function Ng(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Sd(e,a)&&(n.flags&128)===0)return Me=!1,bS(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,bt&&(n.flags&1048576)!==0&&Z(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")qa(u)?(e=ia(u,e),n.tag=1,n=Cg(null,n,u,e,a)):(n.tag=0,n=pd(null,n,u,e,a));else{if(u!=null){if(f=u.$$typeof,f===It){n.tag=11,n=yg(null,n,u,e,a);break t}else if(f===zt){n.tag=14,n=Eg(null,n,u,e,a);break t}}throw n=ge(u)||u,Error(o(306,n,""))}}return n;case 0:return pd(e,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=ia(u,n.pendingProps),Cg(e,n,u,f,a);case 3:t:{if(Ut(n,n.stateNode.containerInfo),e===null)throw Error(o(387));u=n.pendingProps;var p=n.memoizedState;f=p.element,Vf(e,n),Sl(n,u,null,a);var b=n.memoizedState;if(u=b.cache,gi(n,we,u),u!==p.cache&&Va(n,[we],a,!0),bl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=xg(e,n,u,a);break t}else if(u!==f){f=nn(Error(o(424)),n),Gs(f),n=xg(e,n,u,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=ei(e.firstChild),ut=n,bt=!0,ee=null,ce=!0,a=lg(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),u===f){n=$i(e,n,a);break t}He(e,n,u,a)}n=n.child}return n;case 26:return jc(e,n),e===null?(a=Dv(n.type,null,n.pendingProps,null))?n.memoizedState=a:bt||(a=n.type,e=n.pendingProps,u=nh(rt.current).createElement(a),u[Oe]=n,u[Fe]=e,Ze(u,a,e),be(u),n.stateNode=u):n.memoizedState=Dv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nr(n),e===null&&bt&&(u=n.stateNode=Lv(n.type,n.pendingProps,rt.current),ut=n,ce=!0,f=ft,rr(n.type)?(n_=f,ft=ei(u.firstChild)):ft=f),He(e,n,n.pendingProps.children,a),jc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&bt&&((f=u=ft)&&(u=KS(u,n.type,n.pendingProps,ce),u!==null?(n.stateNode=u,ut=n,ft=ei(u.firstChild),ce=!1,f=!0):f=!1),f||_n(n)),Nr(n),f=n.type,p=n.pendingProps,b=e!==null?e.memoizedProps:null,u=p.children,$d(f,p)?u=null:b!==null&&$d(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Qf(e,n,dS,null,null,a),Gl._currentValue=f),jc(e,n),He(e,n,u,a),n.child;case 6:return e===null&&bt&&((e=a=ft)&&(a=XS(a,n.pendingProps,ce),a!==null?(n.stateNode=a,ut=n,ft=null,e=!0):e=!1),e||_n(n)),null;case 13:return Ag(e,n,a);case 4:return Ut(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Ja(n,null,u,a):He(e,n,u,a),n.child;case 11:return yg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,gi(n,n.type,u.value),He(e,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,ta(n),f=Ke(f),u=u(f),n.flags|=1,He(e,n,u,a),n.child;case 14:return Eg(e,n,n.type,n.pendingProps,a);case 15:return bg(e,n,n.type,n.pendingProps,a);case 19:return Og(e,n,a);case 31:return u=n.pendingProps,a=n.mode,u={mode:u.mode,children:u.children},e===null?(a=Zc(u,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Un(e.child,u),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Sg(e,n,a);case 24:return ta(n),u=Ke(we),e===null?(f=Zf(),f===null&&(f=ne,p=Hf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),n.memoizedState={parent:u,cache:f},Gf(n),gi(n,we,f)):((e.lanes&a)!==0&&(Vf(e,n),Sl(n,null,null,a),bl()),f=e.memoizedState,p=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),gi(n,we,u)):(u=p.cache,gi(n,we,u),u!==f.cache&&Va(n,[we],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Ji(e){e.flags|=4}function Lg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bv(n)){if(n=Hn.current,n!==null&&((kt&4194048)===kt?vi!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==vi))throw yl=qf,_m;e.flags|=8192}}function qc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wo():536870912,e.lanes|=n,io|=n)}function Ol(e,n){if(!bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,n}function SS(e,n,a){var u=n.pendingProps;switch(ot(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Jn(we),Vn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qr(n)?Ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bc())),he(n),null;case 26:return a=n.memoizedState,e===null?(Ji(n),a!==null?(he(n),Lg(n,a)):(he(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ji(n),he(n),Lg(n,a)):(he(n),n.flags&=-16777217):(e.memoizedProps!==u&&Ji(n),he(n),n.flags&=-16777217),null;case 27:gs(n),a=rt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Ji(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return he(n),null}e=at.current,Qr(n)?yc(n):(e=Lv(f,u,a),n.stateNode=e,Ji(n))}return he(n),null;case 5:if(gs(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Ji(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return he(n),null}if(e=at.current,Qr(n))yc(n);else{switch(f=nh(rt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}e[Oe]=n,e[Fe]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Ze(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ji(n)}}return he(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Ji(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(e=rt.current,Qr(n)){if(e=n.stateNode,a=n.memoizedProps,u=null,f=ut,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||wv(e.nodeValue,a)),e||_n(n)}else e=nh(e).createTextNode(u),e[Oe]=n,n.stateNode=e}return he(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Qr(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Oe]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),f=!1}else f=bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Qi(n),n):(Qi(n),null)}if(Qi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),qc(n,n.updateQueue),he(n),null;case 4:return Vn(),e===null&&Yd(n.stateNode.containerInfo),he(n),null;case 10:return Jn(n.type),he(n),null;case 19:if(J(Ce),f=n.memoizedState,f===null)return he(n),null;if(u=(n.flags&128)!==0,p=f.rendering,p===null)if(u)Ol(f,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Uc(e),p!==null){for(n.flags|=128,Ol(f,!1),e=p.updateQueue,n.updateQueue=e,qc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)_l(a,e),a=a.sibling;return tt(Ce,Ce.current&1|2),n.child}e=e.sibling}f.tail!==null&&hn()>Fc&&(n.flags|=128,u=!0,Ol(f,!1),n.lanes=4194304)}else{if(!u)if(e=Uc(p),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,qc(n,e),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!bt)return he(n),null}else 2*hn()-f.renderingStartTime>Fc&&a!==536870912&&(n.flags|=128,u=!0,Ol(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(e=f.last,e!==null?e.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=hn(),n.sibling=null,e=Ce.current,tt(Ce,u?e&1|2:e&1),n):(he(n),null);case 22:case 23:return Qi(n),Kf(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&qc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),e!==null&&J(ea),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Jn(we),he(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function TS(e,n){switch(ot(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Jn(we),Vn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gs(n),null;case 13:if(Qi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(Ce),null;case 4:return Vn(),null;case 10:return Jn(n.type),null;case 22:case 23:return Qi(n),Kf(),e!==null&&J(ea),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Jn(we),null;case 25:return null;default:return null}}function Mg(e,n){switch(ot(n),n.tag){case 3:Jn(we),Vn();break;case 26:case 27:case 5:gs(n);break;case 4:Vn();break;case 13:Qi(n);break;case 19:J(Ce);break;case 10:Jn(n.type);break;case 22:case 23:Qi(n),Kf(),e!==null&&J(ea);break;case 24:Jn(we)}}function Nl(e,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var p=a.create,b=a.inst;u=p(),b.destroy=u}a=a.next}while(a!==f)}}catch(w){$t(n,n.return,w)}}function Qs(e,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&e)===e){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var O=a,k=w;try{k()}catch(F){$t(f,O,F)}}}u=u.next}while(u!==p)}}catch(F){$t(n,n.return,F)}}function Ig(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Em(n,a)}catch(u){$t(e,e.return,u)}}}function Dg(e,n,a){a.props=ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){$t(e,n,u)}}function Ll(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(f){$t(e,n,f)}}function yi(e,n){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){$t(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,n,f)}else a.current=null}function Pg(e){var n=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function Td(e,n,a){try{var u=e.stateNode;GS(u,e.type,a,n),u[Fe]=n}catch(f){$t(e,e.return,f)}}function kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=eh));else if(u!==4&&(u===27&&rr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Cd(e,n,a),e=e.sibling;e!==null;)Cd(e,n,a),e=e.sibling}function Gc(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(u!==4&&(u===27&&rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gc(e,n,a),e=e.sibling;e!==null;)Gc(e,n,a),e=e.sibling}function zg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ze(n,u,a),n[Oe]=e,n[Fe]=a}catch(p){$t(e,e.return,p)}}var ts=!1,ye=!1,xd=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function wS(e,n){if(e=e.containerInfo,Xd=lh,e=Gr(e),Vr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var b=0,w=-1,O=-1,k=0,F=0,W=e,B=null;e:for(;;){for(var j;W!==a||f!==0&&W.nodeType!==3||(w=b+f),W!==p||u!==0&&W.nodeType!==3||(O=b+u),W.nodeType===3&&(b+=W.nodeValue.length),(j=W.firstChild)!==null;)B=W,W=j;for(;;){if(W===e)break e;if(B===a&&++k===f&&(w=b),B===p&&++F===u&&(O=b),(j=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=j}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},lh=!1,Ie=n;Ie!==null;)if(n=Ie,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ie=e;else for(;Ie!==null;){switch(n=Ie,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Et=ia(a.type,f,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(Et,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)t_(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":t_(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Ie=e;break}Ie=n.return}}function Bg(e,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:$s(e,a),u&4&&Nl(5,a);break;case 1:if($s(e,a),u&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){$t(a,a.return,b)}else{var f=ia(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){$t(a,a.return,b)}}u&64&&Ig(a),u&512&&Ll(a,a.return);break;case 3:if($s(e,a),u&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Em(e,n)}catch(b){$t(a,a.return,b)}}break;case 27:n===null&&u&4&&zg(a);case 26:case 5:$s(e,a),n===null&&u&4&&Pg(a),u&512&&Ll(a,a.return);break;case 12:$s(e,a);break;case 13:$s(e,a),u&4&&Zg(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=IS.bind(null,a),QS(e,a))));break;case 22:if(u=a.memoizedState!==null||ts,!u){n=n!==null&&n.memoizedState!==null||ye,f=ts;var p=ye;ts=u,(ye=n)&&!p?Js(e,a,(a.subtreeFlags&8772)!==0):$s(e,a),ts=f,ye=p}break;case 30:break;default:$s(e,a)}}function Hg(e){var n=e.alternate;n!==null&&(e.alternate=null,Hg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,mn=!1;function es(e,n,a){for(a=a.child;a!==null;)jg(e,n,a),a=a.sibling}function jg(e,n,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 26:ye||yi(a,n),es(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||yi(a,n);var u=oe,f=mn;rr(a.type)&&(oe=a.stateNode,mn=!1),es(e,n,a),Hl(a.stateNode),oe=u,mn=f;break;case 5:ye||yi(a,n);case 6:if(u=oe,f=mn,oe=null,es(e,n,a),oe=u,mn=f,oe!==null)if(mn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(p){$t(a,n,p)}else try{oe.removeChild(a.stateNode)}catch(p){$t(a,n,p)}break;case 18:oe!==null&&(mn?(e=oe,Ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wl(e)):Ov(oe,a.stateNode));break;case 4:u=oe,f=mn,oe=a.stateNode.containerInfo,mn=!0,es(e,n,a),oe=u,mn=f;break;case 0:case 11:case 14:case 15:ye||Qs(2,a,n),ye||Qs(4,a,n),es(e,n,a);break;case 1:ye||(yi(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Dg(a,n,u)),es(e,n,a);break;case 21:es(e,n,a);break;case 22:ye=(u=ye)||a.memoizedState!==null,es(e,n,a),ye=u;break;default:es(e,n,a)}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(a){$t(n,n.return,a)}}function CS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ug),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ug),n;default:throw Error(o(435,e.tag))}}function Ad(e,n){var a=CS(e);n.forEach(function(u){var f=DS.bind(null,e,u);a.has(u)||(a.add(u),u.then(f,f))})}function xn(e,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=e,b=n,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(rr(w.type)){oe=w.stateNode,mn=!1;break t}break;case 5:oe=w.stateNode,mn=!1;break t;case 3:case 4:oe=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(oe===null)throw Error(o(160));jg(p,b,f),oe=null,mn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)qg(n,e),n=n.sibling}var ti=null;function qg(e,n){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),An(e),u&4&&(Qs(3,e,e.return),Nl(3,e),Qs(5,e,e.return));break;case 1:xn(n,e),An(e),u&512&&(ye||a===null||yi(a,a.return)),u&64&&ts&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ti;if(xn(n,e),An(e),u&512&&(ye||a===null||yi(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ss]||p[Oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ze(p,u,a),p[Oe]=e,be(p),u=p;break t;case"link":var b=zv("link","href",f).get(u+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break e}}p=f.createElement(u),Ze(p,u,a),f.head.appendChild(p);break;case"meta":if(b=zv("meta","content",f).get(u+(a.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break e}}p=f.createElement(u),Ze(p,u,a),f.head.appendChild(p);break;default:throw Error(o(468,u))}p[Oe]=e,be(p),u=p}e.stateNode=u}else Uv(f,e.type,e.stateNode);else e.stateNode=kv(f,u,e.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?Uv(f,e.type,e.stateNode):kv(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Td(e,e.memoizedProps,a.memoizedProps)}break;case 27:xn(n,e),An(e),u&512&&(ye||a===null||yi(a,a.return)),a!==null&&u&4&&Td(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xn(n,e),An(e),u&512&&(ye||a===null||yi(a,a.return)),e.flags&32){f=e.stateNode;try{In(f,"")}catch(j){$t(e,e.return,j)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Td(e,f,a!==null?a.memoizedProps:f)),u&1024&&(xd=!0);break;case 6:if(xn(n,e),An(e),u&4){if(e.stateNode===null)throw Error(o(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(j){$t(e,e.return,j)}}break;case 3:if(rh=null,f=ti,ti=ih(n.containerInfo),xn(n,e),ti=f,An(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(j){$t(e,e.return,j)}xd&&(xd=!1,Gg(e));break;case 4:u=ti,ti=ih(e.stateNode.containerInfo),xn(n,e),An(e),ti=u;break;case 12:xn(n,e),An(e);break;case 13:xn(n,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Id=hn()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ad(e,u)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,k=ts,F=ye;if(ts=k||f,ye=F||O,xn(n,e),ye=F,ts=k,An(e),u&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||O||ts||ye||sa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){O=a=n;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var W=O.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){$t(O,O.return,j)}}}else if(n.tag===6){if(a===null){O=n;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(j){$t(O,O.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ad(e,a))));break;case 19:xn(n,e),An(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ad(e,u)));break;case 30:break;case 21:break;default:xn(n,e),An(e)}}function An(e){var n=e.flags;if(n&2){try{for(var a,u=e.return;u!==null;){if(kg(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,p=wd(e);Gc(e,p,f);break;case 5:var b=a.stateNode;a.flags&32&&(In(b,""),a.flags&=-33);var w=wd(e);Gc(e,w,b);break;case 3:case 4:var O=a.stateNode.containerInfo,k=wd(e);Cd(e,k,O);break;default:throw Error(o(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $s(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(e,n.alternate,n),n=n.sibling}function sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),sa(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dg(n,n.return,a),sa(n);break;case 27:Hl(n.stateNode);case 26:case 5:yi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}e=e.sibling}}function Js(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=e,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:Js(f,p,a),Nl(4,p);break;case 1:if(Js(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(k){$t(u,u.return,k)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)ym(O[f],w)}catch(k){$t(u,u.return,k)}}a&&b&64&&Ig(p),Ll(p,p.return);break;case 27:zg(p);case 26:case 5:Js(f,p,a),a&&u===null&&b&4&&Pg(p),Ll(p,p.return);break;case 12:Js(f,p,a);break;case 13:Js(f,p,a),a&&b&4&&Zg(f,p);break;case 22:p.memoizedState===null&&Js(f,p,a),Ll(p,p.return);break;case 30:break;default:Js(f,p,a)}n=n.sibling}}function Rd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ml(a))}function Od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e))}function Ei(e,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vg(e,n,a,u),n=n.sibling}function Vg(e,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ei(e,n,a,u),f&2048&&Nl(9,n);break;case 1:Ei(e,n,a,u);break;case 3:Ei(e,n,a,u),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e)));break;case 12:if(f&2048){Ei(e,n,a,u),e=n.stateNode;try{var p=n.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){$t(n,n.return,O)}}else Ei(e,n,a,u);break;case 13:Ei(e,n,a,u);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?Ei(e,n,a,u):Ml(e,n):p._visibility&2?Ei(e,n,a,u):(p._visibility|=2,to(e,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&Rd(b,n);break;case 24:Ei(e,n,a,u),f&2048&&Od(n.alternate,n);break;default:Ei(e,n,a,u)}}function to(e,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,b=n,w=a,O=u,k=b.flags;switch(b.tag){case 0:case 11:case 15:to(p,b,w,O,f),Nl(8,b);break;case 23:break;case 22:var F=b.stateNode;b.memoizedState!==null?F._visibility&2?to(p,b,w,O,f):Ml(p,b):(F._visibility|=2,to(p,b,w,O,f)),f&&k&2048&&Rd(b.alternate,b);break;case 24:to(p,b,w,O,f),f&&k&2048&&Od(b.alternate,b);break;default:to(p,b,w,O,f)}n=n.sibling}}function Ml(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,u=n,f=u.flags;switch(u.tag){case 22:Ml(a,u),f&2048&&Rd(u.alternate,u);break;case 24:Ml(a,u),f&2048&&Od(u.alternate,u);break;default:Ml(a,u)}n=n.sibling}}var Il=8192;function eo(e){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Fg(e),e=e.sibling}function Fg(e){switch(e.tag){case 26:eo(e),e.flags&Il&&e.memoizedState!==null&&cT(ti,e.memoizedState,e.memoizedProps);break;case 5:eo(e);break;case 3:case 4:var n=ti;ti=ih(e.stateNode.containerInfo),eo(e),ti=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Il,Il=16777216,eo(e),Il=n):eo(e));break;default:eo(e)}}function Yg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Ie=u,Kg(u,e)}Yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wg(e),e=e.sibling}function Wg(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&Qs(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vc(e)):Dl(e);break;default:Dl(e)}}function Vc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Ie=u,Kg(u,e)}Yg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),Vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(n));break;default:Vc(n)}e=e.sibling}}function Kg(e,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:Qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ml(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ie=u;else t:for(a=e;Ie!==null;){u=Ie;var f=u.sibling,p=u.return;if(Hg(u),u===a){Ie=null;break t}if(f!==null){f.return=p,Ie=f;break t}Ie=p}}}var xS={getCacheForType:function(e){var n=Ke(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},AS=typeof WeakMap=="function"?WeakMap:Map,Vt=0,ne=null,Nt=null,kt=0,Ft=0,Rn=null,tr=!1,no=!1,Nd=!1,ns=0,_e=0,er=0,ra=0,Ld=0,jn=0,io=0,Pl=null,gn=null,Md=!1,Id=0,Fc=1/0,Yc=null,nr=null,je=0,ir=null,so=null,ro=0,Dd=0,Pd=null,Xg=null,kl=0,kd=null;function On(){if((Vt&2)!==0&&kt!==0)return kt&-kt;if(q.T!==null){var e=Fa;return e!==0?e:qd()}return Wu()}function Qg(){jn===0&&(jn=(kt&536870912)===0||bt?Vu():536870912);var e=Hn.current;return e!==null&&(e.flags|=32),jn}function Nn(e,n,a){(e===ne&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ao(e,0),sr(e,kt,jn,!1)),Es(e,a),((Vt&2)===0||e!==ne)&&(e===ne&&((Vt&2)===0&&(ra|=a),_e===4&&sr(e,kt,jn,!1)),bi(e))}function $g(e,n,a){if((Vt&6)!==0)throw Error(o(327));var u=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Yn(e,n),f=u?NS(e,n):Bd(e,n,!0),p=u;do{if(f===0){no&&!u&&sr(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!RS(a)){f=Bd(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var w=e;f=Pl;var O=w.current.memoizedState.isDehydrated;if(O&&(ao(w,b).flags|=256),b=Bd(w,b,!1),b!==2){if(Nd&&!O){w.errorRecoveryDisabledLanes|=p,ra|=p,f=4;break t}p=gn,gn=f,p!==null&&(gn===null?gn=p:gn.push.apply(gn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){ao(e,0),sr(e,n,0,!0);break}t:{switch(u=e,p=f,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:sr(u,n,jn,!tr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=Id+300-hn(),10<f)){if(sr(u,n,jn,!tr),wa(u,0,!0)!==0)break t;u.timeoutHandle=Av(Jg.bind(null,u,a,gn,Yc,Md,n,jn,ra,io,tr,p,2,-0,0),f);break t}Jg(u,a,gn,Yc,Md,n,jn,ra,io,tr,p,0,-0,0)}}break}while(!0);bi(e)}function Jg(e,n,a,u,f,p,b,w,O,k,F,W,B,j){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:uT},Fg(n),W=hT(),W!==null)){e.cancelPendingCommit=W(av.bind(null,e,n,p,a,u,f,b,w,O,F,1,B,j)),sr(e,p,b,!k);return}av(e,n,p,a,u,f,b,w,O)}function RS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!tn(p(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n,a,u){n&=~Ld,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var f=n;0<f;){var p=31-$e(f),b=1<<p;u[p]=-1,f&=~b}a!==0&&Fu(e,a,n)}function Wc(){return(Vt&6)===0?(zl(0),!1):!0}function zd(){if(Nt!==null){if(Ft===0)var e=Nt.return;else e=Nt,$n=Bn=null,td(e),$a=null,Al=0,e=Nt;for(;e!==null;)Mg(e.alternate,e),e=e.return;Nt=null}}function ao(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,FS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zd(),ne=e,Nt=a=Un(e.current,null),kt=n,Ft=0,Rn=null,tr=!1,no=Yn(e,n),Nd=!1,io=jn=Ld=ra=er=_e=0,gn=Pl=null,Md=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var f=31-$e(u),p=1<<f;n|=e[f],u&=~p}return ns=n,Yr(),a}function tv(e,n){xt=null,q.H=Pc,n===vl||n===Cc?(n=gm(),Ft=3):n===_m?(n=gm(),Ft=4):Ft=n===vg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Nt===null&&(_e=1,Hc(e,nn(n,e.current)))}function ev(){var e=q.H;return q.H=Pc,e===null?Pc:e}function nv(){var e=q.A;return q.A=xS,e}function Ud(){_e=4,tr||(kt&4194048)!==kt&&Hn.current!==null||(no=!0),(er&134217727)===0&&(ra&134217727)===0||ne===null||sr(ne,kt,jn,!1)}function Bd(e,n,a){var u=Vt;Vt|=2;var f=ev(),p=nv();(ne!==e||kt!==n)&&(Yc=null,ao(e,n)),n=!1;var b=_e;t:do try{if(Ft!==0&&Nt!==null){var w=Nt,O=Rn;switch(Ft){case 8:zd(),b=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var k=Ft;if(Ft=0,Rn=null,oo(e,w,O,k),a&&no){b=0;break t}break;default:k=Ft,Ft=0,Rn=null,oo(e,w,O,k)}}OS(),b=_e;break}catch(F){tv(e,F)}while(!0);return n&&e.shellSuspendCounter++,$n=Bn=null,Vt=u,q.H=f,q.A=p,Nt===null&&(ne=null,kt=0,Yr()),b}function OS(){for(;Nt!==null;)iv(Nt)}function NS(e,n){var a=Vt;Vt|=2;var u=ev(),f=nv();ne!==e||kt!==n?(Yc=null,Fc=hn()+500,ao(e,n)):no=Yn(e,n);t:do try{if(Ft!==0&&Nt!==null){n=Nt;var p=Rn;e:switch(Ft){case 1:Ft=0,Rn=null,oo(e,n,p,1);break;case 2:case 9:if(pm(p)){Ft=0,Rn=null,sv(n);break}n=function(){Ft!==2&&Ft!==9||ne!==e||(Ft=7),bi(e)},p.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:pm(p)?(Ft=0,Rn=null,sv(n)):(Ft=0,Rn=null,oo(e,n,p,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var w=Nt;if(!b||Bv(b)){Ft=0,Rn=null;var O=w.sibling;if(O!==null)Nt=O;else{var k=w.return;k!==null?(Nt=k,Kc(k)):Nt=null}break e}}Ft=0,Rn=null,oo(e,n,p,5);break;case 6:Ft=0,Rn=null,oo(e,n,p,6);break;case 8:zd(),_e=6;break t;default:throw Error(o(462))}}LS();break}catch(F){tv(e,F)}while(!0);return $n=Bn=null,q.H=u,q.A=f,Vt=a,Nt!==null?0:(ne=null,kt=0,Yr(),_e)}function LS(){for(;Nt!==null&&!Bu();)iv(Nt)}function iv(e){var n=Ng(e.alternate,e,ns);e.memoizedProps=e.pendingProps,n===null?Kc(e):Nt=n}function sv(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=wg(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=wg(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:td(n);default:Mg(a,n),n=Nt=_l(n,ns),n=Ng(a,n,ns)}e.memoizedProps=e.pendingProps,n===null?Kc(e):Nt=n}function oo(e,n,a,u){$n=Bn=null,td(n),$a=null,Al=0;var f=n.return;try{if(ES(e,f,n,a,kt)){_e=1,Hc(e,nn(a,e.current)),Nt=null;return}}catch(p){if(f!==null)throw Nt=f,p;_e=1,Hc(e,nn(a,e.current)),Nt=null;return}n.flags&32768?(bt||u===1?e=!0:no||(kt&536870912)!==0?e=!1:(tr=e=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),rv(n,e)):Kc(n)}function Kc(e){var n=e;do{if((n.flags&32768)!==0){rv(n,tr);return}e=n.return;var a=SS(n.alternate,n,ns);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);_e===0&&(_e=5)}function rv(e,n){do{var a=TS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);_e=6,Nt=null}function av(e,n,a,u,f,p,b,w,O){e.cancelPendingCommit=null;do Xc();while(je!==0);if((Vt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=Cn,bf(e,a,p,b,w,O),e===ne&&(Nt=ne=null,kt=0),so=n,ir=e,ro=a,Dd=p,Pd=f,Xg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PS(vs,function(){return hv(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=st.p,st.p=2,b=Vt,Vt|=4;try{wS(e,n,a)}finally{Vt=b,st.p=f,q.T=u}}je=1,ov(),lv(),uv()}}function ov(){if(je===1){je=0;var e=ir,n=so,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var u=st.p;st.p=2;var f=Vt;Vt|=4;try{qg(n,e);var p=Qd,b=Gr(e.containerInfo),w=p.focusedElem,O=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&Ua(w.ownerDocument.documentElement,w)){if(O!==null&&Vr(w)){var k=O.start,F=O.end;if(F===void 0&&(F=k),"selectionStart"in w)w.selectionStart=k,w.selectionEnd=Math.min(F,w.value.length);else{var W=w.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var j=B.getSelection(),Et=w.textContent.length,mt=Math.min(O.start,Et),Kt=O.end===void 0?mt:Math.min(O.end,Et);!j.extend&&mt>Kt&&(b=Kt,Kt=mt,mt=b);var I=fl(w,mt),N=fl(w,Kt);if(I&&N&&(j.rangeCount!==1||j.anchorNode!==I.node||j.anchorOffset!==I.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var P=W.createRange();P.setStart(I.node,I.offset),j.removeAllRanges(),mt>Kt?(j.addRange(P),j.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),j.addRange(P))}}}}for(W=[],j=w;j=j.parentNode;)j.nodeType===1&&W.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var Y=W[w];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}lh=!!Xd,Qd=Xd=null}finally{Vt=f,st.p=u,q.T=a}}e.current=n,je=2}}function lv(){if(je===2){je=0;var e=ir,n=so,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var u=st.p;st.p=2;var f=Vt;Vt|=4;try{Bg(e,n.alternate,n)}finally{Vt=f,st.p=u,q.T=a}}je=3}}function uv(){if(je===4||je===3){je=0,Hu();var e=ir,n=so,a=ro,u=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,so=ir=null,cv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(nr=null),Xo(a),n=n.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Oi,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=q.T,f=st.p,st.p=2,q.T=null;try{for(var p=e.onRecoverableError,b=0;b<u.length;b++){var w=u[b];p(w.value,{componentStack:w.stack})}}finally{q.T=n,st.p=f}}(ro&3)!==0&&Xc(),bi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===kd?kl++:(kl=0,kd=e):kl=0,zl(0)}}function cv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ml(n)))}function Xc(e){return ov(),lv(),uv(),hv()}function hv(){if(je!==5)return!1;var e=ir,n=Dd;Dd=0;var a=Xo(ro),u=q.T,f=st.p;try{st.p=32>a?32:a,q.T=null,a=Pd,Pd=null;var p=ir,b=ro;if(je=0,so=ir=null,ro=0,(Vt&6)!==0)throw Error(o(331));var w=Vt;if(Vt|=4,Wg(p.current),Vg(p,p.current,b,a),Vt=w,zl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Oi,p)}catch{}return!0}finally{st.p=f,q.T=u,cv(e,n)}}function fv(e,n,a){n=nn(a,n),n=_d(e.stateNode,n,2),e=Ys(e,n,2),e!==null&&(Es(e,2),bi(e))}function $t(e,n,a){if(e.tag===3)fv(e,e,a);else for(;n!==null;){if(n.tag===3){fv(n,e,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){e=nn(a,e),a=mg(2),u=Ys(n,a,2),u!==null&&(gg(a,u,n,e),Es(u,2),bi(u));break}}n=n.return}}function Hd(e,n,a){var u=e.pingCache;if(u===null){u=e.pingCache=new AS;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(Nd=!0,f.add(a),e=MS.bind(null,e,n,a),n.then(e,e))}function MS(e,n,a){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(kt&a)===a&&(_e===4||_e===3&&(kt&62914560)===kt&&300>hn()-Id?(Vt&2)===0&&ao(e,0):Ld|=a,io===kt&&(io=0)),bi(e)}function dv(e,n){n===0&&(n=Wo()),e=js(e,n),e!==null&&(Es(e,n),bi(e))}function IS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),dv(e,a)}function DS(e,n){var a=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),dv(e,a)}function PS(e,n){return Lr(e,n)}var Qc=null,lo=null,jd=!1,$c=!1,Zd=!1,aa=0;function bi(e){e!==lo&&e.next===null&&(lo===null?Qc=lo=e:lo=lo.next=e),$c=!0,jd||(jd=!0,zS())}function zl(e,n){if(!Zd&&$c){Zd=!0;do for(var a=!1,u=Qc;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-$e(42|e)+1)-1,p&=f&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,gv(u,p))}else p=kt,p=wa(u,u===ne?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Yn(u,p)||(a=!0,gv(u,p));u=u.next}while(a);Zd=!1}}function kS(){_v()}function _v(){$c=jd=!1;var e=0;aa!==0&&(VS()&&(e=aa),aa=0);for(var n=hn(),a=null,u=Qc;u!==null;){var f=u.next,p=pv(u,n);p===0?(u.next=null,a===null?Qc=f:a.next=f,f===null&&(lo=a)):(a=u,(e!==0||(p&3)!==0)&&($c=!0)),u=f}zl(e)}function pv(e,n){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-$e(p),w=1<<b,O=f[b];O===-1?((w&a)===0||(w&u)!==0)&&(f[b]=Ef(w,n)):O<=n&&(e.expiredLanes|=w),p&=~w}if(n=ne,a=kt,a=wa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Vo(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(u!==null&&Vo(u),Xo(a)){case 2:case 8:a=Fo;break;case 32:a=vs;break;case 268435456:a=Yo;break;default:a=vs}return u=mv.bind(null,e),a=Lr(a,u),e.callbackPriority=n,e.callbackNode=a,n}return u!==null&&u!==null&&Vo(u),e.callbackPriority=2,e.callbackNode=null,2}function mv(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Xc()&&e.callbackNode!==a)return null;var u=kt;return u=wa(e,e===ne?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:($g(e,u,n),pv(e,hn()),e.callbackNode!=null&&e.callbackNode===a?mv.bind(null,e):null)}function gv(e,n){if(Xc())return null;$g(e,n,!0)}function zS(){YS(function(){(Vt&6)!==0?Lr(ju,kS):_v()})}function qd(){return aa===0&&(aa=Vu()),aa}function vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function yv(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function US(e,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var p=vv((f[Fe]||null).action),b=u.submitter;b&&(n=(n=b[Fe]||null)?vv(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var w=new Br("action","action",null,u,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(aa!==0){var O=b?yv(f,b):new FormData(f);ud(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(w.preventDefault(),O=b?yv(f,b):new FormData(f),ud(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Gd=0;Gd<Vi.length;Gd++){var Vd=Vi[Gd],BS=Vd.toLowerCase(),HS=Vd[0].toUpperCase()+Vd.slice(1);wn(BS,"on"+HS)}wn(mc,"onAnimationEnd"),wn(Tn,"onAnimationIteration"),wn(Fr,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Uf,"onTransitionRun"),wn(Za,"onTransitionStart"),wn(Bf,"onTransitionCancel"),wn(dl,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Ev(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var p=void 0;if(n)for(var b=u.length-1;0<=b;b--){var w=u[b],O=w.instance,k=w.currentTarget;if(w=w.listener,O!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=k;try{p(f)}catch(F){Bc(F)}f.currentTarget=null,p=O}else for(b=0;b<u.length;b++){if(w=u[b],O=w.instance,k=w.currentTarget,w=w.listener,O!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=k;try{p(f)}catch(F){Bc(F)}f.currentTarget=null,p=O}}}}function Lt(e,n){var a=n[fn];a===void 0&&(a=n[fn]=new Set);var u=e+"__bubble";a.has(u)||(bv(n,e,2,!1),a.add(u))}function Fd(e,n,a){var u=0;n&&(u|=4),bv(a,e,u,n)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Yd(e){if(!e[Jc]){e[Jc]=!0,Xu.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||Fd(a,!1,e),Fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Jc]||(n[Jc]=!0,Fd("selectionchange",!1,n))}}function bv(e,n,a,u){switch(Vv(n)){case 2:var f=_T;break;case 8:f=pT;break;default:f=o_}a=f.bind(null,n,a,e),f=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Wd(e,n,a,u,f){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=ci(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=p=b;continue t}w=w.parentNode}}u=u.return}yn(function(){var k=p,F=Os(a),W=[];t:{var B=gc.get(e);if(B!==void 0){var j=Br,Et=e;switch(e){case"keypress":if(de(a)===0)break t;case"keydown":case"keyup":j=Nf;break;case"focusin":Et="focus",j=il;break;case"focusout":Et="blur",j=il;break;case"beforeblur":case"afterblur":j=il;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Mf;break;case mc:case Tn:case Fr:j=xf;break;case dl:j=If;break;case"scroll":case"scrollend":j=wf;break;case"wheel":j=oc;break;case"copy":case"cut":case"paste":j=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=al;break;case"toggle":case"beforetoggle":j=ji}var mt=(n&4)!==0,Kt=!mt&&(e==="scroll"||e==="scrollend"),I=mt?B!==null?B+"Capture":null:B;mt=[];for(var N=k,P;N!==null;){var Y=N;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||I===null||(Y=Ht(N,I),Y!=null&&mt.push(Bl(N,Y,P))),Kt)break;N=N.return}0<mt.length&&(B=new j(B,Et,null,a,F),W.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&a!==zr&&(Et=a.relatedTarget||a.fromElement)&&(ci(Et)||Et[bs]))break t;if((j||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Et=a.relatedTarget||a.toElement,j=k,Et=Et?ci(Et):null,Et!==null&&(Kt=d(Et),mt=Et.tag,Et!==Kt||mt!==5&&mt!==27&&mt!==6)&&(Et=null)):(j=null,Et=k),j!==Et)){if(mt=Ms,Y="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=al,Y="onPointerLeave",I="onPointerEnter",N="pointer"),Kt=j==null?B:Mn(j),P=Et==null?B:Mn(Et),B=new mt(Y,N+"leave",j,a,F),B.target=Kt,B.relatedTarget=P,Y=null,ci(F)===k&&(mt=new mt(I,N+"enter",Et,a,F),mt.target=P,mt.relatedTarget=Kt,Y=mt),Kt=Y,j&&Et)e:{for(mt=j,I=Et,N=0,P=mt;P;P=uo(P))N++;for(P=0,Y=I;Y;Y=uo(Y))P++;for(;0<N-P;)mt=uo(mt),N--;for(;0<P-N;)I=uo(I),P--;for(;N--;){if(mt===I||I!==null&&mt===I.alternate)break e;mt=uo(mt),I=uo(I)}mt=null}else mt=null;j!==null&&Sv(W,B,j,mt,!1),Et!==null&&Kt!==null&&Sv(W,Kt,Et,mt,!0)}}t:{if(B=k?Mn(k):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ct=Ps;else if(qi(B))if(ul)ct=zf;else{ct=kf;var Rt=hl}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&kr(k.elementType)&&(ct=Ps):ct=Qn;if(ct&&(ct=ct(e,k))){fc(W,ct,a,F);break t}Rt&&Rt(e,B,k),e==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&xs(B,"number",B.value)}switch(Rt=k?Mn(k):window,e){case"focusin":(qi(Rt)||Rt.contentEditable==="true")&&(Sn=Rt,Us=k,Gi=null);break;case"focusout":Gi=Us=Sn=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,_c(W,a,F);break;case"selectionchange":if(Ba)break;case"keydown":case"keyup":_c(W,a,F)}var _t;if(Zi)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Is?ka(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(ll&&a.locale!=="ko"&&(Is||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Is&&(_t=Ls()):(Pn=F,Kn="value"in Pn?Pn.value:Pn.textContent,Is=!0)),Rt=th(k,gt),0<Rt.length&&(gt=new En(gt,e,null,a,F),W.push({event:gt,listeners:Rt}),_t?gt.data=_t:(_t=cc(a),_t!==null&&(gt.data=_t)))),(_t=lc?hc(e,a):Pf(e,a))&&(gt=th(k,"onBeforeInput"),0<gt.length&&(Rt=new En("onBeforeInput","beforeinput",null,a,F),W.push({event:Rt,listeners:gt}),Rt.data=_t)),US(W,e,k,a,F)}Ev(W,n)})}function Bl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function th(e,n){for(var a=n+"Capture",u=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ht(e,a),f!=null&&u.unshift(Bl(e,f,p)),f=Ht(e,n),f!=null&&u.push(Bl(e,f,p))),e.tag===3)return u;e=e.return}return[]}function uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sv(e,n,a,u,f){for(var p=n._reactName,b=[];a!==null&&a!==u;){var w=a,O=w.alternate,k=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||k===null||(O=k,f?(k=Ht(a,p),k!=null&&b.unshift(Bl(a,k,O))):f||(k=Ht(a,p),k!=null&&b.push(Bl(a,k,O)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var ZS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(ZS,`
`).replace(qS,"")}function wv(e,n){return n=Tv(n),Tv(e)===n}function eh(){}function Wt(e,n,a,u,f,p){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||In(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&In(e,""+u);break;case"className":Ra(e,"class",u);break;case"tabIndex":Ra(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(e,a,u);break;case"style":As(e,u,p);break;case"data":if(n!=="object"){Ra(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Rs(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Wt(e,n,"name",f.name,f,null),Wt(e,n,"formEncType",f.formEncType,f,null),Wt(e,n,"formMethod",f.formMethod,f,null),Wt(e,n,"formTarget",f.formTarget,f,null)):(Wt(e,n,"encType",f.encType,f,null),Wt(e,n,"method",f.method,f,null),Wt(e,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Rs(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=eh);break;case"onScroll":u!=null&&Lt("scroll",e);break;case"onScrollEnd":u!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Rs(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Aa(e,"popover",u);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Aa(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tl.get(a)||a,Aa(e,a,u))}}function Kd(e,n,a,u,f,p){switch(a){case"style":As(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof u=="string"?In(e,u):(typeof u=="number"||typeof u=="bigint")&&In(e,""+u);break;case"onScroll":u!=null&&Lt("scroll",e);break;case"onScrollEnd":u!=null&&Lt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qu.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),p=e[Fe]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Aa(e,a,u)}}}function Ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Wt(e,n,p,b,a,null)}}f&&Wt(e,n,"srcSet",a.srcSet,a,null),u&&Wt(e,n,"src",a.src,a,null);return;case"input":Lt("invalid",e);var w=p=b=f=null,O=null,k=null;for(u in a)if(a.hasOwnProperty(u)){var F=a[u];if(F!=null)switch(u){case"name":f=F;break;case"type":b=F;break;case"checked":O=F;break;case"defaultChecked":k=F;break;case"value":p=F;break;case"defaultValue":w=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,n));break;default:Wt(e,n,u,F,a,null)}}Ju(e,p,w,O,k,b,f,!1),Cs(e);return;case"select":Lt("invalid",e),u=b=p=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Wt(e,n,f,w,a,null)}n=p,a=b,e.multiple=!!u,n!=null?dn(e,!!u,n,!1):a!=null&&dn(e,!!u,a,!0);return;case"textarea":Lt("invalid",e),p=f=u=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:Wt(e,n,b,w,a,null)}hi(e,u,f,p),Cs(e);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(e,n,O,u,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(u=0;u<Ul.length;u++)Lt(Ul[u],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(u=a[k],u!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Wt(e,n,k,u,a,null)}return;default:if(kr(n)){for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!==void 0&&Kd(e,n,F,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&Wt(e,n,w,u,a,null))}function GS(e,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,w=null,O=null,k=null,F=null;for(j in a){var W=a[j];if(a.hasOwnProperty(j)&&W!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":O=W;default:u.hasOwnProperty(j)||Wt(e,n,j,null,u,W)}}for(var B in u){var j=u[B];if(W=a[B],u.hasOwnProperty(B)&&(j!=null||W!=null))switch(B){case"type":p=j;break;case"name":f=j;break;case"checked":k=j;break;case"defaultChecked":F=j;break;case"value":b=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,n));break;default:j!==W&&Wt(e,n,B,j,u,W)}}Ye(e,b,w,O,k,F,p,f);return;case"select":j=b=w=B=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":j=O;default:u.hasOwnProperty(p)||Wt(e,n,p,null,u,O)}for(f in u)if(p=u[f],O=a[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":B=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==O&&Wt(e,n,f,p,u,O)}n=w,a=b,u=j,B!=null?dn(e,!!a,B,!1):!!u!=!!a&&(n!=null?dn(e,!!a,n,!0):dn(e,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Wt(e,n,w,null,u,f)}for(b in u)if(f=u[b],p=a[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":B=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==p&&Wt(e,n,b,f,u,p)}ue(e,B,j);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Wt(e,n,Et,null,u,B)}for(O in u)if(B=u[O],j=a[O],u.hasOwnProperty(O)&&B!==j&&(B!=null||j!=null))switch(O){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(e,n,O,B,u,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!u.hasOwnProperty(mt)&&Wt(e,n,mt,null,u,B);for(k in u)if(B=u[k],j=a[k],u.hasOwnProperty(k)&&B!==j&&(B!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,n));break;default:Wt(e,n,k,B,u,j)}return;default:if(kr(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!u.hasOwnProperty(Kt)&&Kd(e,n,Kt,void 0,u,B);for(F in u)B=u[F],j=a[F],!u.hasOwnProperty(F)||B===j||B===void 0&&j===void 0||Kd(e,n,F,B,u,j);return}}for(var I in a)B=a[I],a.hasOwnProperty(I)&&B!=null&&!u.hasOwnProperty(I)&&Wt(e,n,I,null,u,B);for(W in u)B=u[W],j=a[W],!u.hasOwnProperty(W)||B===j||B==null&&j==null||Wt(e,n,W,B,u,j)}var Xd=null,Qd=null;function nh(e){return e.nodeType===9?e:e.ownerDocument}function Cv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function VS(){var e=window.event;return e&&e.type==="popstate"?e===Jd?!1:(Jd=e,!0):(Jd=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch(WS)}:Av;function WS(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function Ov(e,n){var a=n,u=0,f=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var b=e.ownerDocument;if(a&1&&Hl(b.documentElement),a&2&&Hl(b.body),a&4)for(a=b.head,Hl(a),b=a.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[Ss]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(f===0){e.removeChild(p),Wl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);Wl(n)}function t_(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":t_(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function KS(e,n,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ss])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function XS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ei(e.nextSibling),e===null))return null;return e}function e_(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function QS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var n_=null;function Nv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Lv(e,n,a){switch(n=nh(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xa(e)}var Zn=new Map,Mv=new Set;function ih(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=st.d;st.d={f:$S,r:JS,D:tT,C:eT,L:nT,m:iT,X:rT,S:sT,M:aT};function $S(){var e=is.f(),n=Wc();return e||n}function JS(e){var n=Ni(e);n!==null&&n.tag===5&&n.type==="form"?$m(n):is.r(e)}var co=typeof document>"u"?null:document;function Iv(e,n,a){var u=co;if(u&&typeof n=="string"&&n){var f=Ue(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Mv.has(f)||(Mv.add(f),e={rel:e,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Ze(n,"link",e),be(n),u.head.appendChild(n)))}}function tT(e){is.D(e),Iv("dns-prefetch",e,null)}function eT(e,n){is.C(e,n),Iv("preconnect",e,n)}function nT(e,n,a){is.L(e,n,a);var u=co;if(u&&e&&n){var f='link[rel="preload"][as="'+Ue(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ue(a.imageSizes)+'"]')):f+='[href="'+Ue(e)+'"]';var p=f;switch(n){case"style":p=ho(e);break;case"script":p=fo(e)}Zn.has(p)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Zn.set(p,e),u.querySelector(f)!==null||n==="style"&&u.querySelector(jl(p))||n==="script"&&u.querySelector(Zl(p))||(n=u.createElement("link"),Ze(n,"link",e),be(n),u.head.appendChild(n)))}}function iT(e,n){is.m(e,n);var a=co;if(a&&e){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ue(u)+'"][href="'+Ue(e)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fo(e)}if(!Zn.has(p)&&(e=T({rel:"modulepreload",href:e},n),Zn.set(p,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(p)))return}u=a.createElement("link"),Ze(u,"link",e),be(u),a.head.appendChild(u)}}}function sT(e,n,a){is.S(e,n,a);var u=co;if(u&&e){var f=Li(u).hoistableStyles,p=ho(e);n=n||"default";var b=f.get(p);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(jl(p)))w.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Zn.get(p))&&i_(e,a);var O=b=u.createElement("link");be(O),Ze(O,"link",e),O._p=new Promise(function(k,F){O.onload=k,O.onerror=F}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sh(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(p,b)}}}function rT(e,n){is.X(e,n);var a=co;if(a&&e){var u=Li(a).hoistableScripts,f=fo(e),p=u.get(f);p||(p=a.querySelector(Zl(f)),p||(e=T({src:e,async:!0},n),(n=Zn.get(f))&&s_(e,n),p=a.createElement("script"),be(p),Ze(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function aT(e,n){is.M(e,n);var a=co;if(a&&e){var u=Li(a).hoistableScripts,f=fo(e),p=u.get(f);p||(p=a.querySelector(Zl(f)),p||(e=T({src:e,async:!0,type:"module"},n),(n=Zn.get(f))&&s_(e,n),p=a.createElement("script"),be(p),Ze(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Dv(e,n,a,u){var f=(f=rt.current)?ih(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ho(a.href),a=Li(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ho(a.href);var p=Li(f).hoistableStyles,b=p.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=f.querySelector(jl(e)))&&!p._p&&(b.instance=p,b.state.loading=5),Zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(e,a),p||oT(f,e,a,b.state))),n&&u===null)throw Error(o(528,""));return b}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fo(a),a=Li(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ho(e){return'href="'+Ue(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function Pv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function oT(e,n,a,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Ze(n,"link",a),be(n),e.head.appendChild(n))}function fo(e){return'[src="'+Ue(e)+'"]'}function Zl(e){return"script[async]"+e}function kv(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(u)return n.instance=u,be(u),u;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),be(u),Ze(u,"style",f),sh(u,a.precedence,e),n.instance=u;case"stylesheet":f=ho(a.href);var p=e.querySelector(jl(f));if(p)return n.state.loading|=4,n.instance=p,be(p),p;u=Pv(a),(f=Zn.get(f))&&i_(u,f),p=(e.ownerDocument||e).createElement("link"),be(p);var b=p;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Ze(p,"link",u),n.state.loading|=4,sh(p,a.precedence,e),n.instance=p;case"script":return p=fo(a.src),(f=e.querySelector(Zl(p)))?(n.instance=f,be(f),f):(u=a,(f=Zn.get(p))&&(u=T({},a),s_(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),be(f),Ze(f,"link",u),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,sh(u,a.precedence,e));return n.instance}function sh(e,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===n)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function i_(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function s_(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rh=null;function zv(e,n,a){if(rh===null){var u=new Map,f=rh=new Map;f.set(a,u)}else f=rh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[Ss]||p[Oe]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=e+b;var w=u.get(b);w?w.push(p):u.set(b,[p])}}return u}function Uv(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function lT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ql=null;function uT(){}function cT(e,n,a){if(ql===null)throw Error(o(475));var u=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ho(a.href),p=e.querySelector(jl(f));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=ah.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=p,be(p);return}p=e.ownerDocument||e,a=Pv(a),(f=Zn.get(f))&&i_(a,f),p=p.createElement("link"),be(p);var b=p;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Ze(p,"link",a),n.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=ah.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function hT(){if(ql===null)throw Error(o(475));var e=ql;return e.stylesheets&&e.count===0&&r_(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&r_(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ah(){if(this.count--,this.count===0){if(this.stylesheets)r_(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oh=null;function r_(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oh=new Map,n.forEach(fT,e),oh=null,ah.call(e))}function fT(e,n){if(!(n.state.loading&4)){var a=oh.get(e);if(a)var u=a.get(null);else{a=new Map,oh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(null,u)}f=n.instance,b=f.getAttribute("data-precedence"),p=a.get(b)||u,p===u&&a.set(null,f),a.set(b,f),this.count++,u=ah.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Gl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function dT(e,n,a,u,f,p,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Hv(e,n,a,u,f,p,b,w,O,k,F,W){return e=new dT(e,n,a,b,w,O,k,W),n=1,p===!0&&(n|=24),p=rn(3,null,null,n),e.current=p,p.stateNode=e,n=Hf(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:n},Gf(p),e}function jv(e){return e?(e=Wi,e):Wi}function Zv(e,n,a,u,f,p){f=jv(f),u.context===null?u.context=f:u.pendingContext=f,u=Fs(n),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=Ys(e,u,n),a!==null&&(Nn(a,e,n),El(a,e,n))}function qv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function a_(e,n){qv(e,n),(e=e.alternate)&&qv(e,n)}function Gv(e){if(e.tag===13){var n=js(e,67108864);n!==null&&Nn(n,e,67108864),a_(e,67108864)}}var lh=!0;function _T(e,n,a,u){var f=q.T;q.T=null;var p=st.p;try{st.p=2,o_(e,n,a,u)}finally{st.p=p,q.T=f}}function pT(e,n,a,u){var f=q.T;q.T=null;var p=st.p;try{st.p=8,o_(e,n,a,u)}finally{st.p=p,q.T=f}}function o_(e,n,a,u){if(lh){var f=l_(u);if(f===null)Wd(e,n,u,uh,a),Fv(e,u);else if(gT(f,e,n,a,u))u.stopPropagation();else if(Fv(e,u),n&4&&-1<mT.indexOf(e)){for(;f!==null;){var p=Ni(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=li(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-$e(b);w.entanglements[1]|=O,b&=~O}bi(p),(Vt&6)===0&&(Fc=hn()+500,zl(0))}}break;case 13:w=js(p,2),w!==null&&Nn(w,p,2),Wc(),a_(p,2)}if(p=l_(u),p===null&&Wd(e,n,u,uh,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else Wd(e,n,u,null,a)}}function l_(e){return e=Os(e),u_(e)}var uh=null;function u_(e){if(uh=null,e=ci(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=_(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uh=e,null}function Vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case ju:return 2;case Fo:return 8;case vs:case Zu:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var c_=!1,ar=null,or=null,lr=null,Vl=new Map,Fl=new Map,ur=[],mT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Yl(e,n,a,u,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Ni(n),n!==null&&Gv(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function gT(e,n,a,u,f){switch(n){case"focusin":return ar=Yl(ar,e,n,a,u,f),!0;case"dragenter":return or=Yl(or,e,n,a,u,f),!0;case"mouseover":return lr=Yl(lr,e,n,a,u,f),!0;case"pointerover":var p=f.pointerId;return Vl.set(p,Yl(Vl.get(p)||null,e,n,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Fl.set(p,Yl(Fl.get(p)||null,e,n,a,u,f)),!0}return!1}function Yv(e){var n=ci(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=_(a),n!==null){e.blockedOn=n,Qo(e.priority,function(){if(a.tag===13){var u=On();u=Ko(u);var f=js(a,u);f!==null&&Nn(f,a,u),a_(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ch(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=l_(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);zr=u,a.target.dispatchEvent(u),zr=null}else return n=Ni(a),n!==null&&Gv(n),e.blockedOn=a,!1;n.shift()}return!0}function Wv(e,n,a){ch(e)&&a.delete(n)}function vT(){c_=!1,ar!==null&&ch(ar)&&(ar=null),or!==null&&ch(or)&&(or=null),lr!==null&&ch(lr)&&(lr=null),Vl.forEach(Wv),Fl.forEach(Wv)}function hh(e,n){e.blockedOn===n&&(e.blockedOn=null,c_||(c_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vT)))}var fh=null;function Kv(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===e&&(fh=null);for(var n=0;n<e.length;n+=3){var a=e[n],u=e[n+1],f=e[n+2];if(typeof u!="function"){if(u_(u||a)===null)continue;break}var p=Ni(a);p!==null&&(e.splice(n,3),n-=3,ud(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Wl(e){function n(O){return hh(O,e)}ar!==null&&hh(ar,e),or!==null&&hh(or,e),lr!==null&&hh(lr,e),Vl.forEach(n),Fl.forEach(n);for(var a=0;a<ur.length;a++){var u=ur[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],b=f[Fe]||null;if(typeof p=="function")b||Kv(a);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Fe]||null)w=b.formAction;else if(u_(f)!==null)continue}else w=b.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),Kv(a)}}}function h_(e){this._internalRoot=e}dh.prototype.render=h_.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,u=On();Zv(a,u,e,n,null,null)},dh.prototype.unmount=h_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zv(e.current,2,null,e,null,null),Wc(),n[bs]=null}};function dh(e){this._internalRoot=e}dh.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ur.length&&n!==0&&n<ur[a].priority;a++);ur.splice(a,0,e),a===0&&Yv(e)}};var Xv=t.version;if(Xv!=="19.1.1")throw Error(o(527,Xv,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var yT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Oi=_h.inject(yT),Ve=_h}catch{}}return Xl.createRoot=function(e,n){if(!c(e))throw Error(o(299));var a=!1,u="",f=fg,p=dg,b=_g,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=Hv(e,1,!1,null,null,a,u,f,p,b,w,null),e[bs]=n.current,Yd(e),new h_(n)},Xl.hydrateRoot=function(e,n,a){if(!c(e))throw Error(o(299));var u=!1,f="",p=fg,b=dg,w=_g,O=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),n=Hv(e,1,!0,n,a??null,u,f,p,b,w,O,k),n.context=jv(null),a=n.current,u=On(),u=Ko(u),f=Fs(u),f.callback=null,Ys(a,f,u),a=u,n.current.lanes=a,Es(n,a),bi(n),e[bs]=n.current,Yd(e),new dh(n)},Xl.version="19.1.1",Xl}var ay;function RT(){if(ay)return __.exports;ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),__.exports=AT(),__.exports}var OT=RT();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oy="popstate";function NT(r={}){function t(o,c){let{pathname:d,search:_,hash:g}=o.location;return P_("",{pathname:d,search:_,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:fu(c)}return MT(t,i,null,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ci(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LT(){return Math.random().toString(36).substring(2,10)}function ly(r,t){return{usr:r.state,key:r.key,idx:t}}function P_(r,t,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Do(t):t,state:i,key:t&&t.key||o||LT()}}function fu({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Do(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(t.search=r.substring(o),r=r.substring(0,o)),r&&(t.pathname=r)}return t}function MT(r,t,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,_=c.history,g="POP",v=null,E=T();E==null&&(E=0,_.replaceState({..._.state,idx:E},""));function T(){return(_.state||{idx:null}).idx}function C(){g="POP";let Q=T(),et=Q==null?null:Q-E;E=Q,v&&v({action:g,location:U.location,delta:et})}function A(Q,et){g="PUSH";let it=P_(U.location,Q,et);E=T()+1;let lt=ly(it,E),It=U.createHref(it);try{_.pushState(lt,"",It)}catch(pt){if(pt instanceof DOMException&&pt.name==="DataCloneError")throw pt;c.location.assign(It)}d&&v&&v({action:g,location:U.location,delta:1})}function H(Q,et){g="REPLACE";let it=P_(U.location,Q,et);E=T();let lt=ly(it,E),It=U.createHref(it);_.replaceState(lt,"",It),d&&v&&v({action:g,location:U.location,delta:0})}function V(Q){return IT(Q)}let U={get action(){return g},get location(){return r(c,_)},listen(Q){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(oy,C),v=Q,()=>{c.removeEventListener(oy,C),v=null}},createHref(Q){return t(c,Q)},createURL:V,encodeLocation(Q){let et=V(Q);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:A,replace:H,go(Q){return _.go(Q)}};return U}function IT(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),fe(i,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:fu(r);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function AE(r,t,i="/"){return DT(r,t,i,!1)}function DT(r,t,i,o){let c=typeof t=="string"?Do(t):t,d=hs(c.pathname||"/",i);if(d==null)return null;let _=RE(r);PT(_);let g=null;for(let v=0;g==null&&v<_.length;++v){let E=FT(d);g=GT(_[v],E,o)}return g}function RE(r,t=[],i=[],o="",c=!1){let d=(_,g,v=c,E)=>{let T={relativePath:E===void 0?_.path||"":E,caseSensitive:_.caseSensitive===!0,childrenIndex:g,route:_};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(o)&&v)return;fe(T.relativePath.startsWith(o),`Absolute route path "${T.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(o.length)}let C=ls([o,T.relativePath]),A=i.concat(T);_.children&&_.children.length>0&&(fe(_.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),RE(_.children,t,A,C,v)),!(_.path==null&&!_.index)&&t.push({path:C,score:ZT(C,_.index),routesMeta:A})};return r.forEach((_,g)=>{if(_.path===""||!_.path?.includes("?"))d(_,g);else for(let v of OE(_.path))d(_,g,!0,v)}),t}function OE(r){let t=r.split("/");if(t.length===0)return[];let[i,...o]=t,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let _=OE(o.join("/")),g=[];return g.push(..._.map(v=>v===""?d:[d,v].join("/"))),c&&g.push(..._),g.map(v=>r.startsWith("/")&&v===""?"/":v)}function PT(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:qT(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var kT=/^:[\w-]+$/,zT=3,UT=2,BT=1,HT=10,jT=-2,uy=r=>r==="*";function ZT(r,t){let i=r.split("/"),o=i.length;return i.some(uy)&&(o+=jT),t&&(o+=UT),i.filter(c=>!uy(c)).reduce((c,d)=>c+(kT.test(d)?zT:d===""?BT:HT),o)}function qT(r,t){return r.length===t.length&&r.slice(0,-1).every((o,c)=>o===t[c])?r[r.length-1]-t[t.length-1]:0}function GT(r,t,i=!1){let{routesMeta:o}=r,c={},d="/",_=[];for(let g=0;g<o.length;++g){let v=o[g],E=g===o.length-1,T=d==="/"?t:t.slice(d.length)||"/",C=Ah({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},T),A=v.route;if(!C&&E&&i&&!o[o.length-1].route.index&&(C=Ah({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!C)return null;Object.assign(c,C.params),_.push({params:c,pathname:ls([d,C.pathname]),pathnameBase:XT(ls([d,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(d=ls([d,C.pathnameBase]))}return _}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=VT(r.path,r.caseSensitive,r.end),c=t.match(i);if(!c)return null;let d=c[0],_=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((E,{paramName:T,isOptional:C},A)=>{if(T==="*"){let V=g[A]||"";_=d.slice(0,d.length-V.length).replace(/(.)\/+$/,"$1")}const H=g[A];return C&&!H?E[T]=void 0:E[T]=(H||"").replace(/%2F/g,"/"),E},{}),pathname:d,pathnameBase:_,pattern:r}}function VT(r,t=!1,i=!0){Ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,g,v)=>(o.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function FT(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function hs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function YT(r,t="/"){let{pathname:i,search:o="",hash:c=""}=typeof r=="string"?Do(r):r;return{pathname:i?i.startsWith("/")?i:WT(i,t):t,search:QT(o),hash:$T(c)}}function WT(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function v_(r,t,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KT(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function NE(r){let t=KT(r);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function LE(r,t,i,o=!1){let c;typeof r=="string"?c=Do(r):(c={...r},fe(!c.pathname||!c.pathname.includes("?"),v_("?","pathname","search",c)),fe(!c.pathname||!c.pathname.includes("#"),v_("#","pathname","hash",c)),fe(!c.search||!c.search.includes("#"),v_("#","search","hash",c)));let d=r===""||c.pathname==="",_=d?"/":c.pathname,g;if(_==null)g=i;else{let C=t.length-1;if(!o&&_.startsWith("..")){let A=_.split("/");for(;A[0]==="..";)A.shift(),C-=1;c.pathname=A.join("/")}g=C>=0?t[C]:"/"}let v=YT(c,g),E=_&&_!=="/"&&_.endsWith("/"),T=(d||_===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(E||T)&&(v.pathname+="/"),v}var ls=r=>r.join("/").replace(/\/\/+/g,"/"),XT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$T=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var tw=["GET",...ME];new Set(tw);var Po=z.createContext(null);Po.displayName="DataRouter";var $h=z.createContext(null);$h.displayName="DataRouterState";z.createContext(!1);var IE=z.createContext({isTransitioning:!1});IE.displayName="ViewTransition";var ew=z.createContext(new Map);ew.displayName="Fetchers";var nw=z.createContext(null);nw.displayName="Await";var xi=z.createContext(null);xi.displayName="Navigation";var Cu=z.createContext(null);Cu.displayName="Location";var ps=z.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var op=z.createContext(null);op.displayName="RouteError";function iw(r,{relative:t}={}){fe(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=z.useContext(xi),{hash:c,pathname:d,search:_}=Au(r,{relative:t}),g=d;return i!=="/"&&(g=d==="/"?i:ls([i,d])),o.createHref({pathname:g,search:_,hash:c})}function xu(){return z.useContext(Cu)!=null}function Ar(){return fe(xu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Cu).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(r){z.useContext(xi).static||z.useLayoutEffect(r)}function kE(){let{isDataRoute:r}=z.useContext(ps);return r?mw():sw()}function sw(){fe(xu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Po),{basename:t,navigator:i}=z.useContext(xi),{matches:o}=z.useContext(ps),{pathname:c}=Ar(),d=JSON.stringify(NE(o)),_=z.useRef(!1);return PE(()=>{_.current=!0}),z.useCallback((v,E={})=>{if(Ci(_.current,DE),!_.current)return;if(typeof v=="number"){i.go(v);return}let T=LE(v,JSON.parse(d),c,E.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:ls([t,T.pathname])),(E.replace?i.replace:i.push)(T,E.state,E)},[t,i,d,c,r])}z.createContext(null);function Au(r,{relative:t}={}){let{matches:i}=z.useContext(ps),{pathname:o}=Ar(),c=JSON.stringify(NE(i));return z.useMemo(()=>LE(r,JSON.parse(c),o,t==="path"),[r,c,o,t])}function rw(r,t){return zE(r,t)}function zE(r,t,i,o,c){fe(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=z.useContext(xi),{matches:_}=z.useContext(ps),g=_[_.length-1],v=g?g.params:{},E=g?g.pathname:"/",T=g?g.pathnameBase:"/",C=g&&g.route;{let it=C&&C.path||"";UE(E,!C||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let A=Ar(),H;if(t){let it=typeof t=="string"?Do(t):t;fe(T==="/"||it.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${it.pathname}" was given in the \`location\` prop.`),H=it}else H=A;let V=H.pathname||"/",U=V;if(T!=="/"){let it=T.replace(/^\//,"").split("/");U="/"+V.replace(/^\//,"").split("/").slice(it.length).join("/")}let Q=AE(r,{pathname:U});Ci(C||Q!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Ci(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=cw(Q&&Q.map(it=>Object.assign({},it,{params:Object.assign({},v,it.params),pathname:ls([T,d.encodeLocation?d.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?T:ls([T,d.encodeLocation?d.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),_,i,o,c);return t&&et?z.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},et):et}function aw(){let r=pw(),t=JT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},_=null;return console.error("Error handled by React Router default ErrorBoundary:",r),_=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:d},"ErrorBoundary")," or"," ",z.createElement("code",{style:d},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),i?z.createElement("pre",{style:c},i):null,_)}var ow=z.createElement(aw,null),lw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(ps.Provider,{value:this.props.routeContext},z.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uw({routeContext:r,match:t,children:i}){let o=z.useContext(Po);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(ps.Provider,{value:r},i)}function cw(r,t=[],i=null,o=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,_=i?.errors;if(_!=null){let E=d.findIndex(T=>T.route.id&&_?.[T.route.id]!==void 0);fe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(_).join(",")}`),d=d.slice(0,Math.min(d.length,E+1))}let g=!1,v=-1;if(i)for(let E=0;E<d.length;E++){let T=d[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=E),T.route.id){let{loaderData:C,errors:A}=i,H=T.route.loader&&!C.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||H){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((E,T,C)=>{let A,H=!1,V=null,U=null;i&&(A=_&&T.route.id?_[T.route.id]:void 0,V=T.route.errorElement||ow,g&&(v<0&&C===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,U=null):v===C&&(H=!0,U=T.route.hydrateFallbackElement||null)));let Q=t.concat(d.slice(0,C+1)),et=()=>{let it;return A?it=V:H?it=U:T.route.Component?it=z.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,z.createElement(uw,{match:T,routeContext:{outlet:E,matches:Q,isDataRoute:i!=null},children:it})};return i&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?z.createElement(lw,{location:i.location,revalidation:i.revalidation,component:V,error:A,children:et(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},unstable_onError:o}):et()},null)}function lp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(r){let t=z.useContext(Po);return fe(t,lp(r)),t}function fw(r){let t=z.useContext($h);return fe(t,lp(r)),t}function dw(r){let t=z.useContext(ps);return fe(t,lp(r)),t}function up(r){let t=dw(r),i=t.matches[t.matches.length-1];return fe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function _w(){return up("useRouteId")}function pw(){let r=z.useContext(op),t=fw("useRouteError"),i=up("useRouteError");return r!==void 0?r:t.errors?.[i]}function mw(){let{router:r}=hw("useNavigate"),t=up("useNavigate"),i=z.useRef(!1);return PE(()=>{i.current=!0}),z.useCallback(async(c,d={})=>{Ci(i.current,DE),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:t,...d}))},[r,t])}var cy={};function UE(r,t,i){!t&&!cy[r]&&(cy[r]=!0,Ci(!1,i))}z.memo(gw);function gw({routes:r,future:t,state:i,unstable_onError:o}){return zE(r,void 0,i,o,t)}function mo(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vw({basename:r="/",children:t=null,location:i,navigationType:o="POP",navigator:c,static:d=!1}){fe(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=r.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:_,navigator:c,static:d,future:{}}),[_,c,d]);typeof i=="string"&&(i=Do(i));let{pathname:v="/",search:E="",hash:T="",state:C=null,key:A="default"}=i,H=z.useMemo(()=>{let V=hs(v,_);return V==null?null:{location:{pathname:V,search:E,hash:T,state:C,key:A},navigationType:o}},[_,v,E,T,C,A,o]);return Ci(H!=null,`<Router basename="${_}"> is not able to match the URL "${v}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:z.createElement(xi.Provider,{value:g},z.createElement(Cu.Provider,{children:t,value:H}))}function yw({children:r,location:t}){return rw(k_(r),t)}function k_(r,t=[]){let i=[];return z.Children.forEach(r,(o,c)=>{if(!z.isValidElement(o))return;let d=[...t,c];if(o.type===z.Fragment){i.push.apply(i,k_(o.props.children,d));return}fe(o.type===mo,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let _={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(_.children=k_(o.props.children,d)),i.push(_)}),i}var Eh="get",bh="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function Ew(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function bw(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function Sw(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function Tw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ww(r,t){return r.button===0&&(!t||t==="_self")&&!Tw(r)}var ph=null;function Cw(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function y_(r){return r!=null&&!xw.has(r)?(Ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):r}function Aw(r,t){let i,o,c,d,_;if(bw(r)){let g=r.getAttribute("action");o=g?hs(g,t):null,i=r.getAttribute("method")||Eh,c=y_(r.getAttribute("enctype"))||bh,d=new FormData(r)}else if(Ew(r)||Sw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||g.getAttribute("action");if(o=v?hs(v,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||Eh,c=y_(r.getAttribute("formenctype"))||y_(g.getAttribute("enctype"))||bh,d=new FormData(g,r),!Cw()){let{name:E,type:T,value:C}=r;if(T==="image"){let A=E?`${E}.`:"";d.append(`${A}x`,"0"),d.append(`${A}y`,"0")}else E&&d.append(E,C)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Eh,o=null,c=bh,_=r}return d&&c==="text/plain"&&(_=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:_}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Rw(r,t,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${i}`:t&&hs(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Ow(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Lw(r,t,i){let o=await Promise.all(r.map(async c=>{let d=t.routes[c.route.id];if(d){let _=await Ow(d,i);return _.links?_.links():[]}return[]}));return Pw(o.flat(1).filter(Nw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function hy(r,t,i,o,c,d){let _=(v,E)=>i[E]?v.route.id!==i[E].route.id:!0,g=(v,E)=>i[E].pathname!==v.pathname||i[E].route.path?.endsWith("*")&&i[E].params["*"]!==v.params["*"];return d==="assets"?t.filter((v,E)=>_(v,E)||g(v,E)):d==="data"?t.filter((v,E)=>{let T=o.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(_(v,E)||g(v,E))return!0;if(v.route.shouldRevalidate){let C=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Mw(r,t,{includeHydrateFallback:i}={}){return Iw(r.map(o=>{let c=t.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Iw(r){return[...new Set(r)]}function Dw(r){let t={},i=Object.keys(r).sort();for(let o of i)t[o]=r[o];return t}function Pw(r,t){let i=new Set;return new Set(t),r.reduce((o,c)=>{let d=JSON.stringify(Dw(c));return i.has(d)||(i.add(d),o.push({key:d,link:c})),o},[])}function BE(){let r=z.useContext(Po);return cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kw(){let r=z.useContext($h);return cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hp=z.createContext(void 0);hp.displayName="FrameworkContext";function HE(){let r=z.useContext(hp);return cp(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,t){let i=z.useContext(hp),[o,c]=z.useState(!1),[d,_]=z.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:E,onMouseLeave:T,onTouchStart:C}=t,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&_(!0),r==="viewport"){let U=et=>{et.forEach(it=>{_(it.isIntersecting)})},Q=new IntersectionObserver(U,{threshold:.5});return A.current&&Q.observe(A.current),()=>{Q.disconnect()}}},[r]),z.useEffect(()=>{if(o){let U=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(U)}}},[o]);let H=()=>{c(!0)},V=()=>{c(!1),_(!1)};return i?r!=="intent"?[d,A,{}]:[d,A,{onFocus:Ql(g,H),onBlur:Ql(v,V),onMouseEnter:Ql(E,H),onMouseLeave:Ql(T,V),onTouchStart:Ql(C,H)}]:[!1,A,{}]}function Ql(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Uw({page:r,...t}){let{router:i}=BE(),o=z.useMemo(()=>AE(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?z.createElement(Hw,{page:r,matches:o,...t}):null}function Bw(r){let{manifest:t,routeModules:i}=HE(),[o,c]=z.useState([]);return z.useEffect(()=>{let d=!1;return Lw(r,t,i).then(_=>{d||c(_)}),()=>{d=!0}},[r,t,i]),o}function Hw({page:r,matches:t,...i}){let o=Ar(),{manifest:c,routeModules:d}=HE(),{basename:_}=BE(),{loaderData:g,matches:v}=kw(),E=z.useMemo(()=>hy(r,t,v,c,o,"data"),[r,t,v,c,o]),T=z.useMemo(()=>hy(r,t,v,c,o,"assets"),[r,t,v,c,o]),C=z.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let V=new Set,U=!1;if(t.forEach(et=>{let it=c.routes[et.route.id];!it||!it.hasLoader||(!E.some(lt=>lt.route.id===et.route.id)&&et.route.id in g&&d[et.route.id]?.shouldRevalidate||it.hasClientLoader?U=!0:V.add(et.route.id))}),V.size===0)return[];let Q=Rw(r,_,"data");return U&&V.size>0&&Q.searchParams.set("_routes",t.filter(et=>V.has(et.route.id)).map(et=>et.route.id).join(",")),[Q.pathname+Q.search]},[_,g,o,c,E,t,r,d]),A=z.useMemo(()=>Mw(T,c),[T,c]),H=Bw(T);return z.createElement(z.Fragment,null,C.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),A.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),H.map(({key:V,link:U})=>z.createElement("link",{key:V,nonce:i.nonce,...U})))}function jw(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jE&&(window.__reactRouterVersion="7.9.5")}catch{}function Zw({basename:r,children:t,window:i}){let o=z.useRef();o.current==null&&(o.current=NT({window:i,v5Compat:!0}));let c=o.current,[d,_]=z.useState({action:c.action,location:c.location}),g=z.useCallback(v=>{z.startTransition(()=>_(v))},[_]);return z.useLayoutEffect(()=>c.listen(g),[c,g]),z.createElement(vw,{basename:r,children:t,location:d.location,navigationType:d.action,navigator:c})}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qE=z.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:_,state:g,target:v,to:E,preventScrollReset:T,viewTransition:C,...A},H){let{basename:V}=z.useContext(xi),U=typeof E=="string"&&ZE.test(E),Q,et=!1;if(typeof E=="string"&&U&&(Q=E,jE))try{let Gt=new URL(window.location.href),Re=E.startsWith("//")?new URL(Gt.protocol+E):new URL(E),qt=hs(Re.pathname,V);Re.origin===Gt.origin&&qt!=null?E=qt+Re.search+Re.hash:et=!0}catch{Ci(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=iw(E,{relative:c}),[lt,It,pt]=zw(o,A),wt=Fw(E,{replace:_,state:g,target:v,preventScrollReset:T,relative:c,viewTransition:C});function zt(Gt){t&&t(Gt),Gt.defaultPrevented||wt(Gt)}let re=z.createElement("a",{...A,...pt,href:Q||it,onClick:et||d?t:zt,ref:jw(H,It),target:v,"data-discover":!U&&i==="render"?"true":void 0});return lt&&!U?z.createElement(z.Fragment,null,re,z.createElement(Uw,{page:it})):re});qE.displayName="Link";var qw=z.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:_,viewTransition:g,children:v,...E},T){let C=Au(_,{relative:E.relative}),A=Ar(),H=z.useContext($h),{navigator:V,basename:U}=z.useContext(xi),Q=H!=null&&Qw(C)&&g===!0,et=V.encodeLocation?V.encodeLocation(C).pathname:C.pathname,it=A.pathname,lt=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;i||(it=it.toLowerCase(),lt=lt?lt.toLowerCase():null,et=et.toLowerCase()),lt&&U&&(lt=hs(lt,U)||lt);const It=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let pt=it===et||!c&&it.startsWith(et)&&it.charAt(It)==="/",wt=lt!=null&&(lt===et||!c&&lt.startsWith(et)&&lt.charAt(et.length)==="/"),zt={isActive:pt,isPending:wt,isTransitioning:Q},re=pt?t:void 0,Gt;typeof o=="function"?Gt=o(zt):Gt=[o,pt?"active":null,wt?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let Re=typeof d=="function"?d(zt):d;return z.createElement(qE,{...E,"aria-current":re,className:Gt,ref:T,style:Re,to:_,viewTransition:g},typeof v=="function"?v(zt):v)});qw.displayName="NavLink";var Gw=z.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:c,state:d,method:_=Eh,action:g,onSubmit:v,relative:E,preventScrollReset:T,viewTransition:C,...A},H)=>{let V=Kw(),U=Xw(g,{relative:E}),Q=_.toLowerCase()==="get"?"get":"post",et=typeof g=="string"&&ZE.test(g),it=lt=>{if(v&&v(lt),lt.defaultPrevented)return;lt.preventDefault();let It=lt.nativeEvent.submitter,pt=It?.getAttribute("formmethod")||_;V(It||lt.currentTarget,{fetcherKey:t,method:pt,navigate:i,replace:c,state:d,relative:E,preventScrollReset:T,viewTransition:C})};return z.createElement("form",{ref:H,method:Q,action:U,onSubmit:o?v:it,...A,"data-discover":!et&&r==="render"?"true":void 0})});Gw.displayName="Form";function Vw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(r){let t=z.useContext(Po);return fe(t,Vw(r)),t}function Fw(r,{target:t,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:_}={}){let g=kE(),v=Ar(),E=Au(r,{relative:d});return z.useCallback(T=>{if(ww(T,t)){T.preventDefault();let C=i!==void 0?i:fu(v)===fu(E);g(r,{replace:C,state:o,preventScrollReset:c,relative:d,viewTransition:_})}},[v,g,E,i,o,t,r,c,d,_])}var Yw=0,Ww=()=>`__${String(++Yw)}__`;function Kw(){let{router:r}=GE("useSubmit"),{basename:t}=z.useContext(xi),i=_w();return z.useCallback(async(o,c={})=>{let{action:d,method:_,encType:g,formData:v,body:E}=Aw(o,t);if(c.navigate===!1){let T=c.fetcherKey||Ww();await r.fetch(T,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||_,formEncType:c.encType||g,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||_,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,t,i])}function Xw(r,{relative:t}={}){let{basename:i}=z.useContext(xi),o=z.useContext(ps);fe(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...Au(r||".",{relative:t})},_=Ar();if(r==null){d.search=_.search;let g=new URLSearchParams(d.search),v=g.getAll("index");if(v.some(T=>T==="")){g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let T=g.toString();d.search=T?`?${T}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:ls([i,d.pathname])),fu(d)}function Qw(r,{relative:t}={}){let i=z.useContext(IE);fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=GE("useViewTransitionState"),c=Au(r,{relative:t});if(!i.isTransitioning)return!1;let d=hs(i.currentLocation.pathname,o)||i.currentLocation.pathname,_=hs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Ah(c.pathname,_)!=null||Ah(c.pathname,d)!=null}var $w=xE();const an={MAIN_MAP:"/yatai-now/MainMap",TOP_PAGE:"/yatai-now/",VEND_LOGIN:"/yatai-now/VendorLogin",ORG_LOGIN:"/yatai-now/OrganizerLogin",VEND_UPLOAD:"/yatai-now/VendorUpload"};let z_;function Jw(r){z_=r}function Si(r,t){t!==void 0?z_(r,{state:t}):z_(r)}const tC="_subtitle_j6bz5_29",mh={"event-select-screen":"_event-select-screen_j6bz5_1","title-container":"_title-container_j6bz5_13",subtitle:tC,"event-button":"_event-button_j6bz5_47"};function eC(){return M.jsxs("div",{className:`screen-general ${mh["event-select-screen"]}`,children:[M.jsxs("div",{className:mh["title-container"],children:[M.jsx("h1",{children:""}),M.jsx("p",{className:mh.subtitle,children:""})]}),M.jsx("button",{className:mh["event-button"],onClick:()=>Si(an.MAIN_MAP,"1"),children:""})]})}const nC="_active_1542v_223",_o={"leafmap-screen":"_leafmap-screen_1542v_5","header-button-group":"_header-button-group_1542v_71","floor-selector":"_floor-selector_1542v_157","floor-btn":"_floor-btn_1542v_187",active:nC};function VE(r,t){const i=z.useRef(t);z.useEffect(function(){t!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),t!=null&&r.attributionControl.addAttribution(t)),i.current=t},[r,t])}const iC=1;function sC(r){return Object.freeze({__version:iC,map:r})}function FE(r,t){return Object.freeze({...r,...t})}const fp=z.createContext(null);function dp(){const r=z.use(fp);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function rC(r){function t(i,o){const{instance:c,context:d}=r(i).current;z.useImperativeHandle(o,()=>c);const{children:_}=i;return _==null?null:D_.createElement(fp,{value:d},_)}return z.forwardRef(t)}function aC(r){function t(i,o){const[c,d]=z.useState(!1),{instance:_}=r(i,d).current;z.useImperativeHandle(o,()=>_),z.useEffect(function(){c&&_.update()},[_,c,i.children]);const g=_._contentNode;return g?$w.createPortal(i.children,g):null}return z.forwardRef(t)}function YE(r,t){const i=z.useRef(void 0);z.useEffect(function(){return t!=null&&r.instance.on(t),i.current=t,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,t])}function WE(r,t){const i=r.pane??t.pane;return i?{...r,pane:i}:r}function oC(r,t){return function(o,c){const d=dp(),_=r(WE(o,d),d);return VE(d.map,o.attribution),YE(_.current,o.eventHandlers),t(_.current,d,o,c),_}}var nu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lC=nu.exports,fy;function uC(){return fy||(fy=1,(function(r,t){(function(i,o){o(t)})(lC,(function(i){var o="1.9.4";function c(s){var l,h,m,y;for(h=1,m=arguments.length;h<m;h++){y=arguments[h];for(l in y)s[l]=y[l]}return s}var d=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function _(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var m=h.call(arguments,2);return function(){return s.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var g=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++g),s._leaflet_id}function E(s,l,h){var m,y,S,R;return R=function(){m=!1,y&&(S.apply(h,y),y=!1)},S=function(){m?y=arguments:(s.apply(h,arguments),setTimeout(R,l),m=!0)},S}function T(s,l,h){var m=l[1],y=l[0],S=m-y;return s===m&&h?s:((s-y)%S+S)%S+y}function C(){return!1}function A(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function H(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function V(s){return H(s).split(/\s+/)}function U(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function Q(s,l,h){var m=[];for(var y in s)m.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var et=/\{ *([\w_ -]+) *\}/g;function it(s,l){return s.replace(et,function(h,m){var y=l[m];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var lt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function It(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var pt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function wt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var zt=0;function re(s){var l=+new Date,h=Math.max(0,16-(l-zt));return zt=l+h,window.setTimeout(s,h)}var Gt=window.requestAnimationFrame||wt("RequestAnimationFrame")||re,Re=window.cancelAnimationFrame||wt("CancelAnimationFrame")||wt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function qt(s,l,h){if(h&&Gt===re)s.call(l);else return Gt.call(window,_(s,l))}function Bt(s){s&&Re.call(window,s)}var Ln={__proto__:null,extend:c,create:d,bind:_,get lastId(){return g},stamp:v,throttle:E,wrapNum:T,falseFn:C,formatNum:A,trim:H,splitWords:V,setOptions:U,getParamString:Q,template:it,isArray:lt,indexOf:It,emptyImageUrl:pt,requestFn:Gt,cancelFn:Re,requestAnimFrame:qt,cancelAnimFrame:Bt};function ge(){}ge.extend=function(s){var l=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=d(h);m.constructor=l,l.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&c(l,s.statics),s.includes&&(Ee(s.includes),c.apply(null,[m].concat(s.includes))),c(m,s),delete m.statics,delete m.includes,m.options&&(m.options=h.options?d(h.options):{},c(m.options,s.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,R=m._initHooks.length;S<R;S++)m._initHooks[S].call(this)}},l},ge.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ge.mergeOptions=function(s){return c(this.prototype.options,s),this},ge.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=lt(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l);else{s=V(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var m in s)this._off(m,s[m],l);else{s=V(s);for(var y=arguments.length===1,S=0,R=s.length;S<R;S++)y?this._off(s[S]):this._off(s[S],l,h)}return this},_on:function(s,l,h,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};m&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,h){var m,y,S;if(this._events&&(m=this._events[s],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,S=m.length;y<S;y++)m[y].fn=C;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var R=this._listens(s,l,h);if(R!==!1){var D=m[R];this._firingCount&&(D.fn=C,this._events[s]=m=m.slice()),m.splice(R,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var m=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,R=y.length;S<R;S++){var D=y[S],Z=D.fn;D.once&&this.off(s,Z,D.ctx),Z.call(D.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(s,l,h,m){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(m=!!l,y=void 0,h=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,y,h)!==!1)return!0;if(m){for(var R in this._eventParents)if(this._eventParents[R].listens(s,l,h,m))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var m=this._events[s]||[];if(!l)return!!m.length;h===this&&(h=void 0);for(var y=0,S=m.length;y<S;y++)if(m[y].fn===l&&m[y].ctx===h)return y;return!1},once:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l,!0);else{s=V(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var st=ge.extend(q);function $(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var X=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(s){return this.clone()._add(x(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(x(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new $(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new $(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(s){s=x(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=x(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=x(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function x(s,l,h){return s instanceof $?s:lt(s)?new $(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new $(s.x,s.y):new $(s,l,h)}function G(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}G.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof $||typeof s[0]=="number"||"x"in s)l=h=x(s);else if(s=J(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return x(this.min.x,this.max.y)},getTopRight:function(){return x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof $?s=x(s):s=J(s),s instanceof G?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=J(s);var l=this.min,h=this.max,m=s.min,y=s.max,S=y.x>=l.x&&m.x<=h.x,R=y.y>=l.y&&m.y<=h.y;return S&&R},overlaps:function(s){s=J(s);var l=this.min,h=this.max,m=s.min,y=s.max,S=y.x>l.x&&m.x<h.x,R=y.y>l.y&&m.y<h.y;return S&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,m=Math.abs(l.x-h.x)*s,y=Math.abs(l.y-h.y)*s;return J(x(l.x-m,l.y-y),x(h.x+m,h.y+y))},equals:function(s){return s?(s=J(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function J(s,l){return!s||s instanceof G?s:new G(s,l)}function tt(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}tt.prototype={extend:function(s){var l=this._southWest,h=this._northEast,m,y;if(s instanceof ht)m=s,y=s;else if(s instanceof tt){if(m=s._southWest,y=s._northEast,!m||!y)return this}else return s?this.extend(rt(s)||at(s)):this;return!l&&!h?(this._southWest=new ht(m.lat,m.lng),this._northEast=new ht(y.lat,y.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new tt(new ht(l.lat-m,l.lng-y),new ht(h.lat+m,h.lng+y))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ht||"lat"in s?s=rt(s):s=at(s);var l=this._southWest,h=this._northEast,m,y;return s instanceof tt?(m=s.getSouthWest(),y=s.getNorthEast()):m=y=s,m.lat>=l.lat&&y.lat<=h.lat&&m.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=at(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>=l.lat&&m.lat<=h.lat,R=y.lng>=l.lng&&m.lng<=h.lng;return S&&R},overlaps:function(s){s=at(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>l.lat&&m.lat<h.lat,R=y.lng>l.lng&&m.lng<h.lng;return S&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=at(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function at(s,l){return s instanceof tt?s:new tt(s,l)}function ht(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}ht.prototype={equals:function(s,l){if(!s)return!1;s=rt(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+A(this.lat,s)+", "+A(this.lng,s)+")"},distanceTo:function(s){return Ut.distance(this,rt(s))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return at([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function rt(s,l,h){return s instanceof ht?s:lt(s)&&typeof s[0]!="object"?s.length===3?new ht(s[0],s[1],s[2]):s.length===2?new ht(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ht(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ht(s,l,h)}var le={latLngToPoint:function(s,l){var h=this.projection.project(s),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(s,l){var h=this.scale(l),m=this.transformation.untransform(s,h);return this.projection.unproject(m)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),m=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new G(m,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?T(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?T(s.lat,this.wrapLat,!0):s.lat,m=s.alt;return new ht(h,l,m)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,y=l.lng-h.lng;if(m===0&&y===0)return s;var S=s.getSouthWest(),R=s.getNorthEast(),D=new ht(S.lat-m,S.lng-y),Z=new ht(R.lat-m,R.lng-y);return new tt(D,Z)}},Ut=c({},le,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,m=s.lat*h,y=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),R=Math.sin((l.lng-s.lng)*h/2),D=S*S+Math.cos(m)*Math.cos(y)*R*R,Z=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*Z}}),Vn=6378137,Nr={R:Vn,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,s.lat),-h),y=Math.sin(m*l);return new $(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new ht((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=Vn*Math.PI;return new G([-s,-s],[s,s])})()};function gs(s,l,h,m){if(lt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=m}gs.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new $((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ri(s,l,h,m){return new gs(s,l,h,m)}var Lr=c({},Ut,{code:"EPSG:3857",projection:Nr,transformation:(function(){var s=.5/(Math.PI*Nr.R);return Ri(s,.5,-s,.5)})()}),Vo=c({},Lr,{code:"EPSG:900913"});function Bu(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Hu(s,l){var h="",m,y,S,R,D,Z;for(m=0,S=s.length;m<S;m++){for(D=s[m],y=0,R=D.length;y<R;y++)Z=D[y],h+=(y?"L":"M")+Z.x+" "+Z.y;h+=l?dt.svg?"z":"x":""}return h||"M0 0"}var hn=document.documentElement.style,Ta="ActiveXObject"in window,ju=Ta&&!document.addEventListener,Fo="msLaunchUri"in navigator&&!("documentMode"in document),vs=fn("webkit"),Zu=fn("android"),Yo=fn("android 2")||fn("android 3"),gf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vf=Zu&&fn("Google")&&gf<537&&!("AudioNode"in window),Oi=!!window.opera,Ve=!Fo&&fn("chrome"),Fn=fn("gecko")&&!vs&&!Oi&&!Ta,$e=!Ve&&fn("safari"),qu=fn("phantom"),Gu="OTransition"in hn,yf=navigator.platform.indexOf("Win")===0,Mr=Ta&&"transition"in hn,ys="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yo,li="MozPerspective"in hn,wa=!window.L_DISABLE_3D&&(Mr||ys||li)&&!Gu&&!qu,Yn=typeof orientation<"u"||fn("mobile"),Ef=Yn&&vs,Vu=Yn&&ys,Wo=!window.PointerEvent&&window.MSPointerEvent,Ca=!!(window.PointerEvent||Wo),Es="ontouchstart"in window||!!window.TouchEvent,bf=!window.L_NO_TOUCH&&(Es||Ca),Fu=Yn&&Oi,Yu=Yn&&Fn,Ko=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xo=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",C,l),window.removeEventListener("testPassiveEventSupport",C,l)}catch{}return s})(),Wu=(function(){return!!document.createElement("canvas").getContext})(),Qo=!!(document.createElementNS&&Bu("svg").createSVGRect),ui=!!Qo&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Oe=!Qo&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Fe=navigator.platform.indexOf("Mac")===0,bs=navigator.platform.indexOf("Linux")===0;function fn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var dt={ie:Ta,ielt9:ju,edge:Fo,webkit:vs,android:Zu,android23:Yo,androidStock:vf,opera:Oi,chrome:Ve,gecko:Fn,safari:$e,phantom:qu,opera12:Gu,win:yf,ie3d:Mr,webkit3d:ys,gecko3d:li,any3d:wa,mobile:Yn,mobileWebkit:Ef,mobileWebkit3d:Vu,msPointer:Wo,pointer:Ca,touch:bf,touchNative:Es,mobileOpera:Fu,mobileGecko:Yu,retina:Ko,passiveEvents:Xo,canvas:Wu,svg:Qo,vml:Oe,inlineSvg:ui,mac:Fe,linux:bs},Ku=dt.msPointer?"MSPointerDown":"pointerdown",$o=dt.msPointer?"MSPointerMove":"pointermove",Ss=dt.msPointer?"MSPointerUp":"pointerup",xa=dt.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:Ku,touchmove:$o,touchend:Ss,touchcancel:xa},Ni={touchstart:$u,touchmove:Ir,touchend:Ir,touchcancel:Ir},Mn={},Li=!1;function be(s,l,h){return l==="touchstart"&&Sf(),Ni[l]?(h=Ni[l].bind(this,h),s.addEventListener(ci[l],h,!1),h):(console.warn("wrong event specified:",l),C)}function Xu(s,l,h){if(!ci[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(ci[l],h,!1)}function Qu(s){Mn[s.pointerId]=s}function Mi(s){Mn[s.pointerId]&&(Mn[s.pointerId]=s)}function Ii(s){delete Mn[s.pointerId]}function Sf(){Li||(document.addEventListener(Ku,Qu,!0),document.addEventListener($o,Mi,!0),document.addEventListener(Ss,Ii,!0),document.addEventListener(xa,Ii,!0),Li=!0)}function Ir(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Mn)l.touches.push(Mn[h]);l.changedTouches=[l],s(l)}}function $u(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&de(l),Ir(s,l)}function Tf(s){var l={},h,m;for(m in s)h=s[m],l[m]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Aa=200;function Ra(s,l){s.addEventListener("dblclick",l);var h=0,m;function y(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var R=el(S);if(!(R.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!R.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var D=Date.now();D-h<=Aa?(m++,m===2&&l(Tf(S))):m=1,h=D}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Wn(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Dr=xs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ts=xs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Di=Ts==="webkitTransition"||Ts==="OTransition"?Ts+"End":"transitionend";function Oa(s){return typeof s=="string"?document.getElementById(s):s}function Pi(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(s,null);h=m?m[l]:null}return h==="auto"?null:h}function Pt(s,l,h){var m=document.createElement(s);return m.className=l||"",h&&h.appendChild(m),m}function Jt(s){var l=s.parentNode;l&&l.removeChild(s)}function ze(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ki(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ws(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Cs(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Ue(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Tt(s,l){if(s.classList!==void 0)for(var h=V(l),m=0,y=h.length;m<y;m++)s.classList.add(h[m]);else if(!Cs(s,l)){var S=Ue(s);Jo(s,(S?S+" ":"")+l)}}function te(s,l){s.classList!==void 0?s.classList.remove(l):Jo(s,H((" "+Ue(s)+" ").replace(" "+l+" "," ")))}function Jo(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Ue(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ye(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Ju(s,l)}function Ju(s,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+m+"(opacity="+l+")"}function xs(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function dn(s,l,h){var m=l||new $(0,0);s.style[Dr]=(dt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function ue(s,l){s._leaflet_pos=l,dt.any3d?dn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function hi(s){return s._leaflet_pos||new $(0,0)}var In,Pr,Na;if("onselectstart"in document)In=function(){St(window,"selectstart",de)},Pr=function(){Ht(window,"selectstart",de)};else{var As=xs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);In=function(){if(As){var s=document.documentElement.style;Na=s[As],s[As]="none"}},Pr=function(){As&&(document.documentElement.style[As]=Na,Na=void 0)}}function kr(){St(window,"dragstart",de)}function tl(){Ht(window,"dragstart",de)}var La,Rs;function zr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Os(),La=s,Rs=s.style.outlineStyle,s.style.outlineStyle="none",St(window,"keydown",Os))}function Os(){La&&(La.style.outlineStyle=Rs,La=void 0,Rs=void 0,Ht(window,"keydown",Os))}function zi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function fi(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var tc={__proto__:null,TRANSFORM:Dr,TRANSITION:Ts,TRANSITION_END:Di,get:Oa,getStyle:Pi,create:Pt,remove:Jt,empty:ze,toFront:ki,toBack:ws,hasClass:Cs,addClass:Tt,removeClass:te,setClass:Jo,getClass:Ue,setOpacity:Ye,testProp:xs,setTransform:dn,setPosition:ue,getPosition:hi,get disableTextSelection(){return In},get enableTextSelection(){return Pr},disableImageDrag:kr,enableImageDrag:tl,preventOutline:zr,restoreOutline:Os,getSizedParentNode:zi,getScale:fi};function St(s,l,h,m){if(l&&typeof l=="object")for(var y in l)Ui(s,y,l[y],h);else{l=V(l);for(var S=0,R=l.length;S<R;S++)Ui(s,l[S],h,m)}return this}var yn="_leaflet_events";function Ht(s,l,h,m){if(arguments.length===1)Dn(s),delete s[yn];else if(l&&typeof l=="object")for(var y in l)Pn(s,y,l[y],h);else if(l=V(l),arguments.length===2)Dn(s,function(D){return It(l,D)!==-1});else for(var S=0,R=l.length;S<R;S++)Pn(s,l[S],h,m);return this}function Dn(s,l){for(var h in s[yn]){var m=h.split(/\d/)[0];(!l||l(m))&&Pn(s,m,null,null,h)}}var Ur={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ui(s,l,h,m){var y=l+v(h)+(m?"_"+v(m):"");if(s[yn]&&s[yn][y])return this;var S=function(D){return h.call(m||s,D||window.event)},R=S;!dt.touchNative&&dt.pointer&&l.indexOf("touch")===0?S=be(s,l,S):dt.touch&&l==="dblclick"?S=Ra(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Ur[l]||l,S,dt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(D){D=D||window.event,Hi(s,D)&&R(D)},s.addEventListener(Ur[l],S,!1)):s.addEventListener(l,R,!1):s.attachEvent("on"+l,S),s[yn]=s[yn]||{},s[yn][y]=S}function Pn(s,l,h,m,y){y=y||l+v(h)+(m?"_"+v(m):"");var S=s[yn]&&s[yn][y];if(!S)return this;!dt.touchNative&&dt.pointer&&l.indexOf("touch")===0?Xu(s,l,S):dt.touch&&l==="dblclick"?Wn(s,S):"removeEventListener"in s?s.removeEventListener(Ur[l]||l,S,!1):s.detachEvent("on"+l,S),s[yn][y]=null}function Kn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ns(s){return Ui(s,"wheel",Kn),this}function Ls(s){return St(s,"mousedown touchstart dblclick contextmenu",Kn),s._leaflet_disable_click=!0,this}function de(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function kn(s){return de(s),Kn(s),this}function el(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Be(s,l){if(!l)return new $(s.clientX,s.clientY);var h=fi(l),m=h.boundingClientRect;return new $((s.clientX-m.left)/h.x-l.clientLeft,(s.clientY-m.top)/h.y-l.clientTop)}var Bi=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Br(s){return dt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Bi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Hi(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var wf={__proto__:null,on:St,off:Ht,stopPropagation:Kn,disableScrollPropagation:Ns,disableClickPropagation:Ls,preventDefault:de,stop:kn,getPropagationPath:el,getMousePosition:Be,getWheelDelta:Br,isExternalTarget:Hi,addListener:St,removeListener:Ht},Ma=st.extend({run:function(s,l,h,m){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=hi(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=qt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),ue(this._el,h),this.fire("step")},_complete:function(){Bt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),At=st.extend({options:{crs:Lr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=U(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(rt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ts&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,Di,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(rt(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),S=s instanceof $?s:this.latLngToContainerPoint(s),R=S.subtract(y).multiplyBy(1-1/m),D=this.containerPointToLatLng(y.add(R));return this.setView(D,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():at(s);var h=x(l.paddingTopLeft||l.padding||[0,0]),m=x(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(m));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var S=m.subtract(h).divideBy(2),R=this.project(s.getSouthWest(),y),D=this.project(s.getNorthEast(),y),Z=this.unproject(R.add(D).divideBy(2).add(S),y);return{center:Z,zoom:y}},fitBounds:function(s,l){if(s=at(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=x(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Tt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!dt.any3d)return this.setView(s,l,h);this._stop();var m=this.project(this.getCenter()),y=this.project(s),S=this.getSize(),R=this._zoom;s=rt(s),l=l===void 0?R:l;var D=Math.max(S.x,S.y),Z=D*this.getZoomScale(R,l),K=y.distanceTo(m)||1,ot=1.42,ut=ot*ot;function ft(ae){var Bn=ae?-1:1,$n=ae?Z:D,gi=Z*Z-D*D+Bn*ut*ut*K*K,Jn=2*$n*ut*K,$r=gi/Jn,Va=Math.sqrt($r*$r+1)-$r,Jr=Va<1e-9?-18:Math.log(Va);return Jr}function bt(ae){return(Math.exp(ae)-Math.exp(-ae))/2}function ee(ae){return(Math.exp(ae)+Math.exp(-ae))/2}function ce(ae){return bt(ae)/ee(ae)}var Le=ft(0);function _n(ae){return D*(ee(Le)/ee(Le+ot*ae))}function yc(ae){return D*(ee(Le)*ce(Le+ot*ae)-bt(Le))/ut}function Ec(ae){return 1-Math.pow(1-ae,1.5)}var Qr=Date.now(),qs=(ft(1)-Le)/ot,bc=h.duration?1e3*h.duration:1e3*qs*.8;function Gs(){var ae=(Date.now()-Qr)/bc,Bn=Ec(ae)*qs;ae<=1?(this._flyToFrame=qt(Gs,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(yc(Bn)/K)),R),this.getScaleZoom(D/_n(Bn),R),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Gs.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=at(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,at(s));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=x(l.paddingTopLeft||l.padding||[0,0]),m=x(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(s),R=this.getPixelBounds(),D=J([R.min.add(h),R.max.subtract(m)]),Z=D.getSize();if(!D.contains(S)){this._enforcingBounds=!0;var K=S.subtract(D.getCenter()),ot=D.extend(S).getSize().subtract(Z);y.x+=K.x<0?-ot.x:ot.x,y.y+=K.y<0?-ot.y:ot.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),y=h.divideBy(2).round(),S=m.subtract(y);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=_(this._handleGeolocationResponse,this),h=_(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,m=new ht(l,h),y=m.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var R=this.getBoundsZoom(y);this.setView(m,S.maxZoom?Math.min(R,S.maxZoom):R)}var D={latlng:m,bounds:y,timestamp:s.timestamp};for(var Z in s.coords)typeof s.coords[Z]=="number"&&(D[Z]=s.coords[Z]);this.fire("locationfound",D)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Bt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Jt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),m=Pt("div",h,l||this._mapPane);return s&&(this._panes[s]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new tt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=at(s),h=x(h||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),R=s.getNorthWest(),D=s.getSouthEast(),Z=this.getSize().subtract(h),K=J(this.project(D,m),this.project(R,m)).getSize(),ot=dt.any3d?this.options.zoomSnap:1,ut=Z.x/K.x,ft=Z.y/K.y,bt=l?Math.max(ut,ft):Math.min(ut,ft);return m=this.getScaleZoom(bt,m),ot&&(m=Math.round(m/(ot/100))*(ot/100),m=l?Math.ceil(m/ot)*ot:Math.floor(m/ot)*ot),Math.max(y,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new G(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var m=h.zoom(s*h.scale(l));return isNaN(m)?1/0:m},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(rt(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(x(s),l)},layerPointToLatLng:function(s){var l=x(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(rt(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(rt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(at(s))},distance:function(s,l){return this.options.crs.distance(rt(s),rt(l))},containerPointToLayerPoint:function(s){return x(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return x(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(x(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(rt(s)))},mouseEventToContainerPoint:function(s){return Be(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Oa(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,Tt(s,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Pi(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ue(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tt(s.markerPane,"leaflet-zoom-hide"),Tt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){ue(this._mapPane,new $(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(s,l)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,m){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),m?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Bt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ue(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var l=s?Ht:St;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Bt(this._resizeRequest),this._resizeRequest=qt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],m,y=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,R=!1;S;){if(m=this._targets[v(S)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){R=!0;break}if(m&&m.listens(l,!0)&&(y&&!Hi(S,s)||(h.push(m),y))||S===this._container)break;S=S.parentNode}return!h.length&&!R&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&zr(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var m=c({},s);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var y=this._findEventTargets(s,l);if(h){for(var S=[],R=0;R<h.length;R++)h[R].listens(l,!0)&&S.push(h[R]);y=S.concat(y)}if(y.length){l==="contextmenu"&&de(s);var D=y[0],Z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var K=D.getLatLng&&(!D._radius||D._radius<=10);Z.containerPoint=K?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(s),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=K?D.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(R=0;R<y.length;R++)if(y[R].fire(l,Z,!0),Z.originalEvent._stopped||y[R].options.bubblingMouseEvents===!1&&It(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return hi(this._mapPane)||new $(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return J([this.project(s.getSouthWest(),l)._subtract(m),this.project(s.getNorthWest(),l)._subtract(m),this.project(s.getSouthEast(),l)._subtract(m),this.project(s.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var m=this.project(s,l),y=this.getSize().divideBy(2),S=new G(m.subtract(y),m.add(y)),R=this._getBoundsOffset(S,h,l);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?s:this.unproject(m.add(R),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),m=new G(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(s,l,h){var m=J(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=m.min.subtract(s.min),S=m.max.subtract(s.max),R=this._rebound(y.x,-S.x),D=this._rebound(y.y,-S.y);return new $(R,D)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),m=dt.any3d?this.options.zoomSnap:1;return m&&(s=Math.round(s/m)*m),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Dr,m=this._proxy.style[h];dn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();dn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(y)?!1:(qt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,Tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hr(s,l){return new At(s,l)}var We=ge.extend({options:{position:"topright"},initialize:function(s){U(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),m=s._controlCorners[h];return Tt(l,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ms=function(s){return new We(s)};At.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Pt("div",l+"control-container",this._container);function m(y,S){var R=l+y+" "+l+S;s[y+S]=Pt("div",R,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Jt(this._controlCorners[s]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ec=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(s,l,h){U(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in s)this._addLayer(s[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return We.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Pt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ls(l),Ns(l);var m=this._section=Pt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),St(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Pt("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),St(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){de(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Pt("div",s+"-base",m),this._separator=Pt("div",s+"-separator",m),this._overlaysList=Pt("div",s+"-overlays",m),l.appendChild(m)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(_(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ze(this._baseLayersList),ze(this._overlaysList),this._layerControlInputs=[];var s,l,h,m,y=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),l=l||m.overlay,s=s||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(v(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),m;s.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(m),m.layerId=v(s.layer),St(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(m),S.appendChild(y);var R=s.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,m=[],y=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],h=this._getLayer(l.layerId).layer,l.checked?m.push(h):l.checked||y.push(h);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,m=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,St(s,"click",de),this.expand();var l=this;setTimeout(function(){Ht(s,"click",de),l._preventClick=!1})}}),Cf=function(s,l,h){return new ec(s,l,h)},nl=We.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Pt("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,m,y){var S=Pt("a",h,m);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Ls(S),St(S,"click",kn),St(S,"click",y,this),St(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";te(this._zoomInButton,l),te(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Tt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Tt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new nl,this.addControl(this.zoomControl))});var il=function(s){return new nl(s)},nc=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Pt("div",l),m=this.options;return this._addScales(m,l+"-line",h),s.on(m.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Pt("div",l,h)),s.imperial&&(this._iScale=Pt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,m,y;l>5280?(h=l/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),xf=function(s){return new nc(s)},Af='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sl=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?Af+" ":"")+"Leaflet</a>"},initialize:function(s){U(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Ls(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new sl().addTo(this)});var Rf=function(s){return new sl(s)};We.Layers=ec,We.Zoom=nl,We.Scale=nc,We.Attribution=sl,Ms.layers=Cf,Ms.zoom=il,Ms.scale=xf,Ms.attribution=Rf;var En=ge.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});En.addTo=function(s,l){return s.addHandler(l,this),this};var Of={Events:q},ic=dt.touch?"touchstart mousedown":"mousedown",di=st.extend({options:{clickTolerance:3},initialize:function(s,l,h,m){U(this,m),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(St(this._dragStartTarget,ic,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,ic,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Cs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(di._dragging=this,this._preventOutline&&zr(this._element),kr(),In(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=zi(this._element);this._startPoint=new $(l.clientX,l.clientY),this._startPos=hi(this._element),this._parentScale=fi(h);var m=s.type==="mousedown";St(document,m?"mousemove":"touchmove",this._onMove,this),St(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new $(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,de(s),this._moved||(this.fire("dragstart"),this._moved=!0,Tt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ue(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){te(document.body,"leaflet-dragging"),this._lastTarget&&(te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),tl(),Pr();var l=this._moved&&this._moving;this._moving=!1,di._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function sc(s,l,h){var m,y=[1,4,2,8],S,R,D,Z,K,ot,ut,ft;for(S=0,ot=s.length;S<ot;S++)s[S]._code=ji(s[S],l);for(D=0;D<4;D++){for(ut=y[D],m=[],S=0,ot=s.length,R=ot-1;S<ot;R=S++)Z=s[S],K=s[R],Z._code&ut?K._code&ut||(ft=Da(K,Z,ut,l,h),ft._code=ji(ft,l),m.push(ft)):(K._code&ut&&(ft=Da(K,Z,ut,l,h),ft._code=ji(ft,l),m.push(ft)),m.push(Z));s=m}return s}function Ia(s,l){var h,m,y,S,R,D,Z,K,ot;if(!s||s.length===0)throw new Error("latlngs not passed");Ne(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ut=rt([0,0]),ft=at(s),bt=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());bt<1700&&(ut=rl(s));var ee=s.length,ce=[];for(h=0;h<ee;h++){var Le=rt(s[h]);ce.push(l.project(rt([Le.lat-ut.lat,Le.lng-ut.lng])))}for(D=Z=K=0,h=0,m=ee-1;h<ee;m=h++)y=ce[h],S=ce[m],R=y.y*S.x-S.y*y.x,Z+=(y.x+S.x)*R,K+=(y.y+S.y)*R,D+=R*3;D===0?ot=ce[0]:ot=[Z/D,K/D];var _n=l.unproject(x(ot));return rt([_n.lat+ut.lat,_n.lng+ut.lng])}function rl(s){for(var l=0,h=0,m=0,y=0;y<s.length;y++){var S=rt(s[y]);l+=S.lat,h+=S.lng,m++}return rt([l/m,h/m])}var Nf={__proto__:null,clipPolygon:sc,polygonCenter:Ia,centroid:rl};function rc(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=If(s,h),s=Mf(s,h),s}function al(s,l,h){return Math.sqrt(Zi(s,l,h,!0))}function Lf(s,l,h){return Zi(s,l,h)}function Mf(s,l){var h=s.length,m=typeof Uint8Array<"u"?Uint8Array:Array,y=new m(h);y[0]=y[h-1]=1,ol(s,y,l,0,h-1);var S,R=[];for(S=0;S<h;S++)y[S]&&R.push(s[S]);return R}function ol(s,l,h,m,y){var S=0,R,D,Z;for(D=m+1;D<=y-1;D++)Z=Zi(s[D],s[m],s[y],!0),Z>S&&(R=D,S=Z);S>h&&(l[R]=1,ol(s,l,h,m,R),ol(s,l,h,R,y))}function If(s,l){for(var h=[s[0]],m=1,y=0,S=s.length;m<S;m++)Df(s[m],s[y])>l&&(h.push(s[m]),y=m);return y<S-1&&h.push(s[S-1]),h}var ac;function oc(s,l,h,m,y){var S=m?ac:ji(s,h),R=ji(l,h),D,Z,K;for(ac=R;;){if(!(S|R))return[s,l];if(S&R)return!1;D=S||R,Z=Da(s,l,D,h,y),K=ji(Z,h),D===S?(s=Z,S=K):(l=Z,R=K)}}function Da(s,l,h,m,y){var S=l.x-s.x,R=l.y-s.y,D=m.min,Z=m.max,K,ot;return h&8?(K=s.x+S*(Z.y-s.y)/R,ot=Z.y):h&4?(K=s.x+S*(D.y-s.y)/R,ot=D.y):h&2?(K=Z.x,ot=s.y+R*(Z.x-s.x)/S):h&1&&(K=D.x,ot=s.y+R*(D.x-s.x)/S),new $(K,ot,y)}function ji(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Df(s,l){var h=l.x-s.x,m=l.y-s.y;return h*h+m*m}function Zi(s,l,h,m){var y=l.x,S=l.y,R=h.x-y,D=h.y-S,Z=R*R+D*D,K;return Z>0&&(K=((s.x-y)*R+(s.y-S)*D)/Z,K>1?(y=h.x,S=h.y):K>0&&(y+=R*K,S+=D*K)),R=s.x-y,D=s.y-S,m?R*R+D*D:new $(y,S)}function Ne(s){return!lt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function lc(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ne(s)}function ll(s,l){var h,m,y,S,R,D,Z,K;if(!s||s.length===0)throw new Error("latlngs not passed");Ne(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ot=rt([0,0]),ut=at(s),ft=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());ft<1700&&(ot=rl(s));var bt=s.length,ee=[];for(h=0;h<bt;h++){var ce=rt(s[h]);ee.push(l.project(rt([ce.lat-ot.lat,ce.lng-ot.lng])))}for(h=0,m=0;h<bt-1;h++)m+=ee[h].distanceTo(ee[h+1])/2;if(m===0)K=ee[0];else for(h=0,S=0;h<bt-1;h++)if(R=ee[h],D=ee[h+1],y=R.distanceTo(D),S+=y,S>m){Z=(S-m)/y,K=[D.x-Z*(D.x-R.x),D.y-Z*(D.y-R.y)];break}var Le=l.unproject(x(K));return rt([Le.lat+ot.lat,Le.lng+ot.lng])}var uc={__proto__:null,simplify:rc,pointToSegmentDistance:al,closestPointOnSegment:Lf,clipSegment:oc,_getEdgeIntersection:Da,_getBitCode:ji,_sqClosestPointOnSegment:Zi,isFlat:Ne,_flat:lc,polylineCenter:ll},Pa={project:function(s){return new $(s.lng,s.lat)},unproject:function(s){return new ht(s.y,s.x)},bounds:new G([-180,-90],[180,90])},ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,m=s.lat*l,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),R=S*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-R)/(1+R),S/2);return m=-h*Math.log(Math.max(D,1e-10)),new $(s.lng*l*h,m)},unproject:function(s){for(var l=180/Math.PI,h=this.R,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),S=Math.exp(-s.y/h),R=Math.PI/2-2*Math.atan(S),D=0,Z=.1,K;D<15&&Math.abs(Z)>1e-7;D++)K=y*Math.sin(R),K=Math.pow((1-K)/(1+K),y/2),Z=Math.PI/2-2*Math.atan(S*K)-R,R+=Z;return new ht(R*l,s.x*l/h)}},cc={__proto__:null,LonLat:Pa,Mercator:ka,SphericalMercator:Nr},Is=c({},Ut,{code:"EPSG:3395",projection:ka,transformation:(function(){var s=.5/(Math.PI*ka.R);return Ri(s,.5,-s,.5)})()}),hc=c({},Ut,{code:"EPSG:4326",projection:Pa,transformation:Ri(1/180,1,-1/180,.5)}),Pf=c({},le,{projection:Pa,transformation:Ri(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,m=l.lat-s.lat;return Math.sqrt(h*h+m*m)},infinite:!0});le.Earth=Ut,le.EPSG3395=Is,le.EPSG3857=Lr,le.EPSG900913=Vo,le.EPSG4326=hc,le.Simple=Pf;var bn=st.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});At.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=v(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?lt(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=v(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qi=bn.extend({initialize:function(s,l){U(this,l),this._layers={};var h,m;if(s)for(h=0,m=s.length;h<m;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[s]&&m[s].apply(m,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),fc=function(s,l){return new qi(s,l)},Je=qi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),qi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),qi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new tt;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),jr=function(s,l){return new Je(s,l)},Ds=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){U(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(s,l){var h=this.options,m=h[l+"Size"];typeof m=="number"&&(m=[m,m]);var y=x(m),S=x(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return dt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function za(s){return new Ds(s)}var Ps=Ds.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ps.imagePath!="string"&&(Ps.imagePath=this._detectIconPath()),(this.options.imagePath||Ps.imagePath)+Ds.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,m,y){var S=m.exec(h);return S&&S[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Pt("div","leaflet-default-icon-path",document.body),l=Pi(s,"background-image")||Pi(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),ul=En.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new di(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=hi(l._icon),R=h.getPixelBounds(),D=h.getPixelOrigin(),Z=J(R.min._subtract(D).add(y),R.max._subtract(D).subtract(y));if(!Z.contains(S)){var K=x((Math.max(Z.max.x,S.x)-Z.max.x)/(R.max.x-Z.max.x)-(Math.min(Z.min.x,S.x)-Z.min.x)/(R.min.x-Z.min.x),(Math.max(Z.max.y,S.y)-Z.max.y)/(R.max.y-Z.max.y)-(Math.min(Z.min.y,S.y)-Z.min.y)/(R.min.y-Z.min.y)).multiplyBy(m);h.panBy(K,{animate:!1}),this._draggable._newPos._add(K),this._draggable._startPos._add(K),ue(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=qt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Bt(this._panRequest),this._panRequest=qt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,m=hi(l._icon),y=l._map.layerPointToLatLng(m);h&&ue(h,m),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Bt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ks=bn.extend({options:{icon:new Ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){U(this,l),this._latlng=rt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=rt(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),Tt(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(h,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(Tt(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ue(this._icon,s),this._shadow&&ue(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ul)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ul(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ye(this._icon,s),this._shadow&&Ye(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?x(l.iconSize):x(0,0),m=l.iconAnchor?x(l.iconAnchor):x(0,0);s.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cl(s,l){return new ks(s,l)}var Xn=bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return U(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zr=Xn.extend({options:{fill:!0,radius:10},initialize:function(s,l){U(this,l),this._latlng=rt(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=rt(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Xn.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),m=[s+h,l+h];this._pxBounds=new G(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dc(s,l){return new Zr(s,l)}var hl=Zr.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),U(this,l),this._latlng=rt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Xn.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===Ut.distance){var y=Math.PI/180,S=this._mRadius/Ut.R/y,R=h.project([l+S,s]),D=h.project([l-S,s]),Z=R.add(D).divideBy(2),K=h.unproject(Z).lat,ot=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(K*y))/(Math.cos(l*y)*Math.cos(K*y)))/y;(isNaN(ot)||ot===0)&&(ot=S/Math.cos(Math.PI/180*l)),this._point=Z.subtract(h.getPixelOrigin()),this._radius=isNaN(ot)?0:Z.x-h.project([K,s-ot]).x,this._radiusY=Z.y-R.y}else{var ut=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ut).x}this._updateBounds()}});function kf(s,l,h){return new hl(s,l,h)}var Qn=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){U(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,m=Zi,y,S,R=0,D=this._parts.length;R<D;R++)for(var Z=this._parts[R],K=1,ot=Z.length;K<ot;K++){y=Z[K-1],S=Z[K];var ut=m(s,y,S,!0);ut<l&&(l=ut,h=m(s,y,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ll(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=rt(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new tt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Ne(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=Ne(s),m=0,y=s.length;m<y;m++)h?(l[m]=rt(s[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(s[m]);return l},_project:function(){var s=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new $(s,s);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var m=s[0]instanceof ht,y=s.length,S,R;if(m){for(R=[],S=0;S<y;S++)R[S]=this._map.latLngToLayerPoint(s[S]),h.extend(R[S]);l.push(R)}else for(S=0;S<y;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,m,y,S,R,D,Z;for(h=0,y=0,S=this._rings.length;h<S;h++)for(Z=this._rings[h],m=0,R=Z.length;m<R-1;m++)D=oc(Z[m],Z[m+1],s,m,!0),D&&(l[y]=l[y]||[],l[y].push(D[0]),(D[1]!==Z[m+1]||m===R-2)&&(l[y].push(D[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,m=s.length;h<m;h++)s[h]=rc(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,m,y,S,R,D,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(D=this._parts[h],m=0,R=D.length,y=R-1;m<R;y=m++)if(!(!l&&m===0)&&al(s,D[y],D[m])<=Z)return!0;return!1}});function zf(s,l){return new Qn(s,l)}Qn._flat=lc;var zs=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ia(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Qn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof ht&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Qn.prototype._setLatLngs.call(this,s),Ne(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ne(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new $(l,l);if(s=new G(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,S;m<y;m++)S=sc(this._rings[m],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,m,y,S,R,D,Z,K;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,Z=this._parts.length;S<Z;S++)for(h=this._parts[S],R=0,K=h.length,D=K-1;R<K;D=R++)m=h[R],y=h[D],m.y>s.y!=y.y>s.y&&s.x<(y.x-m.x)*(s.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||Qn.prototype._containsPoint.call(this,s,!0)}});function tn(s,l){return new zs(s,l)}var en=Je.extend({initialize:function(s,l){U(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=lt(s)?s:s.features,h,m,y;if(l){for(h=0,m=l.length;h<m;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var R=qr(s,S);return R?(R.feature=Us(s),R.defaultOptions=R.options,this.resetStyle(R),S.onEachFeature&&S.onEachFeature(s,R),this.addLayer(R)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function qr(s,l){var h=s.type==="Feature"?s.geometry:s,m=h?h.coordinates:null,y=[],S=l&&l.pointToLayer,R=l&&l.coordsToLatLng||Ua,D,Z,K,ot;if(!m&&!h)return null;switch(h.type){case"Point":return D=R(m),fl(S,s,D,l);case"MultiPoint":for(K=0,ot=m.length;K<ot;K++)D=R(m[K]),y.push(fl(S,s,D,l));return new Je(y);case"LineString":case"MultiLineString":return Z=Gr(m,h.type==="LineString"?0:1,R),new Qn(Z,l);case"Polygon":case"MultiPolygon":return Z=Gr(m,h.type==="Polygon"?1:2,R),new zs(Z,l);case"GeometryCollection":for(K=0,ot=h.geometries.length;K<ot;K++){var ut=qr({geometry:h.geometries[K],type:"Feature",properties:s.properties},l);ut&&y.push(ut)}return new Je(y);case"FeatureCollection":for(K=0,ot=h.features.length;K<ot;K++){var ft=qr(h.features[K],l);ft&&y.push(ft)}return new Je(y);default:throw new Error("Invalid GeoJSON object.")}}function fl(s,l,h,m){return s?s(l,h):new ks(h,m&&m.markersInheritOptions&&m)}function Ua(s){return new ht(s[1],s[0],s[2])}function Gr(s,l,h){for(var m=[],y=0,S=s.length,R;y<S;y++)R=l?Gr(s[y],l-1,h):(h||Ua)(s[y]),m.push(R);return m}function Vr(s,l){return s=rt(s),s.alt!==void 0?[A(s.lng,l),A(s.lat,l),A(s.alt,l)]:[A(s.lng,l),A(s.lat,l)]}function Ba(s,l,h,m){for(var y=[],S=0,R=s.length;S<R;S++)y.push(l?Ba(s[S],Ne(s[S])?0:l-1,h,m):Vr(s[S],m));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function Sn(s,l){return s.feature?c({},s.feature,{geometry:l}):Us(l)}function Us(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Gi={toGeoJSON:function(s){return Sn(this,{type:"Point",coordinates:Vr(this.getLatLng(),s)})}};ks.include(Gi),hl.include(Gi),Zr.include(Gi),Qn.include({toGeoJSON:function(s){var l=!Ne(this._latlngs),h=Ba(this._latlngs,l?1:0,!1,s);return Sn(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),zs.include({toGeoJSON:function(s){var l=!Ne(this._latlngs),h=l&&!Ne(this._latlngs[0]),m=Ba(this._latlngs,h?2:l?1:0,!0,s);return l||(m=[m]),Sn(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),qi.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Sn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(s);if(h)m.push(S.geometry);else{var R=Us(S);R.type==="FeatureCollection"?m.push.apply(m,R.features):m.push(R)}}}),h?Sn(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Ha(s,l){return new en(s,l)}var _c=Ha,zn=bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=at(l),U(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ki(this._image),this},bringToBack:function(){return this._map&&ws(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=at(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Pt("img");if(Tt(l,"leaflet-image-layer"),this._zoomAnimated&&Tt(l,"leaflet-zoom-animated"),this.options.className&&Tt(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onload=_(this.fire,this,"load"),l.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;dn(this._image,h,l)},_reset:function(){var s=this._image,l=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();ue(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Bs=function(s,l,h){return new zn(s,l,h)},ja=zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Pt("video");if(Tt(l,"leaflet-image-layer"),this._zoomAnimated&&Tt(l,"leaflet-zoom-animated"),this.options.className&&Tt(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onloadeddata=_(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),m=[],y=0;y<h.length;y++)m.push(h[y].src);this._url=h.length>0?m:[l.src];return}lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var R=Pt("source");R.src=this._url[S],l.appendChild(R)}}});function pc(s,l,h){return new ja(s,l,h)}var _i=zn.extend({_initImage:function(){var s=this._image=this._url;Tt(s,"leaflet-image-layer"),this._zoomAnimated&&Tt(s,"leaflet-zoom-animated"),this.options.className&&Tt(s,this.options.className),s.onselectstart=C,s.onmousemove=C}});function mc(s,l,h){return new _i(s,l,h)}var Tn=bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ht||lt(s))?(this._latlng=rt(s),U(this,l)):(U(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ye(this._container,1),this.bringToFront(),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ye(this._container,0),this._removeTimeout=setTimeout(_(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=rt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ki(this._container),this},bringToBack:function(){return this._map&&ws(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Je){l=null;var h=this._source._layers;for(var m in h)if(h[m]._map){l=h[m];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=x(this.options.offset),h=this._getAnchor();this._zoomAnimated?ue(this._container,s.add(h)):l=l.add(s).add(h);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});At.include({_initOverlay:function(s,l,h,m){var y=l;return y instanceof s||(y=new s(m).setContent(l)),h&&y.setLatLng(h),y}}),bn.include({_initOverlay:function(s,l,h,m){var y=h;return y instanceof s?(U(y,m),y._source=this):(y=l&&!m?l:new s(m,this),y.setContent(h)),y}});var Fr=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Kn))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Kn))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Pt("div",s+"-content-wrapper",l);if(this._contentNode=Pt("div",s+"-content",h),Ls(l),Ns(this._contentNode),St(l,"contextmenu",Kn),this._tipContainer=Pt("div",s+"-tip-container",l),this._tip=Pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Pt("a",s+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',St(m,"click",function(y){de(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var m=s.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&m>y?(l.height=y+"px",Tt(s,S)):te(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Pi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,y=new $(this._containerLeft,-h-this._containerBottom);y._add(hi(this._container));var S=s.layerPointToContainerPoint(y),R=x(this.options.autoPanPadding),D=x(this.options.autoPanPaddingTopLeft||R),Z=x(this.options.autoPanPaddingBottomRight||R),K=s.getSize(),ot=0,ut=0;S.x+m+Z.x>K.x&&(ot=S.x+m-K.x+Z.x),S.x-ot-D.x<0&&(ot=S.x-D.x),S.y+h+Z.y>K.y&&(ut=S.y+h-K.y+Z.y),S.y-ut-D.y<0&&(ut=S.y-D.y),(ot||ut)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ot,ut]))}},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uf=function(s,l){return new Fr(s,l)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(s,l,h){return this._initOverlay(Fr,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),bn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Fr,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Je||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){kn(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Za=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,m=this._map,y=this._container,S=m.latLngToContainerPoint(m.getCenter()),R=m.layerPointToContainerPoint(s),D=this.options.direction,Z=y.offsetWidth,K=y.offsetHeight,ot=x(this.options.offset),ut=this._getAnchor();D==="top"?(l=Z/2,h=K):D==="bottom"?(l=Z/2,h=0):D==="center"?(l=Z/2,h=K/2):D==="right"?(l=0,h=K/2):D==="left"?(l=Z,h=K/2):R.x<S.x?(D="right",l=0,h=K/2):(D="left",l=Z+(ot.x+ut.x)*2,h=K/2),s=s.subtract(x(l,h,!0)).add(ot).add(ut),te(y,"leaflet-tooltip-right"),te(y,"leaflet-tooltip-left"),te(y,"leaflet-tooltip-top"),te(y,"leaflet-tooltip-bottom"),Tt(y,"leaflet-tooltip-"+D),ue(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ye(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bf=function(s,l){return new Za(s,l)};At.include({openTooltip:function(s,l,h){return this._initOverlay(Za,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),bn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Za,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Je||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(St(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),St(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,m;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var dl=Ds.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ze(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=x(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function gc(s){return new dl(s)}Ds.Default=Ps;var Vi=bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){U(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Jt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof $?s:new $(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),m=0,y=l.length,S;m<y;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){Ye(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var S=Math.min(1,(s-y.loaded)/200);Ye(y.el,S),S<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Bt(this._fadeFrame),this._fadeFrame=qt(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Jt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[s],y=this._map;return m||(m=this._levels[s]={},m.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),m.zoom=s,this._setZoomTransform(m,y.getCenter(),y.getZoom()),C(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Jt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,m){var y=Math.floor(s/2),S=Math.floor(l/2),R=h-1,D=new $(+y,+S);D.z=+R;var Z=this._tileCoordsToKey(D),K=this._tiles[Z];return K&&K.active?(K.retain=!0,!0):(K&&K.loaded&&(K.retain=!0),R>m?this._retainParent(y,S,R,m):!1)},_retainChildren:function(s,l,h,m){for(var y=2*s;y<2*s+2;y++)for(var S=2*l;S<2*l+2;S++){var R=new $(y,S);R.z=h+1;var D=this._tileCoordsToKey(R),Z=this._tiles[D];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);h+1<m&&this._retainChildren(y,S,h+1,m)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,m){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var m=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();dt.any3d?dn(s.el,y,m):ue(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(m*2);return new G(y.subtract(S),y.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(m),S=y.getCenter(),R=[],D=this.options.keepBuffer,Z=new G(y.getBottomLeft().subtract([D,-D]),y.getTopRight().add([D,-D]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var K in this._tiles){var ot=this._tiles[K].coords;(ot.z!==this._tileZoom||!Z.contains(new $(ot.x,ot.y)))&&(this._tiles[K].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ut=y.min.y;ut<=y.max.y;ut++)for(var ft=y.min.x;ft<=y.max.x;ft++){var bt=new $(ft,ut);if(bt.z=this._tileZoom,!!this._isValidTile(bt)){var ee=this._tiles[this._tileCoordsToKey(bt)];ee?ee.current=!0:R.push(bt)}}if(R.sort(function(Le,_n){return Le.distanceTo(S)-_n.distanceTo(S)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ce=document.createDocumentFragment();for(ft=0;ft<R.length;ft++)this._addTile(R[ft],ce);this._level.el.appendChild(ce)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(s);return at(this.options.bounds).overlaps(m)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),m=s.scaleBy(h),y=m.add(h),S=l.unproject(m,s.z),R=l.unproject(y,s.z);return[S,R]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new tt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new $(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Jt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Tt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=C,s.onmousemove=C,dt.ielt9&&this.options.opacity<1&&Ye(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),m=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),_(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&qt(_(this._tileReady,this,s,null,y)),ue(y,h),this._tiles[m]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var m=this._tileCoordsToKey(s);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ye(h.el,0),Bt(this._fadeFrame),this._fadeFrame=qt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Tt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?qt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new $(this._wrapX?T(s.x,this._wrapX):s.x,this._wrapY?T(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new G(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function wn(s){return new Vi(s)}var Fi=Vi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=U(this,l),l.detectRetina&&dt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return St(h,"load",_(this._tileOnLoad,this,l,h)),St(h,"error",_(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:dt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return it(this._url,c(l,this.options))},_tileOnLoad:function(s,l){dt.ielt9?setTimeout(_(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(s=l-s),s+m},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=C,l.onerror=C,!l.complete)){l.src=pt;var h=this._tiles[s].coords;Jt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",pt),Vi.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===pt))return Vi.prototype._tileReady.call(this,s,l,h)}});function nn(s,l){return new Fi(s,l)}var sn=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);l=U(this,l);var y=l.detectRetina&&dt.retina?2:1,S=this.getTileSize();h.width=S.x*y,h.height=S.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Fi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,m=J(h.project(l[0]),h.project(l[1])),y=m.min,S=m.max,R=(this._wmsVersion>=1.3&&this._crs===hc?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),D=Fi.prototype.getTileUrl.call(this,s);return D+Q(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Hs(s,l){return new sn(s,l)}Fi.WMS=sn,nn.wms=Hs;var Cn=bn.extend({options:{padding:.1},initialize:function(s){U(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),S=m.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(s,l));dt.any3d?dn(this._container,S,h):ue(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new G(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yr=Cn.extend({options:{tolerance:0},getEvents:function(){var s=Cn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");St(s,"mousemove",this._onMouseMove,this),St(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Bt(this._redrawRequest),delete this._ctx,Jt(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),m=dt.retina?2:1;ue(l,s.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],m,y;for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;h.push(m)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||qt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)s=m.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,m,y,S,R=s._parts,D=R.length,Z=this._ctx;if(D){for(Z.beginPath(),h=0;h<D;h++){for(m=0,y=R[h].length;m<y;m++)S=R[h][m],Z[m?"lineTo":"moveTo"](S.x,S.y);l&&Z.closePath()}this._fillStroke(Z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,m=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||m)/m;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,m,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(te(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(s),m&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Wr(s){return dt.canvas?new Yr(s):null}var Yi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),js={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Yi("shape");Tt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Yi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Jt(l),s.removeInteractiveTarget(l),delete this._layers[v(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,m=s.options,y=s._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=s._stroke=Yi("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=lt(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),s._stroke=null),m.fill?(h||(h=s._fill=Yi("fill")),y.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),m=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){ki(s._container)},_bringToBack:function(s){ws(s._container)}},Kr=dt.vml?Yi:Bu,pi=Cn.extend({_initContainer:function(){this._container=Kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),ue(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Kr("path");s.options.className&&Tt(l,s.options.className),s.options.interactive&&Tt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Jt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Hu(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),m=Math.max(Math.round(s._radiusY),1)||h,y="a"+h+","+m+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){ki(s._path)},_bringToBack:function(s){ws(s._path)}});dt.vml&&pi.include(js);function Wi(s){return dt.svg||dt.vml?new pi(s):null}At.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Wr(s)||Wi(s)}});var vc=zs.extend({initialize:function(s,l){zs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=at(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function rn(s,l){return new vc(s,l)}pi.create=Kr,pi.pointsToPath=Hu,en.geometryToLayer=qr,en.coordsToLatLng=Ua,en.coordsToLatLngs=Gr,en.latLngToCoords=Vr,en.latLngsToCoords=Ba,en.getFeature=Sn,en.asFeature=Us,At.mergeOptions({boxZoom:!0});var qa=En.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),In(),kr(),this._startPoint=this._map.mouseEventToContainerPoint(s),St(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),Tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new G(this._point,this._startPoint),h=l.getSize();ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Jt(this._box),te(this._container,"leaflet-crosshair")),Pr(),tl(),Ht(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var l=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});At.addInitHook("addHandler","boxZoom",qa),At.mergeOptions({doubleClickZoom:!0});var Un=En.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-m:h+m;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});At.addInitHook("addHandler","doubleClickZoom",Un),At.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _l=En.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new di(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){te(this._map._container,"leaflet-grab"),te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=at(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+h)%s+l-h,S=(m+l+h)%s-l-h,R=Math.abs(y+h)<Math.abs(S+h)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(s){var l=this._map,h=l.options,m=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,R=h.easeLinearity,D=y.multiplyBy(R/S),Z=D.distanceTo([0,0]),K=Math.min(h.inertiaMaxSpeed,Z),ot=D.multiplyBy(K/Z),ut=K/(h.inertiaDeceleration*R),ft=ot.multiplyBy(-ut/2).round();!ft.x&&!ft.y?l.fire("moveend"):(ft=l._limitOffset(ft,l.options.maxBounds),qt(function(){l.panBy(ft,{duration:ut,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",_l),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xr=En.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),St(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,m=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,m,y;for(m=0,y=h.left.length;m<y;m++)l[h.left[m]]=[-1*s,0];for(m=0,y=h.right.length;m<y;m++)l[h.right[m]]=[s,0];for(m=0,y=h.down.length;m<y;m++)l[h.down[m]]=[0,s];for(m=0,y=h.up.length;m<y;m++)l[h.up[m]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,m,y;for(m=0,y=h.zoomIn.length;m<y;m++)l[h.zoomIn[m]]=s;for(m=0,y=h.zoomOut.length;m<y;m++)l[h.zoomOut[m]]=-s},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,m;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[l],s.shiftKey&&(m=x(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(x(m),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(y)}else h.panBy(m)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;kn(s)}}});At.addInitHook("addHandler","keyboard",Xr),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mi=En.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Br(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),kn(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=h?Math.ceil(y/h)*h:y,R=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,R&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+R):s.setZoomAround(this._lastMousePos,l+R))}});At.addInitHook("addHandler","scrollWheelZoom",mi);var pl=600;At.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15});var Ga=En.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new $(l.clientX,l.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(St(document,"touchend",de),St(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),pl),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ht(document,"touchend",de),Ht(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new $(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});At.addInitHook("addHandler","tapHold",Ga),At.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0});var Ki=En.extend({addHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){te(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),de(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Bt(this._animRequest);var R=_(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=qt(R,this,!0),de(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Bt(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",Ki),At.BoxZoom=qa,At.DoubleClickZoom=Un,At.Drag=_l,At.Keyboard=Xr,At.ScrollWheelZoom=mi,At.TapHold=Ga,At.TouchZoom=Ki,i.Bounds=G,i.Browser=dt,i.CRS=le,i.Canvas=Yr,i.Circle=hl,i.CircleMarker=Zr,i.Class=ge,i.Control=We,i.DivIcon=dl,i.DivOverlay=Tn,i.DomEvent=wf,i.DomUtil=tc,i.Draggable=di,i.Evented=st,i.FeatureGroup=Je,i.GeoJSON=en,i.GridLayer=Vi,i.Handler=En,i.Icon=Ds,i.ImageOverlay=zn,i.LatLng=ht,i.LatLngBounds=tt,i.Layer=bn,i.LayerGroup=qi,i.LineUtil=uc,i.Map=At,i.Marker=ks,i.Mixin=Of,i.Path=Xn,i.Point=$,i.PolyUtil=Nf,i.Polygon=zs,i.Polyline=Qn,i.Popup=Fr,i.PosAnimation=Ma,i.Projection=cc,i.Rectangle=vc,i.Renderer=Cn,i.SVG=pi,i.SVGOverlay=_i,i.TileLayer=Fi,i.Tooltip=Za,i.Transformation=gs,i.Util=Ln,i.VideoOverlay=ja,i.bind=_,i.bounds=J,i.canvas=Wr,i.circle=kf,i.circleMarker=dc,i.control=Ms,i.divIcon=gc,i.extend=c,i.featureGroup=jr,i.geoJSON=Ha,i.geoJson=_c,i.gridLayer=wn,i.icon=za,i.imageOverlay=Bs,i.latLng=rt,i.latLngBounds=at,i.layerGroup=fc,i.map=Hr,i.marker=cl,i.point=x,i.polygon=tn,i.polyline=zf,i.popup=Uf,i.rectangle=rn,i.setOptions=U,i.stamp=v,i.svg=Wi,i.svgOverlay=mc,i.tileLayer=nn,i.tooltip=Bf,i.transformation=Ri,i.version=o,i.videoOverlay=pc;var Zs=window.L;i.noConflict=function(){return window.L=Zs,this},window.L=i}))})(nu,nu.exports)),nu.exports}var us=uC();const ya=CE(us);function tf(r,t,i){return Object.freeze({instance:r,context:t,container:i})}function KE(r,t){return t==null?function(o,c){const d=z.useRef(void 0);return d.current||(d.current=r(o,c)),d}:function(o,c){const d=z.useRef(void 0);d.current||(d.current=r(o,c));const _=z.useRef(o),{instance:g}=d.current;return z.useEffect(function(){_.current!==o&&(t(g,o,_.current),_.current=o)},[g,o,t]),d}}function cC(r,t){z.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function hC(r){return function(i){const o=dp(),c=r(WE(i,o),o);return VE(o.map,i.attribution),YE(c.current,i.eventHandlers),cC(c.current,o),c}}function XE(r,t){const i=KE(r,t),o=hC(i);return rC(o)}function QE(r,t){const i=KE(r),o=oC(i,t);return aC(o)}function fC(r,t,i){t.bounds instanceof us.LatLngBounds&&t.bounds!==i.bounds&&r.setBounds(t.bounds),t.opacity!=null&&t.opacity!==i.opacity&&r.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==i.zIndex&&r.setZIndex(t.zIndex)}function dC(){return dp().map}function U_(r){const t=dC();return z.useEffect(function(){return t.on(r),function(){t.off(r)}},[t,r]),t}const $E=XE(function({bounds:t,url:i,...o},c){const d=new us.ImageOverlay(i,t,o);return tf(d,FE(c,{overlayContainer:d}))},function(t,i,o){if(fC(t,i,o),i.bounds!==o.bounds){const c=i.bounds instanceof us.LatLngBounds?i.bounds:new us.LatLngBounds(i.bounds);t.setBounds(c)}i.url!==o.url&&t.setUrl(i.url)});function _C({bounds:r,boundsOptions:t,center:i,children:o,className:c,id:d,placeholder:_,style:g,whenReady:v,zoom:E,...T},C){const[A]=z.useState({className:c,id:d,style:g}),[H,V]=z.useState(null),U=z.useRef(void 0);z.useImperativeHandle(C,()=>H?.map??null,[H]);const Q=z.useCallback(it=>{if(it!==null&&!U.current){const lt=new us.Map(it,T);U.current=lt,i!=null&&E!=null?lt.setView(i,E):r!=null&&lt.fitBounds(r,t),v!=null&&lt.whenReady(v),V(sC(lt))}},[]);z.useEffect(()=>()=>{H?.map.remove()},[H]);const et=H?D_.createElement(fp,{value:H},o):_??null;return D_.createElement("div",{...A,ref:Q},et)}const JE=z.forwardRef(_C),ua=XE(function({position:t,...i},o){const c=new us.Marker(t,i);return tf(c,FE(o,{overlayContainer:c}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),ca=QE(function(t,i){const o=new us.Popup(t,i.overlayContainer);return tf(o,i)},function(t,i,{position:o},c){z.useEffect(function(){const{instance:_}=t;function g(E){E.popup===_&&(_.update(),c(!0))}function v(E){E.popup===_&&c(!1)}return i.map.on({popupopen:g,popupclose:v}),i.overlayContainer==null?(o!=null&&_.setLatLng(o),_.openOn(i.map)):i.overlayContainer.bindPopup(_),function(){i.map.off({popupopen:g,popupclose:v}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(_)}},[t,i,c,o])}),go=QE(function(t,i){const o=new us.Tooltip(t,i.overlayContainer);return tf(o,i)},function(t,i,{position:o},c){z.useEffect(function(){const _=i.overlayContainer;if(_==null)return;const{instance:g}=t,v=T=>{T.tooltip===g&&(o!=null&&g.setLatLng(o),g.update(),c(!0))},E=T=>{T.tooltip===g&&c(!1)};return _.on({tooltipopen:v,tooltipclose:E}),_.bindTooltip(g),function(){_.off({tooltipopen:v,tooltipclose:E}),_._map!=null&&_.unbindTooltip()}},[t,i,c,o])}),pC=()=>{};var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt=function(r,t){if(!r)throw ko(t)},ko=function(r){return new Error("Firebase Database ("+tb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):(c&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},mC=function(r){const t=[];let i=0,o=0;for(;i<r.length;){const c=r[i++];if(c<128)t[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=r[i++];t[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=r[i++],_=r[i++],g=r[i++],v=((c&7)<<18|(d&63)<<12|(_&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const d=r[i++],_=r[i++];t[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|_&63)}}return t.join("")},_p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<r.length;c+=3){const d=r[c],_=c+1<r.length,g=_?r[c+1]:0,v=c+2<r.length,E=v?r[c+2]:0,T=d>>2,C=(d&3)<<4|g>>4;let A=(g&15)<<2|E>>6,H=E&63;v||(H=64,_||(A=64)),o.push(i[T],i[C],i[A],i[H])}return o.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(eb(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<r.length;){const d=i[r.charAt(c++)],g=c<r.length?i[r.charAt(c)]:0;++c;const E=c<r.length?i[r.charAt(c)]:64;++c;const C=c<r.length?i[r.charAt(c)]:64;if(++c,d==null||g==null||E==null||C==null)throw new gC;const A=d<<2|g>>4;if(o.push(A),E!==64){const H=g<<4&240|E>>2;if(o.push(H),C!==64){const V=E<<6&192|C;o.push(V)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nb=function(r){const t=eb(r);return _p.encodeByteArray(t,!0)},Rh=function(r){return nb(r).replace(/\./g,"")},Oh=function(r){try{return _p.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r){return ib(void 0,r)}function ib(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!yC(i)||(r[i]=ib(r[i],t[i]));return r}function yC(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=()=>EC().__FIREBASE_DEFAULTS__,SC=()=>{if(typeof process>"u"||typeof dy>"u")return;const r=dy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Oh(r[1]);return t&&JSON.parse(t)},pp=()=>{try{return pC()||bC()||SC()||TC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sb=r=>pp()?.emulatorHosts?.[r],wC=r=>{const t=sb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},rb=()=>pp()?.config,ab=r=>pp()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ob(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",c=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(i)),Rh(JSON.stringify(_)),""].join(".")}const ru={};function xC(){const r={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?r.emulator.push(t):r.prod.push(t);return r}function AC(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let _y=!1;function lb(r,t){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||ru[r]===t||ru[r]||_y)return;ru[r]=t;function i(A){return`__firebase__banner__${A}`}const o="__firebase__banner",d=xC().prod.length>0;function _(){const A=document.getElementById(o);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function v(A,H){A.setAttribute("width","24"),A.setAttribute("id",H),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function E(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{_y=!0,_()},A}function T(A,H){A.setAttribute("id",H),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function C(){const A=AC(o),H=i("text"),V=document.getElementById(H)||document.createElement("span"),U=i("learnmore"),Q=document.getElementById(U)||document.createElement("a"),et=i("preprendIcon"),it=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const lt=A.element;g(lt),T(Q,U);const It=E();v(it,et),lt.append(it,V,Q,It),document.body.appendChild(lt)}d?(V.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function RC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LC(){return tb.NODE_ADMIN===!0}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((r,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{t(c.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="FirebaseError";class Rr extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=DC,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},c=`${this.service}/${t}`,d=this.errors[t],_=d?PC(d,o):"Error",g=`${this.serviceName}: ${_} (${c}).`;return new Rr(c,g,o)}}function PC(r,t){return r.replace(kC,(i,o)=>{const c=t[o];return c!=null?String(c):`<${o}?>`})}const kC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){return JSON.parse(r)}function Ae(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=function(r){let t={},i={},o={},c="";try{const d=r.split(".");t=du(Oh(d[0])||""),i=du(Oh(d[1])||""),c=d[2],o=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:o,signature:c}},zC=function(r){const t=cb(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},UC=function(r){const t=cb(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function xo(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function B_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Nh(r,t,i){const o={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=t.call(i,r[c],c,r));return o}function da(r,t){if(r===t)return!0;const i=Object.keys(r),o=Object.keys(t);for(const c of i){if(!o.includes(c))return!1;const d=r[c],_=t[c];if(py(d)&&py(_)){if(!da(d,_))return!1}else if(d!==_)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(r){const t=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(c=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function iu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,d]=o.split("=");t[decodeURIComponent(c)]=decodeURIComponent(d)}}),t}function su(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const o=this.W_;if(typeof t=="string")for(let C=0;C<16;C++)o[C]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let C=0;C<16;C++)o[C]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let C=16;C<80;C++){const A=o[C-3]^o[C-8]^o[C-14]^o[C-16];o[C]=(A<<1|A>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],_=this.chain_[2],g=this.chain_[3],v=this.chain_[4],E,T;for(let C=0;C<80;C++){C<40?C<20?(E=g^d&(_^g),T=1518500249):(E=d^_^g,T=1859775393):C<60?(E=d&_|g&(d|_),T=2400959708):(E=d^_^g,T=3395469782);const A=(c<<5|c>>>27)+E+v+T+o[C]&4294967295;v=g,g=_,_=(d<<30|d>>>2)&4294967295,d=c,c=A}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+_&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const o=i-this.blockSize;let c=0;const d=this.buf_;let _=this.inbuf_;for(;c<i;){if(_===0)for(;c<=o;)this.compress_(t,c),c+=this.blockSize;if(typeof t=="string"){for(;c<i;)if(d[_]=t.charCodeAt(c),++_,++c,_===this.blockSize){this.compress_(d),_=0;break}}else for(;c<i;)if(d[_]=t[c],++_,++c,_===this.blockSize){this.compress_(d),_=0;break}}this.inbuf_=_,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)t[o]=this.chain_[c]>>d&255,++o;return t}}function HC(r,t){const i=new jC(r,t);return i.subscribe.bind(i)}class jC{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,o){let c;if(t===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");ZC(t,["next","error","complete"])?c=t:c={next:t,error:i,complete:o},c.next===void 0&&(c.next=E_),c.error===void 0&&(c.error=E_),c.complete===void 0&&(c.complete=E_);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function E_(){}function ef(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);if(c>=55296&&c<=56319){const d=c-55296;o++,nt(o<r.length,"Surrogate pair missing trail surrogate.");const _=r.charCodeAt(o)-56320;c=65536+(d<<10)+_}c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):c<65536?(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},nf=function(r){let t=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class _a{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new Ru;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FC(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,_]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);o===g&&_.resolve(c)}return c}onInit(t,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:VC(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VC(r){return r===oa?void 0:r}function FC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new GC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xt||(Xt={}));const WC={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},KC=Xt.INFO,XC={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},QC=(r,t,...i)=>{if(t<r.logLevel)return;const o=new Date().toISOString(),c=XC[t];if(c)console[c](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gp{constructor(t){this.name=t,this._logLevel=KC,this._logHandler=QC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}const $C=(r,t)=>t.some(i=>r instanceof i);let my,gy;function JC(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,H_=new WeakMap,fb=new WeakMap,b_=new WeakMap,vp=new WeakMap;function e1(r){const t=new Promise((i,o)=>{const c=()=>{r.removeEventListener("success",d),r.removeEventListener("error",_)},d=()=>{i(vr(r.result)),c()},_=()=>{o(r.error),c()};r.addEventListener("success",d),r.addEventListener("error",_)});return t.then(i=>{i instanceof IDBCursor&&hb.set(i,r)}).catch(()=>{}),vp.set(t,r),t}function n1(r){if(H_.has(r))return;const t=new Promise((i,o)=>{const c=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",_),r.removeEventListener("abort",_)},d=()=>{i(),c()},_=()=>{o(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",d),r.addEventListener("error",_),r.addEventListener("abort",_)});H_.set(r,t)}let j_={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return H_.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fb.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function i1(r){j_=r(j_)}function s1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=r.call(S_(this),t,...i);return fb.set(o,t.sort?t.sort():[t]),vr(o)}:t1().includes(r)?function(...t){return r.apply(S_(this),t),vr(hb.get(this))}:function(...t){return vr(r.apply(S_(this),t))}}function r1(r){return typeof r=="function"?s1(r):(r instanceof IDBTransaction&&n1(r),$C(r,JC())?new Proxy(r,j_):r)}function vr(r){if(r instanceof IDBRequest)return e1(r);if(b_.has(r))return b_.get(r);const t=r1(r);return t!==r&&(b_.set(r,t),vp.set(t,r)),t}const S_=r=>vp.get(r);function a1(r,t,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const _=indexedDB.open(r,t),g=vr(_);return o&&_.addEventListener("upgradeneeded",v=>{o(vr(_.result),v.oldVersion,v.newVersion,vr(_.transaction),v)}),i&&_.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{d&&v.addEventListener("close",()=>d()),c&&v.addEventListener("versionchange",E=>c(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const o1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],T_=new Map;function vy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(T_.get(t))return T_.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,c=l1.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||o1.includes(i)))return;const d=async function(_,...g){const v=this.transaction(_,c?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[i](...g),c&&v.done]))[0]};return T_.set(t,d),d}i1(r=>({...r,get:(t,i,o)=>vy(t,i)||r.get(t,i,o),has:(t,i)=>!!vy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(c1(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function c1(r){return r.getComponent()?.type==="VERSION"}const Z_="@firebase/app",yy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new gp("@firebase/app"),h1="@firebase/app-compat",f1="@firebase/analytics-compat",d1="@firebase/analytics",_1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",v1="@firebase/database",y1="@firebase/data-connect",E1="@firebase/database-compat",b1="@firebase/functions",S1="@firebase/functions-compat",T1="@firebase/installations",w1="@firebase/installations-compat",C1="@firebase/messaging",x1="@firebase/messaging-compat",A1="@firebase/performance",R1="@firebase/performance-compat",O1="@firebase/remote-config",N1="@firebase/remote-config-compat",L1="@firebase/storage",M1="@firebase/storage-compat",I1="@firebase/firestore",D1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",z1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="[DEFAULT]",U1={[Z_]:"fire-core",[h1]:"fire-core-compat",[d1]:"fire-analytics",[f1]:"fire-analytics-compat",[p1]:"fire-app-check",[_1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[v1]:"fire-rtdb",[y1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[b1]:"fire-fn",[S1]:"fire-fn-compat",[T1]:"fire-iid",[w1]:"fire-iid-compat",[C1]:"fire-fcm",[x1]:"fire-fcm-compat",[A1]:"fire-perf",[R1]:"fire-perf-compat",[O1]:"fire-rc",[N1]:"fire-rc-compat",[L1]:"fire-gcs",[M1]:"fire-gcs-compat",[I1]:"fire-fst",[P1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,B1=new Map,G_=new Map;function Ey(r,t){try{r.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ao(r){const t=r.name;if(G_.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;G_.set(t,r);for(const i of Lh.values())Ey(i,r);for(const i of B1.values())Ey(i,r);return!0}function yp(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ni(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Ou("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i,o){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=z1;function db(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const o={name:q_,automaticDataCollectionEnabled:!0,...t},c=o.name;if(typeof c!="string"||!c)throw yr.create("bad-app-name",{appName:String(c)});if(i||(i=rb()),!i)throw yr.create("no-options");const d=Lh.get(c);if(d){if(da(i,d.options)&&da(o,d.config))return d;throw yr.create("duplicate-app",{appName:c})}const _=new YC(c);for(const v of G_.values())_.addComponent(v);const g=new j1(i,o,_);return Lh.set(c,g),g}function _b(r=q_){const t=Lh.get(r);if(!t&&r===q_&&rb())return db();if(!t)throw yr.create("no-app",{appName:r});return t}function Er(r,t,i){let o=U1[r]??r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const _=[`Unable to register library "${o}" with version "${t}":`];c&&_.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&_.push("and"),d&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(_.join(" "));return}Ao(new _a(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebase-heartbeat-database",q1=1,_u="firebase-heartbeat-store";let w_=null;function pb(){return w_||(w_=a1(Z1,q1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(_u)}catch(i){console.warn(i)}}}}).catch(r=>{throw yr.create("idb-open",{originalErrorMessage:r.message})})),w_}async function G1(r){try{const i=(await pb()).transaction(_u),o=await i.objectStore(_u).get(mb(r));return await i.done,o}catch(t){if(t instanceof Rr)fs.warn(t.message);else{const i=yr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function by(r,t){try{const o=(await pb()).transaction(_u,"readwrite");await o.objectStore(_u).put(t,mb(r)),await o.done}catch(i){if(i instanceof Rr)fs.warn(i.message);else{const o=yr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(o.message)}}}function mb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1024,F1=30;class Y1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K1(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>F1){const c=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sy(),{heartbeatsToSend:i,unsentEntries:o}=W1(this._heartbeatsCache.heartbeats),c=Rh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return fs.warn(t),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function W1(r,t=V1){const i=[];let o=r.slice();for(const c of r){const d=i.find(_=>_.agent===c.agent);if(d){if(d.dates.push(c.date),Ty(i)>t){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),Ty(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await G1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ty(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function X1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let o=1;o<r.length;o++)r[o].date<i&&(i=r[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){Ao(new _a("platform-logger",t=>new u1(t),"PRIVATE")),Ao(new _a("heartbeat",t=>new Y1(t),"PRIVATE")),Er(Z_,yy,r),Er(Z_,yy,"esm2020"),Er("fire-js","")}Q1("");var $1="firebase",J1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er($1,J1,"app");var wy={};const Cy="@firebase/database",xy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb="";function tx(r){gb=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ae(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:du(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Ai(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ex(t)}}catch{}return new nx},ha=vb("localStorage"),ix=vb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new gp("@firebase/database"),sx=(function(){let r=1;return function(){return r++}})(),yb=function(r){const t=qC(r),i=new BC;i.update(t);const o=i.digest();return _p.encodeByteArray(o)},Nu=function(...r){let t="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Nu.apply(null,o):typeof o=="object"?t+=Ae(o):t+=o,t+=" "}return t};let au=null,Ay=!0;const rx=function(r,t){nt(!0,"Can't turn on custom loggers persistently."),Eo.logLevel=Xt.VERBOSE,au=Eo.log.bind(Eo)},qe=function(...r){if(Ay===!0&&(Ay=!1,au===null&&ix.get("logging_enabled")===!0&&rx()),au){const t=Nu.apply(null,r);au(t)}},Lu=function(r){return function(...t){qe(r,...t)}},V_=function(...r){const t="FIREBASE INTERNAL ERROR: "+Nu(...r);Eo.error(t)},ds=function(...r){const t=`FIREBASE FATAL ERROR: ${Nu(...r)}`;throw Eo.error(t),new Error(t)},ln=function(...r){const t="FIREBASE WARNING: "+Nu(...r);Eo.warn(t)},ax=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ep=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},ox=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ro="[MIN_NAME]",pa="[MAX_NAME]",Ea=function(r,t){if(r===t)return 0;if(r===Ro||t===pa)return-1;if(t===Ro||r===pa)return 1;{const i=Ry(r),o=Ry(t);return i!==null?o!==null?i-o===0?r.length-t.length:i-o:-1:o!==null?1:r<t?-1:1}},lx=function(r,t){return r===t?0:r<t?-1:1},$l=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+Ae(t))},bp=function(r){if(typeof r!="object"||r===null)return Ae(r);const t=[];for(const o in r)t.push(o);t.sort();let i="{";for(let o=0;o<t.length;o++)o!==0&&(i+=","),i+=Ae(t[o]),i+=":",i+=bp(r[t[o]]);return i+="}",i},Eb=function(r,t){const i=r.length;if(i<=t)return[r];const o=[];for(let c=0;c<i;c+=t)c+t>i?o.push(r.substring(c,i)):o.push(r.substring(c,c+t));return o};function Ge(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const bb=function(r){nt(!Ep(r),"Invalid JSON number");const t=11,i=52,o=(1<<t-1)-1;let c,d,_,g,v;r===0?(d=0,_=0,c=1/r===-1/0?1:0):(c=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=g+o,_=Math.round(r*Math.pow(2,i-g)-Math.pow(2,i))):(d=0,_=Math.round(r/Math.pow(2,1-o-i))));const E=[];for(v=i;v;v-=1)E.push(_%2?1:0),_=Math.floor(_/2);for(v=t;v;v-=1)E.push(d%2?1:0),d=Math.floor(d/2);E.push(c?1:0),E.reverse();const T=E.join("");let C="";for(v=0;v<64;v+=8){let A=parseInt(T.substr(v,8),2).toString(16);A.length===1&&(A="0"+A),C=C+A}return C.toLowerCase()},ux=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hx(r,t){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+i);return o.code=r.toUpperCase(),o}const fx=new RegExp("^-?(0*)\\d{1,10}$"),dx=-2147483648,_x=2147483647,Ry=function(r){if(fx.test(r)){const t=Number(r);if(t>=dx&&t<=_x)return t}return null},Ho=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw ln("Exception was thrown by user callback.",i),t},Math.floor(0))}},px=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ou=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,ni(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ln(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,i,o){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ln(t)}}class Sh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Sh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="5",Sb="v",Tb="s",wb="r",Cb="f",xb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ab="ls",Rb="p",F_="ac",Ob="websocket",Nb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,i,o,c,d=!1,_="",g=!1,v=!1,E=null){this.secure=i,this.namespace=o,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=_,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ha.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ha.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function vx(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function Mb(r,t,i){nt(typeof t=="string","typeof type must == string"),nt(typeof i=="object","typeof params must == object");let o;if(t===Ob)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===Nb)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vx(r)&&(i.ns=r.namespace);const c=[];return Ge(i,(d,_)=>{c.push(d+"="+_)}),o+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.counters_={}}incrementCounter(t,i=1){Ai(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return vC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={},x_={};function Tp(r){const t=r.toString();return C_[t]||(C_[t]=new yx),C_[t]}function Ex(r,t){const i=r.toString();return x_[i]||(x_[i]=t()),x_[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<o.length;++c)o[c]&&Ho(()=>{this.onMessage_(o[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="start",Sx="close",Tx="pLPCommand",wx="pRTLPCB",Ib="id",Db="pw",Pb="ser",Cx="cb",xx="seg",Ax="ts",Rx="d",Ox="dframe",kb=1870,zb=30,Nx=kb-zb,Lx=25e3,Mx=3e4;class vo{constructor(t,i,o,c,d,_,g){this.connId=t,this.repoInfo=i,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.transportSessionId=_,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lu(t),this.stats_=Tp(i),this.urlFn=v=>(this.appCheckToken&&(v[F_]=this.appCheckToken),Mb(i,Nb,v))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new bx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Mx)),ox(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wp((...d)=>{const[_,g,v,E,T]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_===Oy)this.id=g,this.password=v;else if(_===Sx)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_)},(...d)=>{const[_,g]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(_,g)},()=>{this.onClosed_()},this.urlFn);const o={};o[Oy]="t",o[Pb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Cx]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Sb]=Sp,this.transportSessionId&&(o[Tb]=this.transportSessionId),this.lastSessionId&&(o[Ab]=this.lastSessionId),this.applicationId&&(o[Rb]=this.applicationId),this.appCheckToken&&(o[F_]=this.appCheckToken),typeof location<"u"&&location.hostname&&xb.test(location.hostname)&&(o[wb]=Cb);const c=this.urlFn(o);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vo.forceAllow_=!0}static forceDisallow(){vo.forceDisallow_=!0}static isAvailable(){return vo.forceAllow_?!0:!vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ux()&&!cx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ae(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=nb(i),c=Eb(o,Nx);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[Ox]="t",o[Ib]=t,o[Db]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ae(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class wp{constructor(t,i,o,c){this.onDisconnect=o,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sx(),window[Tx+this.uniqueCallbackIdentifier]=t,window[wx+this.uniqueCallbackIdentifier]=i,this.myIFrame=wp.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(g){qe("frame writing exception"),g.stack&&qe(g.stack),qe(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ib]=this.myID,t[Db]=this.myPW,t[Pb]=this.currentSerial;let i=this.urlFn(t),o="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zb+o.length<=kb;){const _=this.pendingSegs.shift();o=o+"&"+xx+c+"="+_.seg+"&"+Ax+c+"="+_.ts+"&"+Rx+c+"="+_.d,c++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,o){this.pendingSegs.push({seg:t,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(o,Math.floor(Lx)),d=()=>{clearTimeout(c),o()};this.addTag(t,d)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const c=o.readyState;(!c||c==="loaded"||c==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=16384,Dx=45e3;let Mh=null;typeof MozWebSocket<"u"?Mh=MozWebSocket:typeof WebSocket<"u"&&(Mh=WebSocket);class ii{constructor(t,i,o,c,d,_,g){this.connId=t,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lu(this.connId),this.stats_=Tp(i),this.connURL=ii.connectionURL_(i,_,g,c,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,c,d){const _={};return _[Sb]=Sp,typeof location<"u"&&location.hostname&&xb.test(location.hostname)&&(_[wb]=Cb),i&&(_[Tb]=i),o&&(_[Ab]=o),c&&(_[F_]=c),d&&(_[Rb]=d),Mb(t,Ob,_)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{let o;LC(),this.mySock=new Mh(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Mh!==null&&!ii.forceDisallow_}static previouslyFailed(){return ha.isInMemoryStorage||ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){ha.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=du(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(nt(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=Ae(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Eb(i,Ix);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Dx))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static get ALL_TRANSPORTS(){return[vo,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ii&&ii.isAvailable();let o=i&&!ii.previouslyFailed();if(t.webSocketOnly&&(i||ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ii];else{const c=this.transports_=[];for(const d of pu.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);pu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=6e4,kx=5e3,zx=10*1024,Ux=100*1024,A_="t",Ny="d",Bx="s",Ly="r",Hx="e",My="o",Iy="a",Dy="n",Py="p",jx="h";class Zx{constructor(t,i,o,c,d,_,g,v,E,T){this.id=t,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=_,this.onReady_=g,this.onDisconnect_=v,this.onKill_=E,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lu("c:"+this.id+":"),this.transportManager_=new pu(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=ou(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ux?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(A_ in t){const i=t[A_];i===Iy?this.upgradeIfSecondaryHealthy_():i===Ly?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===My&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=$l("t",t),o=$l("d",t);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Py,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Iy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=$l("t",t),o=$l("d",t);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=$l(A_,t);if(Ny in t){const o=t[Ny];if(i===jx){const c={...o};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===Dy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Bx?this.onConnectionShutdown_(o):i===Ly?this.onReset_(o):i===Hx?V_("Server Error: "+o):i===My?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V_("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,o=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Sp!==o&&ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),ou(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Px))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ou(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Py,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{put(t,i,o,c){}merge(t,i,o,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,o){}onDisconnectMerge(t,i,o){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this.allowedEvents_=t,this.listeners_={},nt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let c=0;c<o.length;c++)o[c].callback.apply(o[c].context,i)}}on(t,i,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:o});const c=this.getInitialEvent(t);c&&i.apply(o,c)}off(t,i,o){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let d=0;d<c.length;d++)if(c[d].callback===i&&(!o||o===c[d].context)){c.splice(d,1);return}}validateEventType_(t){nt(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Bb{static getInstance(){return new Ih}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return nt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=32,zy=768;class Qt{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let o=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[o]=this.pieces_[c],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Zt(){return new Qt("")}function Dt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function wr(r){return r.pieces_.length-r.pieceNum_}function se(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Qt(r.pieces_,t)}function Cp(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function qx(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function mu(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Hb(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new Qt(t,0)}function pe(r,t){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(t instanceof Qt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)i.push(t.pieces_[o]);else{const o=t.split("/");for(let c=0;c<o.length;c++)o[c].length>0&&i.push(o[c])}return new Qt(i,0)}function Mt(r){return r.pieceNum_>=r.pieces_.length}function on(r,t){const i=Dt(r),o=Dt(t);if(i===null)return t;if(i===o)return on(se(r),se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Gx(r,t){const i=mu(r,0),o=mu(t,0);for(let c=0;c<i.length&&c<o.length;c++){const d=Ea(i[c],o[c]);if(d!==0)return d}return i.length===o.length?0:i.length<o.length?-1:1}function jb(r,t){if(wr(r)!==wr(t))return!1;for(let i=r.pieceNum_,o=t.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==t.pieces_[o])return!1;return!0}function qn(r,t){let i=r.pieceNum_,o=t.pieceNum_;if(wr(r)>wr(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[o])return!1;++i,++o}return!0}class Vx{constructor(t,i){this.errorPrefix_=i,this.parts_=mu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=nf(this.parts_[o]);Zb(this)}}function Fx(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=nf(t),Zb(r)}function Yx(r){const t=r.parts_.pop();r.byteLength_-=nf(t),r.parts_.length>0&&(r.byteLength_-=1)}function Zb(r){if(r.byteLength_>zy)throw new Error(r.errorPrefix_+"has a key path longer than "+zy+" bytes ("+r.byteLength_+").");if(r.parts_.length>ky)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ky+") or object contains a cycle "+la(r))}function la(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Bb{static getInstance(){return new xp}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return nt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=1e3,Wx=300*1e3,Uy=30*1e3,Kx=1.3,Xx=3e4,Qx="server_kill",By=3;class cs extends Ub{constructor(t,i,o,c,d,_,g,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=cs.nextPersistentConnectionId_++,this.log_=Lu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jl,this.maxReconnectDelay_=Wx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ih.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const c=++this.requestNumber_,d={r:c,a:t,b:i};this.log_(Ae(d)),nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[c]=o)}get(t){this.initConnection_();const i=new Ru,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:_=>{const g=_.d;_.s==="ok"?i.resolve(g):i.reject(g)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),i.promise}listen(t,i,o,c){this.initConnection_();const d=t._queryIdentifier,_=t._path.toString();this.log_("Listen called for "+_+" "+d),this.listens.has(_)||this.listens.set(_,new Map),nt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),nt(!this.listens.get(_).has(d),"listen() called twice for same path/queryId.");const g={onComplete:c,hashFn:i,query:t,tag:o};this.listens.get(_).set(d,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+o+" for "+c);const d={p:o},_="q";t.tag&&(d.q=i._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest(_,d,g=>{const v=g.d,E=g.s;cs.warnOnListenWarnings_(v,i),(this.listens.get(o)&&this.listens.get(o).get(c))===t&&(this.log_("listen response",g),E!=="ok"&&this.removeListen_(o,c),t.onComplete&&t.onComplete(E,v))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Ai(t,"w")){const o=xo(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||UC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Uy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=zC(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,c=>{const d=c.s,_=c.d||"error";this.authToken_===t&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),nt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,t._queryObject,i)}sendUnlisten_(t,i,o,c){this.log_("Unlisten on "+t+" for "+i);const d={p:t},_="n";c&&(d.q=o,d.t=c),this.sendRequest(_,d)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,c){const d={p:i,d:o};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(t,i,o,c){this.putInternal("p",t,i,o,c)}merge(t,i,o,c){this.putInternal("m",t,i,o,c)}putInternal(t,i,o,c,d){this.initConnection_();const _={p:i,d:o};d!==void 0&&(_.h=d),this.outstandingPuts_.push({action:t,request:_,onComplete:c}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const d=o.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ae(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):V_("Unrecognized action received from server: "+Ae(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xx&&(this.reconnectDelay_=Jl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Kx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+cs.nextConnectionId_++,d=this.lastSessionId;let _=!1,g=null;const v=function(){g?g.close():(_=!0,o())},E=function(C){nt(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(C)};this.realtime_={close:v,sendRequest:E};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,A]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);_?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=A&&A.token,g=new Zx(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,o,H=>{ln(H+" ("+this.repoInfo_.toString()+")"),this.interrupt(Qx)},d))}catch(C){this.log_("Failed to get token: "+C),_||(this.repoInfo_.nodeAdmin&&ln(C),v())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],B_(this.interruptReasons_)&&(this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;i?o=i.map(d=>bp(d)).join("$"):o="default";const c=this.removeListen_(t,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,i){const o=new Qt(t).toString();let c;if(this.listens.has(o)){const d=this.listens.get(o);c=d.get(i),d.delete(i),d.size===0&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(t,i){qe("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=By&&(this.reconnectDelay_=Uy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){qe("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=By&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+gb.replace(/\./g,"-")]=1,mp()?t["framework.cordova"]=1:ub()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ih.getInstance().currentlyOnline();return B_(this.interruptReasons_)&&t}}cs.nextPersistentConnectionId_=0;cs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Ot(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const o=new Ot(Ro,t),c=new Ot(Ro,i);return this.compare(o,c)!==0}minPost(){return Ot.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;class qb extends sf{static get __EMPTY_NODE(){return gh}static set __EMPTY_NODE(t){gh=t}compare(t,i){return Ea(t.name,i.name)}isDefinedOn(t){throw ko("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Ot.MIN}maxPost(){return new Ot(pa,gh)}makePost(t,i){return nt(typeof t=="string","KeyIndex indexValue must always be a string."),new Ot(t,gh)}toString(){return".key"}}const bo=new qb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i,o,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let _=1;for(;!t.isEmpty();)if(t=t,_=i?o(t.key,i):1,c&&(_*=-1),_<0)this.isReverse_?t=t.left:t=t.right;else if(_===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ke{constructor(t,i,o,c,d){this.key=t,this.value=i,this.color=o??ke.RED,this.left=c??vn.EMPTY_NODE,this.right=d??vn.EMPTY_NODE}copy(t,i,o,c,d){return new ke(t??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let c=this;const d=o(t,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(t,i,o),null):d===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(t,i,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,c;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(t,o.key)===0){if(o.right.isEmpty())return vn.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ke.RED=!0;ke.BLACK=!1;class $x{copy(t,i,o,c,d){return this}insert(t,i,o){return new ke(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vn{constructor(t,i=vn.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new vn(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ke.BLACK,null,null))}remove(t){return new vn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ke.BLACK,null,null))}get(t){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(t,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(t){let i,o=this.root_,c=null;for(;!o.isEmpty();)if(i=this.comparator_(t,o.key),i===0){if(o.left.isEmpty())return c?c.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(c=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new vh(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new vh(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new vh(this.root_,null,this.comparator_,!0,t)}}vn.EMPTY_NODE=new $x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(r,t){return Ea(r.name,t.name)}function Ap(r,t){return Ea(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_;function tA(r){Y_=r}const Gb=function(r){return typeof r=="number"?"number:"+bb(r):"string:"+r},Vb=function(r){if(r.isLeafNode()){const t=r.val();nt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ai(t,".sv"),"Priority must be a string or number.")}else nt(r===Y_||r.isEmpty(),"priority of unexpected type.");nt(r===Y_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;class Pe{static set __childrenNodeConstructor(t){Hy=t}static get __childrenNodeConstructor(){return Hy}constructor(t,i=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,nt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Mt(t)?this:Dt(t)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=Dt(t);return o===null?i:i.isEmpty()&&o!==".priority"?this:(nt(o!==".priority"||wr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gb(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=bb(this.value_):t+=this.value_,this.lazyHash_=yb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Pe.__childrenNodeConstructor?-1:(nt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,c=Pe.VALUE_TYPE_ORDER.indexOf(i),d=Pe.VALUE_TYPE_ORDER.indexOf(o);return nt(c>=0,"Unknown leaf type: "+i),nt(d>=0,"Unknown leaf type: "+o),c===d?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb,Yb;function eA(r){Fb=r}function nA(r){Yb=r}class iA extends sf{compare(t,i){const o=t.node.getPriority(),c=i.node.getPriority(),d=o.compareTo(c);return d===0?Ea(t.name,i.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Ot.MIN}maxPost(){return new Ot(pa,new Pe("[PRIORITY-POST]",Yb))}makePost(t,i){const o=Fb(t);return new Ot(i,new Pe("[PRIORITY-POST]",o))}toString(){return".priority"}}const me=new iA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=Math.log(2);class rA{constructor(t){const i=d=>parseInt(Math.log(d)/sA,10),o=d=>parseInt(Array(d+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const c=o(this.count);this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Dh=function(r,t,i,o){r.sort(t);const c=function(v,E){const T=E-v;let C,A;if(T===0)return null;if(T===1)return C=r[v],A=i?i(C):C,new ke(A,C.node,ke.BLACK,null,null);{const H=parseInt(T/2,10)+v,V=c(v,H),U=c(H+1,E);return C=r[H],A=i?i(C):C,new ke(A,C.node,ke.BLACK,V,U)}},d=function(v){let E=null,T=null,C=r.length;const A=function(V,U){const Q=C-V,et=C;C-=V;const it=c(Q+1,et),lt=r[Q],It=i?i(lt):lt;H(new ke(It,lt.node,U,null,it))},H=function(V){E?(E.left=V,E=V):(T=V,E=V)};for(let V=0;V<v.count;++V){const U=v.nextBitIsOne(),Q=Math.pow(2,v.count-(V+1));U?A(Q,ke.BLACK):(A(Q,ke.BLACK),A(Q,ke.RED))}return T},_=new rA(r.length),g=d(_);return new vn(o||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R_;const po={};class rs{static get Default(){return nt(po&&me,"ChildrenNode.ts has not been loaded"),R_=R_||new rs({".priority":po},{".priority":me}),R_}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=xo(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof vn?i:null}hasIndex(t){return Ai(this.indexSet_,t.toString())}addIndex(t,i){nt(t!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let c=!1;const d=i.getIterator(Ot.Wrap);let _=d.getNext();for(;_;)c=c||t.isDefinedOn(_.node),o.push(_),_=d.getNext();let g;c?g=Dh(o,t.getCompare()):g=po;const v=t.toString(),E={...this.indexSet_};E[v]=t;const T={...this.indexes_};return T[v]=g,new rs(T,E)}addToIndexes(t,i){const o=Nh(this.indexes_,(c,d)=>{const _=xo(this.indexSet_,d);if(nt(_,"Missing index implementation for "+d),c===po)if(_.isDefinedOn(t.node)){const g=[],v=i.getIterator(Ot.Wrap);let E=v.getNext();for(;E;)E.name!==t.name&&g.push(E),E=v.getNext();return g.push(t),Dh(g,_.getCompare())}else return po;else{const g=i.get(t.name);let v=c;return g&&(v=v.remove(new Ot(t.name,g))),v.insert(t,t.node)}});return new rs(o,this.indexSet_)}removeFromIndexes(t,i){const o=Nh(this.indexes_,c=>{if(c===po)return c;{const d=i.get(t.name);return d?c.remove(new Ot(t.name,d)):c}});return new rs(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;class yt{static get EMPTY_NODE(){return tu||(tu=new yt(new vn(Ap),null,rs.Default))}constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Vb(this.priorityNode_),this.children_.isEmpty()&&nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tu}updatePriority(t){return this.children_.isEmpty()?this:new yt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?tu:i}}getChild(t){const i=Dt(t);return i===null?this:this.getImmediateChild(i).getChild(se(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(nt(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const o=new Ot(t,i);let c,d;i.isEmpty()?(c=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(t,i),d=this.indexMap_.addToIndexes(o,this.children_));const _=c.isEmpty()?tu:this.priorityNode_;return new yt(c,_,d)}}updateChild(t,i){const o=Dt(t);if(o===null)return i;{nt(Dt(t)!==".priority"||wr(t)===1,".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(se(t),i);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,c=0,d=!0;if(this.forEachChild(me,(_,g)=>{i[_]=g.val(t),o++,d&&yt.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):d=!1}),!t&&d&&c<2*o){const _=[];for(const g in i)_[g]=i[g];return _}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gb(this.getPriority().val())+":"),this.forEachChild(me,(i,o)=>{const c=o.hash();c!==""&&(t+=":"+i+":"+c)}),this.lazyHash_=t===""?"":yb(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const c=this.resolveIndex_(o);if(c){const d=c.getPredecessorKey(new Ot(t,i));return d?d.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ot(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ot(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Ot.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,t)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Ot.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,t)>0;)c.getNext(),d=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Mu?-1:0}withIndex(t){if(t===bo||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new yt(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===bo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(me),c=i.getIterator(me);let d=o.getNext(),_=c.getNext();for(;d&&_;){if(d.name!==_.name||!d.node.equals(_.node))return!1;d=o.getNext(),_=c.getNext()}return d===null&&_===null}else return!1;else return!1}}resolveIndex_(t){return t===bo?null:this.indexMap_.get(t.toString())}}yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aA extends yt{constructor(){super(new vn(Ap),yt.EMPTY_NODE,rs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return yt.EMPTY_NODE}isEmpty(){return!1}}const Mu=new aA;Object.defineProperties(Ot,{MIN:{value:new Ot(Ro,yt.EMPTY_NODE)},MAX:{value:new Ot(pa,Mu)}});qb.__EMPTY_NODE=yt.EMPTY_NODE;Pe.__childrenNodeConstructor=yt;tA(Mu);nA(Mu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=!0;function xe(r,t=null){if(r===null)return yt.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),nt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new Pe(i,xe(t))}if(!(r instanceof Array)&&oA){const i=[];let o=!1;if(Ge(r,(_,g)=>{if(_.substring(0,1)!=="."){const v=xe(g);v.isEmpty()||(o=o||!v.getPriority().isEmpty(),i.push(new Ot(_,v)))}}),i.length===0)return yt.EMPTY_NODE;const d=Dh(i,Jx,_=>_.name,Ap);if(o){const _=Dh(i,me.getCompare());return new yt(d,xe(t),new rs({".priority":_},{".priority":me}))}else return new yt(d,xe(t),rs.Default)}else{let i=yt.EMPTY_NODE;return Ge(r,(o,c)=>{if(Ai(r,o)&&o.substring(0,1)!=="."){const d=xe(c);(d.isLeafNode()||!d.isEmpty())&&(i=i.updateImmediateChild(o,d))}}),i.updatePriority(xe(t))}}eA(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends sf{constructor(t){super(),this.indexPath_=t,nt(!Mt(t)&&Dt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const o=this.extractChild(t.node),c=this.extractChild(i.node),d=o.compareTo(c);return d===0?Ea(t.name,i.name):d}makePost(t,i){const o=xe(t),c=yt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ot(i,c)}maxPost(){const t=yt.EMPTY_NODE.updateChild(this.indexPath_,Mu);return new Ot(pa,t)}toString(){return mu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends sf{compare(t,i){const o=t.node.compareTo(i.node);return o===0?Ea(t.name,i.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Ot.MIN}maxPost(){return Ot.MAX}makePost(t,i){const o=xe(t);return new Ot(i,o)}toString(){return".value"}}const cA=new uA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(r){return{type:"value",snapshotNode:r}}function Oo(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function gu(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function vu(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function hA(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t){this.index_=t}updateChild(t,i,o,c,d,_){nt(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(i);return g.getChild(c).equals(o.getChild(c))&&g.isEmpty()===o.isEmpty()||(_!=null&&(o.isEmpty()?t.hasChild(i)?_.trackChildChange(gu(i,g)):nt(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?_.trackChildChange(Oo(i,o)):_.trackChildChange(vu(i,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(t,i,o){return o!=null&&(t.isLeafNode()||t.forEachChild(me,(c,d)=>{i.hasChild(c)||o.trackChildChange(gu(c,d))}),i.isLeafNode()||i.forEachChild(me,(c,d)=>{if(t.hasChild(c)){const _=t.getImmediateChild(c);_.equals(d)||o.trackChildChange(vu(c,d,_))}else o.trackChildChange(Oo(c,d))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?yt.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t){this.indexedFilter_=new Rp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=yu.getStartPost_(t),this.endPost_=yu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&o}updateChild(t,i,o,c,d,_){return this.matches(new Ot(i,o))||(o=yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,o,c,d,_)}updateFullNode(t,i,o){i.isLeafNode()&&(i=yt.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(yt.EMPTY_NODE);const d=this;return i.forEachChild(me,(_,g)=>{d.matches(new Ot(_,g))||(c=c.updateImmediateChild(_,yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,c,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new yu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,o,c,d,_){return this.rangedFilter_.matches(new Ot(i,o))||(o=yt.EMPTY_NODE),t.getImmediateChild(i).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,o,c,d,_):this.fullLimitUpdateChild_(t,i,o,d,_)}updateFullNode(t,i,o){let c;if(i.isLeafNode()||i.isEmpty())c=yt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=yt.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;d.hasNext()&&_<this.limit_;){const g=d.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))c=c.updateImmediateChild(g.name,g.node),_++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(yt.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let _=0;for(;d.hasNext();){const g=d.getNext();_<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?_++:c=c.updateImmediateChild(g.name,yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,c,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,o,c,d){let _;if(this.reverse_){const C=this.index_.getCompare();_=(A,H)=>C(H,A)}else _=this.index_.getCompare();const g=t;nt(g.numChildren()===this.limit_,"");const v=new Ot(i,o),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(g.hasChild(i)){const C=g.getImmediateChild(i);let A=c.getChildAfterChild(this.index_,E,this.reverse_);for(;A!=null&&(A.name===i||g.hasChild(A.name));)A=c.getChildAfterChild(this.index_,A,this.reverse_);const H=A==null?1:_(A,v);if(T&&!o.isEmpty()&&H>=0)return d?.trackChildChange(vu(i,o,C)),g.updateImmediateChild(i,o);{d?.trackChildChange(gu(i,C));const U=g.updateImmediateChild(i,yt.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(d?.trackChildChange(Oo(A.name,A.node)),U.updateImmediateChild(A.name,A.node)):U}}else return o.isEmpty()?t:T&&_(E,v)>=0?(d!=null&&(d.trackChildChange(gu(E.name,E.node)),d.trackChildChange(Oo(i,o))),g.updateImmediateChild(i,o).updateImmediateChild(E.name,yt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ro}hasEnd(){return this.endSet_}getIndexEndValue(){return nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return nt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const t=new Op;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dA(r){return r.loadsAllData()?new Rp(r.getIndex()):r.hasLimit()?new fA(r):new yu(r)}function jy(r){const t={};if(r.isDefault())return t;let i;if(r.index_===me?i="$priority":r.index_===cA?i="$value":r.index_===bo?i="$key":(nt(r.index_ instanceof lA,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=Ae(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=Ae(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+Ae(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=Ae(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+Ae(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function Zy(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==me&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Ub{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(nt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,o,c){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.log_=Lu("p:rest:"),this.listens_={}}listen(t,i,o,c){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const _=Ph.getListenId_(t,o),g={};this.listens_[_]=g;const v=jy(t._queryParams);this.restRequest_(d+".json",v,(E,T)=>{let C=T;if(E===404&&(C=null,E=null),E===null&&this.onDataUpdate_(d,C,!1,o),xo(this.listens_,_)===g){let A;E?E===401?A="permission_denied":A="rest_error:"+E:A="ok",c(A,null)}})}unlisten(t,i){const o=Ph.getListenId_(t,i);delete this.listens_[o]}get(t){const i=jy(t._queryParams),o=t._path.toString(),c=new Ru;return this.restRequest_(o+".json",i,(d,_)=>{let g=_;d===404&&(g=null,d=null),d===null?(this.onDataUpdate_(o,g,!1,null),c.resolve(g)):c.reject(new Error(g))}),c.promise}refreshAuthToken(t){}restRequest_(t,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(i.auth=c.accessToken),d&&d.token&&(i.ac=d.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Uo(i);this.log_("Sending REST request for "+_);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&g.readyState===4){this.log_("REST Response for "+_+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=du(g.responseText)}catch{ln("Failed to parse JSON response for "+_+": "+g.responseText)}o(null,v)}else g.status!==401&&g.status!==404&&ln("Got unsuccessful REST response for "+_+" Status: "+g.status),o(g.status);o=null}},g.open("GET",_,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.rootNode_=yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(){return{value:null,children:new Map}}function Kb(r,t,i){if(Mt(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const o=Dt(t);r.children.has(o)||r.children.set(o,kh());const c=r.children.get(o);t=se(t),Kb(c,t,i)}}function W_(r,t,i){r.value!==null?i(t,r.value):pA(r,(o,c)=>{const d=new Qt(t.toString()+"/"+o);W_(c,d,i)})}function pA(r,t){r.children.forEach((i,o)=>{t(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Ge(this.last_,(o,c)=>{i[o]=i[o]-c}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=10*1e3,gA=30*1e3,vA=300*1e3;class yA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new mA(t);const o=qy+(gA-qy)*Math.random();ou(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),i={};let o=!1;Ge(t,(c,d)=>{d>0&&Ai(this.statsToReport_,c)&&(i[c]=d,o=!0)}),o&&this.server_.reportStats(i),ou(this.reportStats_.bind(this),Math.floor(Math.random()*2*vA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(si||(si={}));function Np(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mp(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,i,o){this.path=t,this.affectedTree=i,this.revert=o,this.type=si.ACK_USER_WRITE,this.source=Np()}operationForChild(t){if(Mt(this.path)){if(this.affectedTree.value!=null)return nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Qt(t));return new zh(Zt(),i,this.revert)}}else return nt(Dt(this.path)===t,"operationForChild called for unrelated child."),new zh(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,i){this.source=t,this.path=i,this.type=si.LISTEN_COMPLETE}operationForChild(t){return Mt(this.path)?new Eu(this.source,Zt()):new Eu(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,i,o){this.source=t,this.path=i,this.snap=o,this.type=si.OVERWRITE}operationForChild(t){return Mt(this.path)?new ma(this.source,Zt(),this.snap.getImmediateChild(t)):new ma(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,i,o){this.source=t,this.path=i,this.children=o,this.type=si.MERGE}operationForChild(t){if(Mt(this.path)){const i=this.children.subtree(new Qt(t));return i.isEmpty()?null:i.value?new ma(this.source,Zt(),i.value):new No(this.source,Zt(),i)}else return nt(Dt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new No(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,i,o){this.node_=t,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;const i=Dt(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function bA(r,t,i,o){const c=[],d=[];return t.forEach(_=>{_.type==="child_changed"&&r.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&d.push(hA(_.childName,_.snapshotNode))}),eu(r,c,"child_removed",t,o,i),eu(r,c,"child_added",t,o,i),eu(r,c,"child_moved",d,o,i),eu(r,c,"child_changed",t,o,i),eu(r,c,"value",t,o,i),c}function eu(r,t,i,o,c,d){const _=o.filter(g=>g.type===i);_.sort((g,v)=>TA(r,g,v)),_.forEach(g=>{const v=SA(r,g,d);c.forEach(E=>{E.respondsTo(g.type)&&t.push(E.createEvent(v,r.query_))})})}function SA(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function TA(r,t,i){if(t.childName==null||i.childName==null)throw ko("Should only compare child_ events.");const o=new Ot(t.childName,t.snapshotNode),c=new Ot(i.childName,i.snapshotNode);return r.index_.compare(o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(r,t){return{eventCache:r,serverCache:t}}function lu(r,t,i,o){return rf(new Cr(t,i,o),r.serverCache)}function Xb(r,t,i,o){return rf(r.eventCache,new Cr(t,i,o))}function Uh(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ga(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O_;const wA=()=>(O_||(O_=new vn(lx)),O_);class ie{static fromObject(t){let i=new ie(null);return Ge(t,(o,c)=>{i=i.set(new Qt(o),c)}),i}constructor(t,i=wA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Zt(),value:this.value};if(Mt(t))return null;{const o=Dt(t),c=this.children.get(o);if(c!==null){const d=c.findRootMostMatchingPathAndValue(se(t),i);return d!=null?{path:pe(new Qt(o),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mt(t))return this;{const i=Dt(t),o=this.children.get(i);return o!==null?o.subtree(se(t)):new ie(null)}}set(t,i){if(Mt(t))return new ie(i,this.children);{const o=Dt(t),d=(this.children.get(o)||new ie(null)).set(se(t),i),_=this.children.insert(o,d);return new ie(this.value,_)}}remove(t){if(Mt(t))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const i=Dt(t),o=this.children.get(i);if(o){const c=o.remove(se(t));let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),this.value===null&&d.isEmpty()?new ie(null):new ie(this.value,d)}else return this}}get(t){if(Mt(t))return this.value;{const i=Dt(t),o=this.children.get(i);return o?o.get(se(t)):null}}setTree(t,i){if(Mt(t))return i;{const o=Dt(t),d=(this.children.get(o)||new ie(null)).setTree(se(t),i);let _;return d.isEmpty()?_=this.children.remove(o):_=this.children.insert(o,d),new ie(this.value,_)}}fold(t){return this.fold_(Zt(),t)}fold_(t,i){const o={};return this.children.inorderTraversal((c,d)=>{o[c]=d.fold_(pe(t,c),i)}),i(t,this.value,o)}findOnPath(t,i){return this.findOnPath_(t,Zt(),i)}findOnPath_(t,i,o){const c=this.value?o(i,this.value):!1;if(c)return c;if(Mt(t))return null;{const d=Dt(t),_=this.children.get(d);return _?_.findOnPath_(se(t),pe(i,d),o):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Zt(),i)}foreachOnPath_(t,i,o){if(Mt(t))return this;{this.value&&o(i,this.value);const c=Dt(t),d=this.children.get(c);return d?d.foreachOnPath_(se(t),pe(i,c),o):new ie(null)}}foreach(t){this.foreach_(Zt(),t)}foreach_(t,i){this.children.inorderTraversal((o,c)=>{c.foreach_(pe(t,o),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,o)=>{o.value&&t(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.writeTree_=t}static empty(){return new ai(new ie(null))}}function uu(r,t,i){if(Mt(t))return new ai(new ie(i));{const o=r.writeTree_.findRootMostValueAndPath(t);if(o!=null){const c=o.path;let d=o.value;const _=on(c,t);return d=d.updateChild(_,i),new ai(r.writeTree_.set(c,d))}else{const c=new ie(i),d=r.writeTree_.setTree(t,c);return new ai(d)}}}function K_(r,t,i){let o=r;return Ge(i,(c,d)=>{o=uu(o,pe(t,c),d)}),o}function Gy(r,t){if(Mt(t))return ai.empty();{const i=r.writeTree_.setTree(t,new ie(null));return new ai(i)}}function X_(r,t){return ba(r,t)!=null}function ba(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(on(i.path,t)):null}function Vy(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(me,(o,c)=>{t.push(new Ot(o,c))}):r.writeTree_.children.inorderTraversal((o,c)=>{c.value!=null&&t.push(new Ot(o,c.value))}),t}function br(r,t){if(Mt(t))return r;{const i=ba(r,t);return i!=null?new ai(new ie(i)):new ai(r.writeTree_.subtree(t))}}function Q_(r){return r.writeTree_.isEmpty()}function Lo(r,t){return Qb(Zt(),r.writeTree_,t)}function Qb(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((c,d)=>{c===".priority"?(nt(d.value!==null,"Priority writes must always be leaf nodes"),o=d.value):i=Qb(pe(r,c),d,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(pe(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r,t){return e0(t,r)}function CA(r,t,i,o,c){nt(o>r.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),r.allWrites.push({path:t,snap:i,writeId:o,visible:c}),c&&(r.visibleWrites=uu(r.visibleWrites,t,i)),r.lastWriteId=o}function xA(r,t,i,o){nt(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:i,writeId:o,visible:!0}),r.visibleWrites=K_(r.visibleWrites,t,i),r.lastWriteId=o}function AA(r,t){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===t)return o}return null}function RA(r,t){const i=r.allWrites.findIndex(g=>g.writeId===t);nt(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let c=o.visible,d=!1,_=r.allWrites.length-1;for(;c&&_>=0;){const g=r.allWrites[_];g.visible&&(_>=i&&OA(g,o.path)?c=!1:qn(o.path,g.path)&&(d=!0)),_--}if(c){if(d)return NA(r),!0;if(o.snap)r.visibleWrites=Gy(r.visibleWrites,o.path);else{const g=o.children;Ge(g,v=>{r.visibleWrites=Gy(r.visibleWrites,pe(o.path,v))})}return!0}else return!1}function OA(r,t){if(r.snap)return qn(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&qn(pe(r.path,i),t))return!0;return!1}function NA(r){r.visibleWrites=$b(r.allWrites,LA,Zt()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function LA(r){return r.visible}function $b(r,t,i){let o=ai.empty();for(let c=0;c<r.length;++c){const d=r[c];if(t(d)){const _=d.path;let g;if(d.snap)qn(i,_)?(g=on(i,_),o=uu(o,g,d.snap)):qn(_,i)&&(g=on(_,i),o=uu(o,Zt(),d.snap.getChild(g)));else if(d.children){if(qn(i,_))g=on(i,_),o=K_(o,g,d.children);else if(qn(_,i))if(g=on(_,i),Mt(g))o=K_(o,Zt(),d.children);else{const v=xo(d.children,Dt(g));if(v){const E=v.getChild(se(g));o=uu(o,Zt(),E)}}}else throw ko("WriteRecord should have .snap or .children")}}return o}function Jb(r,t,i,o,c){if(!o&&!c){const d=ba(r.visibleWrites,t);if(d!=null)return d;{const _=br(r.visibleWrites,t);if(Q_(_))return i;if(i==null&&!X_(_,Zt()))return null;{const g=i||yt.EMPTY_NODE;return Lo(_,g)}}}else{const d=br(r.visibleWrites,t);if(!c&&Q_(d))return i;if(!c&&i==null&&!X_(d,Zt()))return null;{const _=function(E){return(E.visible||c)&&(!o||!~o.indexOf(E.writeId))&&(qn(E.path,t)||qn(t,E.path))},g=$b(r.allWrites,_,t),v=i||yt.EMPTY_NODE;return Lo(g,v)}}}function MA(r,t,i){let o=yt.EMPTY_NODE;const c=ba(r.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(me,(d,_)=>{o=o.updateImmediateChild(d,_)}),o;if(i){const d=br(r.visibleWrites,t);return i.forEachChild(me,(_,g)=>{const v=Lo(br(d,new Qt(_)),g);o=o.updateImmediateChild(_,v)}),Vy(d).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}else{const d=br(r.visibleWrites,t);return Vy(d).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}}function IA(r,t,i,o,c){nt(o||c,"Either existingEventSnap or existingServerSnap must exist");const d=pe(t,i);if(X_(r.visibleWrites,d))return null;{const _=br(r.visibleWrites,d);return Q_(_)?c.getChild(i):Lo(_,c.getChild(i))}}function DA(r,t,i,o){const c=pe(t,i),d=ba(r.visibleWrites,c);if(d!=null)return d;if(o.isCompleteForChild(i)){const _=br(r.visibleWrites,c);return Lo(_,o.getNode().getImmediateChild(i))}else return null}function PA(r,t){return ba(r.visibleWrites,t)}function kA(r,t,i,o,c,d,_){let g;const v=br(r.visibleWrites,t),E=ba(v,Zt());if(E!=null)g=E;else if(i!=null)g=Lo(v,i);else return[];if(g=g.withIndex(_),!g.isEmpty()&&!g.isLeafNode()){const T=[],C=_.getCompare(),A=d?g.getReverseIteratorFrom(o,_):g.getIteratorFrom(o,_);let H=A.getNext();for(;H&&T.length<c;)C(H,o)!==0&&T.push(H),H=A.getNext();return T}else return[]}function zA(){return{visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1}}function Bh(r,t,i,o){return Jb(r.writeTree,r.treePath,t,i,o)}function Ip(r,t){return MA(r.writeTree,r.treePath,t)}function Fy(r,t,i,o){return IA(r.writeTree,r.treePath,t,i,o)}function Hh(r,t){return PA(r.writeTree,pe(r.treePath,t))}function UA(r,t,i,o,c,d){return kA(r.writeTree,r.treePath,t,i,o,c,d)}function Dp(r,t,i){return DA(r.writeTree,r.treePath,t,i)}function t0(r,t){return e0(pe(r.treePath,t),r.writeTree)}function e0(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,o=t.childName;nt(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),nt(o!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(o);if(c){const d=c.type;if(i==="child_added"&&d==="child_removed")this.changeMap.set(o,vu(o,t.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&d==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&d==="child_changed")this.changeMap.set(o,gu(o,c.oldSnap));else if(i==="child_changed"&&d==="child_added")this.changeMap.set(o,Oo(o,t.snapshotNode));else if(i==="child_changed"&&d==="child_changed")this.changeMap.set(o,vu(o,t.snapshotNode,c.oldSnap));else throw ko("Illegal combination of changes: "+t+" occurred after "+c)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{getCompleteChild(t){return null}getChildAfterChild(t,i,o){return null}}const n0=new HA;class Pp{constructor(t,i,o=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Cr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dp(this.writes_,t,o)}}getChildAfterChild(t,i,o){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ga(this.viewCache_),d=UA(this.writes_,c,i,1,o,t);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(r){return{filter:r}}function ZA(r,t){nt(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),nt(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function qA(r,t,i,o,c){const d=new BA;let _,g;if(i.type===si.OVERWRITE){const E=i;E.source.fromUser?_=$_(r,t,E.path,E.snap,o,c,d):(nt(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered()&&!Mt(E.path),_=jh(r,t,E.path,E.snap,o,c,g,d))}else if(i.type===si.MERGE){const E=i;E.source.fromUser?_=VA(r,t,E.path,E.children,o,c,d):(nt(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered(),_=J_(r,t,E.path,E.children,o,c,g,d))}else if(i.type===si.ACK_USER_WRITE){const E=i;E.revert?_=WA(r,t,E.path,o,c,d):_=FA(r,t,E.path,E.affectedTree,o,c,d)}else if(i.type===si.LISTEN_COMPLETE)_=YA(r,t,i.path,o,d);else throw ko("Unknown operation type: "+i.type);const v=d.getChanges();return GA(t,_,v),{viewCache:_,changes:v}}function GA(r,t,i){const o=t.eventCache;if(o.isFullyInitialized()){const c=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Uh(r);(i.length>0||!r.eventCache.isFullyInitialized()||c&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&i.push(Wb(Uh(t)))}}function i0(r,t,i,o,c,d){const _=t.eventCache;if(Hh(o,i)!=null)return t;{let g,v;if(Mt(i))if(nt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=ga(t),T=E instanceof yt?E:yt.EMPTY_NODE,C=Ip(o,T);g=r.filter.updateFullNode(t.eventCache.getNode(),C,d)}else{const E=Bh(o,ga(t));g=r.filter.updateFullNode(t.eventCache.getNode(),E,d)}else{const E=Dt(i);if(E===".priority"){nt(wr(i)===1,"Can't have a priority with additional path components");const T=_.getNode();v=t.serverCache.getNode();const C=Fy(o,i,T,v);C!=null?g=r.filter.updatePriority(T,C):g=_.getNode()}else{const T=se(i);let C;if(_.isCompleteForChild(E)){v=t.serverCache.getNode();const A=Fy(o,i,_.getNode(),v);A!=null?C=_.getNode().getImmediateChild(E).updateChild(T,A):C=_.getNode().getImmediateChild(E)}else C=Dp(o,E,t.serverCache);C!=null?g=r.filter.updateChild(_.getNode(),E,C,T,c,d):g=_.getNode()}}return lu(t,g,_.isFullyInitialized()||Mt(i),r.filter.filtersNodes())}}function jh(r,t,i,o,c,d,_,g){const v=t.serverCache;let E;const T=_?r.filter:r.filter.getIndexedFilter();if(Mt(i))E=T.updateFullNode(v.getNode(),o,null);else if(T.filtersNodes()&&!v.isFiltered()){const H=v.getNode().updateChild(i,o);E=T.updateFullNode(v.getNode(),H,null)}else{const H=Dt(i);if(!v.isCompleteForPath(i)&&wr(i)>1)return t;const V=se(i),Q=v.getNode().getImmediateChild(H).updateChild(V,o);H===".priority"?E=T.updatePriority(v.getNode(),Q):E=T.updateChild(v.getNode(),H,Q,V,n0,null)}const C=Xb(t,E,v.isFullyInitialized()||Mt(i),T.filtersNodes()),A=new Pp(c,C,d);return i0(r,C,i,c,A,g)}function $_(r,t,i,o,c,d,_){const g=t.eventCache;let v,E;const T=new Pp(c,t,d);if(Mt(i))E=r.filter.updateFullNode(t.eventCache.getNode(),o,_),v=lu(t,E,!0,r.filter.filtersNodes());else{const C=Dt(i);if(C===".priority")E=r.filter.updatePriority(t.eventCache.getNode(),o),v=lu(t,E,g.isFullyInitialized(),g.isFiltered());else{const A=se(i),H=g.getNode().getImmediateChild(C);let V;if(Mt(A))V=o;else{const U=T.getCompleteChild(C);U!=null?Cp(A)===".priority"&&U.getChild(Hb(A)).isEmpty()?V=U:V=U.updateChild(A,o):V=yt.EMPTY_NODE}if(H.equals(V))v=t;else{const U=r.filter.updateChild(g.getNode(),C,V,A,T,_);v=lu(t,U,g.isFullyInitialized(),r.filter.filtersNodes())}}}return v}function Yy(r,t){return r.eventCache.isCompleteForChild(t)}function VA(r,t,i,o,c,d,_){let g=t;return o.foreach((v,E)=>{const T=pe(i,v);Yy(t,Dt(T))&&(g=$_(r,g,T,E,c,d,_))}),o.foreach((v,E)=>{const T=pe(i,v);Yy(t,Dt(T))||(g=$_(r,g,T,E,c,d,_))}),g}function Wy(r,t,i){return i.foreach((o,c)=>{t=t.updateChild(o,c)}),t}function J_(r,t,i,o,c,d,_,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v=t,E;Mt(i)?E=o:E=new ie(null).setTree(i,o);const T=t.serverCache.getNode();return E.children.inorderTraversal((C,A)=>{if(T.hasChild(C)){const H=t.serverCache.getNode().getImmediateChild(C),V=Wy(r,H,A);v=jh(r,v,new Qt(C),V,c,d,_,g)}}),E.children.inorderTraversal((C,A)=>{const H=!t.serverCache.isCompleteForChild(C)&&A.value===null;if(!T.hasChild(C)&&!H){const V=t.serverCache.getNode().getImmediateChild(C),U=Wy(r,V,A);v=jh(r,v,new Qt(C),U,c,d,_,g)}}),v}function FA(r,t,i,o,c,d,_){if(Hh(c,i)!=null)return t;const g=t.serverCache.isFiltered(),v=t.serverCache;if(o.value!=null){if(Mt(i)&&v.isFullyInitialized()||v.isCompleteForPath(i))return jh(r,t,i,v.getNode().getChild(i),c,d,g,_);if(Mt(i)){let E=new ie(null);return v.getNode().forEachChild(bo,(T,C)=>{E=E.set(new Qt(T),C)}),J_(r,t,i,E,c,d,g,_)}else return t}else{let E=new ie(null);return o.foreach((T,C)=>{const A=pe(i,T);v.isCompleteForPath(A)&&(E=E.set(T,v.getNode().getChild(A)))}),J_(r,t,i,E,c,d,g,_)}}function YA(r,t,i,o,c){const d=t.serverCache,_=Xb(t,d.getNode(),d.isFullyInitialized()||Mt(i),d.isFiltered());return i0(r,_,i,o,n0,c)}function WA(r,t,i,o,c,d){let _;if(Hh(o,i)!=null)return t;{const g=new Pp(o,t,c),v=t.eventCache.getNode();let E;if(Mt(i)||Dt(i)===".priority"){let T;if(t.serverCache.isFullyInitialized())T=Bh(o,ga(t));else{const C=t.serverCache.getNode();nt(C instanceof yt,"serverChildren would be complete if leaf node"),T=Ip(o,C)}T=T,E=r.filter.updateFullNode(v,T,d)}else{const T=Dt(i);let C=Dp(o,T,t.serverCache);C==null&&t.serverCache.isCompleteForChild(T)&&(C=v.getImmediateChild(T)),C!=null?E=r.filter.updateChild(v,T,C,se(i),g,d):t.eventCache.getNode().hasChild(T)?E=r.filter.updateChild(v,T,yt.EMPTY_NODE,se(i),g,d):E=v,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(_=Bh(o,ga(t)),_.isLeafNode()&&(E=r.filter.updateFullNode(E,_,d)))}return _=t.serverCache.isFullyInitialized()||Hh(o,Zt())!=null,lu(t,E,_,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,c=new Rp(o.getIndex()),d=dA(o);this.processor_=jA(d);const _=i.serverCache,g=i.eventCache,v=c.updateFullNode(yt.EMPTY_NODE,_.getNode(),null),E=d.updateFullNode(yt.EMPTY_NODE,g.getNode(),null),T=new Cr(v,_.isFullyInitialized(),c.filtersNodes()),C=new Cr(E,g.isFullyInitialized(),d.filtersNodes());this.viewCache_=rf(C,T),this.eventGenerator_=new EA(this.query_)}get query(){return this.query_}}function XA(r){return r.viewCache_.serverCache.getNode()}function QA(r){return Uh(r.viewCache_)}function $A(r,t){const i=ga(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!Mt(t)&&!i.getImmediateChild(Dt(t)).isEmpty())?i.getChild(t):null}function Ky(r){return r.eventRegistrations_.length===0}function JA(r,t){r.eventRegistrations_.push(t)}function Xy(r,t,i){const o=[];if(i){nt(t==null,"A cancel should cancel all event registrations.");const c=r.query._path;r.eventRegistrations_.forEach(d=>{const _=d.createCancelEvent(i,c);_&&o.push(_)})}if(t){let c=[];for(let d=0;d<r.eventRegistrations_.length;++d){const _=r.eventRegistrations_[d];if(!_.matches(t))c.push(_);else if(t.hasAnyCallback()){c=c.concat(r.eventRegistrations_.slice(d+1));break}}r.eventRegistrations_=c}else r.eventRegistrations_=[];return o}function Qy(r,t,i,o){t.type===si.MERGE&&t.source.queryId!==null&&(nt(ga(r.viewCache_),"We should always have a full cache before handling merges"),nt(Uh(r.viewCache_),"Missing event cache, even though we have a server cache"));const c=r.viewCache_,d=qA(r.processor_,c,t,i,o);return ZA(r.processor_,d.viewCache),nt(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,s0(r,d.changes,d.viewCache.eventCache.getNode(),null)}function tR(r,t){const i=r.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(me,(d,_)=>{o.push(Oo(d,_))}),i.isFullyInitialized()&&o.push(Wb(i.getNode())),s0(r,o,i.getNode(),t)}function s0(r,t,i,o){const c=o?[o]:r.eventRegistrations_;return bA(r.eventGenerator_,t,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;class r0{constructor(){this.views=new Map}}function eR(r){nt(!Zh,"__referenceConstructor has already been defined"),Zh=r}function nR(){return nt(Zh,"Reference.ts has not been loaded"),Zh}function iR(r){return r.views.size===0}function kp(r,t,i,o){const c=t.source.queryId;if(c!==null){const d=r.views.get(c);return nt(d!=null,"SyncTree gave us an op for an invalid query."),Qy(d,t,i,o)}else{let d=[];for(const _ of r.views.values())d=d.concat(Qy(_,t,i,o));return d}}function a0(r,t,i,o,c){const d=t._queryIdentifier,_=r.views.get(d);if(!_){let g=Bh(i,c?o:null),v=!1;g?v=!0:o instanceof yt?(g=Ip(i,o),v=!1):(g=yt.EMPTY_NODE,v=!1);const E=rf(new Cr(g,v,!1),new Cr(o,c,!1));return new KA(t,E)}return _}function sR(r,t,i,o,c,d){const _=a0(r,t,o,c,d);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,_),JA(_,i),tR(_,i)}function rR(r,t,i,o){const c=t._queryIdentifier,d=[];let _=[];const g=xr(r);if(c==="default")for(const[v,E]of r.views.entries())_=_.concat(Xy(E,i,o)),Ky(E)&&(r.views.delete(v),E.query._queryParams.loadsAllData()||d.push(E.query));else{const v=r.views.get(c);v&&(_=_.concat(Xy(v,i,o)),Ky(v)&&(r.views.delete(c),v.query._queryParams.loadsAllData()||d.push(v.query)))}return g&&!xr(r)&&d.push(new(nR())(t._repo,t._path)),{removed:d,events:_}}function o0(r){const t=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Sr(r,t){let i=null;for(const o of r.views.values())i=i||$A(o,t);return i}function l0(r,t){if(t._queryParams.loadsAllData())return of(r);{const o=t._queryIdentifier;return r.views.get(o)}}function u0(r,t){return l0(r,t)!=null}function xr(r){return of(r)!=null}function of(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh;function aR(r){nt(!qh,"__referenceConstructor has already been defined"),qh=r}function oR(){return nt(qh,"Reference.ts has not been loaded"),qh}let lR=1;class $y{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ie(null),this.pendingWriteTree_=zA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c0(r,t,i,o,c){return CA(r.pendingWriteTree_,t,i,o,c),c?jo(r,new ma(Np(),t,i)):[]}function uR(r,t,i,o){xA(r.pendingWriteTree_,t,i,o);const c=ie.fromObject(i);return jo(r,new No(Np(),t,c))}function gr(r,t,i=!1){const o=AA(r.pendingWriteTree_,t);if(RA(r.pendingWriteTree_,t)){let d=new ie(null);return o.snap!=null?d=d.set(Zt(),!0):Ge(o.children,_=>{d=d.set(new Qt(_),!0)}),jo(r,new zh(o.path,d,i))}else return[]}function Iu(r,t,i){return jo(r,new ma(Lp(),t,i))}function cR(r,t,i){const o=ie.fromObject(i);return jo(r,new No(Lp(),t,o))}function hR(r,t){return jo(r,new Eu(Lp(),t))}function fR(r,t,i){const o=Up(r,i);if(o){const c=Bp(o),d=c.path,_=c.queryId,g=on(d,t),v=new Eu(Mp(_),g);return Hp(r,d,v)}else return[]}function h0(r,t,i,o,c=!1){const d=t._path,_=r.syncPointTree_.get(d);let g=[];if(_&&(t._queryIdentifier==="default"||u0(_,t))){const v=rR(_,t,i,o);iR(_)&&(r.syncPointTree_=r.syncPointTree_.remove(d));const E=v.removed;if(g=v.events,!c){const T=E.findIndex(A=>A._queryParams.loadsAllData())!==-1,C=r.syncPointTree_.findOnPath(d,(A,H)=>xr(H));if(T&&!C){const A=r.syncPointTree_.subtree(d);if(!A.isEmpty()){const H=mR(A);for(let V=0;V<H.length;++V){const U=H[V],Q=U.query,et=p0(r,U);r.listenProvider_.startListening(cu(Q),bu(r,Q),et.hashFn,et.onComplete)}}}!C&&E.length>0&&!o&&(T?r.listenProvider_.stopListening(cu(t),null):E.forEach(A=>{const H=r.queryToTagMap.get(lf(A));r.listenProvider_.stopListening(cu(A),H)}))}gR(r,E)}return g}function f0(r,t,i,o){const c=Up(r,o);if(c!=null){const d=Bp(c),_=d.path,g=d.queryId,v=on(_,t),E=new ma(Mp(g),v,i);return Hp(r,_,E)}else return[]}function dR(r,t,i,o){const c=Up(r,o);if(c){const d=Bp(c),_=d.path,g=d.queryId,v=on(_,t),E=ie.fromObject(i),T=new No(Mp(g),v,E);return Hp(r,_,T)}else return[]}function _R(r,t,i,o=!1){const c=t._path;let d=null,_=!1;r.syncPointTree_.foreachOnPath(c,(A,H)=>{const V=on(A,c);d=d||Sr(H,V),_=_||xr(H)});let g=r.syncPointTree_.get(c);g?(_=_||xr(g),d=d||Sr(g,Zt())):(g=new r0,r.syncPointTree_=r.syncPointTree_.set(c,g));let v;d!=null?v=!0:(v=!1,d=yt.EMPTY_NODE,r.syncPointTree_.subtree(c).foreachChild((H,V)=>{const U=Sr(V,Zt());U&&(d=d.updateImmediateChild(H,U))}));const E=u0(g,t);if(!E&&!t._queryParams.loadsAllData()){const A=lf(t);nt(!r.queryToTagMap.has(A),"View does not exist, but we have a tag");const H=vR();r.queryToTagMap.set(A,H),r.tagToQueryMap.set(H,A)}const T=af(r.pendingWriteTree_,c);let C=sR(g,t,i,T,d,v);if(!E&&!_&&!o){const A=l0(g,t);C=C.concat(yR(r,t,A))}return C}function zp(r,t,i){const c=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(t,(_,g)=>{const v=on(_,t),E=Sr(g,v);if(E)return E});return Jb(c,t,d,i,!0)}function pR(r,t){const i=t._path;let o=null;r.syncPointTree_.foreachOnPath(i,(E,T)=>{const C=on(E,i);o=o||Sr(T,C)});let c=r.syncPointTree_.get(i);c?o=o||Sr(c,Zt()):(c=new r0,r.syncPointTree_=r.syncPointTree_.set(i,c));const d=o!=null,_=d?new Cr(o,!0,!1):null,g=af(r.pendingWriteTree_,t._path),v=a0(c,t,g,d?_.getNode():yt.EMPTY_NODE,d);return QA(v)}function jo(r,t){return d0(t,r.syncPointTree_,null,af(r.pendingWriteTree_,Zt()))}function d0(r,t,i,o){if(Mt(r.path))return _0(r,t,i,o);{const c=t.get(Zt());i==null&&c!=null&&(i=Sr(c,Zt()));let d=[];const _=Dt(r.path),g=r.operationForChild(_),v=t.children.get(_);if(v&&g){const E=i?i.getImmediateChild(_):null,T=t0(o,_);d=d.concat(d0(g,v,E,T))}return c&&(d=d.concat(kp(c,r,o,i))),d}}function _0(r,t,i,o){const c=t.get(Zt());i==null&&c!=null&&(i=Sr(c,Zt()));let d=[];return t.children.inorderTraversal((_,g)=>{const v=i?i.getImmediateChild(_):null,E=t0(o,_),T=r.operationForChild(_);T&&(d=d.concat(_0(T,g,v,E)))}),c&&(d=d.concat(kp(c,r,o,i))),d}function p0(r,t){const i=t.query,o=bu(r,i);return{hashFn:()=>(XA(t)||yt.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return o?fR(r,i._path,o):hR(r,i._path);{const d=hx(c,i);return h0(r,i,null,d)}}}}function bu(r,t){const i=lf(t);return r.queryToTagMap.get(i)}function lf(r){return r._path.toString()+"$"+r._queryIdentifier}function Up(r,t){return r.tagToQueryMap.get(t)}function Bp(r){const t=r.indexOf("$");return nt(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Qt(r.substr(0,t))}}function Hp(r,t,i){const o=r.syncPointTree_.get(t);nt(o,"Missing sync point for query tag that we're tracking");const c=af(r.pendingWriteTree_,t);return kp(o,i,c,null)}function mR(r){return r.fold((t,i,o)=>{if(i&&xr(i))return[of(i)];{let c=[];return i&&(c=o0(i)),Ge(o,(d,_)=>{c=c.concat(_)}),c}})}function cu(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(oR())(r._repo,r._path):r}function gR(r,t){for(let i=0;i<t.length;++i){const o=t[i];if(!o._queryParams.loadsAllData()){const c=lf(o),d=r.queryToTagMap.get(c);r.queryToTagMap.delete(c),r.tagToQueryMap.delete(d)}}}function vR(){return lR++}function yR(r,t,i){const o=t._path,c=bu(r,t),d=p0(r,i),_=r.listenProvider_.startListening(cu(t),c,d.hashFn,d.onComplete),g=r.syncPointTree_.subtree(o);if(c)nt(!xr(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((E,T,C)=>{if(!Mt(E)&&T&&xr(T))return[of(T).query];{let A=[];return T&&(A=A.concat(o0(T).map(H=>H.query))),Ge(C,(H,V)=>{A=A.concat(V)}),A}});for(let E=0;E<v.length;++E){const T=v[E];r.listenProvider_.stopListening(cu(T),bu(r,T))}}return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jp(i)}node(){return this.node_}}class Zp{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=pe(this.path_,t);return new Zp(this.syncTree_,i)}node(){return zp(this.syncTree_,this.path_)}}const ER=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Jy=function(r,t,i){if(!r||typeof r!="object")return r;if(nt(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return bR(r[".sv"],t,i);if(typeof r[".sv"]=="object")return SR(r[".sv"],t);nt(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},bR=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:nt(!1,"Unexpected server value: "+r)}},SR=function(r,t,i){r.hasOwnProperty("increment")||nt(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&nt(!1,"Unexpected increment value: "+o);const c=t.node();if(nt(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return o;const _=c.getValue();return typeof _!="number"?o:_+o},m0=function(r,t,i,o){return qp(t,new Zp(i,r),o)},g0=function(r,t,i){return qp(r,new jp(t),i)};function qp(r,t,i){const o=r.getPriority().val(),c=Jy(o,t.getImmediateChild(".priority"),i);let d;if(r.isLeafNode()){const _=r,g=Jy(_.getValue(),t,i);return g!==_.getValue()||c!==_.getPriority().val()?new Pe(g,xe(c)):r}else{const _=r;return d=_,c!==_.getPriority().val()&&(d=d.updatePriority(new Pe(c))),_.forEachChild(me,(g,v)=>{const E=qp(v,t.getImmediateChild(g),i);E!==v&&(d=d.updateImmediateChild(g,E))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t="",i=null,o={children:{},childCount:0}){this.name=t,this.parent=i,this.node=o}}function Vp(r,t){let i=t instanceof Qt?t:new Qt(t),o=r,c=Dt(i);for(;c!==null;){const d=xo(o.node.children,c)||{children:{},childCount:0};o=new Gp(c,o,d),i=se(i),c=Dt(i)}return o}function Zo(r){return r.node.value}function v0(r,t){r.node.value=t,tp(r)}function y0(r){return r.node.childCount>0}function TR(r){return Zo(r)===void 0&&!y0(r)}function uf(r,t){Ge(r.node.children,(i,o)=>{t(new Gp(i,r,o))})}function E0(r,t,i,o){i&&t(r),uf(r,c=>{E0(c,t,!0)})}function wR(r,t,i){let o=r.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Du(r){return new Qt(r.parent===null?r.name:Du(r.parent)+"/"+r.name)}function tp(r){r.parent!==null&&CR(r.parent,r.name,r)}function CR(r,t,i){const o=TR(i),c=Ai(r.node.children,t);o&&c?(delete r.node.children[t],r.node.childCount--,tp(r)):!o&&!c&&(r.node.children[t]=i.node,r.node.childCount++,tp(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/[\[\].#$\/\u0000-\u001F\u007F]/,AR=/[\[\].#$\u0000-\u001F\u007F]/,N_=10*1024*1024,Fp=function(r){return typeof r=="string"&&r.length!==0&&!xR.test(r)},b0=function(r){return typeof r=="string"&&r.length!==0&&!AR.test(r)},RR=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),b0(r)},OR=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Ep(r)||r&&typeof r=="object"&&Ai(r,".sv")},NR=function(r,t,i,o){cf(ef(r,"value"),t,i)},cf=function(r,t,i){const o=i instanceof Qt?new Vx(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+la(o));if(typeof t=="function")throw new Error(r+"contains a function "+la(o)+" with contents = "+t.toString());if(Ep(t))throw new Error(r+"contains "+t.toString()+" "+la(o));if(typeof t=="string"&&t.length>N_/3&&nf(t)>N_)throw new Error(r+"contains a string greater than "+N_+" utf8 bytes "+la(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let c=!1,d=!1;if(Ge(t,(_,g)=>{if(_===".value")c=!0;else if(_!==".priority"&&_!==".sv"&&(d=!0,!Fp(_)))throw new Error(r+" contains an invalid key ("+_+") "+la(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fx(o,_),cf(r,g,o),Yx(o)}),c&&d)throw new Error(r+' contains ".value" child '+la(o)+" in addition to actual children.")}},LR=function(r,t){let i,o;for(i=0;i<t.length;i++){o=t[i];const d=mu(o);for(let _=0;_<d.length;_++)if(!(d[_]===".priority"&&_===d.length-1)){if(!Fp(d[_]))throw new Error(r+"contains an invalid key ("+d[_]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Gx);let c=null;for(i=0;i<t.length;i++){if(o=t[i],c!==null&&qn(c,o))throw new Error(r+"contains a path "+c.toString()+" that is ancestor of another path "+o.toString());c=o}},MR=function(r,t,i,o){const c=ef(r,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(c+" must be an object containing the children to replace.");const d=[];Ge(t,(_,g)=>{const v=new Qt(_);if(cf(c,g,pe(i,v)),Cp(v)===".priority"&&!OR(g))throw new Error(c+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(v)}),LR(c,d)},S0=function(r,t,i,o){if(!b0(i))throw new Error(ef(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IR=function(r,t,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),S0(r,t,i)},DR=function(r,t){if(Dt(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},PR=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Fp(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!RR(i))throw new Error(ef(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yp(r,t){let i=null;for(let o=0;o<t.length;o++){const c=t[o],d=c.getPath();i!==null&&!jb(d,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:d}),i.events.push(c)}i&&r.eventLists_.push(i)}function Gn(r,t,i){Yp(r,i),zR(r,o=>qn(o,t)||qn(t,o))}function zR(r,t){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const c=r.eventLists_[o];if(c){const d=c.path;t(d)?(UR(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function UR(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const o=i.getEventRunner();au&&qe("event: "+i.toString()),Ho(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="repo_interrupt",HR=25;class jR{constructor(t,i,o,c){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kh(),this.transactionQueueTree_=new Gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZR(r,t,i){if(r.stats_=Tp(r.repoInfo_),r.forceRestClient_||px())r.server_=new Ph(r.repoInfo_,(o,c,d,_)=>{tE(r,o,c,d,_)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>eE(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new cs(r.repoInfo_,t,(o,c,d,_)=>{tE(r,o,c,d,_)},o=>{eE(r,o)},o=>{GR(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=Ex(r.repoInfo_,()=>new yA(r.stats_,r.server_)),r.infoData_=new _A,r.infoSyncTree_=new $y({startListening:(o,c,d,_)=>{let g=[];const v=r.infoData_.getNode(o._path);return v.isEmpty()||(g=Iu(r.infoSyncTree_,o._path,v),setTimeout(()=>{_("ok")},0)),g},stopListening:()=>{}}),Wp(r,"connected",!1),r.serverSyncTree_=new $y({startListening:(o,c,d,_)=>(r.server_.listen(o,d,c,(g,v)=>{const E=_(g,v);Gn(r.eventQueue_,o._path,E)}),[]),stopListening:(o,c)=>{r.server_.unlisten(o,c)}})}function qR(r){const i=r.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function hf(r){return ER({timestamp:qR(r)})}function tE(r,t,i,o,c){r.dataUpdateCount++;const d=new Qt(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let _=[];if(c)if(o){const v=Nh(i,E=>xe(E));_=dR(r.serverSyncTree_,d,v,c)}else{const v=xe(i);_=f0(r.serverSyncTree_,d,v,c)}else if(o){const v=Nh(i,E=>xe(E));_=cR(r.serverSyncTree_,d,v)}else{const v=xe(i);_=Iu(r.serverSyncTree_,d,v)}let g=d;_.length>0&&(g=Mo(r,d)),Gn(r.eventQueue_,g,_)}function eE(r,t){Wp(r,"connected",t),t===!1&&WR(r)}function GR(r,t){Ge(t,(i,o)=>{Wp(r,i,o)})}function Wp(r,t,i){const o=new Qt("/.info/"+t),c=xe(i);r.infoData_.updateSnapshot(o,c);const d=Iu(r.infoSyncTree_,o,c);Gn(r.eventQueue_,o,d)}function Kp(r){return r.nextWriteId_++}function VR(r,t,i){const o=pR(r.serverSyncTree_,t);return o!=null?Promise.resolve(o):r.server_.get(t).then(c=>{const d=xe(c).withIndex(t._queryParams.getIndex());_R(r.serverSyncTree_,t,i,!0);let _;if(t._queryParams.loadsAllData())_=Iu(r.serverSyncTree_,t._path,d);else{const g=bu(r.serverSyncTree_,t);_=f0(r.serverSyncTree_,t._path,d,g)}return Gn(r.eventQueue_,t._path,_),h0(r.serverSyncTree_,t,i,null,!0),d},c=>(Pu(r,"get for query "+Ae(t)+" failed: "+c),Promise.reject(new Error(c))))}function FR(r,t,i,o,c){Pu(r,"set",{path:t.toString(),value:i,priority:o});const d=hf(r),_=xe(i,o),g=zp(r.serverSyncTree_,t),v=g0(_,g,d),E=Kp(r),T=c0(r.serverSyncTree_,t,v,E,!0);Yp(r.eventQueue_,T),r.server_.put(t.toString(),_.val(!0),(A,H)=>{const V=A==="ok";V||ln("set at "+t+" failed: "+A);const U=gr(r.serverSyncTree_,E,!V);Gn(r.eventQueue_,t,U),ep(r,c,A,H)});const C=Qp(r,t);Mo(r,C),Gn(r.eventQueue_,C,[])}function YR(r,t,i,o){Pu(r,"update",{path:t.toString(),value:i});let c=!0;const d=hf(r),_={};if(Ge(i,(g,v)=>{c=!1,_[g]=m0(pe(t,g),xe(v),r.serverSyncTree_,d)}),c)qe("update() called with empty data.  Don't do anything."),ep(r,o,"ok",void 0);else{const g=Kp(r),v=uR(r.serverSyncTree_,t,_,g);Yp(r.eventQueue_,v),r.server_.merge(t.toString(),i,(E,T)=>{const C=E==="ok";C||ln("update at "+t+" failed: "+E);const A=gr(r.serverSyncTree_,g,!C),H=A.length>0?Mo(r,t):t;Gn(r.eventQueue_,H,A),ep(r,o,E,T)}),Ge(i,E=>{const T=Qp(r,pe(t,E));Mo(r,T)}),Gn(r.eventQueue_,t,[])}}function WR(r){Pu(r,"onDisconnectEvents");const t=hf(r),i=kh();W_(r.onDisconnect_,Zt(),(c,d)=>{const _=m0(c,d,r.serverSyncTree_,t);Kb(i,c,_)});let o=[];W_(i,Zt(),(c,d)=>{o=o.concat(Iu(r.serverSyncTree_,c,d));const _=Qp(r,c);Mo(r,_)}),r.onDisconnect_=kh(),Gn(r.eventQueue_,Zt(),o)}function KR(r){r.persistentConnection_&&r.persistentConnection_.interrupt(BR)}function Pu(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),qe(i,...t)}function ep(r,t,i,o){t&&Ho(()=>{if(i==="ok")t(null);else{const c=(i||"error").toUpperCase();let d=c;o&&(d+=": "+o);const _=new Error(d);_.code=c,t(_)}})}function T0(r,t,i){return zp(r.serverSyncTree_,t,i)||yt.EMPTY_NODE}function Xp(r,t=r.transactionQueueTree_){if(t||ff(r,t),Zo(t)){const i=C0(r,t);nt(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&XR(r,Du(t),i)}else y0(t)&&uf(t,i=>{Xp(r,i)})}function XR(r,t,i){const o=i.map(E=>E.currentWriteId),c=T0(r,t,o);let d=c;const _=c.hash();for(let E=0;E<i.length;E++){const T=i[E];nt(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const C=on(t,T.path);d=d.updateChild(C,T.currentOutputSnapshotRaw)}const g=d.val(!0),v=t;r.server_.put(v.toString(),g,E=>{Pu(r,"transaction put response",{path:v.toString(),status:E});let T=[];if(E==="ok"){const C=[];for(let A=0;A<i.length;A++)i[A].status=2,T=T.concat(gr(r.serverSyncTree_,i[A].currentWriteId)),i[A].onComplete&&C.push(()=>i[A].onComplete(null,!0,i[A].currentOutputSnapshotResolved)),i[A].unwatcher();ff(r,Vp(r.transactionQueueTree_,t)),Xp(r,r.transactionQueueTree_),Gn(r.eventQueue_,t,T);for(let A=0;A<C.length;A++)Ho(C[A])}else{if(E==="datastale")for(let C=0;C<i.length;C++)i[C].status===3?i[C].status=4:i[C].status=0;else{ln("transaction at "+v.toString()+" failed: "+E);for(let C=0;C<i.length;C++)i[C].status=4,i[C].abortReason=E}Mo(r,t)}},_)}function Mo(r,t){const i=w0(r,t),o=Du(i),c=C0(r,i);return QR(r,c,o),o}function QR(r,t,i){if(t.length===0)return;const o=[];let c=[];const _=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const v=t[g],E=on(i,v.path);let T=!1,C;if(nt(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)T=!0,C=v.abortReason,c=c.concat(gr(r.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=HR)T=!0,C="maxretry",c=c.concat(gr(r.serverSyncTree_,v.currentWriteId,!0));else{const A=T0(r,v.path,_);v.currentInputSnapshot=A;const H=t[g].update(A.val());if(H!==void 0){cf("transaction failed: Data returned ",H,v.path);let V=xe(H);typeof H=="object"&&H!=null&&Ai(H,".priority")||(V=V.updatePriority(A.getPriority()));const Q=v.currentWriteId,et=hf(r),it=g0(V,A,et);v.currentOutputSnapshotRaw=V,v.currentOutputSnapshotResolved=it,v.currentWriteId=Kp(r),_.splice(_.indexOf(Q),1),c=c.concat(c0(r.serverSyncTree_,v.path,it,v.currentWriteId,v.applyLocally)),c=c.concat(gr(r.serverSyncTree_,Q,!0))}else T=!0,C="nodata",c=c.concat(gr(r.serverSyncTree_,v.currentWriteId,!0))}Gn(r.eventQueue_,i,c),c=[],T&&(t[g].status=2,(function(A){setTimeout(A,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(C==="nodata"?o.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):o.push(()=>t[g].onComplete(new Error(C),!1,null))))}ff(r,r.transactionQueueTree_);for(let g=0;g<o.length;g++)Ho(o[g]);Xp(r,r.transactionQueueTree_)}function w0(r,t){let i,o=r.transactionQueueTree_;for(i=Dt(t);i!==null&&Zo(o)===void 0;)o=Vp(o,i),t=se(t),i=Dt(t);return o}function C0(r,t){const i=[];return x0(r,t,i),i.sort((o,c)=>o.order-c.order),i}function x0(r,t,i){const o=Zo(t);if(o)for(let c=0;c<o.length;c++)i.push(o[c]);uf(t,c=>{x0(r,c,i)})}function ff(r,t){const i=Zo(t);if(i){let o=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[o]=i[c],o++);i.length=o,v0(t,i.length>0?i:void 0)}uf(t,o=>{ff(r,o)})}function Qp(r,t){const i=Du(w0(r,t)),o=Vp(r.transactionQueueTree_,t);return wR(o,c=>{L_(r,c)}),L_(r,o),E0(o,c=>{L_(r,c)}),i}function L_(r,t){const i=Zo(t);if(i){const o=[];let c=[],d=-1;for(let _=0;_<i.length;_++)i[_].status===3||(i[_].status===1?(nt(d===_-1,"All SENT items should be at beginning of queue."),d=_,i[_].status=3,i[_].abortReason="set"):(nt(i[_].status===0,"Unexpected transaction status in abort"),i[_].unwatcher(),c=c.concat(gr(r.serverSyncTree_,i[_].currentWriteId,!0)),i[_].onComplete&&o.push(i[_].onComplete.bind(null,new Error("set"),!1,null))));d===-1?v0(t,void 0):i.length=d+1,Gn(r.eventQueue_,Du(t),c);for(let _=0;_<o.length;_++)Ho(o[_])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){let t="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let c=i[o];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}function JR(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ln(`Invalid query segment '${i}' in query '${r}'`)}return t}const nE=function(r,t){const i=tO(r),o=i.namespace;i.domain==="firebase.com"&&ds(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ax();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Lb(i.host,i.secure,o,c,t,"",o!==i.subdomain),path:new Qt(i.pathString)}},tO=function(r){let t="",i="",o="",c="",d="",_=!0,g="https",v=443;if(typeof r=="string"){let E=r.indexOf("//");E>=0&&(g=r.substring(0,E-1),r=r.substring(E+2));let T=r.indexOf("/");T===-1&&(T=r.length);let C=r.indexOf("?");C===-1&&(C=r.length),t=r.substring(0,Math.min(T,C)),T<C&&(c=$R(r.substring(T,C)));const A=JR(r.substring(Math.min(r.length,C)));E=t.indexOf(":"),E>=0?(_=g==="https"||g==="wss",v=parseInt(t.substring(E+1),10)):E=t.length;const H=t.slice(0,E);if(H.toLowerCase()==="localhost")i="localhost";else if(H.split(".").length<=2)i=H;else{const V=t.indexOf(".");o=t.substring(0,V).toLowerCase(),i=t.substring(V+1),d=o}"ns"in A&&(d=A.ns)}return{host:t,port:v,domain:i,subdomain:o,secure:_,scheme:g,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,i,o,c){this.eventType=t,this.eventRegistration=i,this.snapshot=o,this.prevName=c}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class nO{constructor(t,i,o){this.eventRegistration=t,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return nt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,i,o,c){this._repo=t,this._path=i,this._queryParams=o,this._orderByCalled=c}get key(){return Mt(this._path)?null:Cp(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const t=Zy(this._queryParams),i=bp(t);return i==="{}"?"default":i}get _queryObject(){return Zy(this._queryParams)}isEqual(t){if(t=cn(t),!(t instanceof $p))return!1;const i=this._repo===t._repo,o=jb(this._path,t._path),c=this._queryIdentifier===t._queryIdentifier;return i&&o&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+qx(this._path)}}class ms extends $p{constructor(t,i){super(t,i,new Op,!1)}get parent(){const t=Hb(this._path);return t===null?null:new ms(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Su{constructor(t,i,o){this._node=t,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Qt(t),o=Gh(this.ref,t);return new Su(this._node.getChild(i),o,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,c)=>t(new Su(c,Gh(this.ref,o),me)))}hasChild(t){const i=new Qt(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jp(r,t){return r=cn(r),r._checkNotDeleted("ref"),t!==void 0?Gh(r._root,t):r._root}function Gh(r,t){return r=cn(r),Dt(r._path)===null?IR("child","path",t):S0("child","path",t),new ms(r._repo,pe(r._path,t))}function sO(r,t){r=cn(r),DR("set",r._path),NR("set",t,r._path);const i=new Ru;return FR(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}function rO(r,t){MR("update",t,r._path);const i=new Ru;return YR(r._repo,r._path,t,i.wrapCallback(()=>{})),i.promise}function aO(r){r=cn(r);const t=new iO(()=>{}),i=new tm(t);return VR(r._repo,r,i).then(o=>new Su(o,new ms(r._repo,r._path),r._queryParams.getIndex()))}class tm{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const o=i._queryParams.getIndex();return new eO("value",this,new Su(t.snapshotNode,new ms(i._repo,i._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new nO(this,t,i):null}matches(t){return t instanceof tm?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}eR(ms);aR(ms);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="FIREBASE_DATABASE_EMULATOR_HOST",np={};let lO=!1;function uO(r,t,i,o){const c=t.lastIndexOf(":"),d=t.substring(0,c),_=zo(d);r.repoInfo_=new Lb(t,_,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),o&&(r.authTokenProvider_=o)}function cO(r,t,i,o,c){let d=o||r.options.databaseURL;d===void 0&&(r.options.projectId||ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let _=nE(d,c),g=_.repoInfo,v;typeof process<"u"&&wy&&(v=wy[oO]),v?(d=`http://${v}?ns=${g.namespace}`,_=nE(d,c),g=_.repoInfo):_.repoInfo.secure;const E=new gx(r.name,r.options,t);PR("Invalid Firebase Database URL",_),Mt(_.path)||ds("Database URL must point to the root of a Firebase Database (not including a child path).");const T=fO(g,r,E,new mx(r,i));return new dO(T,r)}function hO(r,t){const i=np[t];(!i||i[r.key]!==r)&&ds(`Database ${t}(${r.repoInfo_}) has already been deleted.`),KR(r),delete i[r.key]}function fO(r,t,i,o){let c=np[t.name];c||(c={},np[t.name]=c);let d=c[r.toURLString()];return d&&ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new jR(r,lO,i,o),c[r.toURLString()]=d,d}class dO{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,Zt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ds("Cannot call "+t+" on a deleted database.")}}function _O(r=_b(),t){const i=yp(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const o=wC("database");o&&pO(i,...o)}return i}function pO(r,t,i,o={}){r=cn(r),r._checkNotDeleted("useEmulator");const c=`${t}:${i}`,d=r._repoInternal;if(r._instanceStarted){if(c===r._repoInternal.repoInfo_.host&&da(o,d.repoInfo_.emulatorOptions))return;ds("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let _;if(d.repoInfo_.nodeAdmin)o.mockUserToken&&ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),_=new Sh(Sh.OWNER);else if(o.mockUserToken){const g=typeof o.mockUserToken=="string"?o.mockUserToken:CC(o.mockUserToken,r.app.options.projectId);_=new Sh(g)}zo(t)&&(ob(t),lb("Database",!0)),uO(d,c,o,_)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(r){tx(Bo),Ao(new _a("database",(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),d=t.getProvider("app-check-internal");return cO(o,c,d,i)},"PUBLIC").setMultipleInstances(!0)),Er(Cy,xy,r),Er(Cy,xy,"esm2020")}cs.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};cs.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};mO();function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gO=A0,R0=new Ou("auth","Firebase",A0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new gp("@firebase/auth");function vO(r,...t){Vh.logLevel<=Xt.WARN&&Vh.warn(`Auth (${Bo}): ${r}`,...t)}function Th(r,...t){Vh.logLevel<=Xt.ERROR&&Vh.error(`Auth (${Bo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,...t){throw em(r,...t)}function Ti(r,...t){return em(r,...t)}function O0(r,t,i){const o={...gO(),[t]:i};return new Ou("auth","Firebase",o).create(t,{appName:r.name})}function Tr(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function em(r,...t){if(typeof r!="string"){const i=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(i,...o)}return R0.create(r,...t)}function vt(r,t,...i){if(!r)throw em(t,...i)}function as(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Th(t),new Error(t)}function _s(r,t){r||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){return typeof self<"u"&&self.location?.href||""}function yO(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yO()||OC()||"connection"in navigator)?navigator.onLine:!0}function bO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,i){this.shortDelay=t,this.longDelay=i,_s(i>t,"Short delay should be less than long delay!"),this.isMobile=mp()||ub()}get(){return EO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(r,t){_s(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(t,i,o){this.fetchImpl=t,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wO=new ku(3e4,6e4);function Sa(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Or(r,t,i,o,c={}){return L0(r,c,async()=>{let d={},_={};o&&(t==="GET"?_=o:d={body:JSON.stringify(o)});const g=Uo({key:r.config.apiKey,..._}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const E={method:t,headers:v,...d};return RC()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&zo(r.emulatorConfig.host)&&(E.credentials="include"),N0.fetch()(await M0(r,r.config.apiHost,i,g),E)})}async function L0(r,t,i){r._canInitEmulator=!1;const o={...SO,...t};try{const c=new xO(r),d=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const _=await d.json();if("needConfirmation"in _)throw yh(r,"account-exists-with-different-credential",_);if(d.ok&&!("errorMessage"in _))return _;{const g=d.ok?_.errorMessage:_.error.message,[v,E]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(r,"credential-already-in-use",_);if(v==="EMAIL_EXISTS")throw yh(r,"email-already-in-use",_);if(v==="USER_DISABLED")throw yh(r,"user-disabled",_);const T=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw O0(r,T,E);oi(r,T)}}catch(c){if(c instanceof Rr)throw c;oi(r,"network-request-failed",{message:String(c)})}}async function df(r,t,i,o,c={}){const d=await Or(r,t,i,o,c);return"mfaPendingCredential"in d&&oi(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function M0(r,t,i,o){const c=`${t}${i}?${o}`,d=r,_=d.config.emulator?nm(r.config,c):`${r.config.apiScheme}://${c}`;return TO.includes(i)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(_).toString():_}function CO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Ti(this.auth,"network-request-failed")),wO.get())})}}function yh(r,t,i){const o={appName:r.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=Ti(r,t,o);return c.customData._tokenResponse=i,c}function sE(r){return r!==void 0&&r.enterprise!==void 0}class AO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return CO(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RO(r,t){return Or(r,"GET","/v2/recaptchaConfig",Sa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(r,t){return Or(r,"POST","/v1/accounts:delete",t)}async function Fh(r,t){return Or(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NO(r,t=!1){const i=cn(r),o=await i.getIdToken(t),c=im(o);vt(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,_=d?.sign_in_provider;return{claims:c,token:o,authTime:hu(M_(c.auth_time)),issuedAtTime:hu(M_(c.iat)),expirationTime:hu(M_(c.exp)),signInProvider:_||null,signInSecondFactor:d?.sign_in_second_factor||null}}function M_(r){return Number(r)*1e3}function im(r){const[t,i,o]=r.split(".");if(t===void 0||i===void 0||o===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const c=Oh(i);return c?JSON.parse(c):(Th("Failed to decode base64 JWT payload"),null)}catch(c){return Th("Caught error parsing JWT payload as JSON",c?.toString()),null}}function rE(r){const t=im(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(r,t,i=!1){if(i)return t;try{return await t}catch(o){throw o instanceof Rr&&LO(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function LO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(r){const t=r.auth,i=await r.getIdToken(),o=await Tu(r,Fh(t,{idToken:i}));vt(o?.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=c.providerUserInfo?.length?I0(c.providerUserInfo):[],_=DO(r.providerData,d),g=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!_?.length,E=g?v:!1,T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:_,metadata:new sp(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function IO(r){const t=cn(r);await Yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DO(r,t){return[...r.filter(o=>!t.some(c=>c.providerId===o.providerId)),...t]}function I0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(r,t){const i=await L0(r,{},async()=>{const o=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:d}=r.config,_=await M0(r,c,"/v1/token",`key=${d}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:o};return r.emulatorConfig&&zo(r.emulatorConfig.host)&&(v.credentials="include"),N0.fetch()(_,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kO(r,t){return Or(r,"POST","/v2/accounts:revokeToken",Sa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=rE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:o,refreshToken:c,expiresIn:d}=await PO(t,i);this.updateTokensAndExpiration(o,c,Number(d))}updateTokensAndExpiration(t,i,o){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,i){const{refreshToken:o,accessToken:c,expirationTime:d}=i,_=new So;return o&&(vt(typeof o=="string","internal-error",{appName:t}),_.refreshToken=o),c&&(vt(typeof c=="string","internal-error",{appName:t}),_.accessToken=c),d&&(vt(typeof d=="number","internal-error",{appName:t}),_.expirationTime=d),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new MO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new sp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Tu(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return NO(this,t)}reload(){return IO(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),i&&await Yh(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Tr(this.auth));const t=await this.getIdToken();return await Tu(this,OO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const o=i.displayName??void 0,c=i.email??void 0,d=i.phoneNumber??void 0,_=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,E=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:C,emailVerified:A,isAnonymous:H,providerData:V,stsTokenManager:U}=i;vt(C&&U,t,"internal-error");const Q=So.fromJSON(this.name,U);vt(typeof C=="string",t,"internal-error"),hr(o,t.name),hr(c,t.name),vt(typeof A=="boolean",t,"internal-error"),vt(typeof H=="boolean",t,"internal-error"),hr(d,t.name),hr(_,t.name),hr(g,t.name),hr(v,t.name),hr(E,t.name),hr(T,t.name);const et=new ri({uid:C,auth:t,email:c,emailVerified:A,displayName:o,isAnonymous:H,photoURL:_,phoneNumber:d,tenantId:g,stsTokenManager:Q,createdAt:E,lastLoginAt:T});return V&&Array.isArray(V)&&(et.providerData=V.map(it=>({...it}))),v&&(et._redirectEventId=v),et}static async _fromIdTokenResponse(t,i,o=!1){const c=new So;c.updateFromServerResponse(i);const d=new ri({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o});return await Yh(d),d}static async _fromGetAccountInfoResponse(t,i,o){const c=i.users[0];vt(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?I0(c.providerUserInfo):[],_=!(c.email&&c.passwordHash)&&!d?.length,g=new So;g.updateFromIdToken(o);const v=new ri({uid:c.localId,auth:t,stsTokenManager:g,isAnonymous:_}),E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new sp(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(v,E),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function os(r){_s(r instanceof Function,"Expected a class definition");let t=aE.get(r);return t?(_s(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,aE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}D0.type="NONE";const oE=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,t,i){return`firebase:${r}:${t}:${i}`}class To{constructor(t,i,o){this.persistence=t,this.auth=i,this.userKey=o;const{config:c,name:d}=this.auth;this.fullUserKey=wh(this.userKey,c.apiKey,d),this.fullPersistenceKey=wh("persistence",c.apiKey,d),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fh(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,o="authUser"){if(!i.length)return new To(os(oE),t,o);const c=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let d=c[0]||os(oE);const _=wh(o,t.config.apiKey,t.name);let g=null;for(const E of i)try{const T=await E._get(_);if(T){let C;if(typeof T=="string"){const A=await Fh(t,{idToken:T}).catch(()=>{});if(!A)break;C=await ri._fromGetAccountInfoResponse(t,A,T)}else C=ri._fromJSON(t,T);E!==d&&(g=C),d=E;break}}catch{}const v=c.filter(E=>E._shouldAllowMigration);return!d._shouldAllowMigration||!v.length?new To(d,t,o):(d=v[0],g&&await d._set(_,g.toJSON()),await Promise.all(i.map(async E=>{if(E!==d)try{await E._remove(_)}catch{}})),new To(d,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(j0(t))return"Webos";if(k0(t))return"Safari";if((t.includes("chrome/")||z0(t))&&!t.includes("edge/"))return"Chrome";if(B0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(i);if(o?.length===2)return o[1]}return"Other"}function P0(r=un()){return/firefox\//i.test(r)}function k0(r=un()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z0(r=un()){return/crios\//i.test(r)}function U0(r=un()){return/iemobile/i.test(r)}function B0(r=un()){return/android/i.test(r)}function H0(r=un()){return/blackberry/i.test(r)}function j0(r=un()){return/webos/i.test(r)}function sm(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zO(r=un()){return sm(r)&&!!window.navigator?.standalone}function UO(){return NC()&&document.documentMode===10}function Z0(r=un()){return sm(r)||B0(r)||j0(r)||H0(r)||/windows phone/i.test(r)||U0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,t=[]){let i;switch(r){case"Browser":i=lE(un());break;case"Worker":i=`${lE(un())}-${r}`;break;default:i=r}const o=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Bo}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const o=d=>new Promise((_,g)=>{try{const v=t(d);_(v)}catch(v){g(v)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const o of this.queue)await o(t),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(r,t={}){return Or(r,"GET","/v2/passwordPolicy",Sa(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=6;class ZO{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jO,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=t.length>=o),c&&(i.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let c=0;c<t.length;c++)o=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,i,o,c,d){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,i,o,c){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new BO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fh(this,{idToken:t}),o=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(_,_))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,_=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===_)&&g?.user&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(Tr(this));const i=t?cn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HO(this),i=new ZO(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ou("auth","Firebase",t())}onAuthStateChanged(t,i,o){return this.registerStateListener(this.authStateSubscription,t,i,o)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,o){return this.registerStateListener(this.idTokenSubscription,t,i,o)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await kO(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const o=await this.getOrInitRedirectPersistenceManager(i);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&os(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,o,c){if(this._deleted)return()=>{};const d=typeof i=="function"?i:i.next.bind(i);let _=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{_||d(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,o,c);return()=>{_=!0,v()}}else{const v=t.addObserver(i);return()=>{_=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(r){return cn(r)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=HC(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(r){_f=r}function G0(r){return _f.loadJS(r)}function VO(){return _f.recaptchaEnterpriseScript}function FO(){return _f.gapiScript}function YO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class WO{constructor(){this.enterprise=new KO}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class KO{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const XO="recaptcha-enterprise",V0="NO_RECAPTCHA";class QO{constructor(t){this.type=XO,this.auth=qo(t)}async verify(t="verify",i=!1){async function o(d){if(!i){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(_,g)=>{RO(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new AO(v);return d.tenantId==null?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,_(E.siteKey)}}).catch(v=>{g(v)})})}function c(d,_,g){const v=window.grecaptcha;sE(v)?v.enterprise.ready(()=>{v.enterprise.execute(d,{action:t}).then(E=>{_(E)}).catch(()=>{_(V0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WO().execute("siteKey",{action:"verify"}):new Promise((d,_)=>{o(this.auth).then(g=>{if(!i&&sE(window.grecaptcha))c(g,d,_);else{if(typeof window>"u"){_(new Error("RecaptchaVerifier is only supported in browser"));return}let v=VO();v.length!==0&&(v+=g),G0(v).then(()=>{c(g,d,_)}).catch(E=>{_(E)})}}).catch(g=>{_(g)})})}}async function cE(r,t,i,o=!1,c=!1){const d=new QO(r);let _;if(c)_=V0;else try{_=await d.verify(i)}catch{_=await d.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:E,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return o?Object.assign(g,{captchaResp:_}):Object.assign(g,{captchaResponse:_}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function hE(r,t,i,o,c){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await cE(r,t,i,i==="getOobCode");return o(r,d)}else return o(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await cE(r,t,i,i==="getOobCode");return o(r,_)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(r,t){const i=yp(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),d=i.getOptions();if(da(d,t??{}))return c;oi(c,"already-initialized")}return i.initialize({options:t})}function JO(r,t){const i=t?.persistence||[],o=(Array.isArray(i)?i:[i]).map(os);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(o,t?.popupRedirectResolver)}function tN(r,t,i){const o=qo(r);vt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const c=!1,d=F0(t),{host:_,port:g}=eN(t),v=g===null?"":`:${g}`,E={url:`${d}//${_}${v}/`},T=Object.freeze({host:_,port:g,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){vt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),vt(da(E,o.config.emulator)&&da(T,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=E,o.emulatorConfig=T,o.settings.appVerificationDisabledForTesting=!0,zo(_)?(ob(`${d}//${_}${v}`),lb("Auth",!0)):nN()}function F0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function eN(r){const t=F0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const d=c[1];return{host:d,port:fE(o.substr(d.length+1))}}else{const[d,_]=o.split(":");return{host:d,port:fE(_)}}}function fE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function nN(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function iN(r,t){return Or(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(r,t){return df(r,"POST","/v1/accounts:signInWithPassword",Sa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,t){return df(r,"POST","/v1/accounts:signInWithEmailLink",Sa(r,t))}async function aN(r,t){return df(r,"POST","/v1/accounts:signInWithEmailLink",Sa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends rm{constructor(t,i,o,c=null){super("password",o),this._email=t,this._password=i,this._tenantId=c}static _fromEmailAndPassword(t,i){return new wu(t,i,"password")}static _fromEmailAndCode(t,i,o=null){return new wu(t,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,i,"signInWithPassword",sN);case"emailLink":return rN(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,o,"signUpPassword",iN);case"emailLink":return aN(t,{idToken:i,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,t){return df(r,"POST","/v1/accounts:signInWithIdp",Sa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="http://localhost";class va extends rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:c,...d}=i;if(!o||!c)return null;const _=new va(o,c);return _.idToken=d.idToken||void 0,_.accessToken=d.accessToken||void 0,_.secret=d.secret,_.nonce=d.nonce,_.pendingToken=d.pendingToken||null,_}_getIdTokenResponse(t){const i=this.buildRequest();return wo(t,i)}_linkToIdToken(t,i){const o=this.buildRequest();return o.idToken=i,wo(t,o)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,wo(t,i)}buildRequest(){const t={requestUri:oN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uN(r){const t=iu(su(r)).link,i=t?iu(su(t)).deep_link_id:null,o=iu(su(r)).deep_link_id;return(o?iu(su(o)).link:null)||o||i||t||r}class am{constructor(t){const i=iu(su(t)),o=i.apiKey??null,c=i.oobCode??null,d=lN(i.mode??null);vt(o&&c&&d,"argument-error"),this.apiKey=o,this.operation=d,this.code=c,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=uN(t);try{return new am(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(t,i){return wu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const o=am.parseLink(i);return vt(o,"argument-error"),wu._fromEmailAndCode(t,o.code,o.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends zu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return va._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:o}=t;if(!i&&!o)return null;try{return _r.credential(i,o)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends zu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends zu{constructor(){super("twitter.com")}static credential(t,i){return va._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=t;if(!i||!o)return null;try{return mr.credential(i,o)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,o,c=!1){const d=await ri._fromIdTokenResponse(t,o,c),_=dE(o);return new Io({user:d,providerId:_,_tokenResponse:o,operationType:i})}static async _forOperation(t,i,o){await t._updateTokensIfNecessary(o,!0);const c=dE(o);return new Io({user:t,providerId:c,_tokenResponse:o,operationType:i})}}function dE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Rr{constructor(t,i,o,c){super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,i,o,c){return new Wh(t,i,o,c)}}function W0(r,t,i,o){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(r,d,t,o):d})}async function cN(r,t,i=!1){const o=await Tu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Io._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(r,t,i=!1){const{auth:o}=r;if(ni(o.app))return Promise.reject(Tr(o));const c="reauthenticate";try{const d=await Tu(r,W0(o,c,t,r),i);vt(d.idToken,o,"internal-error");const _=im(d.idToken);vt(_,o,"internal-error");const{sub:g}=_;return vt(r.uid===g,o,"user-mismatch"),Io._forOperation(r,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&oi(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(r,t,i=!1){if(ni(r.app))return Promise.reject(Tr(r));const o="signIn",c=await W0(r,o,t),d=await Io._fromIdTokenResponse(r,o,c);return i||await r._updateCurrentUser(d.user),d}async function fN(r,t){return K0(qo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(r){const t=qo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _N(r,t,i){return ni(r.app)?Promise.reject(Tr(r)):fN(cn(r),Go.credential(t,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&dN(r),o})}function pN(r,t,i,o){return cn(r).onIdTokenChanged(t,i,o)}function mN(r,t,i){return cn(r).beforeAuthStateChanged(t,i)}function gN(r,t,i,o){return cn(r).onAuthStateChanged(t,i,o)}function vN(r){return cn(r).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,EN=10;class Q0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&t(i,c,o)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((_,g,v)=>{this.notifyListeners(_,v)});return}const o=t.key;i?this.detachListener():this.stopPolling();const c=()=>{const _=this.storage.getItem(o);!i&&this.localCache[o]===_||this.notifyListeners(o,_)},d=this.storage.getItem(o);UO()&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,EN):c()}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:o}),!0)})},yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q0.type="LOCAL";const bN=Q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$0.type="SESSION";const J0=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;const o=new pf(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:o,eventType:c,data:d}=i.data,_=this.handlersMap[c];if(!_?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const g=Array.from(_).map(async E=>E(i.origin,d)),v=await SN(g);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r="",t=10){let i="";for(let o=0;o<t;o++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,_;return new Promise((g,v)=>{const E=om("",20);c.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},o);_={messageChannel:c,onMessage(C){const A=C;if(A.data.eventId===E)switch(A.data.status){case"ack":clearTimeout(T),d=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),g(A.data.response);break;default:clearTimeout(T),clearTimeout(d),v(new Error("invalid_response"));break}}},this.handlers.add(_),c.port1.addEventListener("message",_.onMessage),this.target.postMessage({eventType:t,eventId:E,data:i},[c.port2])}).finally(()=>{_&&this.removeMessageHandler(_)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function wN(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function CN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){return navigator?.serviceWorker?.controller||null}function AN(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",RN=1,Xh="firebaseLocalStorage",nS="fbase_key";class Uu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mf(r,t){return r.transaction([Xh],t?"readwrite":"readonly").objectStore(Xh)}function ON(){const r=indexedDB.deleteDatabase(eS);return new Uu(r).toPromise()}function rp(){const r=indexedDB.open(eS,RN);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(Xh,{keyPath:nS})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(Xh)?t(o):(o.close(),await ON(),t(await rp()))})})}async function _E(r,t,i){const o=mf(r,!0).put({[nS]:t,value:i});return new Uu(o).toPromise()}async function NN(r,t){const i=mf(r,!1).get(t),o=await new Uu(i).toPromise();return o===void 0?null:o.value}function pE(r,t){const i=mf(r,!0).delete(t);return new Uu(i).toPromise()}const LN=800,MN=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(t){let i=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(i++>MN)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(AN()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rp();return await _E(t,Kh,"1"),await pE(t,Kh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>_E(o,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(o=>NN(o,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>pE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const d=mf(c,!1).getAll();return new Uu(d).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(t.length!==0)for(const{fbase_key:c,value:d}of t)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const IN=iS;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r,t){return t?os(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends rm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return wo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function PN(r){return K0(r.auth,new lm(r),r.bypassAuthState)}function kN(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),hN(i,new lm(r),r.bypassAuthState)}async function zN(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),cN(i,new lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,i,o,c,d=!1){this.auth=t,this.resolver=o,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:o,postBody:c,tenantId:d,error:_,type:g}=t;if(_){this.reject(_);return}const v={auth:this.auth,requestUri:i,sessionId:o,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PN;case"linkViaPopup":case"linkViaRedirect":return zN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:oi(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new ku(2e3,1e4);class yo extends sS{constructor(t,i,o,c,d){super(t,i,c,d),this.provider=o,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UN.get())};t()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="pendingRedirect",Ch=new Map;class HN extends sS{constructor(t,i,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let t=Ch.get(this.auth._key());if(!t){try{const o=await jN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(i){t=()=>Promise.reject(i)}Ch.set(this.auth._key(),t)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jN(r,t){const i=GN(t),o=qN(r);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function ZN(r,t){Ch.set(r._key(),t)}function qN(r){return os(r._redirectPersistence)}function GN(r){return wh(BN,r.config.apiKey,r.name)}async function VN(r,t,i=!1){if(ni(r.app))return Promise.reject(Tr(r));const o=qo(r),c=DN(o,t),_=await new HN(o,c,i).execute();return _&&!i&&(delete _.user._redirectEventId,await o._persistUserIfCurrent(_.user),await o._setRedirectUser(null,t)),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=600*1e3;class YN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(i=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!rS(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const o=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function rS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function WN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,t={}){return Or(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function $N(r){if(r.config.emulator)return;const{authorizedDomains:t}=await KN(r);for(const i of t)try{if(JN(i))return}catch{}oi(r,"unauthorized-domain")}function JN(r){const t=ip(),{protocol:i,hostname:o}=new URL(t);if(r.startsWith("chrome-extension://")){const _=new URL(r);return _.hostname===""&&o===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&_.hostname===o}if(!QN.test(i))return!1;if(XN.test(r))return o===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new ku(3e4,6e4);function gE(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function eL(r){return new Promise((t,i)=>{function o(){gE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gE(),i(Ti(r,"network-request-failed"))},timeout:tL.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)o();else{const c=YO("iframefcb");return wi()[c]=()=>{gapi.load?o():i(Ti(r,"network-request-failed"))},G0(`${FO()}?onload=${c}`).catch(d=>i(d))}}).catch(t=>{throw xh=null,t})}let xh=null;function nL(r){return xh=xh||eL(r),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new ku(5e3,15e3),sL="__/auth/iframe",rL="emulator/auth/iframe",aL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lL(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?nm(t,rL):`https://${r.config.authDomain}/${sL}`,o={apiKey:t.apiKey,appName:r.name,v:Bo},c=oL.get(r.config.apiHost);c&&(o.eid=c);const d=r._getFrameworks();return d.length&&(o.fw=d.join(",")),`${i}?${Uo(o).slice(1)}`}async function uL(r){const t=await nL(r),i=wi().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:lL(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aL,dontclear:!0},o=>new Promise(async(c,d)=>{await o.restyle({setHideOnLeave:!1});const _=Ti(r,"network-request-failed"),g=wi().setTimeout(()=>{d(_)},iL.get());function v(){wi().clearTimeout(g),c(o)}o.ping(v).then(v,()=>{d(_)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hL=500,fL=600,dL="_blank",_L="http://localhost";class vE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pL(r,t,i,o=hL,c=fL){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),_=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const v={...cL,width:o.toString(),height:c.toString(),top:d,left:_},E=un().toLowerCase();i&&(g=z0(E)?dL:i),P0(E)&&(t=t||_L,v.scrollbars="yes");const T=Object.entries(v).reduce((A,[H,V])=>`${A}${H}=${V},`,"");if(zO(E)&&g!=="_self")return mL(t||"",g),new vE(null);const C=window.open(t||"",g,T);vt(C,r,"popup-blocked");try{C.focus()}catch{}return new vE(C)}function mL(r,t){const i=document.createElement("a");i.href=r,i.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="__/auth/handler",vL="emulator/auth/handler",yL=encodeURIComponent("fac");async function yE(r,t,i,o,c,d){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const _={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:o,v:Bo,eventId:c};if(t instanceof Y0){t.setDefaultLanguage(r.languageCode),_.providerId=t.providerId||"",B_(t.getCustomParameters())||(_.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,C]of Object.entries({}))_[T]=C}if(t instanceof zu){const T=t.getScopes().filter(C=>C!=="");T.length>0&&(_.scopes=T.join(","))}r.tenantId&&(_.tid=r.tenantId);const g=_;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await r._getAppCheckToken(),E=v?`#${yL}=${encodeURIComponent(v)}`:"";return`${EL(r)}?${Uo(g).slice(1)}${E}`}function EL({config:r}){return r.emulator?nm(r,vL):`https://${r.authDomain}/${gL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=VN,this._overrideRedirectResult=ZN}async _openPopup(t,i,o,c){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const d=await yE(t,i,o,ip(),c);return pL(t,d,om())}async _openRedirect(t,i,o,c){await this._originValidation(t);const d=await yE(t,i,o,ip(),c);return wN(d),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:c,promise:d}=this.eventManagers[i];return c?Promise.resolve(c):(_s(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(t);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(t){const i=await uL(t),o=new YN(t);return i.register("authEvent",c=>(vt(c?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=i,o}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(I_,{type:I_},c=>{const d=c?.[0]?.[I_];d!==void 0&&i(!!d),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$N(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Z0()||k0()||sm()}}const SL=bL;var EE="@firebase/auth",bE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CL(r){Ao(new _a("auth",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),d=t.getProvider("app-check-internal"),{apiKey:_,authDomain:g}=o.options;vt(_&&!_.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:_,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},E=new qO(o,c,d,v);return JO(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,o)=>{t.getProvider("auth-internal").initialize()})),Ao(new _a("auth-internal",t=>{const i=qo(t.getProvider("auth").getImmediate());return(o=>new TL(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(EE,bE,wL(r)),Er(EE,bE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=300,AL=ab("authIdTokenMaxAge")||xL;let SE=null;const RL=r=>async t=>{const i=t&&await t.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>AL)return;const c=i?.token;SE!==c&&(SE=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function fa(r=_b()){const t=yp(r,"auth");if(t.isInitialized())return t.getImmediate();const i=$O(r,{popupRedirectResolver:SL,persistence:[IN,bN,J0]}),o=ab("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(o,location.origin);if(location.origin===d.origin){const _=RL(d.toString());mN(i,_,()=>_(i.currentUser)),pN(i,g=>_(g))}}const c=sb("auth");return c&&tN(i,`http://${c}`),i}function OL(){return document.getElementsByTagName("head")?.[0]??document}GO({loadJS(r){return new Promise((t,i)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=t,o.onerror=c=>{const d=Ti("internal-error");d.customData=c,i(d)},o.type="text/javascript",o.charset="UTF-8",OL().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CL("Browser");const NL={apiKey:"AIzaSyAxxocdjMi0CkRYSwNlfa2chCE653Cqat8",authDomain:"yatai-now-test01.firebaseapp.com",databaseURL:"https://yatai-now-test01-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"yatai-now-test01",storageBucket:"yatai-now-test01.firebasestorage.app",messagingSenderId:"585308141782",appId:"1:585308141782:web:4c1c1cbe228720dca2b177"},LL=db(NL),um=_O(LL);async function aS(r){const t=await aO(Gh(Jp(um),r));return t.exists()?Object.entries(t.val()).map(([i,o])=>({ownerid:i,...o})):[]}function ML(r,t){const o=fa().currentUser?.uid,c=["y_ido","x_keido","name"];for(const d of c)if(!(d in t))return Promise.reject(new Error(`Missing required value: ${d}`));if("ownerid"in t){const{ownerid:d,..._}=t;t=_}return"class"in t||(t.class="shop"),"description"in t||(t.description="sample text"),"areagroupid"in t||(t.areagroupid="area01"),"areagroupid"in t||(t.areagroupid="area01"),t.updatetime=new Date().toISOString(),sO(Jp(um,`${r}/${o}`),t)}async function IL(r,t){const o=fa().currentUser?.uid;if("ownerid"in t){const{ownerid:c,...d}=t;t=d}for(const c in t)t[c]===void 0&&(t[c]="");return t.updatetime=new Date().toISOString(),rO(Jp(um,`${r}/${o}`),t)}async function DL(r,t){const i=fa();try{return(await _N(i,r+"@u.tsukuba.example.test.ac.jp",t)).user.uid}catch(o){return console.error(":",o.code,o.message),null}}const Co="/yatai-now/assets/ground-BoZBxLBv.svg",Qh="/yatai-now/assets/2F-BJgrG32R.svg",PL="/yatai-now/assets/pin400x300-CytIBKwI.png",TE=ya.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),kL=ya.icon({iconUrl:PL,iconSize:[60,45],iconAnchor:[30,45],popupAnchor:[1,-34]});function zL(r){return U_({zoomend:function(t){const o=t.target.getZoom();r.onZoomChange(o)}}),null}function UL(){const[r,t]=z.useState("1F"),o=Ar().state,[c,d]=z.useState([]),_=18,[g,v]=z.useState(_),E=g>=19?"shop":"area",T=[[36.108,140.098],[36.112,140.104]];async function C(){const U=await aS(o);d(U)}z.useEffect(()=>{C()},[]);function A(U){if(!U)return"";const Q=new Date(U);return isNaN(Q.getTime())?"":Q.toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}const H=()=>{switch(r){case"4F":return Qh;case"3F":return Co;case"2F":return Qh;case"1F":return Co;default:return Co}};function V(U){if(o==="0")return M.jsx(ua,{position:[U.lat,U.lng],icon:TE,children:M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:U.name}),M.jsx("br",{}),M.jsxs("p",{children:["",U.description]})]})})},U.shopname);if(o==="1"){if(U.class!==E)return null;if(U.class==="area"){const Q=c.filter(function(et){return et.class==="shop"&&et.areagroupid===U.id}).map(function(et){return et.name});return M.jsxs(ua,{position:[U.y_ido,U.x_keido],icon:TE,children:[M.jsx(go,{direction:"top",offset:[0,-40],permanent:!0,children:M.jsx("strong",{children:U.name})}),M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:U.name}),M.jsx("br",{}),M.jsxs("p",{children:["",U.description]}),M.jsxs("p",{children:["",U.teamname]}),Q.length>0&&M.jsxs("div",{children:[M.jsx("p",{children:""}),M.jsx("ul",{children:Q.map(function(et){return M.jsx("li",{children:et},et)})})]})]})})]},U.id)}else if(U.class==="shop")return M.jsxs(ua,{position:[U.y_ido,U.x_keido],icon:kL,children:[M.jsx(go,{direction:"top",offset:[0,-40],permanent:!0,children:M.jsx("strong",{children:U.name})}),M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:U.name}),M.jsx("br",{}),M.jsxs("p",{children:["",U.description]}),M.jsxs("p",{children:["",U.teamname]}),M.jsxs("p",{children:["",U.place]}),M.jsxs("p",{children:["",U.type]}),M.jsxs("p",{children:["",U.starttime,"~",U.endtime]}),M.jsxs("p",{children:["",U.storage]}),M.jsxs("p",{children:["",A(U.updatetime)]})]})})]},U.ownerid)}}return M.jsxs("div",{className:_o["leafmap-screen"],children:[M.jsxs("header",{className:"common-header",children:[M.jsxs("div",{className:_o["header-button-group"],children:[M.jsx("button",{className:"common-btn-back",onClick:()=>Si(an.TOP_PAGE),children:"< "}),M.jsx("button",{className:"common-btn-reload",onClick:()=>C(),children:""})]}),M.jsxs("div",{className:_o["header-button-group"],children:[M.jsx("button",{className:"common-btn-header",onClick:()=>Si(an.ORG_LOGIN),children:""}),M.jsx("button",{className:"common-btn-header",onClick:()=>Si(an.VEND_LOGIN),children:""})]})]}),M.jsxs(JE,{center:[36.110251,140.100381],zoom:_,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,crs:ya.CRS.Simple,children:[M.jsx($E,{url:H(),bounds:T}),M.jsx(zL,{onZoomChange:U=>v(U)}),c.map(U=>V(U))]}),M.jsx("div",{className:_o["floor-selector"],children:["4F","3F","2F","1F"].map(U=>M.jsx("button",{className:`${_o["floor-btn"]} ${r===U?_o.active:""}`,onClick:()=>t(U),children:U},U))})]})}const BL="_btn_15zrm_27",fr={"login-screen":"_login-screen_15zrm_1","login-header":"_login-header_15zrm_13","btn-back":"_btn-back_15zrm_27","login-container":"_login-container_15zrm_57","login-form":"_login-form_15zrm_93","login-input":"_login-input_15zrm_107",btn:BL};function HL(){const r=t=>{t.preventDefault(),console.log("Organizer login attempt")};return M.jsxs("div",{className:`screen-general ${fr["login-screen"]}`,children:[M.jsx("header",{className:fr["login-header"],children:M.jsx("button",{className:fr["btn-back"],onClick:()=>Si(an.MAIN_MAP,"1"),children:"< "})}),M.jsxs("div",{className:fr["login-container"],children:[M.jsx("h2",{children:""}),M.jsxs("form",{className:fr["login-form"],onSubmit:r,children:[M.jsx("input",{className:fr["login-input"],type:"text",placeholder:"ID"}),M.jsx("input",{className:fr["login-input"],type:"password",placeholder:""}),M.jsx("button",{className:fr.btn,type:"submit",children:""})]})]})]})}const jL="_btn_119tf_1",ss={"login-screen":"_login-screen_119tf_1","login-header":"_login-header_119tf_1","btn-back":"_btn-back_119tf_1","login-container":"_login-container_119tf_1","login-form":"_login-form_119tf_1","login-input":"_login-input_119tf_1",btn:jL,"login-error":"_login-error_119tf_1"};function ZL(){const[r,t]=z.useState(""),[i,o]=z.useState(""),[c,d]=z.useState("");z.useEffect(()=>{fa().currentUser&&(async()=>(await new Promise(E=>setTimeout(E,400)),Si(an.VEND_UPLOAD)))()},[]);const _=async g=>{if(g.preventDefault(),r===""||i===""){d("");return}await DL(r,i)?Si(an.VEND_UPLOAD):d("")};return M.jsxs("div",{className:`screen-general ${ss["login-screen"]}`,children:[M.jsx("header",{className:ss["login-header"],children:M.jsx("button",{className:ss["btn-back"],onClick:()=>Si(an.MAIN_MAP,"1"),children:"< "})}),M.jsxs("div",{className:ss["login-container"],children:[M.jsx("h2",{children:""}),M.jsxs("form",{className:ss["login-form"],onSubmit:_,children:[M.jsx("input",{className:ss["login-input"],type:"text",placeholder:"ID",value:r,onChange:g=>t(g.target.value)}),M.jsx("input",{className:ss["login-input"],type:"password",placeholder:"",value:i,onChange:g=>o(g.target.value)}),c&&M.jsx("p",{className:ss["login-error"],children:c}),M.jsx("button",{className:ss.btn,type:"submit",children:""})]})]})]})}const qL="_active_10eef_505",Qe={"leafmap-footer":"_leafmap-footer_10eef_237","btn-create":"_btn-create_10eef_253","pin-input-row":"_pin-input-row_10eef_269","leafmap-screen":"_leafmap-screen_10eef_297","header-button-group":"_header-button-group_10eef_425","floor-selector":"_floor-selector_10eef_439","floor-btn":"_floor-btn_10eef_469",active:qL},GL="/yatai-now/images/pin400x300.png",VL="/yatai-now/images/pin256_green.png",FL=ya.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),YL=ya.icon({iconUrl:GL,iconSize:[60,45],iconAnchor:[30,45],popupAnchor:[1,-34]}),wE=ya.icon({iconUrl:VL,iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[0,-12]});function WL(){const[t,i]=z.useState("1F"),o=18,[c,d]=z.useState(o),_=c>=19?"shop":"area",g=[[36.108,140.098],[36.112,140.104]],[v,E]=z.useState([]),[T,C]=z.useState(null),[A,H]=z.useState(null),[V,U]=z.useState(!1),[Q,et]=z.useState(!1),[it,lt]=z.useState(""),[It,pt]=z.useState(null),[wt,zt]=z.useState({name:"",description:"",teamname:"",place:"",type:"",starttime:"",endtime:"",storage:""});function re(){pt(null),zt({name:"",description:"",teamname:"",place:"",type:"",starttime:"",endtime:"",storage:""})}function Gt(X){if(!X)return"";const x=new Date(X);return isNaN(x.getTime())?"":x.toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Re(){return U_({zoomend:X=>{d(X.target.getZoom())}}),null}async function qt(X){const x=await aS("1"),G=X?.uid||null,J=x.find(at=>at.ownerid===G);J&&C(J);const tt=x.filter(at=>at.ownerid!==G);E(tt)}function Bt(X){return new Promise(x=>setTimeout(x,X))}async function Ln(X){U(!0),T?await IL("1",X):await ML("1",X),await Bt(300);const x=fa();await qt(x.currentUser),U(!1)}z.useEffect(()=>{const X=fa(),x=gN(X,async G=>{qt(G),H(G)});return()=>x()},[]);const ge=z.useRef(null);z.useEffect(()=>{if(ge.current){const X=ge.current.getContainer();X.style.cursor=Q?"crosshair":"auto"}},[Q]),z.useEffect(()=>{T&&zt({name:T.name,description:T.description,teamname:T.teamname,place:T.place,type:T.type,starttime:T.starttime,endtime:T.endtime,storage:T.storage})},[T]);function Ee({isCreating:X}){return U_({click(x){X&&pt([x.latlng.lat,x.latlng.lng])}}),null}async function q(){U(!0),await Bt(300);const X=fa();vN(X).then(()=>{Si(an.MAIN_MAP,"1")}).catch(x=>{U(!1),console.error("",x)})}const st=()=>{switch(t){case"4F":return Qh;case"3F":return Co;case"2F":return Qh;case"1F":return Co;default:return Co}};function $(X,x){{if(X.class!==_)return null;if(X.class==="area"){const G=v.filter(function(J){return J.class==="shop"&&J.areagroupid===X.id}).map(function(J){return J.name});return M.jsxs(ua,{position:[X.y_ido,X.x_keido],icon:FL,children:[M.jsx(go,{direction:"top",offset:[0,-40],permanent:!0,children:M.jsx("strong",{children:X.name})}),M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:X.name}),M.jsx("br",{}),M.jsxs("p",{children:["",X.description]}),M.jsxs("p",{children:["",X.teamname]}),G.length>0&&M.jsxs("div",{children:[M.jsx("p",{children:""}),M.jsx("ul",{children:G.map(function(J){return M.jsx("li",{children:J},J)})})]})]})})]},X.ownerid)}else if(X.class==="shop")return M.jsxs(ua,{position:[X.y_ido,X.x_keido],icon:x,children:[M.jsx(go,{direction:"top",offset:[0,-40],permanent:!0,children:M.jsx("strong",{children:X.name})}),M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:X.name}),M.jsx("br",{}),M.jsxs("p",{children:["",X.description]}),M.jsxs("p",{children:["",X.teamname]}),M.jsxs("p",{children:["",X.place]}),M.jsxs("p",{children:["",X.type]}),M.jsxs("p",{children:["",X.starttime,"~",X.endtime]}),M.jsxs("p",{children:["",X.storage]}),M.jsxs("p",{children:["",Gt(X.updatetime)]})]})})]},X.ownerid)}}return V?M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:M.jsx("h1",{children:"updating..."})}):M.jsxs("div",{className:`screen-general ${Qe["leafmap-screen"]}`,children:[M.jsxs("header",{className:"common-header",children:[M.jsxs("div",{className:Qe["header-button-group"],children:[M.jsx("button",{className:"common-btn-back",onClick:()=>Si(an.MAIN_MAP,"1"),children:"< "}),M.jsx("button",{className:"common-btn-reload",onClick:()=>qt(A),children:""})]}),M.jsxs("div",{className:Qe["header-button-group"],children:[M.jsxs("p",{className:"common-header-text",children:[" : ",A?.email?A.email.split("@")[0]:"err"]}),M.jsx("button",{className:"common-btn-back",onClick:q,children:""})]})]}),M.jsxs(JE,{ref:ge,center:[36.110251,140.100381],zoom:o,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,crs:ya.CRS.Simple,children:[M.jsx($E,{url:st(),bounds:g}),M.jsx(Re,{}),M.jsx(Ee,{isCreating:Q}),M.jsx("div",{className:Qe["floor-selector"],children:["4F","3F","2F","1F"].map(X=>M.jsx("button",{className:`${Qe["floor-btn"]} ${t===X?Qe.active:""}`,onClick:()=>i(X),children:X},X))}),v.map(X=>$(X,YL)),!Q&&T&&M.jsxs(ua,{position:[T.y_ido,T.x_keido],icon:wE,ref:X=>{X&&setTimeout(()=>{X.openPopup()},0)},children:[M.jsx(go,{direction:"top",offset:[0,-30],permanent:!0,children:M.jsx("strong",{children:""})}),M.jsx(ca,{children:M.jsxs("div",{children:[M.jsx("strong",{children:T.name}),M.jsx("br",{}),M.jsxs("p",{children:["",T.description]}),M.jsxs("p",{children:["",T.teamname]}),M.jsxs("p",{children:["",T.place]}),M.jsxs("p",{children:["",T.type]}),M.jsxs("p",{children:["",T.starttime,"~",T.endtime]}),M.jsxs("p",{children:["",T.storage]}),M.jsxs("p",{children:["",Gt(T.updatetime)]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("strong",{children:""}),M.jsxs("select",{style:{width:"100px"},value:it,onChange:X=>lt(X.target.value),children:[M.jsx("option",{value:"",children:"()"}),M.jsx("option",{value:"",children:"()"}),M.jsx("option",{value:"",children:"()"})]})]}),M.jsx("button",{onClick:()=>{it!==""&&(Ln({...T,storage:it}),et(!1),re())},children:""})]})})]}),It&&M.jsxs(ua,{position:It,icon:wE,ref:X=>{X&&setTimeout(()=>{X.openPopup()},0)},children:[M.jsx(go,{direction:"top",offset:[0,-30],permanent:!0,children:M.jsx("strong",{children:""})}),M.jsx(ca,{children:M.jsxs("div",{style:{width:"280px"},children:[M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.name,onChange:X=>zt({...wt,name:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.description,onChange:X=>zt({...wt,description:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.teamname,onChange:X=>zt({...wt,teamname:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.place,onChange:X=>zt({...wt,place:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.type,onChange:X=>zt({...wt,type:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsx("input",{type:"text",value:wt.starttime,style:{width:"50px"},onChange:X=>zt({...wt,starttime:X.target.value})}),M.jsx("label",{children:"~"}),M.jsx("input",{type:"text",value:wt.endtime,style:{width:"50px"},onChange:X=>zt({...wt,endtime:X.target.value})})]}),M.jsxs("div",{className:Qe["pin-input-row"],children:[M.jsx("label",{children:""}),M.jsxs("select",{value:wt.storage,style:{width:"100px"},onChange:X=>zt({...wt,storage:X.target.value}),children:[M.jsx("option",{value:"",children:"()"}),M.jsx("option",{value:"",children:"()"}),M.jsx("option",{value:"",children:"()"})]})]}),M.jsx("button",{onClick:()=>{wt.name!==""&&(Ln({y_ido:It[0],x_keido:It[1],...wt}),et(!1),re())},children:""}),M.jsx("button",{onClick:()=>{et(!1),re()},children:""})]})})]})]}),M.jsx("div",{className:Qe["leafmap-footer"],children:M.jsx("button",{className:Qe["btn-create"],onClick:()=>{et(!Q),pt(null)},children:Q?"":T?"()":""})})]})}function KL(){const r=kE();return Jw(r),null}function XL(){return M.jsxs(Zw,{children:[M.jsx(KL,{}),M.jsxs(yw,{children:[M.jsx(mo,{path:an.TOP_PAGE,element:M.jsx(eC,{})}),M.jsx(mo,{path:an.MAIN_MAP,element:M.jsx(UL,{})}),M.jsx(mo,{path:an.ORG_LOGIN,element:M.jsx(HL,{})}),M.jsx(mo,{path:an.VEND_LOGIN,element:M.jsx(ZL,{})}),M.jsx(mo,{path:an.VEND_UPLOAD,element:M.jsx(WL,{})})]})]})}OT.createRoot(document.getElementById("root")).render(M.jsx(z.StrictMode,{children:M.jsx(XL,{})}));
