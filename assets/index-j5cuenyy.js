(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function pg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var qf={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function Nb(){if(sv)return tl;sv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:m,ref:c!==void 0?c:null,props:d}}return tl.Fragment=n,tl.jsx=s,tl.jsxs=s,tl}var av;function Lb(){return av||(av=1,qf.exports=Nb()),qf.exports}var Q=Lb(),jf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function Db(){if(ov)return Tt;ov=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,V={};function et(x,Z,K){this.props=x,this.context=Z,this.refs=V,this.updater=K||k}et.prototype.isReactComponent={},et.prototype.setState=function(x,Z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Z,"setState")},et.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function bt(){}bt.prototype=et.prototype;function dt(x,Z,K){this.props=x,this.context=Z,this.refs=V,this.updater=K||k}var st=dt.prototype=new bt;st.constructor=dt,Y(st,et.prototype),st.isPureReactComponent=!0;var It=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Wt=Object.prototype.hasOwnProperty;function Qt(x,Z,K,F,nt,rt){return K=rt.ref,{$$typeof:a,type:x,key:Z,ref:K!==void 0?K:null,props:rt}}function ae(x,Z){return Qt(x.type,Z,void 0,void 0,void 0,x.props)}function ue(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function xe(x){var Z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return Z[K]})}var Pt=/\/+/g;function Nt(x,Z){return typeof x=="object"&&x!==null&&x.key!=null?xe(""+x.key):Z.toString(36)}function an(){}function ve(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(an,an):(x.status="pending",x.then(function(Z){x.status==="pending"&&(x.status="fulfilled",x.value=Z)},function(Z){x.status==="pending"&&(x.status="rejected",x.reason=Z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ce(x,Z,K,F,nt){var rt=typeof x;(rt==="undefined"||rt==="boolean")&&(x=null);var tt=!1;if(x===null)tt=!0;else switch(rt){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(x.$$typeof){case a:case n:tt=!0;break;case C:return tt=x._init,ce(tt(x._payload),Z,K,F,nt)}}if(tt)return nt=nt(x),tt=F===""?"."+Nt(x,0):F,It(nt)?(K="",tt!=null&&(K=tt.replace(Pt,"$&/")+"/"),ce(nt,Z,K,"",function(on){return on})):nt!=null&&(ue(nt)&&(nt=ae(nt,K+(nt.key==null||x&&x.key===nt.key?"":(""+nt.key).replace(Pt,"$&/")+"/")+tt)),Z.push(nt)),1;tt=0;var ie=F===""?".":F+":";if(It(x))for(var Lt=0;Lt<x.length;Lt++)F=x[Lt],rt=ie+Nt(F,Lt),tt+=ce(F,Z,K,rt,nt);else if(Lt=A(x),typeof Lt=="function")for(x=Lt.call(x),Lt=0;!(F=x.next()).done;)F=F.value,rt=ie+Nt(F,Lt++),tt+=ce(F,Z,K,rt,nt);else if(rt==="object"){if(typeof x.then=="function")return ce(ve(x),Z,K,F,nt);throw Z=String(x),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return tt}function I(x,Z,K){if(x==null)return x;var F=[],nt=0;return ce(x,F,"","",function(rt){return Z.call(K,rt,nt++)}),F}function $(x){if(x._status===-1){var Z=x._result;Z=Z(),Z.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=Z)}if(x._status===1)return x._result.default;throw x._result}var W=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Bt(){}return Tt.Children={map:I,forEach:function(x,Z,K){I(x,function(){Z.apply(this,arguments)},K)},count:function(x){var Z=0;return I(x,function(){Z++}),Z},toArray:function(x){return I(x,function(Z){return Z})||[]},only:function(x){if(!ue(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Tt.Component=et,Tt.Fragment=s,Tt.Profiler=c,Tt.PureComponent=dt,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ft.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cloneElement=function(x,Z,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var F=Y({},x.props),nt=x.key,rt=void 0;if(Z!=null)for(tt in Z.ref!==void 0&&(rt=void 0),Z.key!==void 0&&(nt=""+Z.key),Z)!Wt.call(Z,tt)||tt==="key"||tt==="__self"||tt==="__source"||tt==="ref"&&Z.ref===void 0||(F[tt]=Z[tt]);var tt=arguments.length-2;if(tt===1)F.children=K;else if(1<tt){for(var ie=Array(tt),Lt=0;Lt<tt;Lt++)ie[Lt]=arguments[Lt+2];F.children=ie}return Qt(x.type,nt,void 0,void 0,rt,F)},Tt.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},Tt.createElement=function(x,Z,K){var F,nt={},rt=null;if(Z!=null)for(F in Z.key!==void 0&&(rt=""+Z.key),Z)Wt.call(Z,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(nt[F]=Z[F]);var tt=arguments.length-2;if(tt===1)nt.children=K;else if(1<tt){for(var ie=Array(tt),Lt=0;Lt<tt;Lt++)ie[Lt]=arguments[Lt+2];nt.children=ie}if(x&&x.defaultProps)for(F in tt=x.defaultProps,tt)nt[F]===void 0&&(nt[F]=tt[F]);return Qt(x,rt,void 0,void 0,null,nt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:g,render:x}},Tt.isValidElement=ue,Tt.lazy=function(x){return{$$typeof:C,_payload:{_status:-1,_result:x},_init:$}},Tt.memo=function(x,Z){return{$$typeof:S,type:x,compare:Z===void 0?null:Z}},Tt.startTransition=function(x){var Z=ft.T,K={};ft.T=K;try{var F=x(),nt=ft.S;nt!==null&&nt(K,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Bt,W)}catch(rt){W(rt)}finally{ft.T=Z}},Tt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Tt.use=function(x){return ft.H.use(x)},Tt.useActionState=function(x,Z,K){return ft.H.useActionState(x,Z,K)},Tt.useCallback=function(x,Z){return ft.H.useCallback(x,Z)},Tt.useContext=function(x){return ft.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,Z){return ft.H.useDeferredValue(x,Z)},Tt.useEffect=function(x,Z,K){var F=ft.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(x,Z)},Tt.useId=function(){return ft.H.useId()},Tt.useImperativeHandle=function(x,Z,K){return ft.H.useImperativeHandle(x,Z,K)},Tt.useInsertionEffect=function(x,Z){return ft.H.useInsertionEffect(x,Z)},Tt.useLayoutEffect=function(x,Z){return ft.H.useLayoutEffect(x,Z)},Tt.useMemo=function(x,Z){return ft.H.useMemo(x,Z)},Tt.useOptimistic=function(x,Z){return ft.H.useOptimistic(x,Z)},Tt.useReducer=function(x,Z,K){return ft.H.useReducer(x,Z,K)},Tt.useRef=function(x){return ft.H.useRef(x)},Tt.useState=function(x){return ft.H.useState(x)},Tt.useSyncExternalStore=function(x,Z,K){return ft.H.useSyncExternalStore(x,Z,K)},Tt.useTransition=function(){return ft.H.useTransition()},Tt.version="19.1.1",Tt}var rv;function Od(){return rv||(rv=1,jf.exports=Db()),jf.exports}var ht=Od();const yi=pg(ht);var Gf={exports:{}},el={},Xf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Rb(){return lv||(lv=1,(function(a){function n(I,$){var W=I.length;I.push($);t:for(;0<W;){var Bt=W-1>>>1,x=I[Bt];if(0<c(x,$))I[Bt]=$,I[W]=x,W=Bt;else break t}}function s(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var $=I[0],W=I.pop();if(W!==$){I[0]=W;t:for(var Bt=0,x=I.length,Z=x>>>1;Bt<Z;){var K=2*(Bt+1)-1,F=I[K],nt=K+1,rt=I[nt];if(0>c(F,W))nt<x&&0>c(rt,F)?(I[Bt]=rt,I[nt]=W,Bt=nt):(I[Bt]=F,I[K]=W,Bt=K);else if(nt<x&&0>c(rt,W))I[Bt]=rt,I[nt]=W,Bt=nt;else break t}}return $}function c(I,$){var W=I.sortIndex-$.sortIndex;return W!==0?W:I.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var y=[],S=[],C=1,w=null,A=3,k=!1,Y=!1,V=!1,et=!1,bt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function It(I){for(var $=s(S);$!==null;){if($.callback===null)r(S);else if($.startTime<=I)r(S),$.sortIndex=$.expirationTime,n(y,$);else break;$=s(S)}}function ft(I){if(V=!1,It(I),!Y)if(s(y)!==null)Y=!0,Wt||(Wt=!0,Nt());else{var $=s(S);$!==null&&ce(ft,$.startTime-I)}}var Wt=!1,Qt=-1,ae=5,ue=-1;function xe(){return et?!0:!(a.unstable_now()-ue<ae)}function Pt(){if(et=!1,Wt){var I=a.unstable_now();ue=I;var $=!0;try{t:{Y=!1,V&&(V=!1,dt(Qt),Qt=-1),k=!0;var W=A;try{e:{for(It(I),w=s(y);w!==null&&!(w.expirationTime>I&&xe());){var Bt=w.callback;if(typeof Bt=="function"){w.callback=null,A=w.priorityLevel;var x=Bt(w.expirationTime<=I);if(I=a.unstable_now(),typeof x=="function"){w.callback=x,It(I),$=!0;break e}w===s(y)&&r(y),It(I)}else r(y);w=s(y)}if(w!==null)$=!0;else{var Z=s(S);Z!==null&&ce(ft,Z.startTime-I),$=!1}}break t}finally{w=null,A=W,k=!1}$=void 0}}finally{$?Nt():Wt=!1}}}var Nt;if(typeof st=="function")Nt=function(){st(Pt)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,ve=an.port2;an.port1.onmessage=Pt,Nt=function(){ve.postMessage(null)}}else Nt=function(){bt(Pt,0)};function ce(I,$){Qt=bt(function(){I(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(I){switch(A){case 1:case 2:case 3:var $=3;break;default:$=A}var W=A;A=$;try{return I()}finally{A=W}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=A;A=I;try{return $()}finally{A=W}},a.unstable_scheduleCallback=function(I,$,W){var Bt=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Bt+W:Bt):W=Bt,I){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,I={id:C++,callback:$,priorityLevel:I,startTime:W,expirationTime:x,sortIndex:-1},W>Bt?(I.sortIndex=W,n(S,I),s(y)===null&&I===s(S)&&(V?(dt(Qt),Qt=-1):V=!0,ce(ft,W-Bt))):(I.sortIndex=x,n(y,I),Y||k||(Y=!0,Wt||(Wt=!0,Nt()))),I},a.unstable_shouldYield=xe,a.unstable_wrapCallback=function(I){var $=A;return function(){var W=A;A=$;try{return I.apply(this,arguments)}finally{A=W}}}})(Vf)),Vf}var uv;function zb(){return uv||(uv=1,Xf.exports=Rb()),Xf.exports}var Wf={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Pb(){if(cv)return We;cv=1;var a=Od();function n(y){var S="https://react.dev/errors/"+y;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)S+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,S,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:S,implementation:C}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,S){if(y==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(y,S){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(n(299));return d(y,S,null,C)},We.flushSync=function(y){var S=m.T,C=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=S,r.p=C,r.d.f()}},We.preconnect=function(y,S){typeof y=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,r.d.C(y,S))},We.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},We.preinit=function(y,S){if(typeof y=="string"&&S&&typeof S.as=="string"){var C=S.as,w=g(C,S.crossOrigin),A=typeof S.integrity=="string"?S.integrity:void 0,k=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;C==="style"?r.d.S(y,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):C==="script"&&r.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},We.preinitModule=function(y,S){if(typeof y=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var C=g(S.as,S.crossOrigin);r.d.M(y,{crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&r.d.M(y)},We.preload=function(y,S){if(typeof y=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var C=S.as,w=g(C,S.crossOrigin);r.d.L(y,C,{crossOrigin:w,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},We.preloadModule=function(y,S){if(typeof y=="string")if(S){var C=g(S.as,S.crossOrigin);r.d.m(y,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else r.d.m(y)},We.requestFormReset=function(y){r.d.r(y)},We.unstable_batchedUpdates=function(y,S){return y(S)},We.useFormState=function(y,S,C){return m.H.useFormState(y,S,C)},We.useFormStatus=function(){return m.H.useHostTransitionStatus()},We.version="19.1.1",We}var hv;function vg(){if(hv)return Wf.exports;hv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Wf.exports=Pb(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Bb(){if(fv)return el;fv=1;var a=zb(),n=Od(),s=vg();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,o=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(o=e.return),t=e.return;while(t)}return e.tag===3?o:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(r(188))}function y(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(r(188));return e!==t?null:t}for(var o=t,u=e;;){var f=o.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===o)return g(f),t;if(_===u)return g(f),e;_=_.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=_;else{for(var b=!1,E=f.child;E;){if(E===o){b=!0,o=f,u=_;break}if(E===u){b=!0,u=f,o=_;break}E=E.sibling}if(!b){for(E=_.child;E;){if(E===o){b=!0,o=_,u=f;break}if(E===u){b=!0,u=_,o=f;break}E=E.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:e}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S(t),e!==null)return e;t=t.sibling}return null}var C=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Wt=Symbol.for("react.suspense_list"),Qt=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Pt=Symbol.iterator;function Nt(t){return t===null||typeof t!="object"?null:(t=Pt&&t[Pt]||t["@@iterator"],typeof t=="function"?t:null)}var an=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===an?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case et:return"Profiler";case V:return"StrictMode";case ft:return"Suspense";case Wt:return"SuspenseList";case ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case st:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case It:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qt:return e=t.displayName||null,e!==null?e:ve(t.type)||"Memo";case ae:e=t._payload,t=t._init;try{return ve(t(e))}catch{}}return null}var ce=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Bt=[],x=-1;function Z(t){return{current:t}}function K(t){0>x||(t.current=Bt[x],Bt[x]=null,x--)}function F(t,e){x++,Bt[x]=t.current,t.current=e}var nt=Z(null),rt=Z(null),tt=Z(null),ie=Z(null);function Lt(t,e){switch(F(tt,e),F(rt,t),F(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Dp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Dp(e),t=Rp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(nt),F(nt,t)}function on(){K(nt),K(rt),K(tt)}function si(t){t.memoizedState!==null&&F(ie,t);var e=nt.current,o=Rp(e,t.type);e!==o&&(F(rt,t),F(nt,o))}function Zn(t){rt.current===t&&(K(nt),K(rt)),ie.current===t&&(K(ie),Qr._currentValue=W)}var Yn=Object.prototype.hasOwnProperty,Si=a.unstable_scheduleCallback,Fo=a.unstable_cancelCallback,Pl=a.unstable_shouldYield,Bl=a.unstable_requestPaint,rn=a.unstable_now,ja=a.unstable_getCurrentPriorityLevel,kl=a.unstable_ImmediatePriority,Ko=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,Hl=a.unstable_LowPriority,Jo=a.unstable_IdlePriority,Vc=a.log,Wc=a.unstable_setDisableYieldValue,Ti=null,qe=null;function qn(t){if(typeof Vc=="function"&&Wc(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ti,t)}catch{}}var Fe=Math.clz32?Math.clz32:Qc,Ul=Math.log,Il=Math.LN2;function Qc(t){return t>>>=0,t===0?32:31-(Ul(t)/Il|0)|0}var oa=256,ss=4194304;function ai(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ga(t,e,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,_=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~_,u!==0?f=ai(u):(b&=E,b!==0?f=ai(b):o||(o=E&~t,o!==0&&(f=ai(o))))):(E=u&~_,E!==0?f=ai(E):b!==0?f=ai(b):o||(o=u&~t,o!==0&&(f=ai(o)))),f===0?0:e!==0&&e!==f&&(e&_)===0&&(_=f&-f,o=e&-e,_>=o||_===32&&(o&4194048)!==0)?e:f}function jn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Fc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var t=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),t}function $o(){var t=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),t}function Xa(t){for(var e=[],o=0;31>o;o++)e.push(t);return e}function as(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kc(t,e,o,u,f,_){var b=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,P=t.hiddenUpdates;for(o=b&~o;0<o;){var q=31-Fe(o),G=1<<q;E[q]=0,O[q]=-1;var B=P[q];if(B!==null)for(P[q]=null,q=0;q<B.length;q++){var H=B[q];H!==null&&(H.lane&=-536870913)}o&=~G}u!==0&&Yl(t,u,0),_!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=_&~(b&~e))}function Yl(t,e,o){t.pendingLanes|=e,t.suspendedLanes&=~e;var u=31-Fe(e);t.entangledLanes|=e,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function ql(t,e){var o=t.entangledLanes|=e;for(t=t.entanglements;o;){var u=31-Fe(o),f=1<<u;f&e|t[u]&e&&(t[u]|=e),o&=~f}}function tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jl(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Jp(t.type))}function nr(t,e){var o=$.p;try{return $.p=t,e()}finally{$.p=o}}var oi=Math.random().toString(36).slice(2),Me="__reactFiber$"+oi,je="__reactProps$"+oi,os="__reactContainer$"+oi,ln="__reactEvents$"+oi,ut="__reactListeners$"+oi,Gl="__reactHandles$"+oi,ir="__reactResources$"+oi,rs="__reactMarker$"+oi;function Va(t){delete t[Me],delete t[je],delete t[ln],delete t[ut],delete t[Gl]}function ri(t){var e=t[Me];if(e)return e;for(var o=t.parentNode;o;){if(e=o[os]||o[Me]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(t=kp(t);t!==null;){if(o=t[Me])return o;t=kp(t)}return e}t=o,o=t.parentNode}return null}function Ei(t){if(t=t[Me]||t[os]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function On(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Ci(t){var e=t[ir];return e||(e=t[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function be(t){t[rs]=!0}var Xl=new Set,Vl={};function wi(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(Vl[t]=e,t=0;t<e.length;t++)Xl.add(e[t])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ra={},Wl={};function $c(t){return Yn.call(Wl,t)?!0:Yn.call(ra,t)?!1:Jc.test(t)?Wl[t]=!0:(ra[t]=!0,!1)}function Wa(t,e,o){if($c(e))if(o===null)t.removeAttribute(e);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var u=e.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+o)}}function Qa(t,e,o){if(o===null)t.removeAttribute(e);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+o)}}function Gn(t,e,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(e,o,""+u)}}var la,ls;function xi(t){if(la===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);la=e&&e[1]||"",ls=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ls}var Fa=!1;function Mi(t,e){if(!t||Fa)return"";Fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(e){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var B=H}Reflect.construct(t,[],G)}else{try{G.call()}catch(H){B=H}t.call(G.prototype)}}else{try{throw Error()}catch(H){B=H}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),b=_[0],E=_[1];if(b&&E){var O=b.split(`
`),P=E.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===P.length)for(u=O.length-1,f=P.length-1;1<=u&&0<=f&&O[u]!==P[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==P[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==P[f]){var q=`
`+O[u].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=u&&0<=f);break}}}finally{Fa=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?xi(o):""}function Rt(t){switch(t.tag){case 26:case 27:case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Mi(t.type,!1);case 11:return Mi(t.type.render,!1);case 1:return Mi(t.type,!0);case 31:return xi("Activity");default:return""}}function Ft(t){try{var e="";do e+=Rt(t),t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function us(t){var e=Oi(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),u=""+t[e];if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,_=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,_.call(this,b)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=us(t))}function St(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var o=e.getValue(),u="";return t&&(u=Oi(t)?t.checked?"true":"false":t.value),t=u,t!==o?(e.setValue(t),!0):!1}function Kt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sr=/[\n"\\]/g;function He(t){return t.replace(sr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ge(t,e,o,u,f,_,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),e!=null?b==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ke(e)):t.value!==""+ke(e)&&(t.value=""+ke(e)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),e!=null?hs(t,b,ke(e)):o!=null?hs(t,b,ke(o)):u!=null&&t.removeAttribute("value"),f==null&&_!=null&&(t.defaultChecked=!!_),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ke(E):t.removeAttribute("name")}function Ql(t,e,o,u,f,_,b,E){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),e!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||e!=null))return;o=o!=null?""+ke(o):"",e=e!=null?""+ke(e):o,E||e===t.value||(t.value=e),t.defaultValue=e}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function hs(t,e,o){e==="number"&&Kt(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function un(t,e,o,u){if(t=t.options,e){e={};for(var f=0;f<o.length;f++)e["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=e.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+ke(o),e=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function he(t,e,o){if(e!=null&&(e=""+ke(e),e!==t.value&&(t.value=e),o==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=o!=null?""+ke(o):""}function li(t,e,o,u){if(e==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),e=o}o=ke(e),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Nn(t,e){if(e){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=e;return}}t.textContent=e}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ka(t,e,o){var u=e.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":u?t.setProperty(e,o):typeof o!="number"||o===0||ua.has(e)?e==="float"?t.cssFloat=o:t[e]=(""+o).trim():t[e]=o+"px"}function fs(t,e,o){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||e!=null&&e.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in e)u=e[f],e.hasOwnProperty(f)&&o[f]!==u&&Ka(t,f,u)}else for(var _ in e)e.hasOwnProperty(_)&&Ka(t,_,e[_])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ja=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(t){return Ja.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ha=null;function _s(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,ui=null;function Fl(t){var e=Ei(t);if(e&&(t=e.stateNode)){var o=t[je]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ge(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),e=o.name,o.type==="radio"&&e!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+He(""+e)+'"][type="radio"]'),e=0;e<o.length;e++){var u=o[e];if(u!==t&&u.form===t.form){var f=u[je]||null;if(!f)throw Error(r(90));Ge(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<o.length;e++)u=o[e],u.form===t.form&&St(u)}break t;case"textarea":he(t,o.value,o.defaultValue);break t;case"select":e=o.value,e!=null&&un(t,!!o.multiple,e,!1)}}}var yt=!1;function vn(t,e,o){if(yt)return t(e,o);yt=!0;try{var u=t(e);return u}finally{if(yt=!1,(Ni!==null||ui!==null)&&(ju(),Ni&&(e=Ni,t=ui,ui=Ni=null,Fl(e),t)))for(e=0;e<t.length;e++)Fl(t[e])}}function kt(t,e){var o=t.stateNode;if(o===null)return null;var u=o[je]||null;if(u===null)return null;o=u[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,e,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Ln)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{fa=!1}var Dn=null,Xn=null,ms=null;function ps(){if(ms)return ms;var t,e=Xn,o=e.length,u,f="value"in Dn?Dn.value:Dn.textContent,_=f.length;for(t=0;t<o&&e[t]===f[t];t++);var b=o-t;for(u=1;u<=b&&e[o-u]===f[_-u];u++);return ms=f.slice(t,1<u?1-u:void 0)}function _e(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rn(){return!0}function or(){return!1}function Ue(t){function e(o,u,f,_,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(_):_[E]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rn:or,this.isPropagationStopped=or,this}return C(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rn)},persist:function(){},isPersistent:Rn}),e}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Ue(Di),Ri=C({},Di,{view:0,detail:0}),th=Ue(Ri),$a,Ct,_a,Xe=C({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?($a=t.screenX-_a.screenX,Ct=t.screenY-_a.screenY):Ct=$a=0,_a=t),$a)},movementY:function(t){return"movementY"in t?t.movementY:Ct}}),vs=Ue(Xe),Kl=C({},Xe,{dataTransfer:0}),eh=Ue(Kl),rr=C({},Ri,{relatedTarget:0}),lr=Ue(rr),Jl=C({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=Ue(Jl),ih=C({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ur=Ue(ih),sh=C({},Di,{data:0}),gn=Ue(sh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ci[t])?!!e[t]:!1}function to(){return tu}var cr=C({},Ri,{key:function(t){if(t.key){var e=ah[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_e(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$l[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(t){return t.type==="keypress"?_e(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_e(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oh=Ue(cr),eu=C({},Xe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Ue(eu),rh=C({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),lh=Ue(rh),fr=C({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),uh=Ue(fr),nu=C({},Xe,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=Ue(nu),eo=C({},Di,{newState:0,oldState:0}),zi=Ue(eo),ch=[9,13,27,32],Pi=Ln&&"CompositionEvent"in window,Oe=null;Ln&&"documentMode"in document&&(Oe=document.documentMode);var su=Ln&&"TextEvent"in window&&!Oe,dr=Ln&&(!Pi||Oe&&8<Oe&&11>=Oe),au=" ",no=!1;function io(t,e){switch(t){case"keyup":return ch.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function ru(t,e){switch(t){case"compositionend":return ou(e);case"keypress":return e.which!==32?null:(no=!0,au);case"textInput":return t=e.data,t===au&&no?null:t;default:return null}}function hh(t,e){if(gs)return t==="compositionend"||!Pi&&io(t,e)?(t=ps(),ms=Xn=Dn=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dr&&e.locale!=="ko"?null:e.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yn[t.type]:e==="textarea"}function lu(t,e,o,u){Ni?ui?ui.push(u):ui=[u]:Ni=u,e=Fu(e,"onChange"),0<e.length&&(o=new da("onChange","change",null,o,u),t.push({event:o,listeners:e}))}var Ke=null,ma=null;function ys(t){xp(t,0)}function so(t){var e=On(t);if(St(e))return t}function bs(t,e){if(t==="change")return e}var _r=!1;if(Ln){var Ss;if(Ln){var mr="oninput"in document;if(!mr){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),mr=typeof Vn.oninput=="function"}Ss=mr}else Ss=!1;_r=Ss&&(!document.documentMode||9<document.documentMode)}function pa(){Ke&&(Ke.detachEvent("onpropertychange",uu),ma=Ke=null)}function uu(t){if(t.propertyName==="value"&&so(ma)){var e=[];lu(e,ma,t,_s(t)),vn(ys,e)}}function pr(t,e,o){t==="focusin"?(pa(),Ke=e,ma=o,Ke.attachEvent("onpropertychange",uu)):t==="focusout"&&pa()}function fh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(ma)}function Wn(t,e){if(t==="click")return so(e)}function dh(t,e){if(t==="input"||t==="change")return so(e)}function Ts(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:Ts;function $e(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var o=Object.keys(t),u=Object.keys(e);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Yn.call(e,f)||!Je(t[f],e[f]))return!1}return!0}function va(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vr(t,e){var o=va(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=e&&u>=e)return{node:o,offset:e-t};t=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=va(o)}}function ao(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ao(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ga(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Kt(t.document);e instanceof t.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)t=e.contentWindow;else break;e=Kt(t.document)}return e}function ya(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var oo=Ln&&"documentMode"in document&&11>=document.documentMode,bn=null,Es=null,ki=null,ro=!1;function cu(t,e,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ro||bn==null||bn!==Kt(u)||(u=bn,"selectionStart"in u&&ya(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ki&&$e(ki,u)||(ki=u,u=Fu(Es,"onSelect"),0<u.length&&(e=new da("onSelect","select",null,e,o),t.push({event:e,listeners:u}),e.target=bn)))}function zn(t,e){var o={};return o[t.toLowerCase()]=e.toLowerCase(),o["Webkit"+t]="webkit"+e,o["Moz"+t]="moz"+e,o}var Cs={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},lo={},hu={};Ln&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function hi(t){if(lo[t])return lo[t];if(!Cs[t])return t;var e=Cs[t],o;for(o in e)if(e.hasOwnProperty(o)&&o in hu)return lo[t]=e[o];return t}var fu=hi("animationend"),Sn=hi("animationiteration"),ba=hi("animationstart"),_h=hi("transitionrun"),uo=hi("transitionstart"),mh=hi("transitioncancel"),gr=hi("transitionend"),du=new Map,Hi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hi.push("scrollEnd");function Tn(t,e){du.set(t,e),wi(e,[t])}var Ui=new WeakMap;function tn(t,e){if(typeof t=="object"&&t!==null){var o=Ui.get(t);return o!==void 0?o:(e={value:t,source:e,stack:Ft(e)},Ui.set(t,e),e)}return{value:t,source:e,stack:Ft(e)}}var en=[],ws=0,En=0;function Sa(){for(var t=ws,e=En=ws=0;e<t;){var o=en[e];en[e++]=null;var u=en[e];en[e++]=null;var f=en[e];en[e++]=null;var _=en[e];if(en[e++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}_!==0&&Ea(o,f,_)}}function Ta(t,e,o,u){en[ws++]=t,en[ws++]=e,en[ws++]=o,en[ws++]=u,En|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ii(t,e,o,u){return Ta(t,e,o,u),fi(t)}function As(t,e){return Ta(t,null,null,e),fi(t)}function Ea(t,e,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,_=t.return;_!==null;)_.childLanes|=o,u=_.alternate,u!==null&&(u.childLanes|=o),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(f=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,f&&e!==null&&(f=31-Fe(o),t=_.hiddenUpdates,u=t[f],u===null?t[f]=[e]:u.push(e),e.lane=o|536870912),_):null}function fi(t){if(50<Zr)throw Zr=0,df=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Zi={};function _u(t,e,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,o,u){return new _u(t,e,o,u)}function co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,e){var o=t.alternate;return o===null?(o=nn(t.tag,e,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=e,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,e=t.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function yr(t,e){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,e=o.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ca(t,e,o,u,f,_){var b=0;if(u=t,typeof t=="function")co(t)&&(b=1);else if(typeof t=="string")b=vb(t,o,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ue:return t=nn(31,o,e,f),t.elementType=ue,t.lanes=_,t;case Y:return di(o.children,f,_,e);case V:b=8,f|=24;break;case et:return t=nn(12,o,e,f|2),t.elementType=et,t.lanes=_,t;case ft:return t=nn(13,o,e,f),t.elementType=ft,t.lanes=_,t;case Wt:return t=nn(19,o,e,f),t.elementType=Wt,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case st:b=10;break t;case dt:b=9;break t;case It:b=11;break t;case Qt:b=14;break t;case ae:b=16,u=null;break t}b=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return e=nn(b,o,e,f),e.elementType=t,e.type=u,e.lanes=_,e}function di(t,e,o,u){return t=nn(7,t,u,e),t.lanes=o,t}function br(t,e,o){return t=nn(6,t,null,e),t.lanes=o,t}function ho(t,e,o){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=o,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Yi=[],xs=0,i=null,l=0,h=[],p=0,v=null,T=1,M="";function R(t,e){Yi[xs++]=l,Yi[xs++]=i,i=t,l=e}function U(t,e,o){h[p++]=T,h[p++]=M,h[p++]=v,v=t;var u=T;t=M;var f=32-Fe(u)-1;u&=~(1<<f),o+=1;var _=32-Fe(e)+f;if(30<_){var b=f-f%5;_=(u&(1<<b)-1).toString(32),u>>=b,f-=b,T=1<<32-Fe(e)+f|o<<f|u,M=_+t}else T=1<<_|o<<f|u,M=t}function X(t){t.return!==null&&(R(t,1),U(t,1,0))}function it(t){for(;t===i;)i=Yi[--xs],Yi[xs]=null,l=Yi[--xs],Yi[xs]=null;for(;t===v;)v=h[--p],h[p]=null,M=h[--p],h[p]=null,T=h[--p],h[p]=null}var at=null,lt=null,gt=!1,Jt=null,fe=!1,Ne=Error(r(519));function cn(t){var e=Error(r(418,""));throw Os(tn(e,t)),Ne}function mu(t){var e=t.stateNode,o=t.type,u=t.memoizedProps;switch(e[Me]=t,e[je]=u,o){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(o=0;o<qr.length;o++)Mt(qr[o],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Ql(e,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),cs(e);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),li(e,u.value,u.defaultValue,u.children),cs(e)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||e.textContent===""+o||u.suppressHydrationWarning===!0||Lp(e.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),u.onScroll!=null&&Mt("scroll",e),u.onScrollEnd!=null&&Mt("scrollend",e),u.onClick!=null&&(e.onclick=Ku),e=!0):e=!1,e||cn(t)}function pu(t){for(at=t.return;at;)switch(at.tag){case 5:case 13:fe=!1;return;case 27:case 3:fe=!0;return;default:at=at.return}}function wa(t){if(t!==at)return!1;if(!gt)return pu(t),gt=!0,!1;var e=t.tag,o;if((o=e!==3&&e!==27)&&((o=e===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Of(t.type,t.memoizedProps)),o=!o),o&&lt&&cn(t),pu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(e===0){lt=Jn(t.nextSibling);break t}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++;t=t.nextSibling}lt=null}}else e===27?(e=lt,js(t.type)?(t=Rf,Rf=null,lt=t):lt=e):lt=at?Jn(t.stateNode.nextSibling):null;return!0}function Ms(){lt=at=null,gt=!1}function vu(){var t=Jt;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Jt=null),t}function Os(t){Jt===null?Jt=[t]:Jt.push(t)}var oe=Z(null),Bn=null,Qn=null;function _i(t,e,o){F(oe,e._currentValue),e._currentValue=o}function Fn(t){t._currentValue=oe.current,K(oe)}function Aa(t,e,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,u!==null&&(u.childLanes|=e)):u!==null&&(u.childLanes&e)!==e&&(u.childLanes|=e),t===o)break;t=t.return}}function fo(t,e,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){var b=f.child;_=_.firstContext;t:for(;_!==null;){var E=_;_=f;for(var O=0;O<e.length;O++)if(E.context===e[O]){_.lanes|=o,E=_.alternate,E!==null&&(E.lanes|=o),Aa(_.return,o,t),u||(b=null);break t}_=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,_=b.alternate,_!==null&&(_.lanes|=o),Aa(b,o,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function xa(t,e,o,u){t=null;for(var f=e,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var E=f.type;Je(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===ie.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Qr):t=[Qr])}f=f.return}t!==null&&fo(e,t,o,u),e.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!Je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){Bn=t,Qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ve(t){return v_(Bn,t)}function yu(t,e){return Bn===null&&Ma(t),v_(t,e)}function v_(t,e){var o=e._currentValue;if(e={context:e,memoizedValue:o,next:null},Qn===null){if(t===null)throw Error(r(308));Qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Qn=Qn.next=e;return o}var p0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){e.aborted=!0,t.forEach(function(o){return o()})}},v0=a.unstable_scheduleCallback,g0=a.unstable_NormalPriority,Ee={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new p0,data:new Map,refCount:0}}function Sr(t){t.refCount--,t.refCount===0&&v0(g0,function(){t.controller.abort()})}var Tr=null,vh=0,_o=0,mo=null;function y0(t,e){if(Tr===null){var o=Tr=[];vh=0,_o=bf(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return vh++,e.then(g_,g_),e}function g_(){if(--vh===0&&Tr!==null){mo!==null&&(mo.status="fulfilled");var t=Tr;Tr=null,_o=0,mo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function b0(t,e){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=e;for(var f=0;f<o.length;f++)(0,o[f])(e)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var y_=I.S;I.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&y0(t,e),y_!==null&&y_(t,e)};var Oa=Z(null);function gh(){var t=Oa.current;return t!==null?t:$t.pooledCache}function bu(t,e){e===null?F(Oa,Oa.current):F(Oa,e.pool)}function b_(){var t=gh();return t===null?null:{parent:Ee._currentValue,pool:t}}var Er=Error(r(460)),S_=Error(r(474)),Su=Error(r(542)),yh={then:function(){}};function T_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tu(){}function E_(t,e,o){switch(o=t[o],o===void 0?t.push(e):o!==e&&(e.then(Tu,Tu),e=o),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,w_(t),t;default:if(typeof e.status=="string")e.then(Tu,Tu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(u){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=u}},function(u){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=u}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,w_(t),t}throw Cr=e,Er}}var Cr=null;function C_(){if(Cr===null)throw Error(r(459));var t=Cr;return Cr=null,t}function w_(t){if(t===Er||t===Su)throw Error(r(483))}var Ns=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Zt&2)!==0){var f=u.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),u.pending=e,e=fi(t),Ea(t,null,o),e}return Ta(t,u,e,o),fi(t)}function wr(t,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194048)!==0)){var u=e.lanes;u&=t.pendingLanes,o|=u,e.lanes=o,ql(t,o)}}function Th(t,e){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?f=_=b:_=_.next=b,o=o.next}while(o!==null);_===null?f=_=e:_=_.next=e}else f=_=e;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=e:t.next=e,o.lastBaseUpdate=e}var Eh=!1;function Ar(){if(Eh){var t=mo;if(t!==null)throw t}}function xr(t,e,o,u){Eh=!1;var f=t.updateQueue;Ns=!1;var _=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,P=O.next;O.next=null,b===null?_=P:b.next=P,b=O;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==b&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=O))}if(_!==null){var G=f.baseState;b=0,q=P=O=null,E=_;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(zt&B)===B:(u&B)===B){B!==0&&B===_o&&(Eh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,_t=E;B=e;var Gt=o;switch(_t.tag){case 1:if(vt=_t.payload,typeof vt=="function"){G=vt.call(Gt,G,B);break t}G=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=_t.payload,B=typeof vt=="function"?vt.call(Gt,G,B):vt,B==null)break t;G=C({},G,B);break t;case 2:Ns=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=H,O=G):q=q.next=H,b|=B;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);q===null&&(O=G),f.baseState=O,f.firstBaseUpdate=P,f.lastBaseUpdate=q,_===null&&(f.shared.lanes=0),Is|=b,t.lanes=b,t.memoizedState=G}}function A_(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function x_(t,e){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)A_(o[t],e)}var po=Z(null),Eu=Z(0);function M_(t,e){t=Qi,F(Eu,t),F(po,e),Qi=t|e.baseLanes}function Ch(){F(Eu,Qi),F(po,po.current)}function wh(){Qi=Eu.current,K(po),K(Eu)}var Rs=0,Et=null,qt=null,Se=null,Cu=!1,vo=!1,Na=!1,wu=0,Mr=0,go=null,S0=0;function ge(){throw Error(r(321))}function Ah(t,e){if(e===null)return!1;for(var o=0;o<e.length&&o<t.length;o++)if(!Je(t[o],e[o]))return!1;return!0}function xh(t,e,o,u,f,_){return Rs=_,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?hm:fm,Na=!1,_=o(u,f),Na=!1,vo&&(_=N_(e,o,u,f)),O_(t),_}function O_(t){I.H=Lu;var e=qt!==null&&qt.next!==null;if(Rs=0,Se=qt=Et=null,Cu=!1,Mr=0,go=null,e)throw Error(r(300));t===null||Le||(t=t.dependencies,t!==null&&gu(t)&&(Le=!0))}function N_(t,e,o,u){Et=t;var f=0;do{if(vo&&(go=null),Mr=0,vo=!1,25<=f)throw Error(r(301));if(f+=1,Se=qt=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}I.H=M0,_=e(o,u)}while(vo);return _}function T0(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?Or(e):e,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(Et.flags|=1024),e}function Mh(){var t=wu!==0;return wu=0,t}function Oh(t,e,o){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o}function Nh(t){if(Cu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Cu=!1}Rs=0,Se=qt=Et=null,vo=!1,Mr=wu=0,go=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Et.memoizedState=Se=t:Se=Se.next=t,Se}function Te(){if(qt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Se===null?Et.memoizedState:Se.next;if(e!==null)Se=e,qt=t;else{if(t===null)throw Et.alternate===null?Error(r(467)):Error(r(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Se===null?Et.memoizedState=Se=t:Se=Se.next=t}return Se}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Or(t){var e=Mr;return Mr+=1,go===null&&(go=[]),t=E_(go,t,e),e=Et,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?hm:fm),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Or(t);if(t.$$typeof===st)return Ve(t)}throw Error(r(438,String(t)))}function Dh(t){var e=null,o=Et.updateQueue;if(o!==null&&(e=o.memoCache),e==null){var u=Et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(e={data:u.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),o===null&&(o=Lh(),Et.updateQueue=o),o.memoCache=e,o=e.data[e.index],o===void 0)for(o=e.data[e.index]=Array(t),u=0;u<t;u++)o[u]=xe;return e.index++,o}function qi(t,e){return typeof e=="function"?e(t):e}function xu(t){var e=Te();return Rh(e,qt,t)}function Rh(t,e,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=t.baseQueue,_=u.pending;if(_!==null){if(f!==null){var b=f.next;f.next=_.next,_.next=b}e.baseQueue=f=_,u.pending=null}if(_=t.baseState,f===null)t.memoizedState=_;else{e=f.next;var E=b=null,O=null,P=e,q=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(zt&G)===G:(Rs&G)===G){var B=P.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===_o&&(q=!0);else if((Rs&B)===B){P=P.next,B===_o&&(q=!0);continue}else G={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(E=O=G,b=_):O=O.next=G,Et.lanes|=B,Is|=B;G=P.action,Na&&o(_,G),_=P.hasEagerState?P.eagerState:o(_,G)}else B={lane:G,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(E=O=B,b=_):O=O.next=B,Et.lanes|=G,Is|=G;P=P.next}while(P!==null&&P!==e);if(O===null?b=_:O.next=E,!Je(_,t.memoizedState)&&(Le=!0,q&&(o=mo,o!==null)))throw o;t.memoizedState=_,t.baseState=b,t.baseQueue=O,u.lastRenderedState=_}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function zh(t){var e=Te(),o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,_=e.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do _=t(_,b.action),b=b.next;while(b!==f);Je(_,e.memoizedState)||(Le=!0),e.memoizedState=_,e.baseQueue===null&&(e.baseState=_),o.lastRenderedState=_}return[_,u]}function L_(t,e,o){var u=Et,f=Te(),_=gt;if(_){if(o===void 0)throw Error(r(407));o=o()}else o=e();var b=!Je((qt||f).memoizedState,o);b&&(f.memoizedState=o,Le=!0),f=f.queue;var E=z_.bind(null,u,f,t);if(Nr(2048,8,E,[t]),f.getSnapshot!==e||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,yo(9,Mu(),R_.bind(null,u,f,o,e),null),$t===null)throw Error(r(349));_||(Rs&124)!==0||D_(u,e,o)}return o}function D_(t,e,o){t.flags|=16384,t={getSnapshot:e,value:o},e=Et.updateQueue,e===null?(e=Lh(),Et.updateQueue=e,e.stores=[t]):(o=e.stores,o===null?e.stores=[t]:o.push(t))}function R_(t,e,o,u){e.value=o,e.getSnapshot=u,P_(e)&&B_(t)}function z_(t,e,o){return o(function(){P_(e)&&B_(t)})}function P_(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!Je(t,o)}catch{return!0}}function B_(t){var e=As(t,2);e!==null&&Mn(e,t,2)}function Ph(t){var e=hn();if(typeof t=="function"){var o=t;if(t=o(),Na){qn(!0);try{o()}finally{qn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},e}function k_(t,e,o,u){return t.baseState=o,Rh(t,qt,typeof u=="function"?u:qi)}function E0(t,e,o,u,f){if(Nu(t))throw Error(r(485));if(t=e.action,t!==null){var _={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};I.T!==null?o(!0):_.isTransition=!1,u(_),o=e.pending,o===null?(_.next=e.pending=_,H_(e,_)):(_.next=o.next,e.pending=o.next=_)}}function H_(t,e){var o=e.action,u=e.payload,f=t.state;if(e.isTransition){var _=I.T,b={};I.T=b;try{var E=o(f,u),O=I.S;O!==null&&O(b,E),U_(t,e,E)}catch(P){Bh(t,e,P)}finally{I.T=_}}else try{_=o(f,u),U_(t,e,_)}catch(P){Bh(t,e,P)}}function U_(t,e,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I_(t,e,u)},function(u){return Bh(t,e,u)}):I_(t,e,o)}function I_(t,e,o){e.status="fulfilled",e.value=o,Z_(e),t.state=o,e=t.pending,e!==null&&(o=e.next,o===e?t.pending=null:(o=o.next,e.next=o,H_(t,o)))}function Bh(t,e,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do e.status="rejected",e.reason=o,Z_(e),e=e.next;while(e!==u)}t.action=null}function Z_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Y_(t,e){return e}function q_(t,e){if(gt){var o=$t.formState;if(o!==null){t:{var u=Et;if(gt){if(lt){e:{for(var f=lt,_=fe;f.nodeType!==8;){if(!_){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){lt=Jn(f.nextSibling),u=f.data==="F!";break t}}cn(u)}u=!1}u&&(e=o[0])}}return o=hn(),o.memoizedState=o.baseState=e,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y_,lastRenderedState:e},o.queue=u,o=lm.bind(null,Et,u),u.dispatch=o,u=Ph(!1),_=Zh.bind(null,Et,!1,u.queue),u=hn(),f={state:e,dispatch:null,action:t,pending:null},u.queue=f,o=E0.bind(null,Et,f,_,o),f.dispatch=o,u.memoizedState=t,[e,o,!1]}function j_(t){var e=Te();return G_(e,qt,t)}function G_(t,e,o){if(e=Rh(t,e,Y_)[0],t=xu(qi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var u=Or(e)}catch(b){throw b===Er?Su:b}else u=e;e=Te();var f=e.queue,_=f.dispatch;return o!==e.memoizedState&&(Et.flags|=2048,yo(9,Mu(),C0.bind(null,f,o),null)),[u,_,t]}function C0(t,e){t.action=e}function X_(t){var e=Te(),o=qt;if(o!==null)return G_(e,o,t);Te(),e=e.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=t,[e,u,!1]}function yo(t,e,o,u){return t={tag:t,create:o,deps:u,inst:e,next:null},e=Et.updateQueue,e===null&&(e=Lh(),Et.updateQueue=e),o=e.lastEffect,o===null?e.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,e.lastEffect=t),t}function Mu(){return{destroy:void 0,resource:void 0}}function V_(){return Te().memoizedState}function Ou(t,e,o,u){var f=hn();u=u===void 0?null:u,Et.flags|=t,f.memoizedState=yo(1|e,Mu(),o,u)}function Nr(t,e,o,u){var f=Te();u=u===void 0?null:u;var _=f.memoizedState.inst;qt!==null&&u!==null&&Ah(u,qt.memoizedState.deps)?f.memoizedState=yo(e,_,o,u):(Et.flags|=t,f.memoizedState=yo(1|e,_,o,u))}function W_(t,e){Ou(8390656,8,t,e)}function Q_(t,e){Nr(2048,8,t,e)}function F_(t,e){return Nr(4,2,t,e)}function K_(t,e){return Nr(4,4,t,e)}function J_(t,e){if(typeof e=="function"){t=t();var o=e(t);return function(){typeof o=="function"?o():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $_(t,e,o){o=o!=null?o.concat([t]):null,Nr(4,4,J_.bind(null,e,t),o)}function kh(){}function tm(t,e){var o=Te();e=e===void 0?null:e;var u=o.memoizedState;return e!==null&&Ah(e,u[1])?u[0]:(o.memoizedState=[t,e],t)}function em(t,e){var o=Te();e=e===void 0?null:e;var u=o.memoizedState;if(e!==null&&Ah(e,u[1]))return u[0];if(u=t(),Na){qn(!0);try{t()}finally{qn(!1)}}return o.memoizedState=[u,e],u}function Hh(t,e,o){return o===void 0||(Rs&1073741824)!==0?t.memoizedState=e:(t.memoizedState=o,t=sp(),Et.lanes|=t,Is|=t,o)}function nm(t,e,o,u){return Je(o,e)?o:po.current!==null?(t=Hh(t,o,u),Je(t,e)||(Le=!0),t):(Rs&42)===0?(Le=!0,t.memoizedState=o):(t=sp(),Et.lanes|=t,Is|=t,e)}function im(t,e,o,u,f){var _=$.p;$.p=_!==0&&8>_?_:8;var b=I.T,E={};I.T=E,Zh(t,!1,e,o);try{var O=f(),P=I.S;if(P!==null&&P(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=b0(O,u);Lr(t,e,q,xn(t))}else Lr(t,e,u,xn(t))}catch(G){Lr(t,e,{then:function(){},status:"rejected",reason:G},xn())}finally{$.p=_,I.T=b}}function w0(){}function Uh(t,e,o,u){if(t.tag!==5)throw Error(r(476));var f=sm(t).queue;im(t,f,e,W,o===null?w0:function(){return am(t),o(u)})}function sm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:W},next:null};var o={};return e.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:o},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function am(t){var e=sm(t).next.queue;Lr(t,e,{},xn())}function Ih(){return Ve(Qr)}function om(){return Te().memoizedState}function rm(){return Te().memoizedState}function A0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var o=xn();t=Ls(o);var u=Ds(e,t,o);u!==null&&(Mn(u,e,o),wr(u,e,o)),e={cache:ph()},t.payload=e;return}e=e.return}}function x0(t,e,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nu(t)?um(e,o):(o=Ii(t,e,o,u),o!==null&&(Mn(o,t,u),cm(o,e,u)))}function lm(t,e,o){var u=xn();Lr(t,e,o,u)}function Lr(t,e,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))um(e,f);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=e.lastRenderedReducer,_!==null))try{var b=e.lastRenderedState,E=_(b,o);if(f.hasEagerState=!0,f.eagerState=E,Je(E,b))return Ta(t,e,f,0),$t===null&&Sa(),!1}catch{}finally{}if(o=Ii(t,e,f,u),o!==null)return Mn(o,t,u),cm(o,e,u),!0}return!1}function Zh(t,e,o,u){if(u={lane:2,revertLane:bf(),action:u,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(e)throw Error(r(479))}else e=Ii(t,o,u,2),e!==null&&Mn(e,t,2)}function Nu(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function um(t,e){vo=Cu=!0;var o=t.pending;o===null?e.next=e:(e.next=o.next,o.next=e),t.pending=e}function cm(t,e,o){if((o&4194048)!==0){var u=e.lanes;u&=t.pendingLanes,o|=u,e.lanes=o,ql(t,o)}}var Lu={readContext:Ve,use:Au,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},hm={readContext:Ve,use:Au,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:W_,useImperativeHandle:function(t,e,o){o=o!=null?o.concat([t]):null,Ou(4194308,4,J_.bind(null,e,t),o)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){Ou(4,2,t,e)},useMemo:function(t,e){var o=hn();e=e===void 0?null:e;var u=t();if(Na){qn(!0);try{t()}finally{qn(!1)}}return o.memoizedState=[u,e],u},useReducer:function(t,e,o){var u=hn();if(o!==void 0){var f=o(e);if(Na){qn(!0);try{o(e)}finally{qn(!1)}}}else f=e;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=x0.bind(null,Et,t),[u.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:function(t){t=Ph(t);var e=t.queue,o=lm.bind(null,Et,e);return e.dispatch=o,[t.memoizedState,o]},useDebugValue:kh,useDeferredValue:function(t,e){var o=hn();return Hh(o,t,e)},useTransition:function(){var t=Ph(!1);return t=im.bind(null,Et,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,o){var u=Et,f=hn();if(gt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=e(),$t===null)throw Error(r(349));(zt&124)!==0||D_(u,e,o)}f.memoizedState=o;var _={value:o,getSnapshot:e};return f.queue=_,W_(z_.bind(null,u,_,t),[t]),u.flags|=2048,yo(9,Mu(),R_.bind(null,u,_,o,e),null),o},useId:function(){var t=hn(),e=$t.identifierPrefix;if(gt){var o=M,u=T;o=(u&~(1<<32-Fe(u)-1)).toString(32)+o,e=""+e+"R"+o,o=wu++,0<o&&(e+="H"+o.toString(32)),e+=""}else o=S0++,e=""+e+"r"+o.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Ih,useFormState:q_,useActionState:q_,useOptimistic:function(t){var e=hn();e.memoizedState=e.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=o,e=Zh.bind(null,Et,!0,o),o.dispatch=e,[t,e]},useMemoCache:Dh,useCacheRefresh:function(){return hn().memoizedState=A0.bind(null,Et)}},fm={readContext:Ve,use:Au,useCallback:tm,useContext:Ve,useEffect:Q_,useImperativeHandle:$_,useInsertionEffect:F_,useLayoutEffect:K_,useMemo:em,useReducer:xu,useRef:V_,useState:function(){return xu(qi)},useDebugValue:kh,useDeferredValue:function(t,e){var o=Te();return nm(o,qt.memoizedState,t,e)},useTransition:function(){var t=xu(qi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Or(t),e]},useSyncExternalStore:L_,useId:om,useHostTransitionStatus:Ih,useFormState:j_,useActionState:j_,useOptimistic:function(t,e){var o=Te();return k_(o,qt,t,e)},useMemoCache:Dh,useCacheRefresh:rm},M0={readContext:Ve,use:Au,useCallback:tm,useContext:Ve,useEffect:Q_,useImperativeHandle:$_,useInsertionEffect:F_,useLayoutEffect:K_,useMemo:em,useReducer:zh,useRef:V_,useState:function(){return zh(qi)},useDebugValue:kh,useDeferredValue:function(t,e){var o=Te();return qt===null?Hh(o,t,e):nm(o,qt.memoizedState,t,e)},useTransition:function(){var t=zh(qi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Or(t),e]},useSyncExternalStore:L_,useId:om,useHostTransitionStatus:Ih,useFormState:X_,useActionState:X_,useOptimistic:function(t,e){var o=Te();return qt!==null?k_(o,qt,t,e):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:rm},bo=null,Dr=0;function Du(t){var e=Dr;return Dr+=1,bo===null&&(bo=[]),E_(bo,t,e)}function Rr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ru(t,e){throw e.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function dm(t){var e=t._init;return e(t._payload)}function _m(t){function e(D,N){if(t){var z=D.deletions;z===null?(D.deletions=[N],D.flags|=16):z.push(N)}}function o(D,N){if(!t)return null;for(;N!==null;)e(D,N),N=N.sibling;return null}function u(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function f(D,N){return D=Pn(D,N),D.index=0,D.sibling=null,D}function _(D,N,z){return D.index=z,t?(z=D.alternate,z!==null?(z=z.index,z<N?(D.flags|=67108866,N):z):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function b(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function E(D,N,z,j){return N===null||N.tag!==6?(N=br(z,D.mode,j),N.return=D,N):(N=f(N,z),N.return=D,N)}function O(D,N,z,j){var ot=z.type;return ot===Y?q(D,N,z.props.children,j,z.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ae&&dm(ot)===N.type)?(N=f(N,z.props),Rr(N,z),N.return=D,N):(N=Ca(z.type,z.key,z.props,null,D.mode,j),Rr(N,z),N.return=D,N)}function P(D,N,z,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=ho(z,D.mode,j),N.return=D,N):(N=f(N,z.children||[]),N.return=D,N)}function q(D,N,z,j,ot){return N===null||N.tag!==7?(N=di(z,D.mode,j,ot),N.return=D,N):(N=f(N,z),N.return=D,N)}function G(D,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=br(""+N,D.mode,z),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return z=Ca(N.type,N.key,N.props,null,D.mode,z),Rr(z,N),z.return=D,z;case k:return N=ho(N,D.mode,z),N.return=D,N;case ae:var j=N._init;return N=j(N._payload),G(D,N,z)}if(ce(N)||Nt(N))return N=di(N,D.mode,z,null),N.return=D,N;if(typeof N.then=="function")return G(D,Du(N),z);if(N.$$typeof===st)return G(D,yu(D,N),z);Ru(D,N)}return null}function B(D,N,z,j){var ot=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ot!==null?null:E(D,N,""+z,j);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ot?O(D,N,z,j):null;case k:return z.key===ot?P(D,N,z,j):null;case ae:return ot=z._init,z=ot(z._payload),B(D,N,z,j)}if(ce(z)||Nt(z))return ot!==null?null:q(D,N,z,j,null);if(typeof z.then=="function")return B(D,N,Du(z),j);if(z.$$typeof===st)return B(D,N,yu(D,z),j);Ru(D,z)}return null}function H(D,N,z,j,ot){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return D=D.get(z)||null,E(N,D,""+j,ot);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return D=D.get(j.key===null?z:j.key)||null,O(N,D,j,ot);case k:return D=D.get(j.key===null?z:j.key)||null,P(N,D,j,ot);case ae:var wt=j._init;return j=wt(j._payload),H(D,N,z,j,ot)}if(ce(j)||Nt(j))return D=D.get(z)||null,q(N,D,j,ot,null);if(typeof j.then=="function")return H(D,N,z,Du(j),ot);if(j.$$typeof===st)return H(D,N,z,yu(N,j),ot);Ru(N,j)}return null}function vt(D,N,z,j){for(var ot=null,wt=null,ct=N,mt=N=0,Re=null;ct!==null&&mt<z.length;mt++){ct.index>mt?(Re=ct,ct=null):Re=ct.sibling;var Ht=B(D,ct,z[mt],j);if(Ht===null){ct===null&&(ct=Re);break}t&&ct&&Ht.alternate===null&&e(D,ct),N=_(Ht,N,mt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht,ct=Re}if(mt===z.length)return o(D,ct),gt&&R(D,mt),ot;if(ct===null){for(;mt<z.length;mt++)ct=G(D,z[mt],j),ct!==null&&(N=_(ct,N,mt),wt===null?ot=ct:wt.sibling=ct,wt=ct);return gt&&R(D,mt),ot}for(ct=u(ct);mt<z.length;mt++)Re=H(ct,D,mt,z[mt],j),Re!==null&&(t&&Re.alternate!==null&&ct.delete(Re.key===null?mt:Re.key),N=_(Re,N,mt),wt===null?ot=Re:wt.sibling=Re,wt=Re);return t&&ct.forEach(function(Qs){return e(D,Qs)}),gt&&R(D,mt),ot}function _t(D,N,z,j){if(z==null)throw Error(r(151));for(var ot=null,wt=null,ct=N,mt=N=0,Re=null,Ht=z.next();ct!==null&&!Ht.done;mt++,Ht=z.next()){ct.index>mt?(Re=ct,ct=null):Re=ct.sibling;var Qs=B(D,ct,Ht.value,j);if(Qs===null){ct===null&&(ct=Re);break}t&&ct&&Qs.alternate===null&&e(D,ct),N=_(Qs,N,mt),wt===null?ot=Qs:wt.sibling=Qs,wt=Qs,ct=Re}if(Ht.done)return o(D,ct),gt&&R(D,mt),ot;if(ct===null){for(;!Ht.done;mt++,Ht=z.next())Ht=G(D,Ht.value,j),Ht!==null&&(N=_(Ht,N,mt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht);return gt&&R(D,mt),ot}for(ct=u(ct);!Ht.done;mt++,Ht=z.next())Ht=H(ct,D,mt,Ht.value,j),Ht!==null&&(t&&Ht.alternate!==null&&ct.delete(Ht.key===null?mt:Ht.key),N=_(Ht,N,mt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht);return t&&ct.forEach(function(Ob){return e(D,Ob)}),gt&&R(D,mt),ot}function Gt(D,N,z,j){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var ot=z.key;N!==null;){if(N.key===ot){if(ot=z.type,ot===Y){if(N.tag===7){o(D,N.sibling),j=f(N,z.props.children),j.return=D,D=j;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ae&&dm(ot)===N.type){o(D,N.sibling),j=f(N,z.props),Rr(j,z),j.return=D,D=j;break t}o(D,N);break}else e(D,N);N=N.sibling}z.type===Y?(j=di(z.props.children,D.mode,j,z.key),j.return=D,D=j):(j=Ca(z.type,z.key,z.props,null,D.mode,j),Rr(j,z),j.return=D,D=j)}return b(D);case k:t:{for(ot=z.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(D,N.sibling),j=f(N,z.children||[]),j.return=D,D=j;break t}else{o(D,N);break}else e(D,N);N=N.sibling}j=ho(z,D.mode,j),j.return=D,D=j}return b(D);case ae:return ot=z._init,z=ot(z._payload),Gt(D,N,z,j)}if(ce(z))return vt(D,N,z,j);if(Nt(z)){if(ot=Nt(z),typeof ot!="function")throw Error(r(150));return z=ot.call(z),_t(D,N,z,j)}if(typeof z.then=="function")return Gt(D,N,Du(z),j);if(z.$$typeof===st)return Gt(D,N,yu(D,z),j);Ru(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(o(D,N.sibling),j=f(N,z),j.return=D,D=j):(o(D,N),j=br(z,D.mode,j),j.return=D,D=j),b(D)):o(D,N)}return function(D,N,z,j){try{Dr=0;var ot=Gt(D,N,z,j);return bo=null,ot}catch(ct){if(ct===Er||ct===Su)throw ct;var wt=nn(29,ct,null,D.mode);return wt.lanes=j,wt.return=D,wt}finally{}}}var So=_m(!0),mm=_m(!1),kn=Z(null),mi=null;function zs(t){var e=t.alternate;F(Ce,Ce.current&1),F(kn,t),mi===null&&(e===null||po.current!==null||e.memoizedState!==null)&&(mi=t)}function pm(t){if(t.tag===22){if(F(Ce,Ce.current),F(kn,t),mi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(mi=t)}}else Ps()}function Ps(){F(Ce,Ce.current),F(kn,kn.current)}function ji(t){K(kn),mi===t&&(mi=null),K(Ce)}var Ce=Z(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Df(o)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Yh(t,e,o,u){e=t.memoizedState,o=o(u,e),o=o==null?e:C({},e,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var qh={enqueueSetState:function(t,e,o){t=t._reactInternals;var u=xn(),f=Ls(u);f.payload=e,o!=null&&(f.callback=o),e=Ds(t,f,u),e!==null&&(Mn(e,t,u),wr(e,t,u))},enqueueReplaceState:function(t,e,o){t=t._reactInternals;var u=xn(),f=Ls(u);f.tag=1,f.payload=e,o!=null&&(f.callback=o),e=Ds(t,f,u),e!==null&&(Mn(e,t,u),wr(e,t,u))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var o=xn(),u=Ls(o);u.tag=2,e!=null&&(u.callback=e),e=Ds(t,u,o),e!==null&&(Mn(e,t,o),wr(e,t,o))}};function vm(t,e,o,u,f,_,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,_,b):e.prototype&&e.prototype.isPureReactComponent?!$e(o,u)||!$e(f,_):!0}function gm(t,e,o,u){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,u),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,u),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function La(t,e){var o=e;if("ref"in e){o={};for(var u in e)u!=="ref"&&(o[u]=e[u])}if(t=t.defaultProps){o===e&&(o=C({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ym(t){Pu(t)}function bm(t){console.error(t)}function Sm(t){Pu(t)}function Bu(t,e){try{var o=t.onUncaughtError;o(e.value,{componentStack:e.stack})}catch(u){setTimeout(function(){throw u})}}function Tm(t,e,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jh(t,e,o){return o=Ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Bu(t,e)},o}function Em(t){return t=Ls(t),t.tag=3,t}function Cm(t,e,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;t.payload=function(){return f(_)},t.callback=function(){Tm(e,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Tm(e,o,u),typeof f!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function O0(t,e,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(e=o.alternate,e!==null&&xa(e,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return mi===null?mf():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===yh?o.flags|=16384:(e=o.updateQueue,e===null?o.updateQueue=new Set([u]):e.add(u),vf(t,u,f)),!1;case 22:return o.flags|=65536,u===yh?o.flags|=16384:(e=o.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=e):(o=e.retryQueue,o===null?e.retryQueue=new Set([u]):o.add(u)),vf(t,u,f)),!1}throw Error(r(435,o.tag))}return vf(t,u,f),mf(),!1}if(gt)return e=kn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,u!==Ne&&(t=Error(r(422),{cause:u}),Os(tn(t,o)))):(u!==Ne&&(e=Error(r(423),{cause:u}),Os(tn(e,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=tn(u,o),f=jh(t.stateNode,u,f),Th(t,f),me!==4&&(me=2)),!1;var _=Error(r(520),{cause:u});if(_=tn(_,o),Ir===null?Ir=[_]:Ir.push(_),me!==4&&(me=2),e===null)return!0;u=tn(u,o),o=e;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=jh(o.stateNode,u,t),Th(o,t),!1;case 1:if(e=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Em(f),Cm(f,t,o,u),Th(o,f),!1}o=o.return}while(o!==null);return!1}var wm=Error(r(461)),Le=!1;function Ie(t,e,o,u){e.child=t===null?mm(e,null,o,u):So(e,t.child,o,u)}function Am(t,e,o,u,f){o=o.render;var _=e.ref;if("ref"in u){var b={};for(var E in u)E!=="ref"&&(b[E]=u[E])}else b=u;return Ma(e),u=xh(t,e,o,b,_,f),E=Mh(),t!==null&&!Le?(Oh(t,e,f),Gi(t,e,f)):(gt&&E&&X(e),e.flags|=1,Ie(t,e,u,f),e.child)}function xm(t,e,o,u,f){if(t===null){var _=o.type;return typeof _=="function"&&!co(_)&&_.defaultProps===void 0&&o.compare===null?(e.tag=15,e.type=_,Mm(t,e,_,u,f)):(t=Ca(o.type,null,u,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(_=t.child,!Jh(t,f)){var b=_.memoizedProps;if(o=o.compare,o=o!==null?o:$e,o(b,u)&&t.ref===e.ref)return Gi(t,e,f)}return e.flags|=1,t=Pn(_,u),t.ref=e.ref,t.return=e,e.child=t}function Mm(t,e,o,u,f){if(t!==null){var _=t.memoizedProps;if($e(_,u)&&t.ref===e.ref)if(Le=!1,e.pendingProps=u=_,Jh(t,f))(t.flags&131072)!==0&&(Le=!0);else return e.lanes=t.lanes,Gi(t,e,f)}return Gh(t,e,o,u,f)}function Om(t,e,o){var u=e.pendingProps,f=u.children,_=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((e.flags&128)!==0){if(u=_!==null?_.baseLanes|o:o,t!==null){for(f=e.child=t.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;e.childLanes=_&~u}else e.childLanes=0,e.child=null;return Nm(t,e,u,o)}if((o&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bu(e,_!==null?_.cachePool:null),_!==null?M_(e,_):Ch(),pm(e);else return e.lanes=e.childLanes=536870912,Nm(t,e,_!==null?_.baseLanes|o:o,o)}else _!==null?(bu(e,_.cachePool),M_(e,_),Ps(),e.memoizedState=null):(t!==null&&bu(e,null),Ch(),Ps());return Ie(t,e,f,o),e.child}function Nm(t,e,o,u){var f=gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},e.memoizedState={baseLanes:o,cachePool:f},t!==null&&bu(e,null),Ch(),pm(e),t!==null&&xa(t,e,u,!0),null}function ku(t,e){var o=e.ref;if(o===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(e.flags|=4194816)}}function Gh(t,e,o,u,f){return Ma(e),o=xh(t,e,o,u,void 0,f),u=Mh(),t!==null&&!Le?(Oh(t,e,f),Gi(t,e,f)):(gt&&u&&X(e),e.flags|=1,Ie(t,e,o,f),e.child)}function Lm(t,e,o,u,f,_){return Ma(e),e.updateQueue=null,o=N_(e,u,o,f),O_(t),u=Mh(),t!==null&&!Le?(Oh(t,e,_),Gi(t,e,_)):(gt&&u&&X(e),e.flags|=1,Ie(t,e,o,_),e.child)}function Dm(t,e,o,u,f){if(Ma(e),e.stateNode===null){var _=Zi,b=o.contextType;typeof b=="object"&&b!==null&&(_=Ve(b)),_=new o(u,_),e.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qh,e.stateNode=_,_._reactInternals=e,_=e.stateNode,_.props=u,_.state=e.memoizedState,_.refs={},bh(e),b=o.contextType,_.context=typeof b=="object"&&b!==null?Ve(b):Zi,_.state=e.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Yh(e,o,b,u),_.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&qh.enqueueReplaceState(_,_.state,null),xr(e,u,_,f),Ar(),_.state=e.memoizedState),typeof _.componentDidMount=="function"&&(e.flags|=4194308),u=!0}else if(t===null){_=e.stateNode;var E=e.memoizedProps,O=La(o,E);_.props=O;var P=_.context,q=o.contextType;b=Zi,typeof q=="object"&&q!==null&&(b=Ve(q));var G=o.getDerivedStateFromProps;q=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E||P!==b)&&gm(e,_,u,b),Ns=!1;var B=e.memoizedState;_.state=B,xr(e,u,_,f),Ar(),P=e.memoizedState,E||B!==P||Ns?(typeof G=="function"&&(Yh(e,o,G,u),P=e.memoizedState),(O=Ns||vm(e,o,O,u,B,P,b))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(e.flags|=4194308)):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=u,e.memoizedState=P),_.props=u,_.state=P,_.context=b,u=O):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),u=!1)}else{_=e.stateNode,Sh(t,e),b=e.memoizedProps,q=La(o,b),_.props=q,G=e.pendingProps,B=_.context,P=o.contextType,O=Zi,typeof P=="object"&&P!==null&&(O=Ve(P)),E=o.getDerivedStateFromProps,(P=typeof E=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==G||B!==O)&&gm(e,_,u,O),Ns=!1,B=e.memoizedState,_.state=B,xr(e,u,_,f),Ar();var H=e.memoizedState;b!==G||B!==H||Ns||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof E=="function"&&(Yh(e,o,E,u),H=e.memoizedState),(q=Ns||vm(e,o,q,u,B,H,O)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(P||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,H,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,H,O)),typeof _.componentDidUpdate=="function"&&(e.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=u,e.memoizedState=H),_.props=u,_.state=H,_.context=O,u=q):(typeof _.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),u=!1)}return _=u,ku(t,e),u=(e.flags&128)!==0,_||u?(_=e.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:_.render(),e.flags|=1,t!==null&&u?(e.child=So(e,t.child,null,f),e.child=So(e,null,o,f)):Ie(t,e,o,f),e.memoizedState=_.state,t=e.child):t=Gi(t,e,f),t}function Rm(t,e,o,u){return Ms(),e.flags|=256,Ie(t,e,o,u),e.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:b_()}}function Wh(t,e,o){return t=t!==null?t.childLanes&~o:0,e&&(t|=Hn),t}function zm(t,e,o){var u=e.pendingProps,f=!1,_=(e.flags&128)!==0,b;if((b=_)||(b=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),b&&(f=!0,e.flags&=-129),b=(e.flags&32)!==0,e.flags&=-33,t===null){if(gt){if(f?zs(e):Ps(),gt){var E=lt,O;if(O=E){t:{for(O=E,E=fe;O.nodeType!==8;){if(!E){E=null;break t}if(O=Jn(O.nextSibling),O===null){E=null;break t}}E=O}E!==null?(e.memoizedState={dehydrated:E,treeContext:v!==null?{id:T,overflow:M}:null,retryLane:536870912,hydrationErrors:null},O=nn(18,null,null,0),O.stateNode=E,O.return=e,e.child=O,at=e,lt=null,O=!0):O=!1}O||cn(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Df(E)?e.lanes=32:e.lanes=536870912,null;ji(e)}return E=u.children,u=u.fallback,f?(Ps(),f=e.mode,E=Hu({mode:"hidden",children:E},f),u=di(u,f,o,null),E.return=e,u.return=e,E.sibling=u,e.child=E,f=e.child,f.memoizedState=Vh(o),f.childLanes=Wh(t,b,o),e.memoizedState=Xh,u):(zs(e),Qh(e,E))}if(O=t.memoizedState,O!==null&&(E=O.dehydrated,E!==null)){if(_)e.flags&256?(zs(e),e.flags&=-257,e=Fh(t,e,o)):e.memoizedState!==null?(Ps(),e.child=t.child,e.flags|=128,e=null):(Ps(),f=u.fallback,E=e.mode,u=Hu({mode:"visible",children:u.children},E),f=di(f,E,o,null),f.flags|=2,u.return=e,f.return=e,u.sibling=f,e.child=u,So(e,t.child,null,o),u=e.child,u.memoizedState=Vh(o),u.childLanes=Wh(t,b,o),e.memoizedState=Xh,e=f);else if(zs(e),Df(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var P=b.dgst;b=P,u=Error(r(419)),u.stack="",u.digest=b,Os({value:u,source:null,stack:null}),e=Fh(t,e,o)}else if(Le||xa(t,e,o,!1),b=(o&t.childLanes)!==0,Le||b){if(b=$t,b!==null&&(u=o&-o,u=(u&42)!==0?1:tr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,As(t,u),Mn(b,t,u),wm;E.data==="$?"||mf(),e=Fh(t,e,o)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,lt=Jn(E.nextSibling),at=e,gt=!0,Jt=null,fe=!1,t!==null&&(h[p++]=T,h[p++]=M,h[p++]=v,T=t.id,M=t.overflow,v=e),e=Qh(e,u.children),e.flags|=4096);return e}return f?(Ps(),f=u.fallback,E=e.mode,O=t.child,P=O.sibling,u=Pn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,P!==null?f=Pn(P,f):(f=di(f,E,o,null),f.flags|=2),f.return=e,u.return=e,u.sibling=f,e.child=u,u=f,f=e.child,E=t.child.memoizedState,E===null?E=Vh(o):(O=E.cachePool,O!==null?(P=Ee._currentValue,O=O.parent!==P?{parent:P,pool:P}:O):O=b_(),E={baseLanes:E.baseLanes|o,cachePool:O}),f.memoizedState=E,f.childLanes=Wh(t,b,o),e.memoizedState=Xh,u):(zs(e),o=t.child,t=o.sibling,o=Pn(o,{mode:"visible",children:u.children}),o.return=e,o.sibling=null,t!==null&&(b=e.deletions,b===null?(e.deletions=[t],e.flags|=16):b.push(t)),e.child=o,e.memoizedState=null,o)}function Qh(t,e){return e=Hu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hu(t,e){return t=nn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fh(t,e,o){return So(e,t.child,null,o),t=Qh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pm(t,e,o){t.lanes|=e;var u=t.alternate;u!==null&&(u.lanes|=e),Aa(t.return,e,o)}function Kh(t,e,o,u,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(_.isBackwards=e,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f)}function Bm(t,e,o){var u=e.pendingProps,f=u.revealOrder,_=u.tail;if(Ie(t,e,u.children,o),u=Ce.current,(u&2)!==0)u=u&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pm(t,o,e);else if(t.tag===19)Pm(t,o,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(F(Ce,u),f){case"forwards":for(o=e.child,f=null;o!==null;)t=o.alternate,t!==null&&zu(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=e.child,e.child=null):(f=o.sibling,o.sibling=null),Kh(e,!1,f,o,_);break;case"backwards":for(o=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&zu(t)===null){e.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Kh(e,!0,o,null,_);break;case"together":Kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(t,e,o){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,(o&e.childLanes)===0)if(t!==null){if(xa(t,e,o,!1),(o&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,o=Pn(t,t.pendingProps),e.child=o,o.return=e;t.sibling!==null;)t=t.sibling,o=o.sibling=Pn(t,t.pendingProps),o.return=e;o.sibling=null}return e.child}function Jh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function N0(t,e,o){switch(e.tag){case 3:Lt(e,e.stateNode.containerInfo),_i(e,Ee,t.memoizedState.cache),Ms();break;case 27:case 5:si(e);break;case 4:Lt(e,e.stateNode.containerInfo);break;case 10:_i(e,e.type,e.memoizedProps.value);break;case 13:var u=e.memoizedState;if(u!==null)return u.dehydrated!==null?(zs(e),e.flags|=128,null):(o&e.child.childLanes)!==0?zm(t,e,o):(zs(e),t=Gi(t,e,o),t!==null?t.sibling:null);zs(e);break;case 19:var f=(t.flags&128)!==0;if(u=(o&e.childLanes)!==0,u||(xa(t,e,o,!1),u=(o&e.childLanes)!==0),f){if(u)return Bm(t,e,o);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(Ce,Ce.current),u)break;return null;case 22:case 23:return e.lanes=0,Om(t,e,o);case 24:_i(e,Ee,t.memoizedState.cache)}return Gi(t,e,o)}function km(t,e,o){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!Jh(t,o)&&(e.flags&128)===0)return Le=!1,N0(t,e,o);Le=(t.flags&131072)!==0}else Le=!1,gt&&(e.flags&1048576)!==0&&U(e,l,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var u=e.elementType,f=u._init;if(u=f(u._payload),e.type=u,typeof u=="function")co(u)?(t=La(u,t),e.tag=1,e=Dm(null,e,u,t,o)):(e.tag=0,e=Gh(null,e,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===It){e.tag=11,e=Am(null,e,u,t,o);break t}else if(f===Qt){e.tag=14,e=xm(null,e,u,t,o);break t}}throw e=ve(u)||u,Error(r(306,e,""))}}return e;case 0:return Gh(t,e,e.type,e.pendingProps,o);case 1:return u=e.type,f=La(u,e.pendingProps),Dm(t,e,u,f,o);case 3:t:{if(Lt(e,e.stateNode.containerInfo),t===null)throw Error(r(387));u=e.pendingProps;var _=e.memoizedState;f=_.element,Sh(t,e),xr(e,u,null,o);var b=e.memoizedState;if(u=b.cache,_i(e,Ee,u),u!==_.cache&&fo(e,[Ee],o,!0),Ar(),u=b.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:b.cache},e.updateQueue.baseState=_,e.memoizedState=_,e.flags&256){e=Rm(t,e,u,o);break t}else if(u!==f){f=tn(Error(r(424)),e),Os(f),e=Rm(t,e,u,o);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Jn(t.firstChild),at=e,gt=!0,Jt=null,fe=!0,o=mm(e,null,u,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ms(),u===f){e=Gi(t,e,o);break t}Ie(t,e,u,o)}e=e.child}return e;case 26:return ku(t,e),t===null?(o=Zp(e.type,null,e.pendingProps,null))?e.memoizedState=o:gt||(o=e.type,t=e.pendingProps,u=Ju(tt.current).createElement(o),u[Me]=e,u[je]=t,Ye(u,o,t),be(u),e.stateNode=u):e.memoizedState=Zp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return si(e),t===null&&gt&&(u=e.stateNode=Hp(e.type,e.pendingProps,tt.current),at=e,fe=!0,f=lt,js(e.type)?(Rf=f,lt=Jn(u.firstChild)):lt=f),Ie(t,e,e.pendingProps.children,o),ku(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&gt&&((f=u=lt)&&(u=sb(u,e.type,e.pendingProps,fe),u!==null?(e.stateNode=u,at=e,lt=Jn(u.firstChild),fe=!1,f=!0):f=!1),f||cn(e)),si(e),f=e.type,_=e.pendingProps,b=t!==null?t.memoizedProps:null,u=_.children,Of(f,_)?u=null:b!==null&&Of(f,b)&&(e.flags|=32),e.memoizedState!==null&&(f=xh(t,e,T0,null,null,o),Qr._currentValue=f),ku(t,e),Ie(t,e,u,o),e.child;case 6:return t===null&&gt&&((t=o=lt)&&(o=ab(o,e.pendingProps,fe),o!==null?(e.stateNode=o,at=e,lt=null,t=!0):t=!1),t||cn(e)),null;case 13:return zm(t,e,o);case 4:return Lt(e,e.stateNode.containerInfo),u=e.pendingProps,t===null?e.child=So(e,null,u,o):Ie(t,e,u,o),e.child;case 11:return Am(t,e,e.type,e.pendingProps,o);case 7:return Ie(t,e,e.pendingProps,o),e.child;case 8:return Ie(t,e,e.pendingProps.children,o),e.child;case 12:return Ie(t,e,e.pendingProps.children,o),e.child;case 10:return u=e.pendingProps,_i(e,e.type,u.value),Ie(t,e,u.children,o),e.child;case 9:return f=e.type._context,u=e.pendingProps.children,Ma(e),f=Ve(f),u=u(f),e.flags|=1,Ie(t,e,u,o),e.child;case 14:return xm(t,e,e.type,e.pendingProps,o);case 15:return Mm(t,e,e.type,e.pendingProps,o);case 19:return Bm(t,e,o);case 31:return u=e.pendingProps,o=e.mode,u={mode:u.mode,children:u.children},t===null?(o=Hu(u,o),o.ref=e.ref,e.child=o,o.return=e,e=o):(o=Pn(t.child,u),o.ref=e.ref,e.child=o,o.return=e,e=o),e;case 22:return Om(t,e,o);case 24:return Ma(e),u=Ve(Ee),t===null?(f=gh(),f===null&&(f=$t,_=ph(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=o),f=_),e.memoizedState={parent:u,cache:f},bh(e),_i(e,Ee,f)):((t.lanes&o)!==0&&(Sh(t,e),xr(e,null,null,o),Ar()),f=t.memoizedState,_=e.memoizedState,f.parent!==u?(f={parent:u,cache:u},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),_i(e,Ee,u)):(u=_.cache,_i(e,Ee,u),u!==f.cache&&fo(e,[Ee],o,!0))),Ie(t,e,e.pendingProps.children,o),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Xi(t){t.flags|=4}function Hm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(e)){if(e=kn.current,e!==null&&((zt&4194048)===zt?mi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||e!==mi))throw Cr=yh,S_;t.flags|=8192}}function Uu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?$o():536870912,t.lanes|=e,wo|=e)}function zr(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(e)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,e}function L0(t,e,o){var u=e.pendingProps;switch(it(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return o=e.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),e.memoizedState.cache!==u&&(e.flags|=2048),Fn(Ee),on(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(wa(e)?Xi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,vu())),de(e),null;case 26:return o=e.memoizedState,t===null?(Xi(e),o!==null?(de(e),Hm(e,o)):(de(e),e.flags&=-16777217)):o?o!==t.memoizedState?(Xi(e),de(e),Hm(e,o)):(de(e),e.flags&=-16777217):(t.memoizedProps!==u&&Xi(e),de(e),e.flags&=-16777217),null;case 27:Zn(e),o=tt.current;var f=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(!u){if(e.stateNode===null)throw Error(r(166));return de(e),null}t=nt.current,wa(e)?mu(e):(t=Hp(f,u,o),e.stateNode=t,Xi(e))}return de(e),null;case 5:if(Zn(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(!u){if(e.stateNode===null)throw Error(r(166));return de(e),null}if(t=nt.current,wa(e))mu(e);else{switch(f=Ju(tt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[Me]=e,t[je]=u;t:for(f=e.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}e.stateNode=t;t:switch(Ye(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Xi(e)}}return de(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(typeof u!="string"&&e.stateNode===null)throw Error(r(166));if(t=tt.current,wa(e)){if(t=e.stateNode,o=e.memoizedProps,u=null,f=at,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Me]=e,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Lp(t.nodeValue,o)),t||cn(e)}else t=Ju(t).createTextNode(u),t[Me]=e,e.stateNode=t}return de(e),null;case 13:if(u=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=wa(e),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Me]=e}else Ms(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),f=!1}else f=vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(ji(e),e):(ji(e),null)}if(ji(e),(e.flags&128)!==0)return e.lanes=o,e;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=e.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)}return o!==t&&o&&(e.child.flags|=8192),Uu(e,e.updateQueue),de(e),null;case 4:return on(),t===null&&Cf(e.stateNode.containerInfo),de(e),null;case 10:return Fn(e.type),de(e),null;case 19:if(K(Ce),f=e.memoizedState,f===null)return de(e),null;if(u=(e.flags&128)!==0,_=f.rendering,_===null)if(u)zr(f,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(_=zu(t),_!==null){for(e.flags|=128,zr(f,!1),t=_.updateQueue,e.updateQueue=t,Uu(e,t),e.subtreeFlags=0,t=o,o=e.child;o!==null;)yr(o,t),o=o.sibling;return F(Ce,Ce.current&1|2),e.child}t=t.sibling}f.tail!==null&&rn()>Yu&&(e.flags|=128,u=!0,zr(f,!1),e.lanes=4194304)}else{if(!u)if(t=zu(_),t!==null){if(e.flags|=128,u=!0,t=t.updateQueue,e.updateQueue=t,Uu(e,t),zr(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!gt)return de(e),null}else 2*rn()-f.renderingStartTime>Yu&&o!==536870912&&(e.flags|=128,u=!0,zr(f,!1),e.lanes=4194304);f.isBackwards?(_.sibling=e.child,e.child=_):(t=f.last,t!==null?t.sibling=_:e.child=_,f.last=_)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=rn(),e.sibling=null,t=Ce.current,F(Ce,u?t&1|2:t&1),e):(de(e),null);case 22:case 23:return ji(e),wh(),u=e.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(e.flags|=8192):u&&(e.flags|=8192),u?(o&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),o=e.updateQueue,o!==null&&Uu(e,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),u!==o&&(e.flags|=2048),t!==null&&K(Oa),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Fn(Ee),de(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function D0(t,e){switch(it(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fn(Ee),on(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zn(e),null;case 13:if(ji(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Ce),null;case 4:return on(),null;case 10:return Fn(e.type),null;case 22:case 23:return ji(e),wh(),t!==null&&K(Oa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fn(Ee),null;case 25:return null;default:return null}}function Um(t,e){switch(it(e),e.tag){case 3:Fn(Ee),on();break;case 26:case 27:case 5:Zn(e);break;case 4:on();break;case 13:ji(e);break;case 19:K(Ce);break;case 10:Fn(e.type);break;case 22:case 23:ji(e),wh(),t!==null&&K(Oa);break;case 24:Fn(Ee)}}function Pr(t,e){try{var o=e.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var _=o.create,b=o.inst;u=_(),b.destroy=u}o=o.next}while(o!==f)}}catch(E){Xt(e,e.return,E)}}function Bs(t,e,o){try{var u=e.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&t)===t){var b=u.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=e;var O=o,P=E;try{P()}catch(q){Xt(f,O,q)}}}u=u.next}while(u!==_)}}catch(q){Xt(e,e.return,q)}}function Im(t){var e=t.updateQueue;if(e!==null){var o=t.stateNode;try{x_(e,o)}catch(u){Xt(t,t.return,u)}}}function Zm(t,e,o){o.props=La(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Xt(t,e,u)}}function Br(t,e){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){Xt(t,e,f)}}function pi(t,e){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Xt(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(t,e,f)}else o.current=null}function Ym(t){var e=t.type,o=t.memoizedProps,u=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Xt(t,t.return,f)}}function $h(t,e,o){try{var u=t.stateNode;$0(u,t.type,o,e),u[je]=e}catch(f){Xt(t,t.return,f)}}function qm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,e,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,e):(e=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,e.appendChild(t),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Ku));else if(u!==4&&(u===27&&js(t.type)&&(o=t.stateNode,e=null),t=t.child,t!==null))for(ef(t,e,o),t=t.sibling;t!==null;)ef(t,e,o),t=t.sibling}function Iu(t,e,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?o.insertBefore(t,e):o.appendChild(t);else if(u!==4&&(u===27&&js(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Iu(t,e,o),t=t.sibling;t!==null;)Iu(t,e,o),t=t.sibling}function jm(t){var e=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);Ye(e,u,o),e[Me]=t,e[je]=o}catch(_){Xt(t,t.return,_)}}var Vi=!1,ye=!1,nf=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,De=null;function R0(t,e){if(t=t.containerInfo,xf=sc,t=ga(t),ya(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var b=0,E=-1,O=-1,P=0,q=0,G=t,B=null;e:for(;;){for(var H;G!==o||f!==0&&G.nodeType!==3||(E=b+f),G!==_||u!==0&&G.nodeType!==3||(O=b+u),G.nodeType===3&&(b+=G.nodeValue.length),(H=G.firstChild)!==null;)B=G,G=H;for(;;){if(G===t)break e;if(B===o&&++P===f&&(E=b),B===_&&++q===u&&(O=b),(H=G.nextSibling)!==null)break;G=B,B=G.parentNode}G=H}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mf={focusedElem:t,selectionRange:o},sc=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,_=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,o=e,f=_.memoizedProps,_=_.memoizedState,u=o.stateNode;try{var vt=La(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(vt,_),u.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Xt(o,o.return,_t)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,o=t.nodeType,o===9)Lf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function Xm(t,e,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ks(t,o),u&4&&Pr(5,o);break;case 1:if(ks(t,o),u&4)if(t=o.stateNode,e===null)try{t.componentDidMount()}catch(b){Xt(o,o.return,b)}else{var f=La(o.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Xt(o,o.return,b)}}u&64&&Im(o),u&512&&Br(o,o.return);break;case 3:if(ks(t,o),u&64&&(t=o.updateQueue,t!==null)){if(e=null,o.child!==null)switch(o.child.tag){case 27:case 5:e=o.child.stateNode;break;case 1:e=o.child.stateNode}try{x_(t,e)}catch(b){Xt(o,o.return,b)}}break;case 27:e===null&&u&4&&jm(o);case 26:case 5:ks(t,o),e===null&&u&4&&Ym(o),u&512&&Br(o,o.return);break;case 12:ks(t,o);break;case 13:ks(t,o),u&4&&Qm(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Y0.bind(null,o),ob(t,o))));break;case 22:if(u=o.memoizedState!==null||Vi,!u){e=e!==null&&e.memoizedState!==null||ye,f=Vi;var _=ye;Vi=u,(ye=e)&&!_?Hs(t,o,(o.subtreeFlags&8772)!==0):ks(t,o),Vi=f,ye=_}break;case 30:break;default:ks(t,o)}}function Vm(t){var e=t.alternate;e!==null&&(t.alternate=null,Vm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Va(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,fn=!1;function Wi(t,e,o){for(o=o.child;o!==null;)Wm(t,e,o),o=o.sibling}function Wm(t,e,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ti,o)}catch{}switch(o.tag){case 26:ye||pi(o,e),Wi(t,e,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||pi(o,e);var u=re,f=fn;js(o.type)&&(re=o.stateNode,fn=!1),Wi(t,e,o),Gr(o.stateNode),re=u,fn=f;break;case 5:ye||pi(o,e);case 6:if(u=re,f=fn,re=null,Wi(t,e,o),re=u,fn=f,re!==null)if(fn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(_){Xt(o,e,_)}else try{re.removeChild(o.stateNode)}catch(_){Xt(o,e,_)}break;case 18:re!==null&&(fn?(t=re,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),$r(t)):Bp(re,o.stateNode));break;case 4:u=re,f=fn,re=o.stateNode.containerInfo,fn=!0,Wi(t,e,o),re=u,fn=f;break;case 0:case 11:case 14:case 15:ye||Bs(2,o,e),ye||Bs(4,o,e),Wi(t,e,o);break;case 1:ye||(pi(o,e),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Zm(o,e,u)),Wi(t,e,o);break;case 21:Wi(t,e,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,Wi(t,e,o),ye=u;break;default:Wi(t,e,o)}}function Qm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$r(t)}catch(o){Xt(e,e.return,o)}}function z0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Gm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Gm),e;default:throw Error(r(435,t.tag))}}function sf(t,e){var o=z0(t);e.forEach(function(u){var f=q0.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function Cn(t,e){var o=e.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],_=t,b=e,E=b;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){re=E.stateNode,fn=!1;break t}break;case 5:re=E.stateNode,fn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(re===null)throw Error(r(160));Wm(_,b,f),re=null,fn=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Fm(e,t),e=e.sibling}var Kn=null;function Fm(t,e){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(e,t),wn(t),u&4&&(Bs(3,t,t.return),Pr(3,t),Bs(5,t,t.return));break;case 1:Cn(e,t),wn(t),u&512&&(ye||o===null||pi(o,o.return)),u&64&&Vi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Kn;if(Cn(e,t),wn(t),u&512&&(ye||o===null||pi(o,o.return)),u&4){var _=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){t:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[rs]||_[Me]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),Ye(_,u,o),_[Me]=t,be(_),u=_;break t;case"link":var b=jp("link","href",f).get(u+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(_=b[E],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break e}}_=f.createElement(u),Ye(_,u,o),f.head.appendChild(_);break;case"meta":if(b=jp("meta","content",f).get(u+(o.content||""))){for(E=0;E<b.length;E++)if(_=b[E],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break e}}_=f.createElement(u),Ye(_,u,o),f.head.appendChild(_);break;default:throw Error(r(468,u))}_[Me]=t,be(_),u=_}t.stateNode=u}else Gp(f,t.type,t.stateNode);else t.stateNode=qp(f,u,t.memoizedProps);else _!==u?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,u===null?Gp(f,t.type,t.stateNode):qp(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&$h(t,t.memoizedProps,o.memoizedProps)}break;case 27:Cn(e,t),wn(t),u&512&&(ye||o===null||pi(o,o.return)),o!==null&&u&4&&$h(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Cn(e,t),wn(t),u&512&&(ye||o===null||pi(o,o.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(H){Xt(t,t.return,H)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,$h(t,f,o!==null?o.memoizedProps:f)),u&1024&&(nf=!0);break;case 6:if(Cn(e,t),wn(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(H){Xt(t,t.return,H)}}break;case 3:if(ec=null,f=Kn,Kn=$u(e.containerInfo),Cn(e,t),Kn=f,wn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$r(e.containerInfo)}catch(H){Xt(t,t.return,H)}nf&&(nf=!1,Km(t));break;case 4:u=Kn,Kn=$u(t.stateNode.containerInfo),Cn(e,t),wn(t),Kn=u;break;case 12:Cn(e,t),wn(t);break;case 13:Cn(e,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(cf=rn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sf(t,u)));break;case 22:f=t.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,P=Vi,q=ye;if(Vi=P||f,ye=q||O,Cn(e,t),ye=q,Vi=P,wn(t),u&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(o===null||O||Vi||ye||Da(t)),o=null,e=t;;){if(e.tag===5||e.tag===26){if(o===null){O=o=e;try{if(_=O.stateNode,f)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=O.stateNode;var G=O.memoizedProps.style,B=G!=null&&G.hasOwnProperty("display")?G.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){Xt(O,O.return,H)}}}else if(e.tag===6){if(o===null){O=e;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(H){Xt(O,O.return,H)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;o===e&&(o=null),e=e.return}o===e&&(o=null),e.sibling.return=e.return,e=e.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sf(t,o))));break;case 19:Cn(e,t),wn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,sf(t,u)));break;case 30:break;case 21:break;default:Cn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{for(var o,u=t.return;u!==null;){if(qm(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,_=tf(t);Iu(t,_,f);break;case 5:var b=o.stateNode;o.flags&32&&(Nn(b,""),o.flags&=-33);var E=tf(t);Iu(t,E,b);break;case 3:case 4:var O=o.stateNode.containerInfo,P=tf(t);ef(t,P,O);break;default:throw Error(r(161))}}catch(q){Xt(t,t.return,q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Km(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Km(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ks(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Xm(t,e.alternate,e),e=e.sibling}function Da(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Bs(4,e,e.return),Da(e);break;case 1:pi(e,e.return);var o=e.stateNode;typeof o.componentWillUnmount=="function"&&Zm(e,e.return,o),Da(e);break;case 27:Gr(e.stateNode);case 26:case 5:pi(e,e.return),Da(e);break;case 22:e.memoizedState===null&&Da(e);break;case 30:Da(e);break;default:Da(e)}t=t.sibling}}function Hs(t,e,o){for(o=o&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var u=e.alternate,f=t,_=e,b=_.flags;switch(_.tag){case 0:case 11:case 15:Hs(f,_,o),Pr(4,_);break;case 1:if(Hs(f,_,o),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Xt(u,u.return,P)}if(u=_,f=u.updateQueue,f!==null){var E=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)A_(O[f],E)}catch(P){Xt(u,u.return,P)}}o&&b&64&&Im(_),Br(_,_.return);break;case 27:jm(_);case 26:case 5:Hs(f,_,o),o&&u===null&&b&4&&Ym(_),Br(_,_.return);break;case 12:Hs(f,_,o);break;case 13:Hs(f,_,o),o&&b&4&&Qm(f,_);break;case 22:_.memoizedState===null&&Hs(f,_,o),Br(_,_.return);break;case 30:break;default:Hs(f,_,o)}e=e.sibling}}function af(t,e){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Sr(o))}function of(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Sr(t))}function vi(t,e,o,u){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jm(t,e,o,u),e=e.sibling}function Jm(t,e,o,u){var f=e.flags;switch(e.tag){case 0:case 11:case 15:vi(t,e,o,u),f&2048&&Pr(9,e);break;case 1:vi(t,e,o,u);break;case 3:vi(t,e,o,u),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Sr(t)));break;case 12:if(f&2048){vi(t,e,o,u),t=e.stateNode;try{var _=e.memoizedProps,b=_.id,E=_.onPostCommit;typeof E=="function"&&E(b,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xt(e,e.return,O)}}else vi(t,e,o,u);break;case 13:vi(t,e,o,u);break;case 23:break;case 22:_=e.stateNode,b=e.alternate,e.memoizedState!==null?_._visibility&2?vi(t,e,o,u):kr(t,e):_._visibility&2?vi(t,e,o,u):(_._visibility|=2,To(t,e,o,u,(e.subtreeFlags&10256)!==0)),f&2048&&af(b,e);break;case 24:vi(t,e,o,u),f&2048&&of(e.alternate,e);break;default:vi(t,e,o,u)}}function To(t,e,o,u,f){for(f=f&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var _=t,b=e,E=o,O=u,P=b.flags;switch(b.tag){case 0:case 11:case 15:To(_,b,E,O,f),Pr(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?To(_,b,E,O,f):kr(_,b):(q._visibility|=2,To(_,b,E,O,f)),f&&P&2048&&af(b.alternate,b);break;case 24:To(_,b,E,O,f),f&&P&2048&&of(b.alternate,b);break;default:To(_,b,E,O,f)}e=e.sibling}}function kr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var o=t,u=e,f=u.flags;switch(u.tag){case 22:kr(o,u),f&2048&&af(u.alternate,u);break;case 24:kr(o,u),f&2048&&of(u.alternate,u);break;default:kr(o,u)}e=e.sibling}}var Hr=8192;function Eo(t){if(t.subtreeFlags&Hr)for(t=t.child;t!==null;)$m(t),t=t.sibling}function $m(t){switch(t.tag){case 26:Eo(t),t.flags&Hr&&t.memoizedState!==null&&yb(Kn,t.memoizedState,t.memoizedProps);break;case 5:Eo(t);break;case 3:case 4:var e=Kn;Kn=$u(t.stateNode.containerInfo),Eo(t),Kn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Hr,Hr=16777216,Eo(t),Hr=e):Eo(t));break;default:Eo(t)}}function tp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ur(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var o=0;o<e.length;o++){var u=e[o];De=u,np(u,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Ur(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Ur(t);break;case 12:Ur(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Zu(t)):Ur(t);break;default:Ur(t)}}function Zu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var o=0;o<e.length;o++){var u=e[o];De=u,np(u,t)}tp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Bs(8,e,e.return),Zu(e);break;case 22:o=e.stateNode,o._visibility&2&&(o._visibility&=-3,Zu(e));break;default:Zu(e)}t=t.sibling}}function np(t,e){for(;De!==null;){var o=De;switch(o.tag){case 0:case 11:case 15:Bs(8,o,e);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,De=u;else t:for(o=t;De!==null;){u=De;var f=u.sibling,_=u.return;if(Vm(u),u===o){De=null;break t}if(f!==null){f.return=_,De=f;break t}De=_}}}var P0={getCacheForType:function(t){var e=Ve(Ee),o=e.data.get(t);return o===void 0&&(o=t(),e.data.set(t,o)),o}},B0=typeof WeakMap=="function"?WeakMap:Map,Zt=0,$t=null,xt=null,zt=0,Yt=0,An=null,Us=!1,Co=!1,rf=!1,Qi=0,me=0,Is=0,Ra=0,lf=0,Hn=0,wo=0,Ir=null,dn=null,uf=!1,cf=0,Yu=1/0,qu=null,Zs=null,Ze=0,Ys=null,Ao=null,xo=0,hf=0,ff=null,ip=null,Zr=0,df=null;function xn(){if((Zt&2)!==0&&zt!==0)return zt&-zt;if(I.T!==null){var t=_o;return t!==0?t:bf()}return jl()}function sp(){Hn===0&&(Hn=(zt&536870912)===0||gt?Zl():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Hn}function Mn(t,e,o){(t===$t&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Mo(t,0),qs(t,zt,Hn,!1)),as(t,o),((Zt&2)===0||t!==$t)&&(t===$t&&((Zt&2)===0&&(Ra|=o),me===4&&qs(t,zt,Hn,!1)),gi(t))}function ap(t,e,o){if((Zt&6)!==0)throw Error(r(327));var u=!o&&(e&124)===0&&(e&t.expiredLanes)===0||jn(t,e),f=u?U0(t,e):pf(t,e,!0),_=u;do{if(f===0){Co&&!u&&qs(t,e,0,!1);break}else{if(o=t.current.alternate,_&&!k0(o)){f=pf(t,e,!1),_=!1;continue}if(f===2){if(_=e,t.errorRecoveryDisabledLanes&_)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){e=b;t:{var E=t;f=Ir;var O=E.current.memoizedState.isDehydrated;if(O&&(Mo(E,b).flags|=256),b=pf(E,b,!1),b!==2){if(rf&&!O){E.errorRecoveryDisabledLanes|=_,Ra|=_,f=4;break t}_=dn,dn=f,_!==null&&(dn===null?dn=_:dn.push.apply(dn,_))}f=b}if(_=!1,f!==2)continue}}if(f===1){Mo(t,0),qs(t,e,0,!0);break}t:{switch(u=t,_=f,_){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:qs(u,e,Hn,!Us);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(f=cf+300-rn(),10<f)){if(qs(u,e,Hn,!Us),Ga(u,0,!0)!==0)break t;u.timeoutHandle=zp(op.bind(null,u,o,dn,qu,uf,e,Hn,Ra,wo,Us,_,2,-0,0),f);break t}op(u,o,dn,qu,uf,e,Hn,Ra,wo,Us,_,0,-0,0)}}break}while(!0);gi(t)}function op(t,e,o,u,f,_,b,E,O,P,q,G,B,H){if(t.timeoutHandle=-1,G=e.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Wr={stylesheets:null,count:0,unsuspend:gb},$m(e),G=bb(),G!==null)){t.cancelPendingCommit=G(dp.bind(null,t,e,_,o,u,f,b,E,O,q,1,B,H)),qs(t,_,b,!P);return}dp(t,e,_,o,u,f,b,E,O)}function k0(t){for(var e=t;;){var o=e.tag;if((o===0||o===11||o===15)&&e.flags&16384&&(o=e.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],_=f.getSnapshot;f=f.value;try{if(!Je(_(),f))return!1}catch{return!1}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qs(t,e,o,u){e&=~lf,e&=~Ra,t.suspendedLanes|=e,t.pingedLanes&=~e,u&&(t.warmLanes|=e),u=t.expirationTimes;for(var f=e;0<f;){var _=31-Fe(f),b=1<<_;u[_]=-1,f&=~b}o!==0&&Yl(t,o,e)}function ju(){return(Zt&6)===0?(Yr(0),!1):!0}function _f(){if(xt!==null){if(Yt===0)var t=xt.return;else t=xt,Qn=Bn=null,Nh(t),bo=null,Dr=0,t=xt;for(;t!==null;)Um(t.alternate,t),t=t.return;xt=null}}function Mo(t,e){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,eb(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),_f(),$t=t,xt=o=Pn(t.current,null),zt=e,Yt=0,An=null,Us=!1,Co=jn(t,e),rf=!1,wo=Hn=lf=Ra=Is=me=0,dn=Ir=null,uf=!1,(e&8)!==0&&(e|=e&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=e;0<u;){var f=31-Fe(u),_=1<<f;e|=t[f],u&=~_}return Qi=e,Sa(),o}function rp(t,e){Et=null,I.H=Lu,e===Er||e===Su?(e=C_(),Yt=3):e===S_?(e=C_(),Yt=4):Yt=e===wm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,An=e,xt===null&&(me=1,Bu(t,tn(e,t.current)))}function lp(){var t=I.H;return I.H=Lu,t===null?Lu:t}function up(){var t=I.A;return I.A=P0,t}function mf(){me=4,Us||(zt&4194048)!==zt&&kn.current!==null||(Co=!0),(Is&134217727)===0&&(Ra&134217727)===0||$t===null||qs($t,zt,Hn,!1)}function pf(t,e,o){var u=Zt;Zt|=2;var f=lp(),_=up();($t!==t||zt!==e)&&(qu=null,Mo(t,e)),e=!1;var b=me;t:do try{if(Yt!==0&&xt!==null){var E=xt,O=An;switch(Yt){case 8:_f(),b=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(e=!0);var P=Yt;if(Yt=0,An=null,Oo(t,E,O,P),o&&Co){b=0;break t}break;default:P=Yt,Yt=0,An=null,Oo(t,E,O,P)}}H0(),b=me;break}catch(q){rp(t,q)}while(!0);return e&&t.shellSuspendCounter++,Qn=Bn=null,Zt=u,I.H=f,I.A=_,xt===null&&($t=null,zt=0,Sa()),b}function H0(){for(;xt!==null;)cp(xt)}function U0(t,e){var o=Zt;Zt|=2;var u=lp(),f=up();$t!==t||zt!==e?(qu=null,Yu=rn()+500,Mo(t,e)):Co=jn(t,e);t:do try{if(Yt!==0&&xt!==null){e=xt;var _=An;e:switch(Yt){case 1:Yt=0,An=null,Oo(t,e,_,1);break;case 2:case 9:if(T_(_)){Yt=0,An=null,hp(e);break}e=function(){Yt!==2&&Yt!==9||$t!==t||(Yt=7),gi(t)},_.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:T_(_)?(Yt=0,An=null,hp(e)):(Yt=0,An=null,Oo(t,e,_,7));break;case 5:var b=null;switch(xt.tag){case 26:b=xt.memoizedState;case 5:case 27:var E=xt;if(!b||Xp(b)){Yt=0,An=null;var O=E.sibling;if(O!==null)xt=O;else{var P=E.return;P!==null?(xt=P,Gu(P)):xt=null}break e}}Yt=0,An=null,Oo(t,e,_,5);break;case 6:Yt=0,An=null,Oo(t,e,_,6);break;case 8:_f(),me=6;break t;default:throw Error(r(462))}}I0();break}catch(q){rp(t,q)}while(!0);return Qn=Bn=null,I.H=u,I.A=f,Zt=o,xt!==null?0:($t=null,zt=0,Sa(),me)}function I0(){for(;xt!==null&&!Pl();)cp(xt)}function cp(t){var e=km(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?Gu(t):xt=e}function hp(t){var e=t,o=e.alternate;switch(e.tag){case 15:case 0:e=Lm(o,e,e.pendingProps,e.type,void 0,zt);break;case 11:e=Lm(o,e,e.pendingProps,e.type.render,e.ref,zt);break;case 5:Nh(e);default:Um(o,e),e=xt=yr(e,Qi),e=km(o,e,Qi)}t.memoizedProps=t.pendingProps,e===null?Gu(t):xt=e}function Oo(t,e,o,u){Qn=Bn=null,Nh(e),bo=null,Dr=0;var f=e.return;try{if(O0(t,f,e,o,zt)){me=1,Bu(t,tn(o,t.current)),xt=null;return}}catch(_){if(f!==null)throw xt=f,_;me=1,Bu(t,tn(o,t.current)),xt=null;return}e.flags&32768?(gt||u===1?t=!0:Co||(zt&536870912)!==0?t=!1:(Us=t=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),fp(e,t)):Gu(e)}function Gu(t){var e=t;do{if((e.flags&32768)!==0){fp(e,Us);return}t=e.return;var o=L0(e.alternate,e,Qi);if(o!==null){xt=o;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);me===0&&(me=5)}function fp(t,e){do{var o=D0(t.alternate,t);if(o!==null){o.flags&=32767,xt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=o}while(t!==null);me=6,xt=null}function dp(t,e,o,u,f,_,b,E,O){t.cancelPendingCommit=null;do Xu();while(Ze!==0);if((Zt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(_=e.lanes|e.childLanes,_|=En,Kc(t,o,_,b,E,O),t===$t&&(xt=$t=null,zt=0),Ao=e,Ys=t,xo=o,hf=_,ff=f,ip=u,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,j0(is,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,f=$.p,$.p=2,b=Zt,Zt|=4;try{R0(t,e,o)}finally{Zt=b,$.p=f,I.T=u}}Ze=1,_p(),mp(),pp()}}function _p(){if(Ze===1){Ze=0;var t=Ys,e=Ao,o=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var u=$.p;$.p=2;var f=Zt;Zt|=4;try{Fm(e,t);var _=Mf,b=ga(t.containerInfo),E=_.focusedElem,O=_.selectionRange;if(b!==E&&E&&E.ownerDocument&&ao(E.ownerDocument.documentElement,E)){if(O!==null&&ya(E)){var P=O.start,q=O.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var G=E.ownerDocument||document,B=G&&G.defaultView||window;if(B.getSelection){var H=B.getSelection(),vt=E.textContent.length,_t=Math.min(O.start,vt),Gt=O.end===void 0?_t:Math.min(O.end,vt);!H.extend&&_t>Gt&&(b=Gt,Gt=_t,_t=b);var D=vr(E,_t),N=vr(E,Gt);if(D&&N&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=G.createRange();z.setStart(D.node,D.offset),H.removeAllRanges(),_t>Gt?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(G=[],H=E;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<G.length;E++){var j=G[E];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}sc=!!xf,Mf=xf=null}finally{Zt=f,$.p=u,I.T=o}}t.current=e,Ze=2}}function mp(){if(Ze===2){Ze=0;var t=Ys,e=Ao,o=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var u=$.p;$.p=2;var f=Zt;Zt|=4;try{Xm(t,e.alternate,e)}finally{Zt=f,$.p=u,I.T=o}}Ze=3}}function pp(){if(Ze===4||Ze===3){Ze=0,Bl();var t=Ys,e=Ao,o=xo,u=ip;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ze=5:(Ze=0,Ao=Ys=null,vp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Zs=null),er(o),e=e.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}if(u!==null){e=I.T,f=$.p,$.p=2,I.T=null;try{for(var _=t.onRecoverableError,b=0;b<u.length;b++){var E=u[b];_(E.value,{componentStack:E.stack})}}finally{I.T=e,$.p=f}}(xo&3)!==0&&Xu(),gi(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===df?Zr++:(Zr=0,df=t):Zr=0,Yr(0)}}function vp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Sr(e)))}function Xu(t){return _p(),mp(),pp(),gp()}function gp(){if(Ze!==5)return!1;var t=Ys,e=hf;hf=0;var o=er(xo),u=I.T,f=$.p;try{$.p=32>o?32:o,I.T=null,o=ff,ff=null;var _=Ys,b=xo;if(Ze=0,Ao=Ys=null,xo=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,ep(_.current),Jm(_,_.current,b,o),Zt=E,Yr(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ti,_)}catch{}return!0}finally{$.p=f,I.T=u,vp(t,e)}}function yp(t,e,o){e=tn(o,e),e=jh(t.stateNode,e,2),t=Ds(t,e,2),t!==null&&(as(t,2),gi(t))}function Xt(t,e,o){if(t.tag===3)yp(t,t,o);else for(;e!==null;){if(e.tag===3){yp(e,t,o);break}else if(e.tag===1){var u=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zs===null||!Zs.has(u))){t=tn(o,t),o=Em(2),u=Ds(e,o,2),u!==null&&(Cm(o,u,e,t),as(u,2),gi(u));break}}e=e.return}}function vf(t,e,o){var u=t.pingCache;if(u===null){u=t.pingCache=new B0;var f=new Set;u.set(e,f)}else f=u.get(e),f===void 0&&(f=new Set,u.set(e,f));f.has(o)||(rf=!0,f.add(o),t=Z0.bind(null,t,e,o),e.then(t,t))}function Z0(t,e,o){var u=t.pingCache;u!==null&&u.delete(e),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,$t===t&&(zt&o)===o&&(me===4||me===3&&(zt&62914560)===zt&&300>rn()-cf?(Zt&2)===0&&Mo(t,0):lf|=o,wo===zt&&(wo=0)),gi(t)}function bp(t,e){e===0&&(e=$o()),t=As(t,e),t!==null&&(as(t,e),gi(t))}function Y0(t){var e=t.memoizedState,o=0;e!==null&&(o=e.retryLane),bp(t,o)}function q0(t,e){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(e),bp(t,o)}function j0(t,e){return Si(t,e)}var Vu=null,No=null,gf=!1,Wu=!1,yf=!1,za=0;function gi(t){t!==No&&t.next===null&&(No===null?Vu=No=t:No=No.next=t),Wu=!0,gf||(gf=!0,X0())}function Yr(t,e){if(!yf&&Wu){yf=!0;do for(var o=!1,u=Vu;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var b=u.suspendedLanes,E=u.pingedLanes;_=(1<<31-Fe(42|t)+1)-1,_&=f&~(b&~E),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Cp(u,_))}else _=zt,_=Ga(u,u===$t?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||jn(u,_)||(o=!0,Cp(u,_));u=u.next}while(o);yf=!1}}function G0(){Sp()}function Sp(){Wu=gf=!1;var t=0;za!==0&&(tb()&&(t=za),za=0);for(var e=rn(),o=null,u=Vu;u!==null;){var f=u.next,_=Tp(u,e);_===0?(u.next=null,o===null?Vu=f:o.next=f,f===null&&(No=o)):(o=u,(t!==0||(_&3)!==0)&&(Wu=!0)),u=f}Yr(t)}function Tp(t,e){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var b=31-Fe(_),E=1<<b,O=f[b];O===-1?((E&o)===0||(E&u)!==0)&&(f[b]=Fc(E,e)):O<=e&&(t.expiredLanes|=E),_&=~E}if(e=$t,o=zt,o=Ga(t,t===e?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Fo(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||jn(t,o)){if(e=o&-o,e===t.callbackPriority)return e;switch(u!==null&&Fo(u),er(o)){case 2:case 8:o=Ko;break;case 32:o=is;break;case 268435456:o=Jo;break;default:o=is}return u=Ep.bind(null,t),o=Si(o,u),t.callbackPriority=e,t.callbackNode=o,e}return u!==null&&u!==null&&Fo(u),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,e){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Xu()&&t.callbackNode!==o)return null;var u=zt;return u=Ga(t,t===$t?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(ap(t,u,e),Tp(t,rn()),t.callbackNode!=null&&t.callbackNode===o?Ep.bind(null,t):null)}function Cp(t,e){if(Xu())return null;ap(t,e,!0)}function X0(){nb(function(){(Zt&6)!==0?Si(kl,G0):Sp()})}function bf(){return za===0&&(za=Zl()),za}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ds(""+t)}function Ap(t,e){var o=e.ownerDocument.createElement("input");return o.name=e.name,o.value=e.value,t.id&&o.setAttribute("form",t.id),e.parentNode.insertBefore(o,e),t=new FormData(t),o.parentNode.removeChild(o),t}function V0(t,e,o,u,f){if(e==="submit"&&o&&o.stateNode===f){var _=wp((f[je]||null).action),b=u.submitter;b&&(e=(e=b[je]||null)?wp(e.formAction):b.getAttribute("formAction"),e!==null&&(_=e,b=null));var E=new da("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(za!==0){var O=b?Ap(f,b):new FormData(f);Uh(o,{pending:!0,data:O,method:f.method,action:_},null,O)}}else typeof _=="function"&&(E.preventDefault(),O=b?Ap(f,b):new FormData(f),Uh(o,{pending:!0,data:O,method:f.method,action:_},_,O))},currentTarget:f}]})}}for(var Sf=0;Sf<Hi.length;Sf++){var Tf=Hi[Sf],W0=Tf.toLowerCase(),Q0=Tf[0].toUpperCase()+Tf.slice(1);Tn(W0,"on"+Q0)}Tn(fu,"onAnimationEnd"),Tn(Sn,"onAnimationIteration"),Tn(ba,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(_h,"onTransitionRun"),Tn(uo,"onTransitionStart"),Tn(mh,"onTransitionCancel"),Tn(gr,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function xp(t,e){e=(e&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;t:{var _=void 0;if(e)for(var b=u.length-1;0<=b;b--){var E=u[b],O=E.instance,P=E.currentTarget;if(E=E.listener,O!==_&&f.isPropagationStopped())break t;_=E,f.currentTarget=P;try{_(f)}catch(q){Pu(q)}f.currentTarget=null,_=O}else for(b=0;b<u.length;b++){if(E=u[b],O=E.instance,P=E.currentTarget,E=E.listener,O!==_&&f.isPropagationStopped())break t;_=E,f.currentTarget=P;try{_(f)}catch(q){Pu(q)}f.currentTarget=null,_=O}}}}function Mt(t,e){var o=e[ln];o===void 0&&(o=e[ln]=new Set);var u=t+"__bubble";o.has(u)||(Mp(e,t,2,!1),o.add(u))}function Ef(t,e,o){var u=0;e&&(u|=4),Mp(o,t,u,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Cf(t){if(!t[Qu]){t[Qu]=!0,Xl.forEach(function(o){o!=="selectionchange"&&(F0.has(o)||Ef(o,!1,t),Ef(o,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,Ef("selectionchange",!1,e))}}function Mp(t,e,o,u){switch(Jp(e)){case 2:var f=Eb;break;case 8:f=Cb;break;default:f=Hf}o=f.bind(null,e,o,t),f=void 0,!fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(e,o,{capture:!0,passive:f}):t.addEventListener(e,o,!0):f!==void 0?t.addEventListener(e,o,{passive:f}):t.addEventListener(e,o,!1)}function wf(t,e,o,u,f){var _=u;if((e&1)===0&&(e&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var E=u.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=ri(E),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=_=b;continue t}E=E.parentNode}}u=u.return}vn(function(){var P=_,q=_s(o),G=[];t:{var B=du.get(t);if(B!==void 0){var H=da,vt=t;switch(t){case"keypress":if(_e(o)===0)break t;case"keydown":case"keyup":H=oh;break;case"focusin":vt="focus",H=lr;break;case"focusout":vt="blur",H=lr;break;case"beforeblur":case"afterblur":H=lr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=lh;break;case fu:case Sn:case ba:H=nh;break;case gr:H=uh;break;case"scroll":case"scrollend":H=th;break;case"wheel":H=iu;break;case"copy":case"cut":case"paste":H=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=hr;break;case"toggle":case"beforetoggle":H=zi}var _t=(e&4)!==0,Gt=!_t&&(t==="scroll"||t==="scrollend"),D=_t?B!==null?B+"Capture":null:B;_t=[];for(var N=P,z;N!==null;){var j=N;if(z=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||z===null||D===null||(j=kt(N,D),j!=null&&_t.push(jr(N,j,z))),Gt)break;N=N.return}0<_t.length&&(B=new H(B,vt,null,o,q),G.push({event:B,listeners:_t}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&o!==ha&&(vt=o.relatedTarget||o.fromElement)&&(ri(vt)||vt[os]))break t;if((H||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(vt=o.relatedTarget||o.toElement,H=P,vt=vt?ri(vt):null,vt!==null&&(Gt=d(vt),_t=vt.tag,vt!==Gt||_t!==5&&_t!==27&&_t!==6)&&(vt=null)):(H=null,vt=P),H!==vt)){if(_t=vs,j="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(_t=hr,j="onPointerLeave",D="onPointerEnter",N="pointer"),Gt=H==null?B:On(H),z=vt==null?B:On(vt),B=new _t(j,N+"leave",H,o,q),B.target=Gt,B.relatedTarget=z,j=null,ri(q)===P&&(_t=new _t(D,N+"enter",vt,o,q),_t.target=z,_t.relatedTarget=Gt,j=_t),Gt=j,H&&vt)e:{for(_t=H,D=vt,N=0,z=_t;z;z=Lo(z))N++;for(z=0,j=D;j;j=Lo(j))z++;for(;0<N-z;)_t=Lo(_t),N--;for(;0<z-N;)D=Lo(D),z--;for(;N--;){if(_t===D||D!==null&&_t===D.alternate)break e;_t=Lo(_t),D=Lo(D)}_t=null}else _t=null;H!==null&&Op(G,B,H,_t,!1),vt!==null&&Gt!==null&&Op(G,Gt,vt,_t,!0)}}t:{if(B=P?On(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ot=bs;else if(Bi(B))if(_r)ot=dh;else{ot=fh;var wt=pr}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ca(P.elementType)&&(ot=bs):ot=Wn;if(ot&&(ot=ot(t,P))){lu(G,ot,o,q);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&hs(B,"number",B.value)}switch(wt=P?On(P):window,t){case"focusin":(Bi(wt)||wt.contentEditable==="true")&&(bn=wt,Es=P,ki=null);break;case"focusout":ki=Es=bn=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,cu(G,o,q);break;case"selectionchange":if(oo)break;case"keydown":case"keyup":cu(G,o,q)}var ct;if(Pi)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else gs?io(t,o)&&(mt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(mt="onCompositionStart");mt&&(dr&&o.locale!=="ko"&&(gs||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&gs&&(ct=ps()):(Dn=q,Xn="value"in Dn?Dn.value:Dn.textContent,gs=!0)),wt=Fu(P,mt),0<wt.length&&(mt=new gn(mt,t,null,o,q),G.push({event:mt,listeners:wt}),ct?mt.data=ct:(ct=ou(o),ct!==null&&(mt.data=ct)))),(ct=su?ru(t,o):hh(t,o))&&(mt=Fu(P,"onBeforeInput"),0<mt.length&&(wt=new gn("onBeforeInput","beforeinput",null,o,q),G.push({event:wt,listeners:mt}),wt.data=ct)),V0(G,t,P,o,q)}xp(G,e)})}function jr(t,e,o){return{instance:t,listener:e,currentTarget:o}}function Fu(t,e){for(var o=e+"Capture",u=[];t!==null;){var f=t,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=kt(t,o),f!=null&&u.unshift(jr(t,f,_)),f=kt(t,e),f!=null&&u.push(jr(t,f,_))),t.tag===3)return u;t=t.return}return[]}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Op(t,e,o,u,f){for(var _=e._reactName,b=[];o!==null&&o!==u;){var E=o,O=E.alternate,P=E.stateNode;if(E=E.tag,O!==null&&O===u)break;E!==5&&E!==26&&E!==27||P===null||(O=P,f?(P=kt(o,_),P!=null&&b.unshift(jr(o,P,O))):f||(P=kt(o,_),P!=null&&b.push(jr(o,P,O)))),o=o.return}b.length!==0&&t.push({event:e,listeners:b})}var K0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(K0,`
`).replace(J0,"")}function Lp(t,e){return e=Np(e),Np(t)===e}function Ku(){}function jt(t,e,o,u,f,_){switch(o){case"children":typeof u=="string"?e==="body"||e==="textarea"&&u===""||Nn(t,u):(typeof u=="number"||typeof u=="bigint")&&e!=="body"&&Nn(t,""+u);break;case"className":Qa(t,"class",u);break;case"tabIndex":Qa(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qa(t,o,u);break;case"style":fs(t,u,_);break;case"data":if(e!=="object"){Qa(t,"data",u);break}case"src":case"href":if(u===""&&(e!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=ds(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(e!=="input"&&jt(t,e,"name",f.name,f,null),jt(t,e,"formEncType",f.formEncType,f,null),jt(t,e,"formMethod",f.formMethod,f,null),jt(t,e,"formTarget",f.formTarget,f,null)):(jt(t,e,"encType",f.encType,f,null),jt(t,e,"method",f.method,f,null),jt(t,e,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=ds(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=Ku);break;case"onScroll":u!=null&&Mt("scroll",t);break;case"onScrollEnd":u!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=ds(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Wa(t,"popover",u);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ar.get(o)||o,Wa(t,o,u))}}function Af(t,e,o,u,f,_){switch(o){case"style":fs(t,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Nn(t,u):(typeof u=="number"||typeof u=="bigint")&&Nn(t,""+u);break;case"onScroll":u!=null&&Mt("scroll",t);break;case"onScrollEnd":u!=null&&Mt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),e=o.slice(2,f?o.length-7:void 0),_=t[je]||null,_=_!=null?_[o]:null,typeof _=="function"&&t.removeEventListener(e,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(e,u,f);break t}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Wa(t,o,u)}}}function Ye(t,e,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var u=!1,f=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var b=o[_];if(b!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:jt(t,e,_,b,o,null)}}f&&jt(t,e,"srcSet",o.srcSet,o,null),u&&jt(t,e,"src",o.src,o,null);return;case"input":Mt("invalid",t);var E=_=b=f=null,O=null,P=null;for(u in o)if(o.hasOwnProperty(u)){var q=o[u];if(q!=null)switch(u){case"name":f=q;break;case"type":b=q;break;case"checked":O=q;break;case"defaultChecked":P=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,e));break;default:jt(t,e,u,q,o,null)}}Ql(t,_,E,O,P,b,f,!1),cs(t);return;case"select":Mt("invalid",t),u=b=_=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":_=E;break;case"defaultValue":b=E;break;case"multiple":u=E;default:jt(t,e,f,E,o,null)}e=_,o=b,t.multiple=!!u,e!=null?un(t,!!u,e,!1):o!=null&&un(t,!!u,o,!0);return;case"textarea":Mt("invalid",t),_=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":u=E;break;case"defaultValue":f=E;break;case"children":_=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:jt(t,e,b,E,o,null)}li(t,u,f,_),cs(t);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:jt(t,e,O,u,o,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(u=0;u<qr.length;u++)Mt(qr[u],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:jt(t,e,P,u,o,null)}return;default:if(ca(e)){for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!==void 0&&Af(t,e,q,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&jt(t,e,E,u,o,null))}function $0(t,e,o,u){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,b=null,E=null,O=null,P=null,q=null;for(H in o){var G=o[H];if(o.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":O=G;default:u.hasOwnProperty(H)||jt(t,e,H,null,u,G)}}for(var B in u){var H=u[B];if(G=o[B],u.hasOwnProperty(B)&&(H!=null||G!=null))switch(B){case"type":_=H;break;case"name":f=H;break;case"checked":P=H;break;case"defaultChecked":q=H;break;case"value":b=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:H!==G&&jt(t,e,B,H,u,G)}}Ge(t,b,E,O,P,q,_,f);return;case"select":H=b=E=B=null;for(_ in o)if(O=o[_],o.hasOwnProperty(_)&&O!=null)switch(_){case"value":break;case"multiple":H=O;default:u.hasOwnProperty(_)||jt(t,e,_,null,u,O)}for(f in u)if(_=u[f],O=o[f],u.hasOwnProperty(f)&&(_!=null||O!=null))switch(f){case"value":B=_;break;case"defaultValue":E=_;break;case"multiple":b=_;default:_!==O&&jt(t,e,f,_,u,O)}e=E,o=b,u=H,B!=null?un(t,!!o,B,!1):!!u!=!!o&&(e!=null?un(t,!!o,e,!0):un(t,!!o,o?[]:"",!1));return;case"textarea":H=B=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:jt(t,e,E,null,u,f)}for(b in u)if(f=u[b],_=o[b],u.hasOwnProperty(b)&&(f!=null||_!=null))switch(b){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==_&&jt(t,e,b,f,u,_)}he(t,B,H);return;case"option":for(var vt in o)if(B=o[vt],o.hasOwnProperty(vt)&&B!=null&&!u.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:jt(t,e,vt,null,u,B)}for(O in u)if(B=u[O],H=o[O],u.hasOwnProperty(O)&&B!==H&&(B!=null||H!=null))switch(O){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:jt(t,e,O,B,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)B=o[_t],o.hasOwnProperty(_t)&&B!=null&&!u.hasOwnProperty(_t)&&jt(t,e,_t,null,u,B);for(P in u)if(B=u[P],H=o[P],u.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,e));break;default:jt(t,e,P,B,u,H)}return;default:if(ca(e)){for(var Gt in o)B=o[Gt],o.hasOwnProperty(Gt)&&B!==void 0&&!u.hasOwnProperty(Gt)&&Af(t,e,Gt,void 0,u,B);for(q in u)B=u[q],H=o[q],!u.hasOwnProperty(q)||B===H||B===void 0&&H===void 0||Af(t,e,q,B,u,H);return}}for(var D in o)B=o[D],o.hasOwnProperty(D)&&B!=null&&!u.hasOwnProperty(D)&&jt(t,e,D,null,u,B);for(G in u)B=u[G],H=o[G],!u.hasOwnProperty(G)||B===H||B==null&&H==null||jt(t,e,G,B,u,H)}var xf=null,Mf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function Dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nf=null;function tb(){var t=window.event;return t&&t.type==="popstate"?t===Nf?!1:(Nf=t,!0):(Nf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(ib)}:zp;function ib(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function Bp(t,e){var o=e,u=0,f=0;do{var _=o.nextSibling;if(t.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<u&&8>u){o=u;var b=t.ownerDocument;if(o&1&&Gr(b.documentElement),o&2&&Gr(b.body),o&4)for(o=b.head,Gr(o),b=o.firstChild;b;){var E=b.nextSibling,O=b.nodeName;b[rs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=E}}if(f===0){t.removeChild(_),$r(e);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=_}while(o);$r(e)}function Lf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var o=e;switch(e=e.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lf(o),Va(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function sb(t,e,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[rs])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function ab(t,e,o){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Jn(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ob(t,e){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")e();else{var u=function(){e(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Rf=null;function kp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return t;e--}else o==="/$"&&e++}t=t.previousSibling}return null}function Hp(t,e,o){switch(e=Ju(o),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Gr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Va(t)}var Un=new Map,Up=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=$.d;$.d={f:rb,r:lb,D:ub,C:cb,L:hb,m:fb,X:_b,S:db,M:mb};function rb(){var t=Fi.f(),e=ju();return t||e}function lb(t){var e=Ei(t);e!==null&&e.tag===5&&e.type==="form"?am(e):Fi.r(t)}var Do=typeof document>"u"?null:document;function Ip(t,e,o){var u=Do;if(u&&typeof e=="string"&&e){var f=He(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Up.has(f)||(Up.add(f),t={rel:t,crossOrigin:o,href:e},u.querySelector(f)===null&&(e=u.createElement("link"),Ye(e,"link",t),be(e),u.head.appendChild(e)))}}function ub(t){Fi.D(t),Ip("dns-prefetch",t,null)}function cb(t,e){Fi.C(t,e),Ip("preconnect",t,e)}function hb(t,e,o){Fi.L(t,e,o);var u=Do;if(u&&t&&e){var f='link[rel="preload"][as="'+He(e)+'"]';e==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+He(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+He(o.imageSizes)+'"]')):f+='[href="'+He(t)+'"]';var _=f;switch(e){case"style":_=Ro(t);break;case"script":_=zo(t)}Un.has(_)||(t=C({rel:"preload",href:e==="image"&&o&&o.imageSrcSet?void 0:t,as:e},o),Un.set(_,t),u.querySelector(f)!==null||e==="style"&&u.querySelector(Xr(_))||e==="script"&&u.querySelector(Vr(_))||(e=u.createElement("link"),Ye(e,"link",t),be(e),u.head.appendChild(e)))}}function fb(t,e){Fi.m(t,e);var o=Do;if(o&&t){var u=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+He(u)+'"][href="'+He(t)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=zo(t)}if(!Un.has(_)&&(t=C({rel:"modulepreload",href:t},e),Un.set(_,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vr(_)))return}u=o.createElement("link"),Ye(u,"link",t),be(u),o.head.appendChild(u)}}}function db(t,e,o){Fi.S(t,e,o);var u=Do;if(u&&t){var f=Ci(u).hoistableStyles,_=Ro(t);e=e||"default";var b=f.get(_);if(!b){var E={loading:0,preload:null};if(b=u.querySelector(Xr(_)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":e},o),(o=Un.get(_))&&zf(t,o);var O=b=u.createElement("link");be(O),Ye(O,"link",t),O._p=new Promise(function(P,q){O.onload=P,O.onerror=q}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,tc(b,e,u)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(_,b)}}}function _b(t,e){Fi.X(t,e);var o=Do;if(o&&t){var u=Ci(o).hoistableScripts,f=zo(t),_=u.get(f);_||(_=o.querySelector(Vr(f)),_||(t=C({src:t,async:!0},e),(e=Un.get(f))&&Pf(t,e),_=o.createElement("script"),be(_),Ye(_,"link",t),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function mb(t,e){Fi.M(t,e);var o=Do;if(o&&t){var u=Ci(o).hoistableScripts,f=zo(t),_=u.get(f);_||(_=o.querySelector(Vr(f)),_||(t=C({src:t,async:!0,type:"module"},e),(e=Un.get(f))&&Pf(t,e),_=o.createElement("script"),be(_),Ye(_,"link",t),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function Zp(t,e,o,u){var f=(f=tt.current)?$u(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(e=Ro(o.href),o=Ci(f).hoistableStyles,u=o.get(e),u||(u={type:"style",instance:null,count:0,state:null},o.set(e,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Ro(o.href);var _=Ci(f).hoistableStyles,b=_.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,b),(_=f.querySelector(Xr(t)))&&!_._p&&(b.instance=_,b.state.loading=5),Un.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Un.set(t,o),_||pb(f,t,o,b.state))),e&&u===null)throw Error(r(528,""));return b}if(e&&u!==null)throw Error(r(529,""));return null;case"script":return e=o.async,o=o.src,typeof o=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=zo(o),o=Ci(f).hoistableScripts,u=o.get(e),u||(u={type:"script",instance:null,count:0,state:null},o.set(e,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ro(t){return'href="'+He(t)+'"'}function Xr(t){return'link[rel="stylesheet"]['+t+"]"}function Yp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,e,o,u){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?u.loading=1:(e=t.createElement("link"),u.preload=e,e.addEventListener("load",function(){return u.loading|=1}),e.addEventListener("error",function(){return u.loading|=2}),Ye(e,"link",o),be(e),t.head.appendChild(e))}function zo(t){return'[src="'+He(t)+'"]'}function Vr(t){return"script[async]"+t}function qp(t,e,o){if(e.count++,e.instance===null)switch(e.type){case"style":var u=t.querySelector('style[data-href~="'+He(o.href)+'"]');if(u)return e.instance=u,be(u),u;var f=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),be(u),Ye(u,"style",f),tc(u,o.precedence,t),e.instance=u;case"stylesheet":f=Ro(o.href);var _=t.querySelector(Xr(f));if(_)return e.state.loading|=4,e.instance=_,be(_),_;u=Yp(o),(f=Un.get(f))&&zf(u,f),_=(t.ownerDocument||t).createElement("link"),be(_);var b=_;return b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),Ye(_,"link",u),e.state.loading|=4,tc(_,o.precedence,t),e.instance=_;case"script":return _=zo(o.src),(f=t.querySelector(Vr(_)))?(e.instance=f,be(f),f):(u=o,(f=Un.get(_))&&(u=C({},o),Pf(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),be(f),Ye(f,"link",u),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(u=e.instance,e.state.loading|=4,tc(u,o.precedence,t));return e.instance}function tc(t,e,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,b=0;b<u.length;b++){var E=u[b];if(E.dataset.precedence===e)_=E;else if(_!==f)break}_?_.parentNode.insertBefore(t,_.nextSibling):(e=o.nodeType===9?o.head:o,e.insertBefore(t,e.firstChild))}function zf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Pf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ec=null;function jp(t,e,o){if(ec===null){var u=new Map,f=ec=new Map;f.set(o,u)}else f=ec,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var _=o[f];if(!(_[rs]||_[Me]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(e)||"";b=t+b;var E=u.get(b);E?E.push(_):u.set(b,[_])}}return u}function Gp(t,e,o){t=t.ownerDocument||t,t.head.insertBefore(o,e==="title"?t.querySelector("head > title"):null)}function vb(t,e,o){if(o===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Wr=null;function gb(){}function yb(t,e,o){if(Wr===null)throw Error(r(475));var u=Wr;if(e.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var f=Ro(o.href),_=t.querySelector(Xr(f));if(_){t=_._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=nc.bind(u),t.then(u,u)),e.state.loading|=4,e.instance=_,be(_);return}_=t.ownerDocument||t,o=Yp(o),(f=Un.get(f))&&zf(o,f),_=_.createElement("link"),be(_);var b=_;b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),Ye(_,"link",o),e.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(u.count++,e=nc.bind(u),t.addEventListener("load",e),t.addEventListener("error",e))}}function bb(){if(Wr===null)throw Error(r(475));var t=Wr;return t.stylesheets&&t.count===0&&Bf(t,t.stylesheets),0<t.count?function(e){var o=setTimeout(function(){if(t.stylesheets&&Bf(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(o)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function Bf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,e.forEach(Sb,t),ic=null,nc.call(t))}function Sb(t,e){if(!(e.state.loading&4)){var o=ic.get(t);if(o)var u=o.get(null);else{o=new Map,ic.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var b=f[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=e.instance,b=f.getAttribute("data-precedence"),_=o.get(b)||u,_===u&&o.set(null,f),o.set(b,f),this.count++,u=nc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Qr={$$typeof:st,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Tb(t,e,o,u,f,_,b,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.hiddenUpdates=Xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Vp(t,e,o,u,f,_,b,E,O,P,q,G){return t=new Tb(t,e,o,b,E,O,P,G),e=1,_===!0&&(e|=24),_=nn(3,null,null,e),t.current=_,_.stateNode=t,e=ph(),e.refCount++,t.pooledCache=e,e.refCount++,_.memoizedState={element:u,isDehydrated:o,cache:e},bh(_),t}function Wp(t){return t?(t=Zi,t):Zi}function Qp(t,e,o,u,f,_){f=Wp(f),u.context===null?u.context=f:u.pendingContext=f,u=Ls(e),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Ds(t,u,e),o!==null&&(Mn(o,t,e),wr(o,t,e))}function Fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<e?o:e}}function kf(t,e){Fp(t,e),(t=t.alternate)&&Fp(t,e)}function Kp(t){if(t.tag===13){var e=As(t,67108864);e!==null&&Mn(e,t,67108864),kf(t,67108864)}}var sc=!0;function Eb(t,e,o,u){var f=I.T;I.T=null;var _=$.p;try{$.p=2,Hf(t,e,o,u)}finally{$.p=_,I.T=f}}function Cb(t,e,o,u){var f=I.T;I.T=null;var _=$.p;try{$.p=8,Hf(t,e,o,u)}finally{$.p=_,I.T=f}}function Hf(t,e,o,u){if(sc){var f=Uf(u);if(f===null)wf(t,e,u,ac,o),$p(t,u);else if(Ab(f,t,e,o,u))u.stopPropagation();else if($p(t,u),e&4&&-1<wb.indexOf(t)){for(;f!==null;){var _=Ei(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=ai(_.pendingLanes);if(b!==0){var E=_;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var O=1<<31-Fe(b);E.entanglements[1]|=O,b&=~O}gi(_),(Zt&6)===0&&(Yu=rn()+500,Yr(0))}}break;case 13:E=As(_,2),E!==null&&Mn(E,_,2),ju(),kf(_,2)}if(_=Uf(u),_===null&&wf(t,e,u,ac,o),_===f)break;f=_}f!==null&&u.stopPropagation()}else wf(t,e,u,null,o)}}function Uf(t){return t=_s(t),If(t)}var ac=null;function If(t){if(ac=null,t=ri(t),t!==null){var e=d(t);if(e===null)t=null;else{var o=e.tag;if(o===13){if(t=m(e),t!==null)return t;t=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ac=t,null}function Jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case kl:return 2;case Ko:return 8;case is:case Hl:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var Zf=!1,Gs=null,Xs=null,Vs=null,Fr=new Map,Kr=new Map,Ws=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Fr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(e.pointerId)}}function Jr(t,e,o,u,f,_){return t===null||t.nativeEvent!==_?(t={blockedOn:e,domEventName:o,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},e!==null&&(e=Ei(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=u,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function Ab(t,e,o,u,f){switch(e){case"focusin":return Gs=Jr(Gs,t,e,o,u,f),!0;case"dragenter":return Xs=Jr(Xs,t,e,o,u,f),!0;case"mouseover":return Vs=Jr(Vs,t,e,o,u,f),!0;case"pointerover":var _=f.pointerId;return Fr.set(_,Jr(Fr.get(_)||null,t,e,o,u,f)),!0;case"gotpointercapture":return _=f.pointerId,Kr.set(_,Jr(Kr.get(_)||null,t,e,o,u,f)),!0}return!1}function tv(t){var e=ri(t.target);if(e!==null){var o=d(e);if(o!==null){if(e=o.tag,e===13){if(e=m(o),e!==null){t.blockedOn=e,nr(t.priority,function(){if(o.tag===13){var u=xn();u=tr(u);var f=As(o,u);f!==null&&Mn(f,o,u),kf(o,u)}});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var o=Uf(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ha=u,o.target.dispatchEvent(u),ha=null}else return e=Ei(o),e!==null&&Kp(e),t.blockedOn=o,!1;e.shift()}return!0}function ev(t,e,o){oc(t)&&o.delete(e)}function xb(){Zf=!1,Gs!==null&&oc(Gs)&&(Gs=null),Xs!==null&&oc(Xs)&&(Xs=null),Vs!==null&&oc(Vs)&&(Vs=null),Fr.forEach(ev),Kr.forEach(ev)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Zf||(Zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xb)))}var lc=null;function nv(t){lc!==t&&(lc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var e=0;e<t.length;e+=3){var o=t[e],u=t[e+1],f=t[e+2];if(typeof u!="function"){if(If(u||o)===null)continue;break}var _=Ei(o);_!==null&&(t.splice(e,3),e-=3,Uh(_,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function $r(t){function e(O){return rc(O,t)}Gs!==null&&rc(Gs,t),Xs!==null&&rc(Xs,t),Vs!==null&&rc(Vs,t),Fr.forEach(e),Kr.forEach(e);for(var o=0;o<Ws.length;o++){var u=Ws[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)tv(o),o.blockedOn===null&&Ws.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],_=o[u+1],b=f[je]||null;if(typeof _=="function")b||nv(o);else if(b){var E=null;if(_&&_.hasAttribute("formAction")){if(f=_,b=_[je]||null)E=b.formAction;else if(If(f)!==null)continue}else E=b.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),nv(o)}}}function Yf(t){this._internalRoot=t}uc.prototype.render=Yf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var o=e.current,u=xn();Qp(o,u,t,e,null,null)},uc.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qp(t.current,2,null,t,null,null),ju(),e[os]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var e=jl();t={blockedOn:null,target:t,priority:e};for(var o=0;o<Ws.length&&e!==0&&e<Ws[o].priority;o++);Ws.splice(o,0,t),o===0&&tv(t)}};var iv=n.version;if(iv!=="19.1.1")throw Error(r(527,iv,"19.1.1"));$.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(e),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Mb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Ti=cc.inject(Mb),qe=cc}catch{}}return el.createRoot=function(t,e){if(!c(t))throw Error(r(299));var o=!1,u="",f=ym,_=bm,b=Sm,E=null;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(u=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(_=e.onCaughtError),e.onRecoverableError!==void 0&&(b=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=Vp(t,1,!1,null,null,o,u,f,_,b,E,null),t[os]=e.current,Cf(t),new Yf(e)},el.hydrateRoot=function(t,e,o){if(!c(t))throw Error(r(299));var u=!1,f="",_=ym,b=bm,E=Sm,O=null,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(P=o.formState)),e=Vp(t,1,!0,e,o??null,u,f,_,b,E,O,P),e.context=Wp(null),o=e.current,u=xn(),u=tr(u),f=Ls(u),f.callback=null,Ds(o,f,u),o=u,e.current.lanes=o,as(e,o),gi(e),t[os]=e.current,Cf(t),new uc(e)},el.version="19.1.1",el}var dv;function kb(){if(dv)return Gf.exports;dv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Gf.exports=Bb(),Gf.exports}var Hb=kb();const Ub=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(a,n){if(!a)throw Go(n)},Go=function(a){return new Error("Firebase Database ("+gg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(a){const n=[];let s=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):(c&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(a.charCodeAt(++r)&1023),n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},Ib=function(a){const n=[];let s=0,r=0;for(;s<a.length;){const c=a[s++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const d=a[s++];n[r++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=a[s++],m=a[s++],g=a[s++],y=((c&7)<<18|(d&63)<<12|(m&63)<<6|g&63)-65536;n[r++]=String.fromCharCode(55296+(y>>10)),n[r++]=String.fromCharCode(56320+(y&1023))}else{const d=a[s++],m=a[s++];n[r++]=String.fromCharCode((c&15)<<12|(d&63)<<6|m&63)}}return n.join("")},Nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<a.length;c+=3){const d=a[c],m=c+1<a.length,g=m?a[c+1]:0,y=c+2<a.length,S=y?a[c+2]:0,C=d>>2,w=(d&3)<<4|g>>4;let A=(g&15)<<2|S>>6,k=S&63;y||(k=64,m||(A=64)),r.push(s[C],s[w],s[A],s[k])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(yg(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):Ib(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<a.length;){const d=s[a.charAt(c++)],g=c<a.length?s[a.charAt(c)]:0;++c;const S=c<a.length?s[a.charAt(c)]:64;++c;const w=c<a.length?s[a.charAt(c)]:64;if(++c,d==null||g==null||S==null||w==null)throw new Zb;const A=d<<2|g>>4;if(r.push(A),S!==64){const k=g<<4&240|S>>2;if(r.push(k),w!==64){const Y=S<<6&192|w;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bg=function(a){const n=yg(a);return Nd.encodeByteArray(n,!0)},pc=function(a){return bg(a).replace(/\./g,"")},ud=function(a){try{return Nd.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(a){return Sg(void 0,a)}function Sg(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!qb(s)||(a[s]=Sg(a[s],n[s]));return a}function qb(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=()=>jb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof _v>"u")return;const a=_v.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Vb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&ud(a[1]);return n&&JSON.parse(n)},Tg=()=>{try{return Ub()||Gb()||Xb()||Vb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Wb=a=>Tg()?.emulatorHosts?.[a],Qb=a=>{const n=Wb(a);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},Eg=()=>Tg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",c=a.iat||0,d=a.sub||a.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...a};return[pc(JSON.stringify(s)),pc(JSON.stringify(m)),""].join(".")}const ll={};function Jb(){const a={prod:[],emulator:[]};for(const n of Object.keys(ll))ll[n]?a.emulator.push(n):a.prod.push(n);return a}function $b(a){let n=document.getElementById(a),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),s=!0),{created:s,element:n}}let mv=!1;function tS(a,n){if(typeof window>"u"||typeof document>"u"||!Ld(window.location.host)||ll[a]===n||ll[a]||mv)return;ll[a]=n;function s(A){return`__firebase__banner__${A}`}const r="__firebase__banner",d=Jb().prod.length>0;function m(){const A=document.getElementById(r);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function S(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{mv=!0,m()},A}function C(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=$b(r),k=s("text"),Y=document.getElementById(k)||document.createElement("span"),V=s("learnmore"),et=document.getElementById(V)||document.createElement("a"),bt=s("preprendIcon"),dt=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const st=A.element;g(st),C(et,V);const It=S();y(dt,bt),st.append(dt,Y,et,It),document.body.appendChild(st)}d?(Y.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eS())}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){return gg.NODE_ADMIN===!0}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((a,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(r),a(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class wl extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=oS,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wg.prototype.create)}}class wg{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},c=`${this.service}/${n}`,d=this.errors[n],m=d?rS(d,r):"Error",g=`${this.serviceName}: ${m} (${c}).`;return new wl(c,g,r)}}function rS(a,n){return a.replace(lS,(s,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const lS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(a){return JSON.parse(a)}function we(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=function(a){let n={},s={},r={},c="";try{const d=a.split(".");n=_l(ud(d[0])||""),s=_l(ud(d[1])||""),c=d[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:c}},uS=function(a){const n=Ag(a),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},cS=function(a){const n=Ag(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Zo(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function pv(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function vc(a,n,s){const r={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=n.call(s,a[c],c,a));return r}function gc(a,n){if(a===n)return!0;const s=Object.keys(a),r=Object.keys(n);for(const c of s){if(!r.includes(c))return!1;const d=a[c],m=n[c];if(vv(d)&&vv(m)){if(!gc(d,m))return!1}else if(d!==m)return!1}for(const c of r)if(!s.includes(c))return!1;return!0}function vv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(a){const n=[];for(const[s,r]of Object.entries(a))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let w=0;w<16;w++)r[w]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let w=0;w<16;w++)r[w]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let w=16;w<80;w++){const A=r[w-3]^r[w-8]^r[w-14]^r[w-16];r[w]=(A<<1|A>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],m=this.chain_[2],g=this.chain_[3],y=this.chain_[4],S,C;for(let w=0;w<80;w++){w<40?w<20?(S=g^d&(m^g),C=1518500249):(S=d^m^g,C=1859775393):w<60?(S=d&m|g&(d|m),C=2400959708):(S=d^m^g,C=3395469782);const A=(c<<5|c>>>27)+S+y+C+r[w]&4294967295;y=g,g=m,m=(d<<30|d>>>2)&4294967295,d=c,c=A}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let c=0;const d=this.buf_;let m=this.inbuf_;for(;c<s;){if(m===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<s;)if(d[m]=n.charCodeAt(c),++m,++c,m===this.blockSize){this.compress_(d),m=0;break}}else for(;c<s;)if(d[m]=n[c],++m,++c,m===this.blockSize){this.compress_(d),m=0;break}}this.inbuf_=m,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)n[r]=this.chain_[c]>>d&255,++r;return n}}function Dd(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(a){const n=[];let s=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);if(c>=55296&&c<=56319){const d=c-55296;r++,J(r<a.length,"Surrogate pair missing trail surrogate.");const m=a.charCodeAt(r)-56320;c=65536+(d<<10)+m}c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):c<65536?(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},Pc=function(a){let n=0;for(let s=0;s<a.length;s++){const r=a.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(a){return a&&a._delegate?a._delegate:a}class ml{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new zc;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(pS(n))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const d=this.getOrInitializeService({instanceIdentifier:c});r.resolve(d)}catch{}}}}clearInstance(n=Pa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Pa){return this.instances.has(n)}getOptions(n=Pa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[d,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);r===g&&m.resolve(c)}return c}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const d=this.instances.get(r);return d&&n(d,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const c of r)try{c(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mS(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Pa){return this.component?this.component.multipleInstances?n:Pa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(a){return a===Pa?void 0:a}function pS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new _S(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ee||(ee={}));const gS={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},yS=ee.INFO,bS={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},SS=(a,n,...s)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),c=bS[n];if(c)console[c](`[${r}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class xg{constructor(n){this.name=n,this._logLevel=yS,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ee))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?gS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...n),this._logHandler(this,ee.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...n),this._logHandler(this,ee.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...n),this._logHandler(this,ee.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...n),this._logHandler(this,ee.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...n),this._logHandler(this,ee.ERROR,...n)}}const TS=(a,n)=>n.some(s=>a instanceof s);let gv,yv;function ES(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mg=new WeakMap,cd=new WeakMap,Og=new WeakMap,Qf=new WeakMap,Rd=new WeakMap;function wS(a){const n=new Promise((s,r)=>{const c=()=>{a.removeEventListener("success",d),a.removeEventListener("error",m)},d=()=>{s(Fs(a.result)),c()},m=()=>{r(a.error),c()};a.addEventListener("success",d),a.addEventListener("error",m)});return n.then(s=>{s instanceof IDBCursor&&Mg.set(s,a)}).catch(()=>{}),Rd.set(n,a),n}function AS(a){if(cd.has(a))return;const n=new Promise((s,r)=>{const c=()=>{a.removeEventListener("complete",d),a.removeEventListener("error",m),a.removeEventListener("abort",m)},d=()=>{s(),c()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",d),a.addEventListener("error",m),a.addEventListener("abort",m)});cd.set(a,n)}let hd={get(a,n,s){if(a instanceof IDBTransaction){if(n==="done")return cd.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Og.get(a);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fs(a[n])},set(a,n,s){return a[n]=s,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function xS(a){hd=a(hd)}function MS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=a.call(Ff(this),n,...s);return Og.set(r,n.sort?n.sort():[n]),Fs(r)}:CS().includes(a)?function(...n){return a.apply(Ff(this),n),Fs(Mg.get(this))}:function(...n){return Fs(a.apply(Ff(this),n))}}function OS(a){return typeof a=="function"?MS(a):(a instanceof IDBTransaction&&AS(a),TS(a,ES())?new Proxy(a,hd):a)}function Fs(a){if(a instanceof IDBRequest)return wS(a);if(Qf.has(a))return Qf.get(a);const n=OS(a);return n!==a&&(Qf.set(a,n),Rd.set(n,a)),n}const Ff=a=>Rd.get(a);function NS(a,n,{blocked:s,upgrade:r,blocking:c,terminated:d}={}){const m=indexedDB.open(a,n),g=Fs(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Fs(m.result),y.oldVersion,y.newVersion,Fs(m.transaction),y)}),s&&m.addEventListener("blocked",y=>s(y.oldVersion,y.newVersion,y)),g.then(y=>{d&&y.addEventListener("close",()=>d()),c&&y.addEventListener("versionchange",S=>c(S.oldVersion,S.newVersion,S))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],Kf=new Map;function bv(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Kf.get(n))return Kf.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,c=DS.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(c||LS.includes(s)))return;const d=async function(m,...g){const y=this.transaction(m,c?"readwrite":"readonly");let S=y.store;return r&&(S=S.index(g.shift())),(await Promise.all([S[s](...g),c&&y.done]))[0]};return Kf.set(n,d),d}xS(a=>({...a,get:(n,s,r)=>bv(n,s)||a.get(n,s,r),has:(n,s)=>!!bv(n,s)||a.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(zS(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function zS(a){return a.getComponent()?.type==="VERSION"}const fd="@firebase/app",Sv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new xg("@firebase/app"),PS="@firebase/app-compat",BS="@firebase/analytics-compat",kS="@firebase/analytics",HS="@firebase/app-check-compat",US="@firebase/app-check",IS="@firebase/auth",ZS="@firebase/auth-compat",YS="@firebase/database",qS="@firebase/data-connect",jS="@firebase/database-compat",GS="@firebase/functions",XS="@firebase/functions-compat",VS="@firebase/installations",WS="@firebase/installations-compat",QS="@firebase/messaging",FS="@firebase/messaging-compat",KS="@firebase/performance",JS="@firebase/performance-compat",$S="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",s1="@firebase/ai",a1="@firebase/firestore-compat",o1="firebase",r1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",l1={[fd]:"fire-core",[PS]:"fire-core-compat",[kS]:"fire-analytics",[BS]:"fire-analytics-compat",[US]:"fire-app-check",[HS]:"fire-app-check-compat",[IS]:"fire-auth",[ZS]:"fire-auth-compat",[YS]:"fire-rtdb",[qS]:"fire-data-connect",[jS]:"fire-rtdb-compat",[GS]:"fire-fn",[XS]:"fire-fn-compat",[VS]:"fire-iid",[WS]:"fire-iid-compat",[QS]:"fire-fcm",[FS]:"fire-fcm-compat",[KS]:"fire-perf",[JS]:"fire-perf-compat",[$S]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,u1=new Map,_d=new Map;function Tv(a,n){try{a.container.addComponent(n)}catch(s){$i.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,s)}}function bc(a){const n=a.name;if(_d.has(n))return $i.debug(`There were multiple attempts to register component ${n}.`),!1;_d.set(n,a);for(const s of yc.values())Tv(s,a);for(const s of u1.values())Tv(s,a);return!0}function c1(a,n){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(n)}function h1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new wg("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=r1;function Ng(a,n={}){let s=a;typeof n!="object"&&(n={name:n});const r={name:dd,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw Ks.create("bad-app-name",{appName:String(c)});if(s||(s=Eg()),!s)throw Ks.create("no-options");const d=yc.get(c);if(d){if(gc(s,d.options)&&gc(r,d.config))return d;throw Ks.create("duplicate-app",{appName:c})}const m=new vS(c);for(const y of _d.values())m.addComponent(y);const g=new d1(s,r,m);return yc.set(c,g),g}function m1(a=dd){const n=yc.get(a);if(!n&&a===dd&&Eg())return Ng();if(!n)throw Ks.create("no-app",{appName:a});return n}function ko(a,n,s){let r=l1[a]??a;s&&(r+=`-${s}`);const c=r.match(/\s|\//),d=n.match(/\s|\//);if(c||d){const m=[`Unable to register library "${r}" with version "${n}":`];c&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}bc(new ml(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",v1=1,pl="firebase-heartbeat-store";let Jf=null;function Lg(){return Jf||(Jf=NS(p1,v1,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(pl)}catch(s){console.warn(s)}}}}).catch(a=>{throw Ks.create("idb-open",{originalErrorMessage:a.message})})),Jf}async function g1(a){try{const s=(await Lg()).transaction(pl),r=await s.objectStore(pl).get(Dg(a));return await s.done,r}catch(n){if(n instanceof wl)$i.warn(n.message);else{const s=Ks.create("idb-get",{originalErrorMessage:n?.message});$i.warn(s.message)}}}async function Ev(a,n){try{const r=(await Lg()).transaction(pl,"readwrite");await r.objectStore(pl).put(n,Dg(a)),await r.done}catch(s){if(s instanceof wl)$i.warn(s.message);else{const r=Ks.create("idb-set",{originalErrorMessage:s?.message});$i.warn(r.message)}}}function Dg(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,b1=30;class S1{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new E1(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>b1){const c=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){$i.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:s,unsentEntries:r}=T1(this._heartbeatsCache.heartbeats),c=pc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return $i.warn(n),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function T1(a,n=y1){const s=[];let r=a.slice();for(const c of a){const d=s.find(m=>m.agent===c.agent);if(d){if(d.dates.push(c.date),wv(s)>n){d.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),wv(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class E1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await g1(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ev(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ev(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function wv(a){return pc(JSON.stringify({version:2,heartbeats:a})).length}function C1(a){if(a.length===0)return-1;let n=0,s=a[0].date;for(let r=1;r<a.length;r++)a[r].date<s&&(s=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a){bc(new ml("platform-logger",n=>new RS(n),"PRIVATE")),bc(new ml("heartbeat",n=>new S1(n),"PRIVATE")),ko(fd,Sv,a),ko(fd,Sv,"esm2020"),ko("fire-js","")}w1("");var A1="firebase",x1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(A1,x1,"app");var Av={};const xv="@firebase/database",Mv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg="";function M1(a){Rg=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),we(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:_l(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return es(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new O1(n)}}catch{}return new N1},ka=zg("localStorage"),L1=zg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new xg("@firebase/database"),D1=(function(){let a=1;return function(){return a++}})(),Pg=function(a){const n=dS(a),s=new fS;s.update(n);const r=s.digest();return Nd.encodeByteArray(r)},Al=function(...a){let n="";for(let s=0;s<a.length;s++){const r=a[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=Al.apply(null,r):typeof r=="object"?n+=we(r):n+=r,n+=" "}return n};let ul=null,Ov=!0;const R1=function(a,n){J(!0,"Can't turn on custom loggers persistently."),Ho.logLevel=ee.VERBOSE,ul=Ho.log.bind(Ho)},Qe=function(...a){if(Ov===!0&&(Ov=!1,ul===null&&L1.get("logging_enabled")===!0&&R1()),ul){const n=Al.apply(null,a);ul(n)}},xl=function(a){return function(...n){Qe(a,...n)}},md=function(...a){const n="FIREBASE INTERNAL ERROR: "+Al(...a);Ho.error(n)},ts=function(...a){const n=`FIREBASE FATAL ERROR: ${Al(...a)}`;throw Ho.error(n),new Error(n)},mn=function(...a){const n="FIREBASE WARNING: "+Al(...a);Ho.warn(n)},z1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bg=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},P1=function(a){if(document.readyState==="complete")a();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Yo="[MIN_NAME]",Ia="[MAX_NAME]",Vo=function(a,n){if(a===n)return 0;if(a===Yo||n===Ia)return-1;if(n===Yo||a===Ia)return 1;{const s=Nv(a),r=Nv(n);return s!==null?r!==null?s-r===0?a.length-n.length:s-r:-1:r!==null?1:a<n?-1:1}},B1=function(a,n){return a===n?0:a<n?-1:1},nl=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+we(n))},zd=function(a){if(typeof a!="object"||a===null)return we(a);const n=[];for(const r in a)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=we(n[r]),s+=":",s+=zd(a[n[r]]);return s+="}",s},kg=function(a,n){const s=a.length;if(s<=n)return[a];const r=[];for(let c=0;c<s;c+=n)c+n>s?r.push(a.substring(c,s)):r.push(a.substring(c,c+n));return r};function pn(a,n){for(const s in a)a.hasOwnProperty(s)&&n(s,a[s])}const Hg=function(a){J(!Bg(a),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let c,d,m,g,y;a===0?(d=0,m=0,c=1/a===-1/0?1:0):(c=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),r),d=g+r,m=Math.round(a*Math.pow(2,s-g)-Math.pow(2,s))):(d=0,m=Math.round(a/Math.pow(2,1-r-s))));const S=[];for(y=s;y;y-=1)S.push(m%2?1:0),m=Math.floor(m/2);for(y=n;y;y-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(c?1:0),S.reverse();const C=S.join("");let w="";for(y=0;y<64;y+=8){let A=parseInt(C.substr(y,8),2).toString(16);A.length===1&&(A="0"+A),w=w+A}return w.toLowerCase()},k1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},H1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function U1(a,n){let s="Unknown Error";a==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?s="Client doesn't have permission to access the desired data.":a==="unavailable"&&(s="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+s);return r.code=a.toUpperCase(),r}const I1=new RegExp("^-?(0*)\\d{1,10}$"),Z1=-2147483648,Y1=2147483647,Nv=function(a){if(I1.test(a)){const n=Number(a);if(n>=Z1&&n<=Y1)return n}return null},Wo=function(a){try{a()}catch(n){setTimeout(()=>{const s=n.stack||"";throw mn("Exception was thrown by user callback.",s),n},Math.floor(0))}},q1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cl=function(a,n){const s=setTimeout(a,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,h1(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){mn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(n)}}class mc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}mc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="5",Ug="v",Ig="s",Zg="r",Yg="f",qg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jg="ls",Gg="p",pd="ac",Xg="websocket",Vg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(n,s,r,c,d=!1,m="",g=!1,y=!1,S=null){this.secure=s,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=m,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=S,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ka.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ka.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function X1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Qg(a,n,s){J(typeof n=="string","typeof type must == string"),J(typeof s=="object","typeof params must == object");let r;if(n===Xg)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===Vg)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);X1(a)&&(s.ns=a.namespace);const c=[];return pn(s,(d,m)=>{c.push(d+"="+m)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.counters_={}}incrementCounter(n,s=1){es(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return Yb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f={},td={};function Bd(a){const n=a.toString();return $f[n]||($f[n]=new V1),$f[n]}function W1(a,n){const s=a.toString();return td[s]||(td[s]=n()),td[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&Wo(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="start",F1="close",K1="pLPCommand",J1="pRTLPCB",Fg="id",Kg="pw",Jg="ser",$1="cb",tT="seg",eT="ts",nT="d",iT="dframe",$g=1870,ty=30,sT=$g-ty,aT=25e3,oT=3e4;class Bo{constructor(n,s,r,c,d,m,g){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.transportSessionId=m,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(n),this.stats_=Bd(s),this.urlFn=y=>(this.appCheckToken&&(y[pd]=this.appCheckToken),Qg(s,Vg,y))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Q1(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oT)),P1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kd((...d)=>{const[m,g,y,S,C]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===Lv)this.id=g,this.password=y;else if(m===F1)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...d)=>{const[m,g]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(m,g)},()=>{this.onClosed_()},this.urlFn);const r={};r[Lv]="t",r[Jg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[$1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ug]=Pd,this.transportSessionId&&(r[Ig]=this.transportSessionId),this.lastSessionId&&(r[jg]=this.lastSessionId),this.applicationId&&(r[Gg]=this.applicationId),this.appCheckToken&&(r[pd]=this.appCheckToken),typeof location<"u"&&location.hostname&&qg.test(location.hostname)&&(r[Zg]=Yg);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return Bo.forceAllow_?!0:!Bo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!k1()&&!H1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=we(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=bg(s),c=kg(r,sT);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[iT]="t",r[Fg]=n,r[Kg]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=we(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class kd{constructor(n,s,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=D1(),window[K1+this.uniqueCallbackIdentifier]=n,window[J1+this.uniqueCallbackIdentifier]=s,this.myIFrame=kd.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(g){Qe("frame writing exception"),g.stack&&Qe(g.stack),Qe(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Fg]=this.myID,n[Kg]=this.myPW,n[Jg]=this.currentSerial;let s=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ty+r.length<=$g;){const m=this.pendingSegs.shift();r=r+"&"+tT+c+"="+m.seg+"&"+eT+c+"="+m.ts+"&"+nT+c+"="+m.d,c++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},c=setTimeout(r,Math.floor(aT)),d=()=>{clearTimeout(c),r()};this.addTag(n,d)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{Qe("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=16384,lT=45e3;let Sc=null;typeof MozWebSocket<"u"?Sc=MozWebSocket:typeof WebSocket<"u"&&(Sc=WebSocket);class ti{constructor(n,s,r,c,d,m,g){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Bd(s),this.connURL=ti.connectionURL_(s,m,g,c,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,c,d){const m={};return m[Ug]=Pd,typeof location<"u"&&location.hostname&&qg.test(location.hostname)&&(m[Zg]=Yg),s&&(m[Ig]=s),r&&(m[jg]=r),c&&(m[pd]=c),d&&(m[Gg]=d),Qg(n,Xg,m)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ka.set("previous_websocket_failure",!0);try{let r;iS(),this.mySock=new Sc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Sc!==null&&!ti.forceDisallow_}static previouslyFailed(){return ka.isInMemoryStorage||ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){ka.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=_l(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(J(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=we(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=kg(s,rT);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lT))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ti.responsesRequiredToBeHealthy=2;ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static get ALL_TRANSPORTS(){return[Bo,ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=ti&&ti.isAvailable();let r=s&&!ti.previouslyFailed();if(n.webSocketOnly&&(s||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ti];else{const c=this.transports_=[];for(const d of vl.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=6e4,cT=5e3,hT=10*1024,fT=100*1024,ed="t",Dv="d",dT="s",Rv="r",_T="e",zv="o",Pv="a",Bv="n",kv="p",mT="h";class pT{constructor(n,s,r,c,d,m,g,y,S,C){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=m,this.onReady_=g,this.onDisconnect_=y,this.onKill_=S,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new vl(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(ed in n){const s=n[ed];s===Pv?this.upgradeIfSecondaryHealthy_():s===Rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===zv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=nl("t",n),r=nl("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=nl("t",n),r=nl("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=nl(ed,n);if(Dv in n){const r=n[Dv];if(s===mT){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(s===Bv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===dT?this.onConnectionShutdown_(r):s===Rv?this.onReset_(r):s===_T?md("Server Error: "+r):s===zv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):md("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Pd!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uT))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{put(n,s,r,c){}merge(n,s,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(n){this.allowedEvents_=n,this.listeners_={},J(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const c=this.getInitialEvent(n);c&&s.apply(r,c)}off(n,s,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let d=0;d<c.length;d++)if(c[d].callback===s&&(!r||r===c[d].context)){c.splice(d,1);return}}validateEventType_(n){J(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends ny{static getInstance(){return new Tc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return J(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=32,Uv=768;class Vt{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Ut(){return new Vt("")}function Dt(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ea(a){return a.pieces_.length-a.pieceNum_}function ne(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Vt(a.pieces_,n)}function iy(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function vT(a){let n="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)a.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[s])));return n||"/"}function sy(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function ay(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)n.push(a.pieces_[s]);return new Vt(n,0)}function Ae(a,n){const s=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)s.push(a.pieces_[r]);if(n instanceof Vt)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&s.push(r[c])}return new Vt(s,0)}function Ot(a){return a.pieceNum_>=a.pieces_.length}function sn(a,n){const s=Dt(a),r=Dt(n);if(s===null)return n;if(s===r)return sn(ne(a),ne(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function oy(a,n){if(ea(a)!==ea(n))return!1;for(let s=a.pieceNum_,r=n.pieceNum_;s<=a.pieces_.length;s++,r++)if(a.pieces_[s]!==n.pieces_[r])return!1;return!0}function ei(a,n){let s=a.pieceNum_,r=n.pieceNum_;if(ea(a)>ea(n))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class gT{constructor(n,s){this.errorPrefix_=s,this.parts_=sy(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pc(this.parts_[r]);ry(this)}}function yT(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Pc(n),ry(a)}function bT(a){const n=a.parts_.pop();a.byteLength_-=Pc(n),a.parts_.length>0&&(a.byteLength_-=1)}function ry(a){if(a.byteLength_>Uv)throw new Error(a.errorPrefix_+"has a key path longer than "+Uv+" bytes ("+a.byteLength_+").");if(a.parts_.length>Hv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hv+") or object contains a cycle "+Ba(a))}function Ba(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends ny{static getInstance(){return new Hd}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return J(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=1e3,ST=300*1e3,Iv=30*1e3,TT=1.3,ET=3e4,CT="server_kill",Zv=3;class Ji extends ey{constructor(n,s,r,c,d,m,g,y){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=Ji.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=il,this.maxReconnectDelay_=ST,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Tc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const c=++this.requestNumber_,d={r:c,a:n,b:s};this.log_(we(d)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const s=new zc,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:m=>{const g=m.d;m.s==="ok"?s.resolve(g):s.reject(g)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),s.promise}listen(n,s,r,c){this.initConnection_();const d=n._queryIdentifier,m=n._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const g={onComplete:c,hashFn:s,query:n,tag:r};this.listens.get(m).set(d,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+r+" for "+c);const d={p:r},m="q";n.tag&&(d.q=s._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(m,d,g=>{const y=g.d,S=g.s;Ji.warnOnListenWarnings_(y,s),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",g),S!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(S,y))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&es(n,"w")){const r=Zo(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',d=s._path.toString();mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||cS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Iv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=uS(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,c=>{const d=c.s,m=c.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,s)}sendUnlisten_(n,s,r,c){this.log_("Unlisten on "+n+" for "+s);const d={p:n},m="n";c&&(d.q=r,d.t=c),this.sendRequest(m,d)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,c){const d={p:s,d:r};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(n,s,r,c){this.putInternal("p",n,s,r,c)}merge(n,s,r,c){this.putInternal("m",n,s,r,c)}putInternal(n,s,r,c,d){this.initConnection_();const m={p:s,d:r};d!==void 0&&(m.h=d),this.outstandingPuts_.push({action:n,request:m,onComplete:c}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,d=>{this.log_(s+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const d=r.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):md("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ET&&(this.reconnectDelay_=il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Ji.nextConnectionId_++,d=this.lastSessionId;let m=!1,g=null;const y=function(){g?g.close():(m=!0,r())},S=function(w){J(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(w)};this.realtime_={close:y,sendRequest:S};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,A]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);m?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=A&&A.token,g=new pT(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,k=>{mn(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(CT)},d))}catch(w){this.log_("Failed to get token: "+w),m||(this.repoInfo_.nodeAdmin&&mn(w),y())}}}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],pv(this.interruptReasons_)&&(this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(d=>zd(d)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,s){const r=new Vt(n).toString();let c;if(this.listens.has(r)){const d=this.listens.get(r);c=d.get(s),d.delete(s),d.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,s){Qe("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zv&&(this.reconnectDelay_=Iv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){Qe("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Rg.replace(/\./g,"-")]=1,Cg()?n["framework.cordova"]=1:nS()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Tc.getInstance().currentlyOnline();return pv(this.interruptReasons_)&&n}}Ji.nextPersistentConnectionId_=0;Ji.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new At(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new At(Yo,n),c=new At(Yo,s);return this.compare(r,c)!==0}minPost(){return At.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;class ly extends Bc{static get __EMPTY_NODE(){return hc}static set __EMPTY_NODE(n){hc=n}compare(n,s){return Vo(n.name,s.name)}isDefinedOn(n){throw Go("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return At.MIN}maxPost(){return new At(Ia,hc)}makePost(n,s){return J(typeof n=="string","KeyIndex indexValue must always be a string."),new At(n,hc)}toString(){return".key"}}const Uo=new ly;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(n,s,r,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let m=1;for(;!n.isEmpty();)if(n=n,m=s?r(n.key,s):1,c&&(m*=-1),m<0)this.isReverse_?n=n.left:n=n.right;else if(m===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Pe{constructor(n,s,r,c,d){this.key=n,this.value=s,this.color=r??Pe.RED,this.left=c??_n.EMPTY_NODE,this.right=d??_n.EMPTY_NODE}copy(n,s,r,c,d){return new Pe(n??this.key,s??this.value,r??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let c=this;const d=r(n,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(n,s,r),null):d===0?c=c.copy(null,s,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,s,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return _n.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,c;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return _n.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class wT{copy(n,s,r,c,d){return this}insert(n,s,r){return new Pe(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _n{constructor(n,s=_n.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new _n(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(n){return new _n(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,c=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new fc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new fc(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new fc(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new fc(this.root_,null,this.comparator_,!0,n)}}_n.EMPTY_NODE=new wT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(a,n){return Vo(a.name,n.name)}function Ud(a,n){return Vo(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;function xT(a){vd=a}const uy=function(a){return typeof a=="number"?"number:"+Hg(a):"string:"+a},cy=function(a){if(a.isLeafNode()){const n=a.val();J(typeof n=="string"||typeof n=="number"||typeof n=="object"&&es(n,".sv"),"Priority must be a string or number.")}else J(a===vd||a.isEmpty(),"priority of unexpected type.");J(a===vd||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;class ze{static set __childrenNodeConstructor(n){Yv=n}static get __childrenNodeConstructor(){return Yv}constructor(n,s=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ze(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ot(n)?this:Dt(n)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=Dt(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(J(r!==".priority"||ea(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uy(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=Hg(this.value_):n+=this.value_,this.lazyHash_=Pg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ze.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ze.__childrenNodeConstructor?-1:(J(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,c=ze.VALUE_TYPE_ORDER.indexOf(s),d=ze.VALUE_TYPE_ORDER.indexOf(r);return J(c>=0,"Unknown leaf type: "+s),J(d>=0,"Unknown leaf type: "+r),c===d?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy,fy;function MT(a){hy=a}function OT(a){fy=a}class NT extends Bc{compare(n,s){const r=n.node.getPriority(),c=s.node.getPriority(),d=r.compareTo(c);return d===0?Vo(n.name,s.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return At.MIN}maxPost(){return new At(Ia,new ze("[PRIORITY-POST]",fy))}makePost(n,s){const r=hy(n);return new At(s,new ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const pe=new NT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=Math.log(2);class DT{constructor(n){const s=d=>parseInt(Math.log(d)/LT,10),r=d=>parseInt(Array(d+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Ec=function(a,n,s,r){a.sort(n);const c=function(y,S){const C=S-y;let w,A;if(C===0)return null;if(C===1)return w=a[y],A=s?s(w):w,new Pe(A,w.node,Pe.BLACK,null,null);{const k=parseInt(C/2,10)+y,Y=c(y,k),V=c(k+1,S);return w=a[k],A=s?s(w):w,new Pe(A,w.node,Pe.BLACK,Y,V)}},d=function(y){let S=null,C=null,w=a.length;const A=function(Y,V){const et=w-Y,bt=w;w-=Y;const dt=c(et+1,bt),st=a[et],It=s?s(st):st;k(new Pe(It,st.node,V,null,dt))},k=function(Y){S?(S.left=Y,S=Y):(C=Y,S=Y)};for(let Y=0;Y<y.count;++Y){const V=y.nextBitIsOne(),et=Math.pow(2,y.count-(Y+1));V?A(et,Pe.BLACK):(A(et,Pe.BLACK),A(et,Pe.RED))}return C},m=new DT(a.length),g=d(m);return new _n(r||n,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;const Po={};class Ki{static get Default(){return J(Po&&pe,"ChildrenNode.ts has not been loaded"),nd=nd||new Ki({".priority":Po},{".priority":pe}),nd}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Zo(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof _n?s:null}hasIndex(n){return es(this.indexSet_,n.toString())}addIndex(n,s){J(n!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const d=s.getIterator(At.Wrap);let m=d.getNext();for(;m;)c=c||n.isDefinedOn(m.node),r.push(m),m=d.getNext();let g;c?g=Ec(r,n.getCompare()):g=Po;const y=n.toString(),S={...this.indexSet_};S[y]=n;const C={...this.indexes_};return C[y]=g,new Ki(C,S)}addToIndexes(n,s){const r=vc(this.indexes_,(c,d)=>{const m=Zo(this.indexSet_,d);if(J(m,"Missing index implementation for "+d),c===Po)if(m.isDefinedOn(n.node)){const g=[],y=s.getIterator(At.Wrap);let S=y.getNext();for(;S;)S.name!==n.name&&g.push(S),S=y.getNext();return g.push(n),Ec(g,m.getCompare())}else return Po;else{const g=s.get(n.name);let y=c;return g&&(y=y.remove(new At(n.name,g))),y.insert(n,n.node)}});return new Ki(r,this.indexSet_)}removeFromIndexes(n,s){const r=vc(this.indexes_,c=>{if(c===Po)return c;{const d=s.get(n.name);return d?c.remove(new At(n.name,d)):c}});return new Ki(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;class pt{static get EMPTY_NODE(){return sl||(sl=new pt(new _n(Ud),null,Ki.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cy(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sl}updatePriority(n){return this.children_.isEmpty()?this:new pt(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?sl:s}}getChild(n){const s=Dt(n);return s===null?this:this.getImmediateChild(s).getChild(ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(J(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new At(n,s);let c,d;s.isEmpty()?(c=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,s),d=this.indexMap_.addToIndexes(r,this.children_));const m=c.isEmpty()?sl:this.priorityNode_;return new pt(c,m,d)}}updateChild(n,s){const r=Dt(n);if(r===null)return s;{J(Dt(n)!==".priority"||ea(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(ne(n),s);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,c=0,d=!0;if(this.forEachChild(pe,(m,g)=>{s[m]=g.val(n),r++,d&&pt.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):d=!1}),!n&&d&&c<2*r){const m=[];for(const g in s)m[g]=s[g];return m}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uy(this.getPriority().val())+":"),this.forEachChild(pe,(s,r)=>{const c=r.hash();c!==""&&(n+=":"+s+":"+c)}),this.lazyHash_=n===""?"":Pg(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const c=this.resolveIndex_(r);if(c){const d=c.getPredecessorKey(new At(n,s));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new At(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new At(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,At.Wrap);let d=c.peek();for(;d!=null&&s.compare(d,n)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,At.Wrap);let d=c.peek();for(;d!=null&&s.compare(d,n)>0;)c.getNext(),d=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ml?-1:0}withIndex(n){if(n===Uo||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new pt(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Uo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(pe),c=s.getIterator(pe);let d=r.getNext(),m=c.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=r.getNext(),m=c.getNext()}return d===null&&m===null}else return!1;else return!1}}resolveIndex_(n){return n===Uo?null:this.indexMap_.get(n.toString())}}pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RT extends pt{constructor(){super(new _n(Ud),pt.EMPTY_NODE,Ki.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return pt.EMPTY_NODE}isEmpty(){return!1}}const Ml=new RT;Object.defineProperties(At,{MIN:{value:new At(Yo,pt.EMPTY_NODE)},MAX:{value:new At(Ia,Ml)}});ly.__EMPTY_NODE=pt.EMPTY_NODE;ze.__childrenNodeConstructor=pt;xT(Ml);OT(Ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=!0;function Be(a,n=null){if(a===null)return pt.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),J(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const s=a;return new ze(s,Be(n))}if(!(a instanceof Array)&&zT){const s=[];let r=!1;if(pn(a,(m,g)=>{if(m.substring(0,1)!=="."){const y=Be(g);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),s.push(new At(m,y)))}}),s.length===0)return pt.EMPTY_NODE;const d=Ec(s,AT,m=>m.name,Ud);if(r){const m=Ec(s,pe.getCompare());return new pt(d,Be(n),new Ki({".priority":m},{".priority":pe}))}else return new pt(d,Be(n),Ki.Default)}else{let s=pt.EMPTY_NODE;return pn(a,(r,c)=>{if(es(a,r)&&r.substring(0,1)!=="."){const d=Be(c);(d.isLeafNode()||!d.isEmpty())&&(s=s.updateImmediateChild(r,d))}}),s.updatePriority(Be(n))}}MT(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Bc{constructor(n){super(),this.indexPath_=n,J(!Ot(n)&&Dt(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),c=this.extractChild(s.node),d=r.compareTo(c);return d===0?Vo(n.name,s.name):d}makePost(n,s){const r=Be(n),c=pt.EMPTY_NODE.updateChild(this.indexPath_,r);return new At(s,c)}maxPost(){const n=pt.EMPTY_NODE.updateChild(this.indexPath_,Ml);return new At(Ia,n)}toString(){return sy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Bc{compare(n,s){const r=n.node.compareTo(s.node);return r===0?Vo(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(n,s){const r=Be(n);return new At(s,r)}toString(){return".value"}}const kT=new BT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(a){return{type:"value",snapshotNode:a}}function qo(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function gl(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function yl(a,n,s){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:s}}function HT(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(n){this.index_=n}updateChild(n,s,r,c,d,m){J(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(s);return g.getChild(c).equals(r.getChild(c))&&g.isEmpty()===r.isEmpty()||(m!=null&&(r.isEmpty()?n.hasChild(s)?m.trackChildChange(gl(s,g)):J(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?m.trackChildChange(qo(s,r)):m.trackChildChange(yl(s,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(pe,(c,d)=>{s.hasChild(c)||r.trackChildChange(gl(c,d))}),s.isLeafNode()||s.forEachChild(pe,(c,d)=>{if(n.hasChild(c)){const m=n.getImmediateChild(c);m.equals(d)||r.trackChildChange(yl(c,d,m))}else r.trackChildChange(qo(c,d))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?pt.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(n){this.indexedFilter_=new Id(n.getIndex()),this.index_=n.getIndex(),this.startPost_=bl.getStartPost_(n),this.endPost_=bl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,c,d,m){return this.matches(new At(s,r))||(r=pt.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,c,d,m)}updateFullNode(n,s,r){s.isLeafNode()&&(s=pt.EMPTY_NODE);let c=s.withIndex(this.index_);c=c.updatePriority(pt.EMPTY_NODE);const d=this;return s.forEachChild(pe,(m,g)=>{d.matches(new At(m,g))||(c=c.updateImmediateChild(m,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new bl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,c,d,m){return this.rangedFilter_.matches(new At(s,r))||(r=pt.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,c,d,m):this.fullLimitUpdateChild_(n,s,r,d,m)}updateFullNode(n,s,r){let c;if(s.isLeafNode()||s.isEmpty())c=pt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){c=pt.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;d.hasNext()&&m<this.limit_;){const g=d.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))c=c.updateImmediateChild(g.name,g.node),m++;else break;else continue}}else{c=s.withIndex(this.index_),c=c.updatePriority(pt.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let m=0;for(;d.hasNext();){const g=d.getNext();m<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?m++:c=c.updateImmediateChild(g.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,c,d){let m;if(this.reverse_){const w=this.index_.getCompare();m=(A,k)=>w(k,A)}else m=this.index_.getCompare();const g=n;J(g.numChildren()===this.limit_,"");const y=new At(s,r),S=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),C=this.rangedFilter_.matches(y);if(g.hasChild(s)){const w=g.getImmediateChild(s);let A=c.getChildAfterChild(this.index_,S,this.reverse_);for(;A!=null&&(A.name===s||g.hasChild(A.name));)A=c.getChildAfterChild(this.index_,A,this.reverse_);const k=A==null?1:m(A,y);if(C&&!r.isEmpty()&&k>=0)return d?.trackChildChange(yl(s,r,w)),g.updateImmediateChild(s,r);{d?.trackChildChange(gl(s,w));const V=g.updateImmediateChild(s,pt.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(d?.trackChildChange(qo(A.name,A.node)),V.updateImmediateChild(A.name,A.node)):V}}else return r.isEmpty()?n:C&&m(S,y)>=0?(d!=null&&(d.trackChildChange(gl(S.name,S.node)),d.trackChildChange(qo(s,r))),g.updateImmediateChild(s,r).updateImmediateChild(S.name,pt.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yo}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const n=new Zd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function IT(a){return a.loadsAllData()?new Id(a.getIndex()):a.hasLimit()?new UT(a):new bl(a)}function qv(a){const n={};if(a.isDefault())return n;let s;if(a.index_===pe?s="$priority":a.index_===kT?s="$value":a.index_===Uo?s="$key":(J(a.index_ instanceof PT,"Unrecognized index type!"),s=a.index_.toString()),n.orderBy=we(s),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=we(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+we(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=we(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+we(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function jv(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let s=a.viewFrom_;s===""&&(a.isViewFromLeft()?s="l":s="r"),n.vf=s}return a.index_!==pe&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends ey{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(J(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=xl("p:rest:"),this.listens_={}}listen(n,s,r,c){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const m=Cc.getListenId_(n,r),g={};this.listens_[m]=g;const y=qv(n._queryParams);this.restRequest_(d+".json",y,(S,C)=>{let w=C;if(S===404&&(w=null,S=null),S===null&&this.onDataUpdate_(d,w,!1,r),Zo(this.listens_,m)===g){let A;S?S===401?A="permission_denied":A="rest_error:"+S:A="ok",c(A,null)}})}unlisten(n,s){const r=Cc.getListenId_(n,s);delete this.listens_[r]}get(n){const s=qv(n._queryParams),r=n._path.toString(),c=new zc;return this.restRequest_(r+".json",s,(d,m)=>{let g=m;d===404&&(g=null,d=null),d===null?(this.onDataUpdate_(r,g,!1,null),c.resolve(g)):c.reject(new Error(g))}),c.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(s.auth=c.accessToken),d&&d.token&&(s.ac=d.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+hS(s);this.log_("Sending REST request for "+m);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&g.readyState===4){this.log_("REST Response for "+m+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=_l(g.responseText)}catch{mn("Failed to parse JSON response for "+m+": "+g.responseText)}r(null,y)}else g.status!==401&&g.status!==404&&mn("Got unsuccessful REST response for "+m+" Status: "+g.status),r(g.status);r=null}},g.open("GET",m,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(){return{value:null,children:new Map}}function _y(a,n,s){if(Ot(n))a.value=s,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,s);else{const r=Dt(n);a.children.has(r)||a.children.set(r,wc());const c=a.children.get(r);n=ne(n),_y(c,n,s)}}function gd(a,n,s){a.value!==null?s(n,a.value):YT(a,(r,c)=>{const d=new Vt(n.toString()+"/"+r);gd(c,d,s)})}function YT(a,n){a.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&pn(this.last_,(r,c)=>{s[r]=s[r]-c}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=10*1e3,jT=30*1e3,GT=300*1e3;class XT{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new qT(n);const r=Gv+(jT-Gv)*Math.random();cl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;pn(n,(c,d)=>{d>0&&es(this.statsToReport_,c)&&(s[c]=d,r=!0)}),r&&this.server_.reportStats(s),cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*GT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function my(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qd(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source=my()}operationForChild(n){if(Ot(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Vt(n));return new Ac(Ut(),s,this.revert)}}else return J(Dt(this.path)===n,"operationForChild called for unrelated child."),new Ac(ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(n,s){this.source=n,this.path=s,this.type=ni.LISTEN_COMPLETE}operationForChild(n){return Ot(this.path)?new Sl(this.source,Ut()):new Sl(this.source,ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=ni.OVERWRITE}operationForChild(n){return Ot(this.path)?new Za(this.source,Ut(),this.snap.getImmediateChild(n)):new Za(this.source,ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=ni.MERGE}operationForChild(n){if(Ot(this.path)){const s=this.children.subtree(new Vt(n));return s.isEmpty()?null:s.value?new Za(this.source,Ut(),s.value):new Tl(this.source,Ut(),s)}else return J(Dt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Tl(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ot(n))return this.isFullyInitialized()&&!this.filtered_;const s=Dt(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function WT(a,n,s,r){const c=[],d=[];return n.forEach(m=>{m.type==="child_changed"&&a.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&d.push(HT(m.childName,m.snapshotNode))}),al(a,c,"child_removed",n,r,s),al(a,c,"child_added",n,r,s),al(a,c,"child_moved",d,r,s),al(a,c,"child_changed",n,r,s),al(a,c,"value",n,r,s),c}function al(a,n,s,r,c,d){const m=r.filter(g=>g.type===s);m.sort((g,y)=>FT(a,g,y)),m.forEach(g=>{const y=QT(a,g,d);c.forEach(S=>{S.respondsTo(g.type)&&n.push(S.createEvent(y,a.query_))})})}function QT(a,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function FT(a,n,s){if(n.childName==null||s.childName==null)throw Go("Should only compare child_ events.");const r=new At(n.childName,n.snapshotNode),c=new At(s.childName,s.snapshotNode);return a.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(a,n){return{eventCache:a,serverCache:n}}function hl(a,n,s,r){return kc(new na(n,s,r),a.serverCache)}function py(a,n,s,r){return kc(a.eventCache,new na(n,s,r))}function xc(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Ya(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;const KT=()=>(id||(id=new _n(B1)),id);class se{static fromObject(n){let s=new se(null);return pn(n,(r,c)=>{s=s.set(new Vt(r),c)}),s}constructor(n,s=KT()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Ut(),value:this.value};if(Ot(n))return null;{const r=Dt(n),c=this.children.get(r);if(c!==null){const d=c.findRootMostMatchingPathAndValue(ne(n),s);return d!=null?{path:Ae(new Vt(r),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ot(n))return this;{const s=Dt(n),r=this.children.get(s);return r!==null?r.subtree(ne(n)):new se(null)}}set(n,s){if(Ot(n))return new se(s,this.children);{const r=Dt(n),d=(this.children.get(r)||new se(null)).set(ne(n),s),m=this.children.insert(r,d);return new se(this.value,m)}}remove(n){if(Ot(n))return this.children.isEmpty()?new se(null):new se(null,this.children);{const s=Dt(n),r=this.children.get(s);if(r){const c=r.remove(ne(n));let d;return c.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,c),this.value===null&&d.isEmpty()?new se(null):new se(this.value,d)}else return this}}get(n){if(Ot(n))return this.value;{const s=Dt(n),r=this.children.get(s);return r?r.get(ne(n)):null}}setTree(n,s){if(Ot(n))return s;{const r=Dt(n),d=(this.children.get(r)||new se(null)).setTree(ne(n),s);let m;return d.isEmpty()?m=this.children.remove(r):m=this.children.insert(r,d),new se(this.value,m)}}fold(n){return this.fold_(Ut(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((c,d)=>{r[c]=d.fold_(Ae(n,c),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,Ut(),s)}findOnPath_(n,s,r){const c=this.value?r(s,this.value):!1;if(c)return c;if(Ot(n))return null;{const d=Dt(n),m=this.children.get(d);return m?m.findOnPath_(ne(n),Ae(s,d),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Ut(),s)}foreachOnPath_(n,s,r){if(Ot(n))return this;{this.value&&r(s,this.value);const c=Dt(n),d=this.children.get(c);return d?d.foreachOnPath_(ne(n),Ae(s,c),r):new se(null)}}foreach(n){this.foreach_(Ut(),n)}foreach_(n,s){this.children.inorderTraversal((r,c)=>{c.foreach_(Ae(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(n){this.writeTree_=n}static empty(){return new ii(new se(null))}}function fl(a,n,s){if(Ot(n))return new ii(new se(s));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let d=r.value;const m=sn(c,n);return d=d.updateChild(m,s),new ii(a.writeTree_.set(c,d))}else{const c=new se(s),d=a.writeTree_.setTree(n,c);return new ii(d)}}}function Xv(a,n,s){let r=a;return pn(s,(c,d)=>{r=fl(r,Ae(n,c),d)}),r}function Vv(a,n){if(Ot(n))return ii.empty();{const s=a.writeTree_.setTree(n,new se(null));return new ii(s)}}function yd(a,n){return qa(a,n)!=null}function qa(a,n){const s=a.writeTree_.findRootMostValueAndPath(n);return s!=null?a.writeTree_.get(s.path).getChild(sn(s.path,n)):null}function Wv(a){const n=[],s=a.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(pe,(r,c)=>{n.push(new At(r,c))}):a.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new At(r,c.value))}),n}function Js(a,n){if(Ot(n))return a;{const s=qa(a,n);return s!=null?new ii(new se(s)):new ii(a.writeTree_.subtree(n))}}function bd(a){return a.writeTree_.isEmpty()}function jo(a,n){return vy(Ut(),a.writeTree_,n)}function vy(a,n,s){if(n.value!=null)return s.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((c,d)=>{c===".priority"?(J(d.value!==null,"Priority writes must always be leaf nodes"),r=d.value):s=vy(Ae(a,c),d,s)}),!s.getChild(a).isEmpty()&&r!==null&&(s=s.updateChild(Ae(a,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(a,n){return Sy(n,a)}function JT(a,n,s,r,c){J(r>a.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),a.allWrites.push({path:n,snap:s,writeId:r,visible:c}),c&&(a.visibleWrites=fl(a.visibleWrites,n,s)),a.lastWriteId=r}function $T(a,n){for(let s=0;s<a.allWrites.length;s++){const r=a.allWrites[s];if(r.writeId===n)return r}return null}function tE(a,n){const s=a.allWrites.findIndex(g=>g.writeId===n);J(s>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[s];a.allWrites.splice(s,1);let c=r.visible,d=!1,m=a.allWrites.length-1;for(;c&&m>=0;){const g=a.allWrites[m];g.visible&&(m>=s&&eE(g,r.path)?c=!1:ei(r.path,g.path)&&(d=!0)),m--}if(c){if(d)return nE(a),!0;if(r.snap)a.visibleWrites=Vv(a.visibleWrites,r.path);else{const g=r.children;pn(g,y=>{a.visibleWrites=Vv(a.visibleWrites,Ae(r.path,y))})}return!0}else return!1}function eE(a,n){if(a.snap)return ei(a.path,n);for(const s in a.children)if(a.children.hasOwnProperty(s)&&ei(Ae(a.path,s),n))return!0;return!1}function nE(a){a.visibleWrites=gy(a.allWrites,iE,Ut()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function iE(a){return a.visible}function gy(a,n,s){let r=ii.empty();for(let c=0;c<a.length;++c){const d=a[c];if(n(d)){const m=d.path;let g;if(d.snap)ei(s,m)?(g=sn(s,m),r=fl(r,g,d.snap)):ei(m,s)&&(g=sn(m,s),r=fl(r,Ut(),d.snap.getChild(g)));else if(d.children){if(ei(s,m))g=sn(s,m),r=Xv(r,g,d.children);else if(ei(m,s))if(g=sn(m,s),Ot(g))r=Xv(r,Ut(),d.children);else{const y=Zo(d.children,Dt(g));if(y){const S=y.getChild(ne(g));r=fl(r,Ut(),S)}}}else throw Go("WriteRecord should have .snap or .children")}}return r}function yy(a,n,s,r,c){if(!r&&!c){const d=qa(a.visibleWrites,n);if(d!=null)return d;{const m=Js(a.visibleWrites,n);if(bd(m))return s;if(s==null&&!yd(m,Ut()))return null;{const g=s||pt.EMPTY_NODE;return jo(m,g)}}}else{const d=Js(a.visibleWrites,n);if(!c&&bd(d))return s;if(!c&&s==null&&!yd(d,Ut()))return null;{const m=function(S){return(S.visible||c)&&(!r||!~r.indexOf(S.writeId))&&(ei(S.path,n)||ei(n,S.path))},g=gy(a.allWrites,m,n),y=s||pt.EMPTY_NODE;return jo(g,y)}}}function sE(a,n,s){let r=pt.EMPTY_NODE;const c=qa(a.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(pe,(d,m)=>{r=r.updateImmediateChild(d,m)}),r;if(s){const d=Js(a.visibleWrites,n);return s.forEachChild(pe,(m,g)=>{const y=jo(Js(d,new Vt(m)),g);r=r.updateImmediateChild(m,y)}),Wv(d).forEach(m=>{r=r.updateImmediateChild(m.name,m.node)}),r}else{const d=Js(a.visibleWrites,n);return Wv(d).forEach(m=>{r=r.updateImmediateChild(m.name,m.node)}),r}}function aE(a,n,s,r,c){J(r||c,"Either existingEventSnap or existingServerSnap must exist");const d=Ae(n,s);if(yd(a.visibleWrites,d))return null;{const m=Js(a.visibleWrites,d);return bd(m)?c.getChild(s):jo(m,c.getChild(s))}}function oE(a,n,s,r){const c=Ae(n,s),d=qa(a.visibleWrites,c);if(d!=null)return d;if(r.isCompleteForChild(s)){const m=Js(a.visibleWrites,c);return jo(m,r.getNode().getImmediateChild(s))}else return null}function rE(a,n){return qa(a.visibleWrites,n)}function lE(a,n,s,r,c,d,m){let g;const y=Js(a.visibleWrites,n),S=qa(y,Ut());if(S!=null)g=S;else if(s!=null)g=jo(y,s);else return[];if(g=g.withIndex(m),!g.isEmpty()&&!g.isLeafNode()){const C=[],w=m.getCompare(),A=d?g.getReverseIteratorFrom(r,m):g.getIteratorFrom(r,m);let k=A.getNext();for(;k&&C.length<c;)w(k,r)!==0&&C.push(k),k=A.getNext();return C}else return[]}function uE(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function Mc(a,n,s,r){return yy(a.writeTree,a.treePath,n,s,r)}function jd(a,n){return sE(a.writeTree,a.treePath,n)}function Qv(a,n,s,r){return aE(a.writeTree,a.treePath,n,s,r)}function Oc(a,n){return rE(a.writeTree,Ae(a.treePath,n))}function cE(a,n,s,r,c,d){return lE(a.writeTree,a.treePath,n,s,r,c,d)}function Gd(a,n,s){return oE(a.writeTree,a.treePath,n,s)}function by(a,n){return Sy(Ae(a.treePath,n),a.writeTree)}function Sy(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;J(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),J(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const d=c.type;if(s==="child_added"&&d==="child_removed")this.changeMap.set(r,yl(r,n.snapshotNode,c.snapshotNode));else if(s==="child_removed"&&d==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&d==="child_changed")this.changeMap.set(r,gl(r,c.oldSnap));else if(s==="child_changed"&&d==="child_added")this.changeMap.set(r,qo(r,n.snapshotNode));else if(s==="child_changed"&&d==="child_changed")this.changeMap.set(r,yl(r,n.snapshotNode,c.oldSnap));else throw Go("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const Ty=new fE;class Xd{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gd(this.writes_,n,r)}}getChildAfterChild(n,s,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ya(this.viewCache_),d=cE(this.writes_,c,s,1,r,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(a){return{filter:a}}function _E(a,n){J(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),J(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function mE(a,n,s,r,c){const d=new hE;let m,g;if(s.type===ni.OVERWRITE){const S=s;S.source.fromUser?m=Sd(a,n,S.path,S.snap,r,c,d):(J(S.source.fromServer,"Unknown source."),g=S.source.tagged||n.serverCache.isFiltered()&&!Ot(S.path),m=Nc(a,n,S.path,S.snap,r,c,g,d))}else if(s.type===ni.MERGE){const S=s;S.source.fromUser?m=vE(a,n,S.path,S.children,r,c,d):(J(S.source.fromServer,"Unknown source."),g=S.source.tagged||n.serverCache.isFiltered(),m=Td(a,n,S.path,S.children,r,c,g,d))}else if(s.type===ni.ACK_USER_WRITE){const S=s;S.revert?m=bE(a,n,S.path,r,c,d):m=gE(a,n,S.path,S.affectedTree,r,c,d)}else if(s.type===ni.LISTEN_COMPLETE)m=yE(a,n,s.path,r,d);else throw Go("Unknown operation type: "+s.type);const y=d.getChanges();return pE(n,m,y),{viewCache:m,changes:y}}function pE(a,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),d=xc(a);(s.length>0||!a.eventCache.isFullyInitialized()||c&&!r.getNode().equals(d)||!r.getNode().getPriority().equals(d.getPriority()))&&s.push(dy(xc(n)))}}function Ey(a,n,s,r,c,d){const m=n.eventCache;if(Oc(r,s)!=null)return n;{let g,y;if(Ot(s))if(J(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const S=Ya(n),C=S instanceof pt?S:pt.EMPTY_NODE,w=jd(r,C);g=a.filter.updateFullNode(n.eventCache.getNode(),w,d)}else{const S=Mc(r,Ya(n));g=a.filter.updateFullNode(n.eventCache.getNode(),S,d)}else{const S=Dt(s);if(S===".priority"){J(ea(s)===1,"Can't have a priority with additional path components");const C=m.getNode();y=n.serverCache.getNode();const w=Qv(r,s,C,y);w!=null?g=a.filter.updatePriority(C,w):g=m.getNode()}else{const C=ne(s);let w;if(m.isCompleteForChild(S)){y=n.serverCache.getNode();const A=Qv(r,s,m.getNode(),y);A!=null?w=m.getNode().getImmediateChild(S).updateChild(C,A):w=m.getNode().getImmediateChild(S)}else w=Gd(r,S,n.serverCache);w!=null?g=a.filter.updateChild(m.getNode(),S,w,C,c,d):g=m.getNode()}}return hl(n,g,m.isFullyInitialized()||Ot(s),a.filter.filtersNodes())}}function Nc(a,n,s,r,c,d,m,g){const y=n.serverCache;let S;const C=m?a.filter:a.filter.getIndexedFilter();if(Ot(s))S=C.updateFullNode(y.getNode(),r,null);else if(C.filtersNodes()&&!y.isFiltered()){const k=y.getNode().updateChild(s,r);S=C.updateFullNode(y.getNode(),k,null)}else{const k=Dt(s);if(!y.isCompleteForPath(s)&&ea(s)>1)return n;const Y=ne(s),et=y.getNode().getImmediateChild(k).updateChild(Y,r);k===".priority"?S=C.updatePriority(y.getNode(),et):S=C.updateChild(y.getNode(),k,et,Y,Ty,null)}const w=py(n,S,y.isFullyInitialized()||Ot(s),C.filtersNodes()),A=new Xd(c,w,d);return Ey(a,w,s,c,A,g)}function Sd(a,n,s,r,c,d,m){const g=n.eventCache;let y,S;const C=new Xd(c,n,d);if(Ot(s))S=a.filter.updateFullNode(n.eventCache.getNode(),r,m),y=hl(n,S,!0,a.filter.filtersNodes());else{const w=Dt(s);if(w===".priority")S=a.filter.updatePriority(n.eventCache.getNode(),r),y=hl(n,S,g.isFullyInitialized(),g.isFiltered());else{const A=ne(s),k=g.getNode().getImmediateChild(w);let Y;if(Ot(A))Y=r;else{const V=C.getCompleteChild(w);V!=null?iy(A)===".priority"&&V.getChild(ay(A)).isEmpty()?Y=V:Y=V.updateChild(A,r):Y=pt.EMPTY_NODE}if(k.equals(Y))y=n;else{const V=a.filter.updateChild(g.getNode(),w,Y,A,C,m);y=hl(n,V,g.isFullyInitialized(),a.filter.filtersNodes())}}}return y}function Fv(a,n){return a.eventCache.isCompleteForChild(n)}function vE(a,n,s,r,c,d,m){let g=n;return r.foreach((y,S)=>{const C=Ae(s,y);Fv(n,Dt(C))&&(g=Sd(a,g,C,S,c,d,m))}),r.foreach((y,S)=>{const C=Ae(s,y);Fv(n,Dt(C))||(g=Sd(a,g,C,S,c,d,m))}),g}function Kv(a,n,s){return s.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function Td(a,n,s,r,c,d,m,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y=n,S;Ot(s)?S=r:S=new se(null).setTree(s,r);const C=n.serverCache.getNode();return S.children.inorderTraversal((w,A)=>{if(C.hasChild(w)){const k=n.serverCache.getNode().getImmediateChild(w),Y=Kv(a,k,A);y=Nc(a,y,new Vt(w),Y,c,d,m,g)}}),S.children.inorderTraversal((w,A)=>{const k=!n.serverCache.isCompleteForChild(w)&&A.value===null;if(!C.hasChild(w)&&!k){const Y=n.serverCache.getNode().getImmediateChild(w),V=Kv(a,Y,A);y=Nc(a,y,new Vt(w),V,c,d,m,g)}}),y}function gE(a,n,s,r,c,d,m){if(Oc(c,s)!=null)return n;const g=n.serverCache.isFiltered(),y=n.serverCache;if(r.value!=null){if(Ot(s)&&y.isFullyInitialized()||y.isCompleteForPath(s))return Nc(a,n,s,y.getNode().getChild(s),c,d,g,m);if(Ot(s)){let S=new se(null);return y.getNode().forEachChild(Uo,(C,w)=>{S=S.set(new Vt(C),w)}),Td(a,n,s,S,c,d,g,m)}else return n}else{let S=new se(null);return r.foreach((C,w)=>{const A=Ae(s,C);y.isCompleteForPath(A)&&(S=S.set(C,y.getNode().getChild(A)))}),Td(a,n,s,S,c,d,g,m)}}function yE(a,n,s,r,c){const d=n.serverCache,m=py(n,d.getNode(),d.isFullyInitialized()||Ot(s),d.isFiltered());return Ey(a,m,s,r,Ty,c)}function bE(a,n,s,r,c,d){let m;if(Oc(r,s)!=null)return n;{const g=new Xd(r,n,c),y=n.eventCache.getNode();let S;if(Ot(s)||Dt(s)===".priority"){let C;if(n.serverCache.isFullyInitialized())C=Mc(r,Ya(n));else{const w=n.serverCache.getNode();J(w instanceof pt,"serverChildren would be complete if leaf node"),C=jd(r,w)}C=C,S=a.filter.updateFullNode(y,C,d)}else{const C=Dt(s);let w=Gd(r,C,n.serverCache);w==null&&n.serverCache.isCompleteForChild(C)&&(w=y.getImmediateChild(C)),w!=null?S=a.filter.updateChild(y,C,w,ne(s),g,d):n.eventCache.getNode().hasChild(C)?S=a.filter.updateChild(y,C,pt.EMPTY_NODE,ne(s),g,d):S=y,S.isEmpty()&&n.serverCache.isFullyInitialized()&&(m=Mc(r,Ya(n)),m.isLeafNode()&&(S=a.filter.updateFullNode(S,m,d)))}return m=n.serverCache.isFullyInitialized()||Oc(r,Ut())!=null,hl(n,S,m,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new Id(r.getIndex()),d=IT(r);this.processor_=dE(d);const m=s.serverCache,g=s.eventCache,y=c.updateFullNode(pt.EMPTY_NODE,m.getNode(),null),S=d.updateFullNode(pt.EMPTY_NODE,g.getNode(),null),C=new na(y,m.isFullyInitialized(),c.filtersNodes()),w=new na(S,g.isFullyInitialized(),d.filtersNodes());this.viewCache_=kc(w,C),this.eventGenerator_=new VT(this.query_)}get query(){return this.query_}}function TE(a){return a.viewCache_.serverCache.getNode()}function EE(a){return xc(a.viewCache_)}function CE(a,n){const s=Ya(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!Ot(n)&&!s.getImmediateChild(Dt(n)).isEmpty())?s.getChild(n):null}function Jv(a){return a.eventRegistrations_.length===0}function wE(a,n){a.eventRegistrations_.push(n)}function $v(a,n,s){const r=[];if(s){J(n==null,"A cancel should cancel all event registrations.");const c=a.query._path;a.eventRegistrations_.forEach(d=>{const m=d.createCancelEvent(s,c);m&&r.push(m)})}if(n){let c=[];for(let d=0;d<a.eventRegistrations_.length;++d){const m=a.eventRegistrations_[d];if(!m.matches(n))c.push(m);else if(n.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(d+1));break}}a.eventRegistrations_=c}else a.eventRegistrations_=[];return r}function tg(a,n,s,r){n.type===ni.MERGE&&n.source.queryId!==null&&(J(Ya(a.viewCache_),"We should always have a full cache before handling merges"),J(xc(a.viewCache_),"Missing event cache, even though we have a server cache"));const c=a.viewCache_,d=mE(a.processor_,c,n,s,r);return _E(a.processor_,d.viewCache),J(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=d.viewCache,Cy(a,d.changes,d.viewCache.eventCache.getNode(),null)}function AE(a,n){const s=a.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(pe,(d,m)=>{r.push(qo(d,m))}),s.isFullyInitialized()&&r.push(dy(s.getNode())),Cy(a,r,s.getNode(),n)}function Cy(a,n,s,r){const c=r?[r]:a.eventRegistrations_;return WT(a.eventGenerator_,n,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;class wy{constructor(){this.views=new Map}}function xE(a){J(!Lc,"__referenceConstructor has already been defined"),Lc=a}function ME(){return J(Lc,"Reference.ts has not been loaded"),Lc}function OE(a){return a.views.size===0}function Vd(a,n,s,r){const c=n.source.queryId;if(c!==null){const d=a.views.get(c);return J(d!=null,"SyncTree gave us an op for an invalid query."),tg(d,n,s,r)}else{let d=[];for(const m of a.views.values())d=d.concat(tg(m,n,s,r));return d}}function Ay(a,n,s,r,c){const d=n._queryIdentifier,m=a.views.get(d);if(!m){let g=Mc(s,c?r:null),y=!1;g?y=!0:r instanceof pt?(g=jd(s,r),y=!1):(g=pt.EMPTY_NODE,y=!1);const S=kc(new na(g,y,!1),new na(r,c,!1));return new SE(n,S)}return m}function NE(a,n,s,r,c,d){const m=Ay(a,n,r,c,d);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,m),wE(m,s),AE(m,s)}function LE(a,n,s,r){const c=n._queryIdentifier,d=[];let m=[];const g=ia(a);if(c==="default")for(const[y,S]of a.views.entries())m=m.concat($v(S,s,r)),Jv(S)&&(a.views.delete(y),S.query._queryParams.loadsAllData()||d.push(S.query));else{const y=a.views.get(c);y&&(m=m.concat($v(y,s,r)),Jv(y)&&(a.views.delete(c),y.query._queryParams.loadsAllData()||d.push(y.query)))}return g&&!ia(a)&&d.push(new(ME())(n._repo,n._path)),{removed:d,events:m}}function xy(a){const n=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function $s(a,n){let s=null;for(const r of a.views.values())s=s||CE(r,n);return s}function My(a,n){if(n._queryParams.loadsAllData())return Uc(a);{const r=n._queryIdentifier;return a.views.get(r)}}function Oy(a,n){return My(a,n)!=null}function ia(a){return Uc(a)!=null}function Uc(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;function DE(a){J(!Dc,"__referenceConstructor has already been defined"),Dc=a}function RE(){return J(Dc,"Reference.ts has not been loaded"),Dc}let zE=1;class eg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new se(null),this.pendingWriteTree_=uE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ny(a,n,s,r,c){return JT(a.pendingWriteTree_,n,s,r,c),c?Nl(a,new Za(my(),n,s)):[]}function Ha(a,n,s=!1){const r=$T(a.pendingWriteTree_,n);if(tE(a.pendingWriteTree_,n)){let d=new se(null);return r.snap!=null?d=d.set(Ut(),!0):pn(r.children,m=>{d=d.set(new Vt(m),!0)}),Nl(a,new Ac(r.path,d,s))}else return[]}function Ol(a,n,s){return Nl(a,new Za(Yd(),n,s))}function PE(a,n,s){const r=se.fromObject(s);return Nl(a,new Tl(Yd(),n,r))}function BE(a,n){return Nl(a,new Sl(Yd(),n))}function kE(a,n,s){const r=Qd(a,s);if(r){const c=Fd(r),d=c.path,m=c.queryId,g=sn(d,n),y=new Sl(qd(m),g);return Kd(a,d,y)}else return[]}function Ly(a,n,s,r,c=!1){const d=n._path,m=a.syncPointTree_.get(d);let g=[];if(m&&(n._queryIdentifier==="default"||Oy(m,n))){const y=LE(m,n,s,r);OE(m)&&(a.syncPointTree_=a.syncPointTree_.remove(d));const S=y.removed;if(g=y.events,!c){const C=S.findIndex(A=>A._queryParams.loadsAllData())!==-1,w=a.syncPointTree_.findOnPath(d,(A,k)=>ia(k));if(C&&!w){const A=a.syncPointTree_.subtree(d);if(!A.isEmpty()){const k=ZE(A);for(let Y=0;Y<k.length;++Y){const V=k[Y],et=V.query,bt=Py(a,V);a.listenProvider_.startListening(dl(et),El(a,et),bt.hashFn,bt.onComplete)}}}!w&&S.length>0&&!r&&(C?a.listenProvider_.stopListening(dl(n),null):S.forEach(A=>{const k=a.queryToTagMap.get(Ic(A));a.listenProvider_.stopListening(dl(A),k)}))}YE(a,S)}return g}function Dy(a,n,s,r){const c=Qd(a,r);if(c!=null){const d=Fd(c),m=d.path,g=d.queryId,y=sn(m,n),S=new Za(qd(g),y,s);return Kd(a,m,S)}else return[]}function HE(a,n,s,r){const c=Qd(a,r);if(c){const d=Fd(c),m=d.path,g=d.queryId,y=sn(m,n),S=se.fromObject(s),C=new Tl(qd(g),y,S);return Kd(a,m,C)}else return[]}function UE(a,n,s,r=!1){const c=n._path;let d=null,m=!1;a.syncPointTree_.foreachOnPath(c,(A,k)=>{const Y=sn(A,c);d=d||$s(k,Y),m=m||ia(k)});let g=a.syncPointTree_.get(c);g?(m=m||ia(g),d=d||$s(g,Ut())):(g=new wy,a.syncPointTree_=a.syncPointTree_.set(c,g));let y;d!=null?y=!0:(y=!1,d=pt.EMPTY_NODE,a.syncPointTree_.subtree(c).foreachChild((k,Y)=>{const V=$s(Y,Ut());V&&(d=d.updateImmediateChild(k,V))}));const S=Oy(g,n);if(!S&&!n._queryParams.loadsAllData()){const A=Ic(n);J(!a.queryToTagMap.has(A),"View does not exist, but we have a tag");const k=qE();a.queryToTagMap.set(A,k),a.tagToQueryMap.set(k,A)}const C=Hc(a.pendingWriteTree_,c);let w=NE(g,n,s,C,d,y);if(!S&&!m&&!r){const A=My(g,n);w=w.concat(jE(a,n,A))}return w}function Wd(a,n,s){const c=a.pendingWriteTree_,d=a.syncPointTree_.findOnPath(n,(m,g)=>{const y=sn(m,n),S=$s(g,y);if(S)return S});return yy(c,n,d,s,!0)}function IE(a,n){const s=n._path;let r=null;a.syncPointTree_.foreachOnPath(s,(S,C)=>{const w=sn(S,s);r=r||$s(C,w)});let c=a.syncPointTree_.get(s);c?r=r||$s(c,Ut()):(c=new wy,a.syncPointTree_=a.syncPointTree_.set(s,c));const d=r!=null,m=d?new na(r,!0,!1):null,g=Hc(a.pendingWriteTree_,n._path),y=Ay(c,n,g,d?m.getNode():pt.EMPTY_NODE,d);return EE(y)}function Nl(a,n){return Ry(n,a.syncPointTree_,null,Hc(a.pendingWriteTree_,Ut()))}function Ry(a,n,s,r){if(Ot(a.path))return zy(a,n,s,r);{const c=n.get(Ut());s==null&&c!=null&&(s=$s(c,Ut()));let d=[];const m=Dt(a.path),g=a.operationForChild(m),y=n.children.get(m);if(y&&g){const S=s?s.getImmediateChild(m):null,C=by(r,m);d=d.concat(Ry(g,y,S,C))}return c&&(d=d.concat(Vd(c,a,r,s))),d}}function zy(a,n,s,r){const c=n.get(Ut());s==null&&c!=null&&(s=$s(c,Ut()));let d=[];return n.children.inorderTraversal((m,g)=>{const y=s?s.getImmediateChild(m):null,S=by(r,m),C=a.operationForChild(m);C&&(d=d.concat(zy(C,g,y,S)))}),c&&(d=d.concat(Vd(c,a,r,s))),d}function Py(a,n){const s=n.query,r=El(a,s);return{hashFn:()=>(TE(n)||pt.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?kE(a,s._path,r):BE(a,s._path);{const d=U1(c,s);return Ly(a,s,null,d)}}}}function El(a,n){const s=Ic(n);return a.queryToTagMap.get(s)}function Ic(a){return a._path.toString()+"$"+a._queryIdentifier}function Qd(a,n){return a.tagToQueryMap.get(n)}function Fd(a){const n=a.indexOf("$");return J(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Vt(a.substr(0,n))}}function Kd(a,n,s){const r=a.syncPointTree_.get(n);J(r,"Missing sync point for query tag that we're tracking");const c=Hc(a.pendingWriteTree_,n);return Vd(r,s,c,null)}function ZE(a){return a.fold((n,s,r)=>{if(s&&ia(s))return[Uc(s)];{let c=[];return s&&(c=xy(s)),pn(r,(d,m)=>{c=c.concat(m)}),c}})}function dl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(RE())(a._repo,a._path):a}function YE(a,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const c=Ic(r),d=a.queryToTagMap.get(c);a.queryToTagMap.delete(c),a.tagToQueryMap.delete(d)}}}function qE(){return zE++}function jE(a,n,s){const r=n._path,c=El(a,n),d=Py(a,s),m=a.listenProvider_.startListening(dl(n),c,d.hashFn,d.onComplete),g=a.syncPointTree_.subtree(r);if(c)J(!ia(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((S,C,w)=>{if(!Ot(S)&&C&&ia(C))return[Uc(C).query];{let A=[];return C&&(A=A.concat(xy(C).map(k=>k.query))),pn(w,(k,Y)=>{A=A.concat(Y)}),A}});for(let S=0;S<y.length;++S){const C=y[S];a.listenProvider_.stopListening(dl(C),El(a,C))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Jd(s)}node(){return this.node_}}class $d{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=Ae(this.path_,n);return new $d(this.syncTree_,s)}node(){return Wd(this.syncTree_,this.path_)}}const GE=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},ng=function(a,n,s){if(!a||typeof a!="object")return a;if(J(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return XE(a[".sv"],n,s);if(typeof a[".sv"]=="object")return VE(a[".sv"],n);J(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},XE=function(a,n,s){switch(a){case"timestamp":return s.timestamp;default:J(!1,"Unexpected server value: "+a)}},VE=function(a,n,s){a.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&J(!1,"Unexpected increment value: "+r);const c=n.node();if(J(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const m=c.getValue();return typeof m!="number"?r:m+r},WE=function(a,n,s,r){return t_(n,new $d(s,a),r)},By=function(a,n,s){return t_(a,new Jd(n),s)};function t_(a,n,s){const r=a.getPriority().val(),c=ng(r,n.getImmediateChild(".priority"),s);let d;if(a.isLeafNode()){const m=a,g=ng(m.getValue(),n,s);return g!==m.getValue()||c!==m.getPriority().val()?new ze(g,Be(c)):a}else{const m=a;return d=m,c!==m.getPriority().val()&&(d=d.updatePriority(new ze(c))),m.forEachChild(pe,(g,y)=>{const S=t_(y,n.getImmediateChild(g),s);S!==y&&(d=d.updateImmediateChild(g,S))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function n_(a,n){let s=n instanceof Vt?n:new Vt(n),r=a,c=Dt(s);for(;c!==null;){const d=Zo(r.node.children,c)||{children:{},childCount:0};r=new e_(c,r,d),s=ne(s),c=Dt(s)}return r}function Qo(a){return a.node.value}function ky(a,n){a.node.value=n,Ed(a)}function Hy(a){return a.node.childCount>0}function QE(a){return Qo(a)===void 0&&!Hy(a)}function Zc(a,n){pn(a.node.children,(s,r)=>{n(new e_(s,a,r))})}function Uy(a,n,s,r){s&&n(a),Zc(a,c=>{Uy(c,n,!0)})}function FE(a,n,s){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Ll(a){return new Vt(a.parent===null?a.name:Ll(a.parent)+"/"+a.name)}function Ed(a){a.parent!==null&&KE(a.parent,a.name,a)}function KE(a,n,s){const r=QE(s),c=es(a.node.children,n);r&&c?(delete a.node.children[n],a.node.childCount--,Ed(a)):!r&&!c&&(a.node.children[n]=s.node,a.node.childCount++,Ed(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=/[\[\].#$\/\u0000-\u001F\u007F]/,$E=/[\[\].#$\u0000-\u001F\u007F]/,sd=10*1024*1024,Iy=function(a){return typeof a=="string"&&a.length!==0&&!JE.test(a)},Zy=function(a){return typeof a=="string"&&a.length!==0&&!$E.test(a)},tC=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Zy(a)},eC=function(a,n,s,r){i_(Dd(a,"value"),n,s)},i_=function(a,n,s){const r=s instanceof Vt?new gT(s,a):s;if(n===void 0)throw new Error(a+"contains undefined "+Ba(r));if(typeof n=="function")throw new Error(a+"contains a function "+Ba(r)+" with contents = "+n.toString());if(Bg(n))throw new Error(a+"contains "+n.toString()+" "+Ba(r));if(typeof n=="string"&&n.length>sd/3&&Pc(n)>sd)throw new Error(a+"contains a string greater than "+sd+" utf8 bytes "+Ba(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,d=!1;if(pn(n,(m,g)=>{if(m===".value")c=!0;else if(m!==".priority"&&m!==".sv"&&(d=!0,!Iy(m)))throw new Error(a+" contains an invalid key ("+m+") "+Ba(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yT(r,m),i_(a,g,r),bT(r)}),c&&d)throw new Error(a+' contains ".value" child '+Ba(r)+" in addition to actual children.")}},Yy=function(a,n,s,r){if(!Zy(s))throw new Error(Dd(a,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nC=function(a,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Yy(a,n,s)},iC=function(a,n){if(Dt(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},sC=function(a,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Iy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!tC(s))throw new Error(Dd(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qy(a,n){let s=null;for(let r=0;r<n.length;r++){const c=n[r],d=c.getPath();s!==null&&!oy(d,s.path)&&(a.eventLists_.push(s),s=null),s===null&&(s={events:[],path:d}),s.events.push(c)}s&&a.eventLists_.push(s)}function bi(a,n,s){qy(a,s),oC(a,r=>ei(r,n)||ei(n,r))}function oC(a,n){a.recursionDepth_++;let s=!0;for(let r=0;r<a.eventLists_.length;r++){const c=a.eventLists_[r];if(c){const d=c.path;n(d)?(rC(a.eventLists_[r]),a.eventLists_[r]=null):s=!1}}s&&(a.eventLists_=[]),a.recursionDepth_--}function rC(a){for(let n=0;n<a.events.length;n++){const s=a.events[n];if(s!==null){a.events[n]=null;const r=s.getEventRunner();ul&&Qe("event: "+s.toString()),Wo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="repo_interrupt",uC=25;class cC{constructor(n,s,r,c){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wc(),this.transactionQueueTree_=new e_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hC(a,n,s){if(a.stats_=Bd(a.repoInfo_),a.forceRestClient_||q1())a.server_=new Cc(a.repoInfo_,(r,c,d,m)=>{ig(a,r,c,d,m)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>sg(a,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Ji(a.repoInfo_,n,(r,c,d,m)=>{ig(a,r,c,d,m)},r=>{sg(a,r)},r=>{dC(a,r)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=W1(a.repoInfo_,()=>new XT(a.stats_,a.server_)),a.infoData_=new ZT,a.infoSyncTree_=new eg({startListening:(r,c,d,m)=>{let g=[];const y=a.infoData_.getNode(r._path);return y.isEmpty()||(g=Ol(a.infoSyncTree_,r._path,y),setTimeout(()=>{m("ok")},0)),g},stopListening:()=>{}}),a_(a,"connected",!1),a.serverSyncTree_=new eg({startListening:(r,c,d,m)=>(a.server_.listen(r,d,c,(g,y)=>{const S=m(g,y);bi(a.eventQueue_,r._path,S)}),[]),stopListening:(r,c)=>{a.server_.unlisten(r,c)}})}function fC(a){const s=a.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function s_(a){return GE({timestamp:fC(a)})}function ig(a,n,s,r,c){a.dataUpdateCount++;const d=new Vt(n);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,s):s;let m=[];if(c)if(r){const y=vc(s,S=>Be(S));m=HE(a.serverSyncTree_,d,y,c)}else{const y=Be(s);m=Dy(a.serverSyncTree_,d,y,c)}else if(r){const y=vc(s,S=>Be(S));m=PE(a.serverSyncTree_,d,y)}else{const y=Be(s);m=Ol(a.serverSyncTree_,d,y)}let g=d;m.length>0&&(g=qc(a,d)),bi(a.eventQueue_,g,m)}function sg(a,n){a_(a,"connected",n),n===!1&&pC(a)}function dC(a,n){pn(n,(s,r)=>{a_(a,s,r)})}function a_(a,n,s){const r=new Vt("/.info/"+n),c=Be(s);a.infoData_.updateSnapshot(r,c);const d=Ol(a.infoSyncTree_,r,c);bi(a.eventQueue_,r,d)}function jy(a){return a.nextWriteId_++}function _C(a,n,s){const r=IE(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(c=>{const d=Be(c).withIndex(n._queryParams.getIndex());UE(a.serverSyncTree_,n,s,!0);let m;if(n._queryParams.loadsAllData())m=Ol(a.serverSyncTree_,n._path,d);else{const g=El(a.serverSyncTree_,n);m=Dy(a.serverSyncTree_,n._path,d,g)}return bi(a.eventQueue_,n._path,m),Ly(a.serverSyncTree_,n,s,null,!0),d},c=>(Yc(a,"get for query "+we(n)+" failed: "+c),Promise.reject(new Error(c))))}function mC(a,n,s,r,c){Yc(a,"set",{path:n.toString(),value:s,priority:r});const d=s_(a),m=Be(s,r),g=Wd(a.serverSyncTree_,n),y=By(m,g,d),S=jy(a),C=Ny(a.serverSyncTree_,n,y,S,!0);qy(a.eventQueue_,C),a.server_.put(n.toString(),m.val(!0),(A,k)=>{const Y=A==="ok";Y||mn("set at "+n+" failed: "+A);const V=Ha(a.serverSyncTree_,S,!Y);bi(a.eventQueue_,n,V),gC(a,c,A,k)});const w=Qy(a,n);qc(a,w),bi(a.eventQueue_,w,[])}function pC(a){Yc(a,"onDisconnectEvents");const n=s_(a),s=wc();gd(a.onDisconnect_,Ut(),(c,d)=>{const m=WE(c,d,a.serverSyncTree_,n);_y(s,c,m)});let r=[];gd(s,Ut(),(c,d)=>{r=r.concat(Ol(a.serverSyncTree_,c,d));const m=Qy(a,c);qc(a,m)}),a.onDisconnect_=wc(),bi(a.eventQueue_,Ut(),r)}function vC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(lC)}function Yc(a,...n){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),Qe(s,...n)}function gC(a,n,s,r){n&&Wo(()=>{if(s==="ok")n(null);else{const c=(s||"error").toUpperCase();let d=c;r&&(d+=": "+r);const m=new Error(d);m.code=c,n(m)}})}function Gy(a,n,s){return Wd(a.serverSyncTree_,n,s)||pt.EMPTY_NODE}function o_(a,n=a.transactionQueueTree_){if(n||jc(a,n),Qo(n)){const s=Vy(a,n);J(s.length>0,"Sending zero length transaction queue"),s.every(c=>c.status===0)&&yC(a,Ll(n),s)}else Hy(n)&&Zc(n,s=>{o_(a,s)})}function yC(a,n,s){const r=s.map(S=>S.currentWriteId),c=Gy(a,n,r);let d=c;const m=c.hash();for(let S=0;S<s.length;S++){const C=s[S];J(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const w=sn(n,C.path);d=d.updateChild(w,C.currentOutputSnapshotRaw)}const g=d.val(!0),y=n;a.server_.put(y.toString(),g,S=>{Yc(a,"transaction put response",{path:y.toString(),status:S});let C=[];if(S==="ok"){const w=[];for(let A=0;A<s.length;A++)s[A].status=2,C=C.concat(Ha(a.serverSyncTree_,s[A].currentWriteId)),s[A].onComplete&&w.push(()=>s[A].onComplete(null,!0,s[A].currentOutputSnapshotResolved)),s[A].unwatcher();jc(a,n_(a.transactionQueueTree_,n)),o_(a,a.transactionQueueTree_),bi(a.eventQueue_,n,C);for(let A=0;A<w.length;A++)Wo(w[A])}else{if(S==="datastale")for(let w=0;w<s.length;w++)s[w].status===3?s[w].status=4:s[w].status=0;else{mn("transaction at "+y.toString()+" failed: "+S);for(let w=0;w<s.length;w++)s[w].status=4,s[w].abortReason=S}qc(a,n)}},m)}function qc(a,n){const s=Xy(a,n),r=Ll(s),c=Vy(a,s);return bC(a,c,r),r}function bC(a,n,s){if(n.length===0)return;const r=[];let c=[];const m=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const y=n[g],S=sn(s,y.path);let C=!1,w;if(J(S!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)C=!0,w=y.abortReason,c=c.concat(Ha(a.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=uC)C=!0,w="maxretry",c=c.concat(Ha(a.serverSyncTree_,y.currentWriteId,!0));else{const A=Gy(a,y.path,m);y.currentInputSnapshot=A;const k=n[g].update(A.val());if(k!==void 0){i_("transaction failed: Data returned ",k,y.path);let Y=Be(k);typeof k=="object"&&k!=null&&es(k,".priority")||(Y=Y.updatePriority(A.getPriority()));const et=y.currentWriteId,bt=s_(a),dt=By(Y,A,bt);y.currentOutputSnapshotRaw=Y,y.currentOutputSnapshotResolved=dt,y.currentWriteId=jy(a),m.splice(m.indexOf(et),1),c=c.concat(Ny(a.serverSyncTree_,y.path,dt,y.currentWriteId,y.applyLocally)),c=c.concat(Ha(a.serverSyncTree_,et,!0))}else C=!0,w="nodata",c=c.concat(Ha(a.serverSyncTree_,y.currentWriteId,!0))}bi(a.eventQueue_,s,c),c=[],C&&(n[g].status=2,(function(A){setTimeout(A,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(w==="nodata"?r.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):r.push(()=>n[g].onComplete(new Error(w),!1,null))))}jc(a,a.transactionQueueTree_);for(let g=0;g<r.length;g++)Wo(r[g]);o_(a,a.transactionQueueTree_)}function Xy(a,n){let s,r=a.transactionQueueTree_;for(s=Dt(n);s!==null&&Qo(r)===void 0;)r=n_(r,s),n=ne(n),s=Dt(n);return r}function Vy(a,n){const s=[];return Wy(a,n,s),s.sort((r,c)=>r.order-c.order),s}function Wy(a,n,s){const r=Qo(n);if(r)for(let c=0;c<r.length;c++)s.push(r[c]);Zc(n,c=>{Wy(a,c,s)})}function jc(a,n){const s=Qo(n);if(s){let r=0;for(let c=0;c<s.length;c++)s[c].status!==2&&(s[r]=s[c],r++);s.length=r,ky(n,s.length>0?s:void 0)}Zc(n,r=>{jc(a,r)})}function Qy(a,n){const s=Ll(Xy(a,n)),r=n_(a.transactionQueueTree_,n);return FE(r,c=>{ad(a,c)}),ad(a,r),Uy(r,c=>{ad(a,c)}),s}function ad(a,n){const s=Qo(n);if(s){const r=[];let c=[],d=-1;for(let m=0;m<s.length;m++)s[m].status===3||(s[m].status===1?(J(d===m-1,"All SENT items should be at beginning of queue."),d=m,s[m].status=3,s[m].abortReason="set"):(J(s[m].status===0,"Unexpected transaction status in abort"),s[m].unwatcher(),c=c.concat(Ha(a.serverSyncTree_,s[m].currentWriteId,!0)),s[m].onComplete&&r.push(s[m].onComplete.bind(null,new Error("set"),!1,null))));d===-1?ky(n,void 0):s.length=d+1,bi(a.eventQueue_,Ll(n),c);for(let m=0;m<r.length;m++)Wo(r[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(a){let n="";const s=a.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let c=s[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function TC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const s of a.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mn(`Invalid query segment '${s}' in query '${a}'`)}return n}const ag=function(a,n){const s=EC(a),r=s.namespace;s.domain==="firebase.com"&&ts(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||z1();const c=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Wg(s.host,s.secure,r,c,n,"",r!==s.subdomain),path:new Vt(s.pathString)}},EC=function(a){let n="",s="",r="",c="",d="",m=!0,g="https",y=443;if(typeof a=="string"){let S=a.indexOf("//");S>=0&&(g=a.substring(0,S-1),a=a.substring(S+2));let C=a.indexOf("/");C===-1&&(C=a.length);let w=a.indexOf("?");w===-1&&(w=a.length),n=a.substring(0,Math.min(C,w)),C<w&&(c=SC(a.substring(C,w)));const A=TC(a.substring(Math.min(a.length,w)));S=n.indexOf(":"),S>=0?(m=g==="https"||g==="wss",y=parseInt(n.substring(S+1),10)):S=n.length;const k=n.slice(0,S);if(k.toLowerCase()==="localhost")s="localhost";else if(k.split(".").length<=2)s=k;else{const Y=n.indexOf(".");r=n.substring(0,Y).toLowerCase(),s=n.substring(Y+1),d=r}"ns"in A&&(d=A.ns)}return{host:n,port:y,domain:s,subdomain:r,secure:m,scheme:g,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(n,s,r,c){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}}class wC{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(n,s,r,c){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=c}get key(){return Ot(this._path)?null:iy(this._path)}get ref(){return new ns(this._repo,this._path)}get _queryIdentifier(){const n=jv(this._queryParams),s=zd(n);return s==="{}"?"default":s}get _queryObject(){return jv(this._queryParams)}isEqual(n){if(n=Xo(n),!(n instanceof r_))return!1;const s=this._repo===n._repo,r=oy(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return s&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+vT(this._path)}}class ns extends r_{constructor(n,s){super(n,s,new Zd,!1)}get parent(){const n=ay(this._path);return n===null?null:new ns(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Cl{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Vt(n),r=Rc(this.ref,n);return new Cl(this._node.getChild(s),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new Cl(c,Rc(this.ref,r),pe)))}hasChild(n){const s=new Vt(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fy(a,n){return a=Xo(a),a._checkNotDeleted("ref"),n!==void 0?Rc(a._root,n):a._root}function Rc(a,n){return a=Xo(a),Dt(a._path)===null?nC("child","path",n):Yy("child","path",n),new ns(a._repo,Ae(a._path,n))}function xC(a,n){a=Xo(a),iC("set",a._path),eC("set",n,a._path);const s=new zc;return mC(a._repo,a._path,n,null,s.wrapCallback(()=>{})),s.promise}function MC(a){a=Xo(a);const n=new AC(()=>{}),s=new l_(n);return _C(a._repo,a,s).then(r=>new Cl(r,new ns(a._repo,a._path),a._queryParams.getIndex()))}class l_{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new CC("value",this,new Cl(n.snapshotNode,new ns(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new wC(this,n,s):null}matches(n){return n instanceof l_?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}xE(ns);DE(ns);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="FIREBASE_DATABASE_EMULATOR_HOST",Cd={};let NC=!1;function LC(a,n,s,r){const c=n.lastIndexOf(":"),d=n.substring(0,c),m=Ld(d);a.repoInfo_=new Wg(n,m,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(a.authTokenProvider_=r)}function DC(a,n,s,r,c){let d=r||a.options.databaseURL;d===void 0&&(a.options.projectId||ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",a.options.projectId),d=`${a.options.projectId}-default-rtdb.firebaseio.com`);let m=ag(d,c),g=m.repoInfo,y;typeof process<"u"&&Av&&(y=Av[OC]),y?(d=`http://${y}?ns=${g.namespace}`,m=ag(d,c),g=m.repoInfo):m.repoInfo.secure;const S=new G1(a.name,a.options,n);sC("Invalid Firebase Database URL",m),Ot(m.path)||ts("Database URL must point to the root of a Firebase Database (not including a child path).");const C=zC(g,a,S,new j1(a,s));return new PC(C,a)}function RC(a,n){const s=Cd[n];(!s||s[a.key]!==a)&&ts(`Database ${n}(${a.repoInfo_}) has already been deleted.`),vC(a),delete s[a.key]}function zC(a,n,s,r){let c=Cd[n.name];c||(c={},Cd[n.name]=c);let d=c[a.toURLString()];return d&&ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new cC(a,NC,s,r),c[a.toURLString()]=d,d}class PC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ns(this._repo,Ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ts("Cannot call "+n+" on a deleted database.")}}function BC(a=m1(),n){const s=c1(a,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=Qb("database");r&&kC(s,...r)}return s}function kC(a,n,s,r={}){a=Xo(a),a._checkNotDeleted("useEmulator");const c=`${n}:${s}`,d=a._repoInternal;if(a._instanceStarted){if(c===a._repoInternal.repoInfo_.host&&gc(r,d.repoInfo_.emulatorOptions))return;ts("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(d.repoInfo_.nodeAdmin)r.mockUserToken&&ts('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new mc(mc.OWNER);else if(r.mockUserToken){const g=typeof r.mockUserToken=="string"?r.mockUserToken:Kb(r.mockUserToken,a.app.options.projectId);m=new mc(g)}Ld(n)&&(Fb(n),tS("Database",!0)),LC(d,c,r,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(a){M1(_1),bc(new ml("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return DC(r,c,d,s)},"PUBLIC").setMultipleInstances(!0)),ko(xv,Mv,a),ko(xv,Mv,"esm2020")}Ji.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Ji.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};HC();const UC={apiKey:"AIzaSyAxxocdjMi0CkRYSwNlfa2chCE653Cqat8",authDomain:"yatai-now-test01.firebaseapp.com",databaseURL:"https://yatai-now-test01-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"yatai-now-test01",storageBucket:"yatai-now-test01.firebasestorage.app",messagingSenderId:"585308141782",appId:"1:585308141782:web:4c1c1cbe228720dca2b177"},IC=Ng(UC),Ky=BC(IC);function ZC(){const a=new Date,n=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),c=String(a.getHours()).padStart(2,"0"),d=String(a.getMinutes()).padStart(2,"0"),m=String(a.getSeconds()).padStart(2,"0");return`${n}${s}${r}_${c}${d}${m}`}function YC(a,n,s,r,c){const d=ZC();return xC(Fy(Ky,`${a}/${d}`),{lat:n,lng:s,name:r,description:c})}async function qC(a){const n=await MC(Rc(Fy(Ky),a));return n.exists()?Object.values(n.val()):[]}function jC({onNavigate:a}){return Q.jsxs("div",{className:"screen event-select-screen",children:[Q.jsx("div",{className:"title-container",children:Q.jsx("h1",{children:""})}),Q.jsx("button",{className:"btn event-button",onClick:()=>a("map0"),children:"LeafMap (id:0)"}),Q.jsx("br",{}),Q.jsx("button",{className:"btn event-button",onClick:()=>a("map1"),children:"LeafMap (id:1)"}),Q.jsx("br",{}),Q.jsx("button",{className:"btn event-button",onClick:()=>a("debug"),children:"VectorMap (noDB)"})]})}var In=function(a,n){return Number(a.toFixed(n))},GC=function(a,n){return n},le=function(a,n,s){s&&typeof s=="function"&&s(a,n)},XC=function(a){return-Math.cos(a*Math.PI)/2+.5},VC=function(a){return a},WC=function(a){return a*a},QC=function(a){return a*(2-a)},FC=function(a){return a<.5?2*a*a:-1+(4-2*a)*a},KC=function(a){return a*a*a},JC=function(a){return--a*a*a+1},$C=function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},tw=function(a){return a*a*a*a},ew=function(a){return 1- --a*a*a*a},nw=function(a){return a<.5?8*a*a*a*a:1-8*--a*a*a*a},iw=function(a){return a*a*a*a*a},sw=function(a){return 1+--a*a*a*a*a},aw=function(a){return a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a},Jy={easeOut:XC,linear:VC,easeInQuad:WC,easeOutQuad:QC,easeInOutQuad:FC,easeInCubic:KC,easeOutCubic:JC,easeInOutCubic:$C,easeInQuart:tw,easeOutQuart:ew,easeInOutQuart:nw,easeInQuint:iw,easeOutQuint:sw,easeInOutQuint:aw},$y=function(a){typeof a=="number"&&cancelAnimationFrame(a)},$n=function(a){a.mounted&&($y(a.animation),a.animate=!1,a.animation=null,a.velocity=null)};function t0(a,n,s,r){if(a.mounted){var c=new Date().getTime(),d=1;$n(a),a.animation=function(){if(!a.mounted)return $y(a.animation);var m=new Date().getTime()-c,g=m/s,y=Jy[n],S=y(g);m>=s?(r(d),a.animation=null):a.animation&&(r(S),requestAnimationFrame(a.animation))},requestAnimationFrame(a.animation)}}function ow(a){var n=a.scale,s=a.positionX,r=a.positionY;return!(Number.isNaN(n)||Number.isNaN(s)||Number.isNaN(r))}function aa(a,n,s,r){var c=ow(n);if(!(!a.mounted||!c)){var d=a.setTransformState,m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY,C=n.scale-g,w=n.positionX-y,A=n.positionY-S;s===0?d(n.scale,n.positionX,n.positionY):t0(a,r,s,function(k){var Y=g+C*k,V=y+w*k,et=S+A*k;d(Y,V,et)})}}function rw(a,n,s){var r=a.offsetWidth,c=a.offsetHeight,d=n.offsetWidth,m=n.offsetHeight,g=d*s,y=m*s,S=r-g,C=c-y;return{wrapperWidth:r,wrapperHeight:c,newContentWidth:g,newDiffWidth:S,newContentHeight:y,newDiffHeight:C}}var lw=function(a,n,s,r,c,d,m){var g=a>n?s*(m?1:.5):0,y=r>c?d*(m?1:.5):0,S=a-n-g,C=g,w=r-c-y,A=y;return{minPositionX:S,maxPositionX:C,minPositionY:w,maxPositionY:A}},u_=function(a,n){var s=a.wrapperComponent,r=a.contentComponent,c=a.setup.centerZoomedOut;if(!s||!r)throw new Error("Components are not mounted");var d=rw(s,r,n),m=d.wrapperWidth,g=d.wrapperHeight,y=d.newContentWidth,S=d.newDiffWidth,C=d.newContentHeight,w=d.newDiffHeight,A=lw(m,y,S,g,C,w,!!c);return A},wd=function(a,n,s,r){return r?a<n?In(n,2):a>s?In(s,2):In(a,2):In(a,2)},Ua=function(a,n){var s=u_(a,n);return a.bounds=s,s};function Dl(a,n,s,r,c,d,m){var g=s.minPositionX,y=s.minPositionY,S=s.maxPositionX,C=s.maxPositionY,w=0,A=0;m&&(w=c,A=d);var k=wd(a,g-w,S+w,r),Y=wd(n,y-A,C+A,r);return{x:k,y:Y}}function Gc(a,n,s,r,c,d){var m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY,C=r-g;if(typeof n!="number"||typeof s!="number")return console.error("Mouse X and Y position were not provided!"),{x:y,y:S};var w=y-n*C,A=S-s*C,k=Dl(w,A,c,d,0,0,null);return k}function Rl(a,n,s,r,c){var d=c?r:0,m=n-d;return!Number.isNaN(s)&&a>=s?s:!Number.isNaN(n)&&a<=m?m:a}var og=function(a,n){var s=a.setup.panning.excluded,r=a.isInitialized,c=a.wrapperComponent,d=n.target,m="shadowRoot"in d&&"composedPath"in n,g=m?n.composedPath().some(function(C){return C instanceof Element?c?.contains(C):!1}):c?.contains(d),y=r&&d&&g;if(!y)return!1;var S=Xc(d,s);return!S},rg=function(a){var n=a.isInitialized,s=a.isPanning,r=a.setup,c=r.panning.disabled,d=n&&s&&!c;return!!d},uw=function(a,n){var s=a.transformState,r=s.positionX,c=s.positionY;a.isPanning=!0;var d=n.clientX,m=n.clientY;a.startCoords={x:d-r,y:m-c}},cw=function(a,n){var s=n.touches,r=a.transformState,c=r.positionX,d=r.positionY;a.isPanning=!0;var m=s.length===1;if(m){var g=s[0].clientX,y=s[0].clientY;a.startCoords={x:g-c,y:y-d}}};function hw(a){var n=a.transformState,s=n.positionX,r=n.positionY,c=n.scale,d=a.setup,m=d.disabled,g=d.limitToBounds,y=d.centerZoomedOut,S=a.wrapperComponent;if(!(m||!S||!a.bounds)){var C=a.bounds,w=C.maxPositionX,A=C.minPositionX,k=C.maxPositionY,Y=C.minPositionY,V=s>w||s<A,et=r>k||r<Y,bt=s>w?S.offsetWidth:a.setup.minPositionX||0,dt=r>k?S.offsetHeight:a.setup.minPositionY||0,st=Gc(a,bt,dt,c,a.bounds,g||y),It=st.x,ft=st.y;return{scale:c,positionX:V?It:s,positionY:et?ft:r}}}function e0(a,n,s,r,c){var d=a.setup.limitToBounds,m=a.wrapperComponent,g=a.bounds,y=a.transformState,S=y.scale,C=y.positionX,w=y.positionY;if(!(m===null||g===null||n===C&&s===w)){var A=Dl(n,s,g,d,r,c,m),k=A.x,Y=A.y;a.setTransformState(S,k,Y)}}var fw=function(a,n,s){var r=a.startCoords,c=a.transformState,d=a.setup.panning,m=d.lockAxisX,g=d.lockAxisY,y=c.positionX,S=c.positionY;if(!r)return{x:y,y:S};var C=n-r.x,w=s-r.y,A=m?y:C,k=g?S:w;return{x:A,y:k}},sa=function(a,n){var s=a.setup,r=a.transformState,c=r.scale,d=s.minScale,m=s.disablePadding;return n>0&&c>=d&&!m?n:0},dw=function(a){var n=a.mounted,s=a.setup,r=s.disabled,c=s.velocityAnimation,d=a.transformState.scale,m=c.disabled,g=!m||d>1||!r||n;return!!g},_w=function(a){var n=a.mounted,s=a.velocity,r=a.bounds,c=a.setup,d=c.disabled,m=c.velocityAnimation,g=a.transformState.scale,y=m.disabled,S=!y||g>1||!d||n;return!(!S||!s||!r)};function mw(a,n){var s=a.setup.velocityAnimation,r=s.equalToMove,c=s.animationTime,d=s.sensitivity;return r?c*n*d:c}function lg(a,n,s,r,c,d,m,g,y,S){if(c){if(n>m&&s>m){var C=m+(a-m)*S;return C>y?y:C<m?m:C}if(n<d&&s<d){var C=d+(a-d)*S;return C<g?g:C>d?d:C}}return r?n:wd(a,d,m,c)}function pw(a,n){var s=1;return n?Math.min(s,a.offsetWidth/window.innerWidth):s}function vw(a,n){var s=dw(a);if(s){var r=a.lastMousePosition,c=a.velocityTime,d=a.setup,m=a.wrapperComponent,g=d.velocityAnimation.equalToMove,y=Date.now();if(r&&c&&m){var S=pw(m,g),C=n.x-r.x,w=n.y-r.y,A=C/S,k=w/S,Y=y-c,V=C*C+w*w,et=Math.sqrt(V)/Y;a.velocity={velocityX:A,velocityY:k,total:et}}a.lastMousePosition=n,a.velocityTime=y}}function gw(a){var n=a.velocity,s=a.bounds,r=a.setup,c=a.wrapperComponent,d=_w(a);if(!(!d||!n||!s||!c)){var m=n.velocityX,g=n.velocityY,y=n.total,S=s.maxPositionX,C=s.minPositionX,w=s.maxPositionY,A=s.minPositionY,k=r.limitToBounds,Y=r.alignmentAnimation,V=r.zoomAnimation,et=r.panning,bt=et.lockAxisY,dt=et.lockAxisX,st=V.animationType,It=Y.sizeX,ft=Y.sizeY,Wt=Y.velocityAlignmentTime,Qt=Wt,ae=mw(a,y),ue=Math.max(ae,Qt),xe=sa(a,It),Pt=sa(a,ft),Nt=xe*c.offsetWidth/100,an=Pt*c.offsetHeight/100,ve=S+Nt,ce=C-Nt,I=w+an,$=A-an,W=a.transformState,Bt=new Date().getTime();t0(a,st,ue,function(x){var Z=a.transformState,K=Z.scale,F=Z.positionX,nt=Z.positionY,rt=new Date().getTime()-Bt,tt=rt/Qt,ie=Jy[Y.animationType],Lt=1-ie(Math.min(1,tt)),on=1-x,si=F+m*on,Zn=nt+g*on,Yn=lg(si,W.positionX,F,dt,k,C,S,ce,ve,Lt),Si=lg(Zn,W.positionY,nt,bt,k,A,w,$,I,Lt);(F!==si||nt!==Zn)&&a.setTransformState(K,Yn,Si)})}}function ug(a,n){var s=a.transformState.scale;$n(a),Ua(a,s),window.TouchEvent!==void 0&&n instanceof TouchEvent?cw(a,n):uw(a,n)}function c_(a,n){var s=a.transformState.scale,r=a.setup,c=r.minScale,d=r.alignmentAnimation,m=d.disabled,g=d.sizeX,y=d.sizeY,S=d.animationTime,C=d.animationType,w=m||s<c||!g&&!y;if(!w){var A=hw(a);A&&aa(a,A,n??S,C)}}function cg(a,n,s){var r=a.startCoords,c=a.setup,d=c.alignmentAnimation,m=d.sizeX,g=d.sizeY;if(r){var y=fw(a,n,s),S=y.x,C=y.y,w=sa(a,m),A=sa(a,g);vw(a,{x:S,y:C}),e0(a,S,C,w,A)}}function yw(a){if(a.isPanning){var n=a.setup.panning.velocityDisabled,s=a.velocity,r=a.wrapperComponent,c=a.contentComponent;a.isPanning=!1,a.animate=!1,a.animation=null;var d=r?.getBoundingClientRect(),m=c?.getBoundingClientRect(),g=d?.width||0,y=d?.height||0,S=m?.width||0,C=m?.height||0,w=g<S||y<C,A=!n&&s&&s?.total>.1&&w;A?gw(a):c_(a)}}function h_(a,n,s,r){var c=a.setup,d=c.minScale,m=c.maxScale,g=c.limitToBounds,y=Rl(In(n,2),d,m,0,!1),S=Ua(a,y),C=Gc(a,s,r,y,S,g),w=C.x,A=C.y;return{scale:y,positionX:w,positionY:A}}function n0(a,n,s){var r=a.transformState.scale,c=a.wrapperComponent,d=a.setup,m=d.minScale,g=d.limitToBounds,y=d.zoomAnimation,S=y.disabled,C=y.animationTime,w=y.animationType,A=S||r>=m;if((r>=1||g)&&c_(a),!(A||!c||!a.mounted)){var k=n||c.offsetWidth/2,Y=s||c.offsetHeight/2,V=h_(a,m,k,Y);V&&aa(a,V,C,w)}}var ta=function(){return ta=Object.assign||function(n){for(var s,r=1,c=arguments.length;r<c;r++){s=arguments[r];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},ta.apply(this,arguments)};function hg(a,n,s){for(var r=0,c=n.length,d;r<c;r++)(d||!(r in n))&&(d||(d=Array.prototype.slice.call(n,0,r)),d[r]=n[r]);return a.concat(d||Array.prototype.slice.call(n))}var dc={scale:1,positionX:0,positionY:0},ol={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Ad={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},i0=function(a){var n,s,r,c;return{previousScale:(n=a.initialScale)!==null&&n!==void 0?n:dc.scale,scale:(s=a.initialScale)!==null&&s!==void 0?s:dc.scale,positionX:(r=a.initialPositionX)!==null&&r!==void 0?r:dc.positionX,positionY:(c=a.initialPositionY)!==null&&c!==void 0?c:dc.positionY}},fg=function(a){var n=ta({},ol);return Object.keys(a).forEach(function(s){var r=typeof a[s]<"u",c=typeof ol[s]<"u";if(c&&r){var d=Object.prototype.toString.call(ol[s]),m=d==="[object Object]",g=d==="[object Array]";m?n[s]=ta(ta({},ol[s]),a[s]):g?n[s]=hg(hg([],ol[s],!0),a[s]):n[s]=a[s]}}),n},s0=function(a,n,s){var r=a.transformState.scale,c=a.wrapperComponent,d=a.setup,m=d.maxScale,g=d.minScale,y=d.zoomAnimation,S=d.smooth,C=y.size;if(!c)throw new Error("Wrapper is not mounted");var w=S?r*Math.exp(n*s):r+n*s,A=Rl(In(w,3),g,m,C,!1);return A};function a0(a,n,s,r,c){var d=a.wrapperComponent,m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY;if(!d)return console.error("No WrapperComponent found");var C=d.offsetWidth,w=d.offsetHeight,A=(C/2-y)/g,k=(w/2-S)/g,Y=s0(a,n,s),V=h_(a,Y,A,k);if(!V)return console.error("Error during zoom event. New transformation state was not calculated.");aa(a,V,r,c)}function o0(a,n,s,r){var c=a.setup,d=a.wrapperComponent,m=c.limitToBounds,g=i0(a.props),y=a.transformState,S=y.scale,C=y.positionX,w=y.positionY;if(d){var A=u_(a,g.scale),k=Dl(g.positionX,g.positionY,A,m,0,0,d),Y={scale:g.scale,positionX:k.x,positionY:k.y};S===g.scale&&C===g.positionX&&w===g.positionY||(r?.(),aa(a,Y,n,s))}}function bw(a,n,s,r){var c=a.getBoundingClientRect(),d=n.getBoundingClientRect(),m=s.getBoundingClientRect(),g=d.x*r.scale,y=d.y*r.scale;return{x:(c.x-m.x+g)/r.scale,y:(c.y-m.y+y)/r.scale}}function Sw(a,n,s){var r=a.wrapperComponent,c=a.contentComponent,d=a.transformState,m=a.setup,g=m.limitToBounds,y=m.minScale,S=m.maxScale;if(!r||!c)return d;var C=r.getBoundingClientRect(),w=n.getBoundingClientRect(),A=bw(n,r,c,d),k=A.x,Y=A.y,V=w.width/d.scale,et=w.height/d.scale,bt=r.offsetWidth/V,dt=r.offsetHeight/et,st=Rl(s||Math.min(bt,dt),y,S,0,!1),It=(C.width-V*st)/2,ft=(C.height-et*st)/2,Wt=(C.left-k)*st+It,Qt=(C.top-Y)*st+ft,ae=u_(a,st),ue=Dl(Wt,Qt,ae,g,0,0,r),xe=ue.x,Pt=ue.y;return{positionX:xe,positionY:Pt,scale:st}}var Tw=function(a){return function(n,s,r){n===void 0&&(n=.5),s===void 0&&(s=300),r===void 0&&(r="easeOut"),a0(a,1,n,s,r)}},Ew=function(a){return function(n,s,r){n===void 0&&(n=.5),s===void 0&&(s=300),r===void 0&&(r="easeOut"),a0(a,-1,n,s,r)}},Cw=function(a){return function(n,s,r,c,d){c===void 0&&(c=300),d===void 0&&(d="easeOut");var m=a.transformState,g=m.positionX,y=m.positionY,S=m.scale,C=a.wrapperComponent,w=a.contentComponent,A=a.setup.disabled;if(!(A||!C||!w)){var k={positionX:Number.isNaN(n)?g:n,positionY:Number.isNaN(s)?y:s,scale:Number.isNaN(r)?S:r};aa(a,k,c,d)}}},ww=function(a){return function(n,s){n===void 0&&(n=200),s===void 0&&(s="easeOut"),o0(a,n,s)}},Aw=function(a){return function(n,s,r){s===void 0&&(s=200),r===void 0&&(r="easeOut");var c=a.transformState,d=a.wrapperComponent,m=a.contentComponent;if(d&&m){var g=r0(n||c.scale,d,m);aa(a,g,s,r)}}},xw=function(a){return function(n,s,r,c){r===void 0&&(r=600),c===void 0&&(c="easeOut"),$n(a);var d=a.wrapperComponent,m=typeof n=="string"?document.getElementById(n):n;if(d&&m&&d.contains(m)){var g=Sw(a,m,s);aa(a,g,r,c)}}},xd=function(a){return{instance:a,zoomIn:Tw(a),zoomOut:Ew(a),setTransform:Cw(a),resetTransform:ww(a),centerView:Aw(a),zoomToElement:xw(a)}},Mw=function(a){return{instance:a,state:a.transformState}},te=function(a){var n={};return Object.assign(n,Mw(a)),Object.assign(n,xd(a)),n},od=!1;function rd(){try{var a={get passive(){return od=!0,!1}};return a}catch{return od=!1,od}}var _c=".".concat(Ad.wrapperClass),Xc=function(a,n){return n.some(function(s){return a.matches("".concat(_c," ").concat(s,", ").concat(_c," .").concat(s,", ").concat(_c," ").concat(s," *, ").concat(_c," .").concat(s," *"))})},Md=function(a){a&&clearTimeout(a)},Ow=function(a,n,s){return"translate(".concat(a,"px, ").concat(n,"px) scale(").concat(s,")")},r0=function(a,n,s){var r=s.offsetWidth*a,c=s.offsetHeight*a,d=(n.offsetWidth-r)/2,m=(n.offsetHeight-c)/2;return{scale:a,positionX:d,positionY:m}};function Nw(a){return function(n){a.forEach(function(s){typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var Lw=function(a,n){var s=a.setup.wheel,r=s.disabled,c=s.wheelDisabled,d=s.touchPadDisabled,m=s.excluded,g=a.isInitialized,y=a.isPanning,S=n.target,C=g&&!y&&!r&&S;if(!C||c&&!n.ctrlKey||d&&n.ctrlKey)return!1;var w=Xc(S,m);return!w},Dw=function(a){return a?a.deltaY<0?1:-1:0};function Rw(a,n){var s=Dw(a),r=GC(n,s);return r}function l0(a,n,s){var r=n.getBoundingClientRect(),c=0,d=0;if("clientX"in a)c=(a.clientX-r.left)/s,d=(a.clientY-r.top)/s;else{var m=a.touches[0];c=(m.clientX-r.left)/s,d=(m.clientY-r.top)/s}return(Number.isNaN(c)||Number.isNaN(d))&&console.error("No mouse or touch offset found"),{x:c,y:d}}var zw=function(a,n,s,r,c){var d=a.transformState.scale,m=a.wrapperComponent,g=a.setup,y=g.maxScale,S=g.minScale,C=g.zoomAnimation,w=g.disablePadding,A=C.size,k=C.disabled;if(!m)throw new Error("Wrapper is not mounted");var Y=d+n*s,V=r?!1:!k,et=Rl(In(Y,3),S,y,A,V&&!w);return et},Pw=function(a,n){var s=a.previousWheelEvent,r=a.transformState.scale,c=a.setup,d=c.maxScale,m=c.minScale;return s?r<d||r>m||Math.sign(s.deltaY)!==Math.sign(n.deltaY)||s.deltaY>0&&s.deltaY<n.deltaY||s.deltaY<0&&s.deltaY>n.deltaY||Math.sign(s.deltaY)!==Math.sign(n.deltaY):!1},Bw=function(a,n){var s=a.setup.pinch,r=s.disabled,c=s.excluded,d=a.isInitialized,m=n.target,g=d&&!r&&m;if(!g)return!1;var y=Xc(m,c);return!y},kw=function(a){var n=a.setup.pinch.disabled,s=a.isInitialized,r=a.pinchStartDistance,c=s&&!n&&r;return!!c},Hw=function(a,n,s){var r=s.getBoundingClientRect(),c=a.touches,d=In(c[0].clientX-r.left,5),m=In(c[0].clientY-r.top,5),g=In(c[1].clientX-r.left,5),y=In(c[1].clientY-r.top,5);return{x:(d+g)/2/n,y:(m+y)/2/n}},u0=function(a){return Math.sqrt(Math.pow(a.touches[0].pageX-a.touches[1].pageX,2)+Math.pow(a.touches[0].pageY-a.touches[1].pageY,2))},Uw=function(a,n){var s=a.pinchStartScale,r=a.pinchStartDistance,c=a.setup,d=c.maxScale,m=c.minScale,g=c.zoomAnimation,y=c.disablePadding,S=g.size,C=g.disabled;if(!s||r===null||!n)throw new Error("Pinch touches distance was not provided");if(n<0)return a.transformState.scale;var w=n/r,A=w*s;return Rl(In(A,2),m,d,S,!C&&!y)},Iw=160,Zw=100,Yw=function(a,n){var s=a.props,r=s.onWheelStart,c=s.onZoomStart;a.wheelStopEventTimer||($n(a),le(te(a),n,r),le(te(a),n,c))},qw=function(a,n){var s=a.props,r=s.onWheel,c=s.onZoom,d=a.contentComponent,m=a.setup,g=a.transformState,y=g.scale,S=m.limitToBounds,C=m.centerZoomedOut,w=m.zoomAnimation,A=m.wheel,k=m.disablePadding,Y=m.smooth,V=w.size,et=w.disabled,bt=A.step,dt=A.smoothStep;if(!d)throw new Error("Component not mounted");n.preventDefault(),n.stopPropagation();var st=Rw(n,null),It=Y?dt*Math.abs(n.deltaY):bt,ft=zw(a,st,It,!n.ctrlKey);if(y!==ft){var Wt=Ua(a,ft),Qt=l0(n,d,y),ae=et||V===0||C||k,ue=S&&ae,xe=Gc(a,Qt.x,Qt.y,ft,Wt,ue),Pt=xe.x,Nt=xe.y;a.previousWheelEvent=n,a.setTransformState(ft,Pt,Nt),le(te(a),n,r),le(te(a),n,c)}},jw=function(a,n){var s=a.props,r=s.onWheelStop,c=s.onZoomStop;Md(a.wheelAnimationTimer),a.wheelAnimationTimer=setTimeout(function(){a.mounted&&(n0(a,n.x,n.y),a.wheelAnimationTimer=null)},Zw);var d=Pw(a,n);d&&(Md(a.wheelStopEventTimer),a.wheelStopEventTimer=setTimeout(function(){a.mounted&&(a.wheelStopEventTimer=null,le(te(a),n,r),le(te(a),n,c))},Iw))},c0=function(a){for(var n=0,s=0,r=0;r<2;r+=1)n+=a.touches[r].clientX,s+=a.touches[r].clientY;var c=n/2,d=s/2;return{x:c,y:d}},Gw=function(a,n){var s=u0(n);a.pinchStartDistance=s,a.lastDistance=s,a.pinchStartScale=a.transformState.scale,a.isPanning=!1;var r=c0(n);a.pinchLastCenterX=r.x,a.pinchLastCenterY=r.y,$n(a)},Xw=function(a,n){var s=a.contentComponent,r=a.pinchStartDistance,c=a.wrapperComponent,d=a.transformState.scale,m=a.setup,g=m.limitToBounds,y=m.centerZoomedOut,S=m.zoomAnimation,C=m.alignmentAnimation,w=S.disabled,A=S.size;if(!(r===null||!s)){var k=Hw(n,d,s);if(!(!Number.isFinite(k.x)||!Number.isFinite(k.y))){var Y=u0(n),V=Uw(a,Y),et=c0(n),bt=et.x-(a.pinchLastCenterX||0),dt=et.y-(a.pinchLastCenterY||0);if(!(V===d&&bt===0&&dt===0)){a.pinchLastCenterX=et.x,a.pinchLastCenterY=et.y;var st=Ua(a,V),It=w||A===0||y,ft=g&&It,Wt=Gc(a,k.x,k.y,V,st,ft),Qt=Wt.x,ae=Wt.y;a.pinchMidpoint=k,a.lastDistance=Y;var ue=C.sizeX,xe=C.sizeY,Pt=sa(a,ue),Nt=sa(a,xe),an=Qt+bt,ve=ae+dt,ce=Dl(an,ve,st,g,Pt,Nt,c),I=ce.x,$=ce.y;a.setTransformState(V,I,$)}}}},Vw=function(a){var n=a.pinchMidpoint;a.velocity=null,a.lastDistance=null,a.pinchMidpoint=null,a.pinchStartScale=null,a.pinchStartDistance=null,n0(a,n?.x,n?.y)},h0=function(a,n){var s=a.props.onZoomStop,r=a.setup.doubleClick.animationTime;Md(a.doubleClickStopEventTimer),a.doubleClickStopEventTimer=setTimeout(function(){a.doubleClickStopEventTimer=null,le(te(a),n,s)},r)},Ww=function(a,n){var s=a.props,r=s.onZoomStart,c=s.onZoom,d=a.setup.doubleClick,m=d.animationTime,g=d.animationType;le(te(a),n,r),o0(a,m,g,function(){return le(te(a),n,c)}),h0(a,n)};function Qw(a,n){return a==="toggle"?n===1?1:-1:a==="zoomOut"?-1:1}function Fw(a,n){var s=a.setup,r=a.doubleClickStopEventTimer,c=a.transformState,d=a.contentComponent,m=c.scale,g=a.props,y=g.onZoomStart,S=g.onZoom,C=s.doubleClick,w=C.disabled,A=C.mode,k=C.step,Y=C.animationTime,V=C.animationType;if(!w&&!r){if(A==="reset")return Ww(a,n);if(!d)return console.error("No ContentComponent found");var et=Qw(A,a.transformState.scale),bt=s0(a,et,k);if(m!==bt){le(te(a),n,y);var dt=l0(n,d,m),st=h_(a,bt,dt.x,dt.y);if(!st)return console.error("Error during zoom event. New transformation state was not calculated.");le(te(a),n,S),aa(a,st,Y,V),h0(a,n)}}}var Kw=function(a,n){var s=a.isInitialized,r=a.setup,c=a.wrapperComponent,d=r.doubleClick,m=d.disabled,g=d.excluded,y=n.target,S=c?.contains(y),C=s&&y&&S&&!m;if(!C)return!1;var w=Xc(y,g);return!w},Jw=(function(){function a(n){var s=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){s.initializeWindowEvents()},this.unmount=function(){s.cleanupWindowEvents()},this.update=function(r){s.props=r,Ua(s,s.transformState.scale),s.setup=fg(r)},this.initializeWindowEvents=function(){var r,c,d=rd(),m=(r=s.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,g=m?.defaultView;(c=s.wrapperComponent)===null||c===void 0||c.addEventListener("wheel",s.onWheelPanning,d),g?.addEventListener("mousedown",s.onPanningStart,d),g?.addEventListener("mousemove",s.onPanning,d),g?.addEventListener("mouseup",s.onPanningStop,d),m?.addEventListener("mouseleave",s.clearPanning,d),g?.addEventListener("keyup",s.setKeyUnPressed,d),g?.addEventListener("keydown",s.setKeyPressed,d)},this.cleanupWindowEvents=function(){var r,c,d=rd(),m=(r=s.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,g=m?.defaultView;g?.removeEventListener("mousedown",s.onPanningStart,d),g?.removeEventListener("mousemove",s.onPanning,d),g?.removeEventListener("mouseup",s.onPanningStop,d),m?.removeEventListener("mouseleave",s.clearPanning,d),g?.removeEventListener("keyup",s.setKeyUnPressed,d),g?.removeEventListener("keydown",s.setKeyPressed,d),document.removeEventListener("mouseleave",s.clearPanning,d),$n(s),(c=s.observer)===null||c===void 0||c.disconnect()},this.handleInitializeWrapperEvents=function(r){var c=rd();r.addEventListener("wheel",s.onWheelZoom,c),r.addEventListener("dblclick",s.onDoubleClick,c),r.addEventListener("touchstart",s.onTouchPanningStart,c),r.addEventListener("touchmove",s.onTouchPanning,c),r.addEventListener("touchend",s.onTouchPanningStop,c)},this.handleInitialize=function(r,c){var d=!1,m=s.setup.centerOnInit,g=function(y,S){for(var C=0,w=y;C<w.length;C++){var A=w[C];if(A.target===S)return!0}return!1};s.applyTransformation(),s.onInitCallbacks.forEach(function(y){y(te(s))}),s.observer=new ResizeObserver(function(y){if(g(y,r)||g(y,c))if(m&&!d){var S=c.offsetWidth,C=c.offsetHeight;(S>0||C>0)&&(d=!0,s.setCenter())}else $n(s),Ua(s,s.transformState.scale),c_(s,0)}),s.observer.observe(r),s.observer.observe(c)},this.onWheelZoom=function(r){var c=s.setup.disabled;if(!c){var d=Lw(s,r);if(d){var m=s.isPressingKeys(s.setup.wheel.activationKeys);m&&(Yw(s,r),qw(s,r),jw(s,r))}}},this.onWheelPanning=function(r){var c=s.setup,d=c.disabled,m=c.wheel,g=c.panning;if(!(!s.wrapperComponent||!s.contentComponent||d||!m.wheelDisabled||g.disabled||!g.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var y=s.transformState,S=y.positionX,C=y.positionY,w=S-r.deltaX,A=C-r.deltaY,k=g.lockAxisX?S:w,Y=g.lockAxisY?C:A,V=s.setup.alignmentAnimation,et=V.sizeX,bt=V.sizeY,dt=sa(s,et),st=sa(s,bt);k===S&&Y===C||e0(s,k,Y,dt,st)}},this.onPanningStart=function(r){var c=s.setup.disabled,d=s.props.onPanningStart;if(!c){var m=og(s,r);if(m){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(r.button===0&&!s.setup.panning.allowLeftClickPan||r.button===1&&!s.setup.panning.allowMiddleClickPan||r.button===2&&!s.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),$n(s),ug(s,r),le(te(s),r,d)))}}},this.onPanning=function(r){var c=s.setup.disabled,d=s.props.onPanning;if(!c){var m=rg(s);if(m){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(r.preventDefault(),r.stopPropagation(),cg(s,r.clientX,r.clientY),le(te(s),r,d))}}},this.onPanningStop=function(r){var c=s.props.onPanningStop;s.isPanning&&(yw(s),le(te(s),r,c))},this.onPinchStart=function(r){var c=s.setup.disabled,d=s.props,m=d.onPinchingStart,g=d.onZoomStart;if(!c){var y=Bw(s,r);y&&(Gw(s,r),$n(s),le(te(s),r,m),le(te(s),r,g))}},this.onPinch=function(r){var c=s.setup.disabled,d=s.props,m=d.onPinching,g=d.onZoom;if(!c){var y=kw(s);y&&(r.preventDefault(),r.stopPropagation(),Xw(s,r),le(te(s),r,m),le(te(s),r,g))}},this.onPinchStop=function(r){var c=s.props,d=c.onPinchingStop,m=c.onZoomStop;s.pinchStartScale&&(Vw(s),le(te(s),r,d),le(te(s),r,m))},this.onTouchPanningStart=function(r){var c=s.setup.disabled,d=s.props.onPanningStart;if(!c){var m=og(s,r);if(m){var g=s.lastTouch&&+new Date-s.lastTouch<200&&r.touches.length===1;if(!g){s.lastTouch=+new Date,$n(s);var y=r.touches,S=y.length===1,C=y.length===2;S&&($n(s),ug(s,r),le(te(s),r,d)),C&&s.onPinchStart(r)}}}},this.onTouchPanning=function(r){var c=s.setup.disabled,d=s.props.onPanning;if(s.isPanning&&r.touches.length===1){if(c)return;var m=rg(s);if(!m)return;r.preventDefault(),r.stopPropagation();var g=r.touches[0];cg(s,g.clientX,g.clientY),le(te(s),r,d)}else r.touches.length>1&&s.onPinch(r)},this.onTouchPanningStop=function(r){s.onPanningStop(r),s.onPinchStop(r)},this.onDoubleClick=function(r){var c=s.setup.disabled;if(!c){var d=Kw(s,r);d&&Fw(s,r)}},this.clearPanning=function(r){s.isPanning&&s.onPanningStop(r)},this.setKeyPressed=function(r){s.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){s.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(c){return s.pressedKeys[c]}):!0},this.setTransformState=function(r,c,d){var m=s.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(c)&&!Number.isNaN(d)){r!==s.transformState.scale&&(s.transformState.previousScale=s.transformState.scale,s.transformState.scale=r),s.transformState.positionX=c,s.transformState.positionY=d,s.applyTransformation();var g=te(s);s.onChangeCallbacks.forEach(function(y){return y(g)}),le(g,{scale:r,positionX:c,positionY:d},m)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(s.wrapperComponent&&s.contentComponent){var r=r0(s.transformState.scale,s.wrapperComponent,s.contentComponent);s.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,c,d){return s.props.customTransform?s.props.customTransform(r,c,d):Ow(r,c,d)},this.applyTransformation=function(){if(!(!s.mounted||!s.contentComponent)){var r=s.transformState,c=r.scale,d=r.positionX,m=r.positionY,g=s.handleTransformStyles(d,m,c);s.contentComponent.style.transform=g}},this.getContext=function(){return te(s)},this.onChange=function(r){return s.onChangeCallbacks.has(r)||s.onChangeCallbacks.add(r),function(){s.onChangeCallbacks.delete(r)}},this.onInit=function(r){return s.onInitCallbacks.has(r)||s.onInitCallbacks.add(r),function(){s.onInitCallbacks.delete(r)}},this.init=function(r,c){s.cleanupWindowEvents(),s.wrapperComponent=r,s.contentComponent=c,Ua(s,s.transformState.scale),s.handleInitializeWrapperEvents(r),s.handleInitialize(r,c),s.initializeWindowEvents(),s.isInitialized=!0;var d=te(s);le(d,void 0,s.props.onInit)},this.props=n,this.setup=fg(this.props),this.transformState=i0(this.props)}return a})(),f_=yi.createContext(null),$w=function(a,n){return typeof a=="function"?a(n):a},tA=yi.forwardRef(function(a,n){var s=ht.useRef(new Jw(a)).current,r=$w(a.children,xd(s));return ht.useImperativeHandle(n,function(){return xd(s)},[s]),ht.useEffect(function(){s.update(a)},[s,a]),yi.createElement(f_.Provider,{value:s},r)});yi.forwardRef(function(a,n){var s=ht.useRef(null),r=ht.useContext(f_);return ht.useEffect(function(){return r.onChange(function(c){if(s.current){var d=0,m=0;s.current.style.transform=r.handleTransformStyles(d,m,1/c.instance.transformState.scale)}})},[r]),yi.createElement("div",ta({},a,{ref:Nw([s,n])}))});function eA(a,n){n===void 0&&(n={});var s=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",s==="top"&&r.firstChild?r.insertBefore(c,r.firstChild):r.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}}var nA=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,dg={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};eA(nA);var iA=function(a){var n=a.children,s=a.wrapperClass,r=s===void 0?"":s,c=a.contentClass,d=c===void 0?"":c,m=a.wrapperStyle,g=a.contentStyle,y=a.wrapperProps,S=y===void 0?{}:y,C=a.contentProps,w=C===void 0?{}:C,A=ht.useContext(f_),k=A.init,Y=A.cleanupWindowEvents,V=ht.useRef(null),et=ht.useRef(null);return ht.useEffect(function(){var bt=V.current,dt=et.current;return bt!==null&&dt!==null&&k&&k?.(bt,dt),function(){Y?.()}},[]),yi.createElement("div",ta({},S,{ref:V,className:"".concat(Ad.wrapperClass," ").concat(dg.wrapper," ").concat(r),style:m}),yi.createElement("div",ta({},w,{ref:et,className:"".concat(Ad.contentClass," ").concat(dg.content," ").concat(d),style:g}),n))};const sA="/yatai-now/assets/map_test2-CRDv0v-t.svg",aA="/yatai-now/assets/pin400x300-CytIBKwI.png",oA=[{id:1,x:600,y:600,name:"",description:""},{id:2,x:700,y:800,name:"",description:""}];function rA({onShowOrganizerLogin:a,onShowVendorLogin:n,onBack:s}){const[r,c]=ht.useState(null);return Q.jsxs("div",{className:"screen main-screen",children:[Q.jsxs("header",{className:"main-header",children:[Q.jsx("button",{className:"btn-back",onClick:s,children:"< "}),Q.jsxs("div",{className:"header-right-buttons",children:[Q.jsx("button",{className:"btn-header",onClick:a,children:""}),Q.jsx("button",{className:"btn-header",onClick:n,children:""})]})]}),Q.jsx(tA,{initialScale:.5,minScale:.5,maxScale:8,wheel:{step:.5},limitToBounds:!0,doubleClick:{disabled:!0},centerOnInit:!0,children:Q.jsxs(iA,{wrapperClass:"map-area",contentClass:"map-content-vector",children:[Q.jsx("div",{onClick:()=>c(null),children:Q.jsx("img",{src:sA,alt:"map",className:"map-svg"})}),oA.map(d=>Q.jsx("div",{className:"pin-box",style:{left:`${d.x}px`,top:`${d.y}px`},onClick:()=>c(d),children:Q.jsx("img",{src:aA,alt:"pin",className:"map-pin"})},d.id)),r&&Q.jsxs("div",{style:{position:"absolute",left:`${r.x+40}px`,top:`${r.y+40}px`,backgroundColor:"white"},onClick:()=>c(null),children:[Q.jsx("h3",{children:r.name}),Q.jsx("p",{children:r.description})]})]})})]})}function lA({onBack:a,onLoginSuccess:n}){const s=r=>{r.preventDefault(),console.log("Organizer login attempt"),n()};return Q.jsxs("div",{className:"screen login-screen",children:[Q.jsx("header",{className:"login-header",children:Q.jsx("button",{className:"btn-back",onClick:a,children:"< "})}),Q.jsxs("div",{className:"login-container",children:[Q.jsx("h2",{children:""}),Q.jsxs("form",{className:"login-form",onSubmit:s,children:[Q.jsx("input",{className:"login-input",type:"text",placeholder:"ID"}),Q.jsx("input",{className:"login-input",type:"password",placeholder:""}),Q.jsx("button",{className:"btn",type:"submit",children:""})]})]})]})}function uA({onBack:a,onLoginSuccess:n}){const[s,r]=ht.useState(""),[c,d]=ht.useState(""),[m,g]=ht.useState(""),y=S=>{S.preventDefault(),s==="yatai"&&c==="now"?(console.log("Vendor login successful"),g(""),n()):g("ID")};return Q.jsxs("div",{className:"screen login-screen",children:[Q.jsx("header",{className:"login-header",children:Q.jsx("button",{className:"btn-back",onClick:a,children:"< "})}),Q.jsxs("div",{className:"login-container",children:[Q.jsx("h2",{children:""}),Q.jsxs("form",{className:"login-form",onSubmit:y,children:[Q.jsx("input",{className:"login-input",type:"text",placeholder:"ID",value:s,onChange:S=>r(S.target.value)}),Q.jsx("input",{className:"login-input",type:"password",placeholder:"",value:c,onChange:S=>d(S.target.value)}),m&&Q.jsx("p",{className:"login-error",children:m}),Q.jsx("button",{className:"btn",type:"submit",children:""})]})]})]})}var rl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var cA=rl.exports,_g;function hA(){return _g||(_g=1,(function(a,n){(function(s,r){r(n)})(cA,(function(s){var r="1.9.4";function c(i){var l,h,p,v;for(h=1,p=arguments.length;h<p;h++){v=arguments[h];for(l in v)i[l]=v[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function m(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var p=h.call(arguments,2);return function(){return i.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var g=0;function y(i){return"_leaflet_id"in i||(i._leaflet_id=++g),i._leaflet_id}function S(i,l,h){var p,v,T,M;return M=function(){p=!1,v&&(T.apply(h,v),v=!1)},T=function(){p?v=arguments:(i.apply(h,arguments),setTimeout(M,l),p=!0)},T}function C(i,l,h){var p=l[1],v=l[0],T=p-v;return i===p&&h?i:((i-v)%T+T)%T+v}function w(){return!1}function A(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function k(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function Y(i){return k(i).split(/\s+/)}function V(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function et(i,l,h){var p=[];for(var v in i)p.push(encodeURIComponent(h?v.toUpperCase():v)+"="+encodeURIComponent(i[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var bt=/\{ *([\w_ -]+) *\}/g;function dt(i,l){return i.replace(bt,function(h,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+h);return typeof v=="function"&&(v=v(l)),v})}var st=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function It(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Wt(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Qt=0;function ae(i){var l=+new Date,h=Math.max(0,16-(l-Qt));return Qt=l+h,window.setTimeout(i,h)}var ue=window.requestAnimationFrame||Wt("RequestAnimationFrame")||ae,xe=window.cancelAnimationFrame||Wt("CancelAnimationFrame")||Wt("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Pt(i,l,h){if(h&&ue===ae)i.call(l);else return ue.call(window,m(i,l))}function Nt(i){i&&xe.call(window,i)}var an={__proto__:null,extend:c,create:d,bind:m,get lastId(){return g},stamp:y,throttle:S,wrapNum:C,falseFn:w,formatNum:A,trim:k,splitWords:Y,setOptions:V,getParamString:et,template:dt,isArray:st,indexOf:It,emptyImageUrl:ft,requestFn:ue,cancelFn:xe,requestAnimFrame:Pt,cancelAnimFrame:Nt};function ve(){}ve.extend=function(i){var l=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=d(h);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return i.statics&&c(l,i.statics),i.includes&&(ce(i.includes),c.apply(null,[p].concat(i.includes))),c(p,i),delete p.statics,delete p.includes,p.options&&(p.options=h.options?d(h.options):{},c(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,M=p._initHooks.length;T<M;T++)p._initHooks[T].call(this)}},l},ve.include=function(i){var l=this.prototype.options;return c(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ve.mergeOptions=function(i){return c(this.prototype.options,i),this},ve.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ce(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=st(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(i,l,h){if(typeof i=="object")for(var p in i)this._on(p,i[p],l);else{i=Y(i);for(var v=0,T=i.length;v<T;v++)this._on(i[v],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],l);else{i=Y(i);for(var v=arguments.length===1,T=0,M=i.length;T<M;T++)v?this._off(i[T]):this._off(i[T],l,h)}return this},_on:function(i,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var v={fn:l,ctx:h};p&&(v.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(v)}},_off:function(i,l,h){var p,v,T;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,T=p.length;v<T;v++)p[v].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var M=this._listens(i,l,h);if(M!==!1){var R=p[M];this._firingCount&&(R.fn=w,this._events[i]=p=p.slice()),p.splice(M,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var p=c({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[i];if(v){this._firingCount=this._firingCount+1||1;for(var T=0,M=v.length;T<M;T++){var R=v[T],U=R.fn;R.once&&this.off(i,U,R.ctx),U.call(R.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(i,l,h,p){typeof i!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,h=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,v,h)!==!1)return!0;if(p){for(var M in this._eventParents)if(this._eventParents[M].listens(i,l,h,p))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var p=this._events[i]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var v=0,T=p.length;v<T;v++)if(p[v].fn===l&&p[v].ctx===h)return v;return!1},once:function(i,l,h){if(typeof i=="object")for(var p in i)this._on(p,i[p],l,!0);else{i=Y(i);for(var v=0,T=i.length;v<T;v++)this._on(i[v],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[y(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[y(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,c({layer:i.target,propagatedFrom:i.target},i),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var $=ve.extend(I);function W(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var Bt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(i){return this.clone()._add(x(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(x(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new W(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new W(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Bt(this.x),this.y=Bt(this.y),this},distanceTo:function(i){i=x(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=x(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=x(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function x(i,l,h){return i instanceof W?i:st(i)?new W(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new W(i.x,i.y):new W(i,l,h)}function Z(i,l){if(i)for(var h=l?[i,l]:i,p=0,v=h.length;p<v;p++)this.extend(h[p])}Z.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof W||typeof i[0]=="number"||"x"in i)l=h=x(i);else if(i=K(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return x(this.min.x,this.max.y)},getTopRight:function(){return x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof W?i=x(i):i=K(i),i instanceof Z?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=K(i);var l=this.min,h=this.max,p=i.min,v=i.max,T=v.x>=l.x&&p.x<=h.x,M=v.y>=l.y&&p.y<=h.y;return T&&M},overlaps:function(i){i=K(i);var l=this.min,h=this.max,p=i.min,v=i.max,T=v.x>l.x&&p.x<h.x,M=v.y>l.y&&p.y<h.y;return T&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*i,v=Math.abs(l.y-h.y)*i;return K(x(l.x-p,l.y-v),x(h.x+p,h.y+v))},equals:function(i){return i?(i=K(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function K(i,l){return!i||i instanceof Z?i:new Z(i,l)}function F(i,l){if(i)for(var h=l?[i,l]:i,p=0,v=h.length;p<v;p++)this.extend(h[p])}F.prototype={extend:function(i){var l=this._southWest,h=this._northEast,p,v;if(i instanceof rt)p=i,v=i;else if(i instanceof F){if(p=i._southWest,v=i._northEast,!p||!v)return this}else return i?this.extend(tt(i)||nt(i)):this;return!l&&!h?(this._southWest=new rt(p.lat,p.lng),this._northEast=new rt(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(v.lat,h.lat),h.lng=Math.max(v.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*i,v=Math.abs(l.lng-h.lng)*i;return new F(new rt(l.lat-p,l.lng-v),new rt(h.lat+p,h.lng+v))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof rt||"lat"in i?i=tt(i):i=nt(i);var l=this._southWest,h=this._northEast,p,v;return i instanceof F?(p=i.getSouthWest(),v=i.getNorthEast()):p=v=i,p.lat>=l.lat&&v.lat<=h.lat&&p.lng>=l.lng&&v.lng<=h.lng},intersects:function(i){i=nt(i);var l=this._southWest,h=this._northEast,p=i.getSouthWest(),v=i.getNorthEast(),T=v.lat>=l.lat&&p.lat<=h.lat,M=v.lng>=l.lng&&p.lng<=h.lng;return T&&M},overlaps:function(i){i=nt(i);var l=this._southWest,h=this._northEast,p=i.getSouthWest(),v=i.getNorthEast(),T=v.lat>l.lat&&p.lat<h.lat,M=v.lng>l.lng&&p.lng<h.lng;return T&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=nt(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function nt(i,l){return i instanceof F?i:new F(i,l)}function rt(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}rt.prototype={equals:function(i,l){if(!i)return!1;i=tt(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+A(this.lat,i)+", "+A(this.lng,i)+")"},distanceTo:function(i){return Lt.distance(this,tt(i))},wrap:function(){return Lt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return nt([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function tt(i,l,h){return i instanceof rt?i:st(i)&&typeof i[0]!="object"?i.length===3?new rt(i[0],i[1],i[2]):i.length===2?new rt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new rt(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new rt(i,l,h)}var ie={latLngToPoint:function(i,l){var h=this.projection.project(i),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(i,l){var h=this.scale(l),p=this.transformation.untransform(i,h);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),p=this.transformation.transform(l.min,h),v=this.transformation.transform(l.max,h);return new Z(p,v)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?C(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?C(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new rt(h,l,p)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,v=l.lng-h.lng;if(p===0&&v===0)return i;var T=i.getSouthWest(),M=i.getNorthEast(),R=new rt(T.lat-p,T.lng-v),U=new rt(M.lat-p,M.lng-v);return new F(R,U)}},Lt=c({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,p=i.lat*h,v=l.lat*h,T=Math.sin((l.lat-i.lat)*h/2),M=Math.sin((l.lng-i.lng)*h/2),R=T*T+Math.cos(p)*Math.cos(v)*M*M,U=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*U}}),on=6378137,si={R:on,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,i.lat),-h),v=Math.sin(p*l);return new W(this.R*i.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(i){var l=180/Math.PI;return new rt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=on*Math.PI;return new Z([-i,-i],[i,i])})()};function Zn(i,l,h,p){if(st(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=p}Zn.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new W((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Yn(i,l,h,p){return new Zn(i,l,h,p)}var Si=c({},Lt,{code:"EPSG:3857",projection:si,transformation:(function(){var i=.5/(Math.PI*si.R);return Yn(i,.5,-i,.5)})()}),Fo=c({},Si,{code:"EPSG:900913"});function Pl(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Bl(i,l){var h="",p,v,T,M,R,U;for(p=0,T=i.length;p<T;p++){for(R=i[p],v=0,M=R.length;v<M;v++)U=R[v],h+=(v?"L":"M")+U.x+" "+U.y;h+=l?ut.svg?"z":"x":""}return h||"M0 0"}var rn=document.documentElement.style,ja="ActiveXObject"in window,kl=ja&&!document.addEventListener,Ko="msLaunchUri"in navigator&&!("documentMode"in document),is=ln("webkit"),Hl=ln("android"),Jo=ln("android 2")||ln("android 3"),Vc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wc=Hl&&ln("Google")&&Vc<537&&!("AudioNode"in window),Ti=!!window.opera,qe=!Ko&&ln("chrome"),qn=ln("gecko")&&!is&&!Ti&&!ja,Fe=!qe&&ln("safari"),Ul=ln("phantom"),Il="OTransition"in rn,Qc=navigator.platform.indexOf("Win")===0,oa=ja&&"transition"in rn,ss="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Jo,ai="MozPerspective"in rn,Ga=!window.L_DISABLE_3D&&(oa||ss||ai)&&!Il&&!Ul,jn=typeof orientation<"u"||ln("mobile"),Fc=jn&&is,Zl=jn&&ss,$o=!window.PointerEvent&&window.MSPointerEvent,Xa=!!(window.PointerEvent||$o),as="ontouchstart"in window||!!window.TouchEvent,Kc=!window.L_NO_TOUCH&&(as||Xa),Yl=jn&&Ti,ql=jn&&qn,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,er=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),jl=(function(){return!!document.createElement("canvas").getContext})(),nr=!!(document.createElementNS&&Pl("svg").createSVGRect),oi=!!nr&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Me=!nr&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),je=navigator.platform.indexOf("Mac")===0,os=navigator.platform.indexOf("Linux")===0;function ln(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ut={ie:ja,ielt9:kl,edge:Ko,webkit:is,android:Hl,android23:Jo,androidStock:Wc,opera:Ti,chrome:qe,gecko:qn,safari:Fe,phantom:Ul,opera12:Il,win:Qc,ie3d:oa,webkit3d:ss,gecko3d:ai,any3d:Ga,mobile:jn,mobileWebkit:Fc,mobileWebkit3d:Zl,msPointer:$o,pointer:Xa,touch:Kc,touchNative:as,mobileOpera:Yl,mobileGecko:ql,retina:tr,passiveEvents:er,canvas:jl,svg:nr,vml:Me,inlineSvg:oi,mac:je,linux:os},Gl=ut.msPointer?"MSPointerDown":"pointerdown",ir=ut.msPointer?"MSPointerMove":"pointermove",rs=ut.msPointer?"MSPointerUp":"pointerup",Va=ut.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:Gl,touchmove:ir,touchend:rs,touchcancel:Va},Ei={touchstart:Wl,touchmove:ra,touchend:ra,touchcancel:ra},On={},Ci=!1;function be(i,l,h){return l==="touchstart"&&Jc(),Ei[l]?(h=Ei[l].bind(this,h),i.addEventListener(ri[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function Xl(i,l,h){if(!ri[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(ri[l],h,!1)}function Vl(i){On[i.pointerId]=i}function wi(i){On[i.pointerId]&&(On[i.pointerId]=i)}function Ai(i){delete On[i.pointerId]}function Jc(){Ci||(document.addEventListener(Gl,Vl,!0),document.addEventListener(ir,wi,!0),document.addEventListener(rs,Ai,!0),document.addEventListener(Va,Ai,!0),Ci=!0)}function ra(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in On)l.touches.push(On[h]);l.changedTouches=[l],i(l)}}function Wl(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_e(l),ra(i,l)}function $c(i){var l={},h,p;for(p in i)h=i[p],l[p]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Wa=200;function Qa(i,l){i.addEventListener("dblclick",l);var h=0,p;function v(T){if(T.detail!==1){p=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var M=or(T);if(!(M.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!M.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var R=Date.now();R-h<=Wa?(p++,p===2&&l($c(T))):p=1,h=R}}}return i.addEventListener("click",v),{dblclick:l,simDblclick:v}}function Gn(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var la=hs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ls=hs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xi=ls==="webkitTransition"||ls==="OTransition"?ls+"End":"transitionend";function Fa(i){return typeof i=="string"?document.getElementById(i):i}function Mi(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);h=p?p[l]:null}return h==="auto"?null:h}function Rt(i,l,h){var p=document.createElement(i);return p.className=l||"",h&&h.appendChild(p),p}function Ft(i){var l=i.parentNode;l&&l.removeChild(i)}function ke(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Oi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function us(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function cs(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=He(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function St(i,l){if(i.classList!==void 0)for(var h=Y(l),p=0,v=h.length;p<v;p++)i.classList.add(h[p]);else if(!cs(i,l)){var T=He(i);sr(i,(T?T+" ":"")+l)}}function Kt(i,l){i.classList!==void 0?i.classList.remove(l):sr(i,k((" "+He(i)+" ").replace(" "+l+" "," ")))}function sr(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function He(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ge(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&Ql(i,l)}function Ql(i,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+p+"(opacity="+l+")"}function hs(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function un(i,l,h){var p=l||new W(0,0);i.style[la]=(ut.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function he(i,l){i._leaflet_pos=l,ut.any3d?un(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function li(i){return i._leaflet_pos||new W(0,0)}var Nn,ua,Ka;if("onselectstart"in document)Nn=function(){yt(window,"selectstart",_e)},ua=function(){kt(window,"selectstart",_e)};else{var fs=hs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(fs){var i=document.documentElement.style;Ka=i[fs],i[fs]="none"}},ua=function(){fs&&(document.documentElement.style[fs]=Ka,Ka=void 0)}}function ca(){yt(window,"dragstart",_e)}function ar(){kt(window,"dragstart",_e)}var Ja,ds;function ha(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(_s(),Ja=i,ds=i.style.outlineStyle,i.style.outlineStyle="none",yt(window,"keydown",_s))}function _s(){Ja&&(Ja.style.outlineStyle=ds,Ja=void 0,ds=void 0,kt(window,"keydown",_s))}function Ni(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ui(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Fl={__proto__:null,TRANSFORM:la,TRANSITION:ls,TRANSITION_END:xi,get:Fa,getStyle:Mi,create:Rt,remove:Ft,empty:ke,toFront:Oi,toBack:us,hasClass:cs,addClass:St,removeClass:Kt,setClass:sr,getClass:He,setOpacity:Ge,testProp:hs,setTransform:un,setPosition:he,getPosition:li,get disableTextSelection(){return Nn},get enableTextSelection(){return ua},disableImageDrag:ca,enableImageDrag:ar,preventOutline:ha,restoreOutline:_s,getSizedParentNode:Ni,getScale:ui};function yt(i,l,h,p){if(l&&typeof l=="object")for(var v in l)Li(i,v,l[v],h);else{l=Y(l);for(var T=0,M=l.length;T<M;T++)Li(i,l[T],h,p)}return this}var vn="_leaflet_events";function kt(i,l,h,p){if(arguments.length===1)Ln(i),delete i[vn];else if(l&&typeof l=="object")for(var v in l)Dn(i,v,l[v],h);else if(l=Y(l),arguments.length===2)Ln(i,function(R){return It(l,R)!==-1});else for(var T=0,M=l.length;T<M;T++)Dn(i,l[T],h,p);return this}function Ln(i,l){for(var h in i[vn]){var p=h.split(/\d/)[0];(!l||l(p))&&Dn(i,p,null,null,h)}}var fa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Li(i,l,h,p){var v=l+y(h)+(p?"_"+y(p):"");if(i[vn]&&i[vn][v])return this;var T=function(R){return h.call(p||i,R||window.event)},M=T;!ut.touchNative&&ut.pointer&&l.indexOf("touch")===0?T=be(i,l,T):ut.touch&&l==="dblclick"?T=Qa(i,T):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(fa[l]||l,T,ut.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(R){R=R||window.event,Ri(i,R)&&M(R)},i.addEventListener(fa[l],T,!1)):i.addEventListener(l,M,!1):i.attachEvent("on"+l,T),i[vn]=i[vn]||{},i[vn][v]=T}function Dn(i,l,h,p,v){v=v||l+y(h)+(p?"_"+y(p):"");var T=i[vn]&&i[vn][v];if(!T)return this;!ut.touchNative&&ut.pointer&&l.indexOf("touch")===0?Xl(i,l,T):ut.touch&&l==="dblclick"?Gn(i,T):"removeEventListener"in i?i.removeEventListener(fa[l]||l,T,!1):i.detachEvent("on"+l,T),i[vn][v]=null}function Xn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ms(i){return Li(i,"wheel",Xn),this}function ps(i){return yt(i,"mousedown touchstart dblclick contextmenu",Xn),i._leaflet_disable_click=!0,this}function _e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Rn(i){return _e(i),Xn(i),this}function or(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function Ue(i,l){if(!l)return new W(i.clientX,i.clientY);var h=ui(l),p=h.boundingClientRect;return new W((i.clientX-p.left)/h.x-l.clientLeft,(i.clientY-p.top)/h.y-l.clientTop)}var Di=ut.linux&&ut.chrome?window.devicePixelRatio:ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function da(i){return ut.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Di:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ri(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var th={__proto__:null,on:yt,off:kt,stopPropagation:Xn,disableScrollPropagation:ms,disableClickPropagation:ps,preventDefault:_e,stop:Rn,getPropagationPath:or,getMousePosition:Ue,getWheelDelta:da,isExternalTarget:Ri,addListener:yt,removeListener:kt},$a=$.extend({run:function(i,l,h,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=li(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),he(this._el,h),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ct=$.extend({options:{crs:Si,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=V(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(tt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ls&&ut.any3d&&!ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(tt(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),T=i instanceof W?i:this.latLngToContainerPoint(i),M=T.subtract(v).multiplyBy(1-1/p),R=this.containerPointToLatLng(v.add(M));return this.setView(R,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():nt(i);var h=x(l.paddingTopLeft||l.padding||[0,0]),p=x(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(i,!1,h.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:i.getCenter(),zoom:v};var T=p.subtract(h).divideBy(2),M=this.project(i.getSouthWest(),v),R=this.project(i.getNorthEast(),v),U=this.unproject(M.add(R).divideBy(2).add(T),v);return{center:U,zoom:v}},fitBounds:function(i,l){if(i=nt(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=x(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $a,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!ut.any3d)return this.setView(i,l,h);this._stop();var p=this.project(this.getCenter()),v=this.project(i),T=this.getSize(),M=this._zoom;i=tt(i),l=l===void 0?M:l;var R=Math.max(T.x,T.y),U=R*this.getZoomScale(M,l),X=v.distanceTo(p)||1,it=1.42,at=it*it;function lt(oe){var Bn=oe?-1:1,Qn=oe?U:R,_i=U*U-R*R+Bn*at*at*X*X,Fn=2*Qn*at*X,Aa=_i/Fn,fo=Math.sqrt(Aa*Aa+1)-Aa,xa=fo<1e-9?-18:Math.log(fo);return xa}function gt(oe){return(Math.exp(oe)-Math.exp(-oe))/2}function Jt(oe){return(Math.exp(oe)+Math.exp(-oe))/2}function fe(oe){return gt(oe)/Jt(oe)}var Ne=lt(0);function cn(oe){return R*(Jt(Ne)/Jt(Ne+it*oe))}function mu(oe){return R*(Jt(Ne)*fe(Ne+it*oe)-gt(Ne))/at}function pu(oe){return 1-Math.pow(1-oe,1.5)}var wa=Date.now(),Ms=(lt(1)-Ne)/it,vu=h.duration?1e3*h.duration:1e3*Ms*.8;function Os(){var oe=(Date.now()-wa)/vu,Bn=pu(oe)*Ms;oe<=1?(this._flyToFrame=Pt(Os,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(mu(Bn)/X)),M),this.getScaleZoom(R/cn(Bn),M),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Os.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=nt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,nt(i));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=x(l.paddingTopLeft||l.padding||[0,0]),p=x(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),T=this.project(i),M=this.getPixelBounds(),R=K([M.min.add(h),M.max.subtract(p)]),U=R.getSize();if(!R.contains(T)){this._enforcingBounds=!0;var X=T.subtract(R.getCenter()),it=R.extend(T).getSize().subtract(U);v.x+=X.x<0?-it.x:it.x,v.y+=X.y<0?-it.y:it.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=c({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),v=h.divideBy(2).round(),T=p.subtract(v);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=c({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=m(this._handleGeolocationResponse,this),h=m(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,p=new rt(l,h),v=p.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var M=this.getBoundsZoom(v);this.setView(p,T.maxZoom?Math.min(M,T.maxZoom):M)}var R={latlng:p,bounds:v,timestamp:i.timestamp};for(var U in i.coords)typeof i.coords[U]=="number"&&(R[U]=i.coords[U]);this.fire("locationfound",R)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ft(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=Rt("div",h,l||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new F(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=nt(i),h=x(h||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),T=this.getMaxZoom(),M=i.getNorthWest(),R=i.getSouthEast(),U=this.getSize().subtract(h),X=K(this.project(R,p),this.project(M,p)).getSize(),it=ut.any3d?this.options.zoomSnap:1,at=U.x/X.x,lt=U.y/X.y,gt=l?Math.max(at,lt):Math.min(at,lt);return p=this.getScaleZoom(gt,p),it&&(p=Math.round(p/(it/100))*(it/100),p=l?Math.ceil(p/it)*it:Math.floor(p/it)*it),Math.max(v,Math.min(T,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new Z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(i*h.scale(l));return isNaN(p)?1/0:p},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(tt(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(x(i),l)},layerPointToLatLng:function(i){var l=x(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(tt(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(tt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(nt(i))},distance:function(i,l){return this.options.crs.distance(tt(i),tt(l))},containerPointToLayerPoint:function(i){return x(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return x(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(x(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(i)))},mouseEventToContainerPoint:function(i){return Ue(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Fa(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(l,"scroll",this._onScroll,this),this._containerId=y(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ut.any3d,St(i,"leaflet-container"+(ut.touch?" leaflet-touch":"")+(ut.retina?" leaflet-retina":"")+(ut.ielt9?" leaflet-oldie":"")+(ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Mi(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),he(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(i.markerPane,"leaflet-zoom-hide"),St(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){he(this._mapPane,new W(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,h)._move(i,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?h&&h.pinch&&this.fire("zoom",h):((v||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){he(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[y(this._container)]=this;var l=i?kt:yt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ut.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],p,v=l==="mouseout"||l==="mouseover",T=i.target||i.srcElement,M=!1;T;){if(p=this._targets[y(T)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){M=!0;break}if(p&&p.listens(l,!0)&&(v&&!Ri(T,i)||(h.push(p),v))||T===this._container)break;T=T.parentNode}return!h.length&&!M&&!v&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&ha(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var p=c({},i);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var v=this._findEventTargets(i,l);if(h){for(var T=[],M=0;M<h.length;M++)h[M].listens(l,!0)&&T.push(h[M]);v=T.concat(v)}if(v.length){l==="contextmenu"&&_e(i);var R=v[0],U={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var X=R.getLatLng&&(!R._radius||R._radius<=10);U.containerPoint=X?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(i),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=X?R.getLatLng():this.layerPointToLatLng(U.layerPoint)}for(M=0;M<v.length;M++)if(v[M].fire(l,U,!0),U.originalEvent._stopped||v[M].options.bubblingMouseEvents===!1&&It(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return li(this._mapPane)||new W(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,l,h){var p=this._getNewPixelOrigin(h,l);return K([this.project(i.getSouthWest(),l)._subtract(p),this.project(i.getNorthWest(),l)._subtract(p),this.project(i.getSouthEast(),l)._subtract(p),this.project(i.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var p=this.project(i,l),v=this.getSize().divideBy(2),T=new Z(p.subtract(v),p.add(v)),M=this._getBoundsOffset(T,h,l);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?i:this.unproject(p.add(M),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),p=new Z(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(i,l,h){var p=K(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),v=p.min.subtract(i.min),T=p.max.subtract(i.max),M=this._rebound(v.x,-T.x),R=this._rebound(v.y,-T.y);return new W(M,R)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),p=ut.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=la,p=this._proxy.style[h];un(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();un(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(i)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(v)?!1:(Pt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _a(i,l){return new Ct(i,l)}var Xe=ve.extend({options:{position:"topright"},initialize:function(i){V(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),p=i._controlCorners[h];return St(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),vs=function(i){return new Xe(i)};Ct.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=Rt("div",l+"control-container",this._container);function p(v,T){var M=l+v+" "+l+T;i[v+T]=Rt("div",M,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ft(this._controlCorners[i]);Ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kl=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(i,l,h){V(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Xe.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(y(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=Rt("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ps(l),ms(l);var p=this._section=Rt("section",i+"-list");h&&(this._map.on("click",this.collapse,this),yt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Rt("a",i+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),yt(v,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){_e(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Rt("div",i+"-base",p),this._separator=Rt("div",i+"-separator",p),this._overlaysList=Rt("div",i+"-overlays",p),l.appendChild(p)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&y(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(m(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ke(this._baseLayersList),ke(this._overlaysList),this._layerControlInputs=[];var i,l,h,p,v=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,i=i||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&v>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(y(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+y(this),h),this._layerControlInputs.push(p),p.layerId=y(i.layer),yt(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+i.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(p),T.appendChild(v);var M=i.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,p=[],v=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)l=i[T],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||v.push(h);for(T=0;T<v.length;T++)this._map.hasLayer(v[T])&&this._map.removeLayer(v[T]);for(T=0;T<p.length;T++)this._map.hasLayer(p[T])||this._map.addLayer(p[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,p=this._map.getZoom(),v=i.length-1;v>=0;v--)l=i[v],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,yt(i,"click",_e),this.expand();var l=this;setTimeout(function(){kt(i,"click",_e),l._preventClick=!1})}}),eh=function(i,l,h){return new Kl(i,l,h)},rr=Xe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=Rt("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,p,v){var T=Rt("a",h,p);return T.innerHTML=i,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ps(T),yt(T,"click",Rn),yt(T,"click",v,this),yt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Kt(this._zoomInButton,l),Kt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(St(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(St(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rr,this.addControl(this.zoomControl))});var lr=function(i){return new rr(i)},Jl=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=Rt("div",l),p=this.options;return this._addScales(p,l+"-line",h),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=Rt("div",l,h)),i.imperial&&(this._iScale=Rt("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,p,v;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),nh=function(i){return new Jl(i)},ih='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ur=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ut.inlineSvg?ih+" ":"")+"Leaflet</a>"},initialize:function(i){V(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),ps(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new ur().addTo(this)});var sh=function(i){return new ur(i)};Xe.Layers=Kl,Xe.Zoom=rr,Xe.Scale=Jl,Xe.Attribution=ur,vs.layers=eh,vs.zoom=lr,vs.scale=nh,vs.attribution=sh;var gn=ve.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(i,l){return i.addHandler(l,this),this};var ah={Events:I},$l=ut.touch?"touchstart mousedown":"mousedown",ci=$.extend({options:{clickTolerance:3},initialize:function(i,l,h,p){V(this,p),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(yt(this._dragStartTarget,$l,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ci._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,$l,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!cs(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ci._dragging===this&&this.finishDrag();return}if(!(ci._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ci._dragging=this,this._preventOutline&&ha(this._element),ca(),Nn(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Ni(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=li(this._element),this._parentScale=ui(h);var p=i.type==="mousedown";yt(document,p?"mousemove":"touchmove",this._onMove,this),yt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new W(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,_e(i),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),he(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Kt(document.body,"leaflet-dragging"),this._lastTarget&&(Kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),ar(),ua();var l=this._moved&&this._moving;this._moving=!1,ci._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function tu(i,l,h){var p,v=[1,4,2,8],T,M,R,U,X,it,at,lt;for(T=0,it=i.length;T<it;T++)i[T]._code=zi(i[T],l);for(R=0;R<4;R++){for(at=v[R],p=[],T=0,it=i.length,M=it-1;T<it;M=T++)U=i[T],X=i[M],U._code&at?X._code&at||(lt=eo(X,U,at,l,h),lt._code=zi(lt,l),p.push(lt)):(X._code&at&&(lt=eo(X,U,at,l,h),lt._code=zi(lt,l),p.push(lt)),p.push(U));i=p}return i}function to(i,l){var h,p,v,T,M,R,U,X,it;if(!i||i.length===0)throw new Error("latlngs not passed");Oe(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var at=tt([0,0]),lt=nt(i),gt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());gt<1700&&(at=cr(i));var Jt=i.length,fe=[];for(h=0;h<Jt;h++){var Ne=tt(i[h]);fe.push(l.project(tt([Ne.lat-at.lat,Ne.lng-at.lng])))}for(R=U=X=0,h=0,p=Jt-1;h<Jt;p=h++)v=fe[h],T=fe[p],M=v.y*T.x-T.y*v.x,U+=(v.x+T.x)*M,X+=(v.y+T.y)*M,R+=M*3;R===0?it=fe[0]:it=[U/R,X/R];var cn=l.unproject(x(it));return tt([cn.lat+at.lat,cn.lng+at.lng])}function cr(i){for(var l=0,h=0,p=0,v=0;v<i.length;v++){var T=tt(i[v]);l+=T.lat,h+=T.lng,p++}return tt([l/p,h/p])}var oh={__proto__:null,clipPolygon:tu,polygonCenter:to,centroid:cr};function eu(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=uh(i,h),i=lh(i,h),i}function hr(i,l,h){return Math.sqrt(Pi(i,l,h,!0))}function rh(i,l,h){return Pi(i,l,h)}function lh(i,l){var h=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(h);v[0]=v[h-1]=1,fr(i,v,l,0,h-1);var T,M=[];for(T=0;T<h;T++)v[T]&&M.push(i[T]);return M}function fr(i,l,h,p,v){var T=0,M,R,U;for(R=p+1;R<=v-1;R++)U=Pi(i[R],i[p],i[v],!0),U>T&&(M=R,T=U);T>h&&(l[M]=1,fr(i,l,h,p,M),fr(i,l,h,M,v))}function uh(i,l){for(var h=[i[0]],p=1,v=0,T=i.length;p<T;p++)ch(i[p],i[v])>l&&(h.push(i[p]),v=p);return v<T-1&&h.push(i[T-1]),h}var nu;function iu(i,l,h,p,v){var T=p?nu:zi(i,h),M=zi(l,h),R,U,X;for(nu=M;;){if(!(T|M))return[i,l];if(T&M)return!1;R=T||M,U=eo(i,l,R,h,v),X=zi(U,h),R===T?(i=U,T=X):(l=U,M=X)}}function eo(i,l,h,p,v){var T=l.x-i.x,M=l.y-i.y,R=p.min,U=p.max,X,it;return h&8?(X=i.x+T*(U.y-i.y)/M,it=U.y):h&4?(X=i.x+T*(R.y-i.y)/M,it=R.y):h&2?(X=U.x,it=i.y+M*(U.x-i.x)/T):h&1&&(X=R.x,it=i.y+M*(R.x-i.x)/T),new W(X,it,v)}function zi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function ch(i,l){var h=l.x-i.x,p=l.y-i.y;return h*h+p*p}function Pi(i,l,h,p){var v=l.x,T=l.y,M=h.x-v,R=h.y-T,U=M*M+R*R,X;return U>0&&(X=((i.x-v)*M+(i.y-T)*R)/U,X>1?(v=h.x,T=h.y):X>0&&(v+=M*X,T+=R*X)),M=i.x-v,R=i.y-T,p?M*M+R*R:new W(v,T)}function Oe(i){return!st(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function su(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oe(i)}function dr(i,l){var h,p,v,T,M,R,U,X;if(!i||i.length===0)throw new Error("latlngs not passed");Oe(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var it=tt([0,0]),at=nt(i),lt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());lt<1700&&(it=cr(i));var gt=i.length,Jt=[];for(h=0;h<gt;h++){var fe=tt(i[h]);Jt.push(l.project(tt([fe.lat-it.lat,fe.lng-it.lng])))}for(h=0,p=0;h<gt-1;h++)p+=Jt[h].distanceTo(Jt[h+1])/2;if(p===0)X=Jt[0];else for(h=0,T=0;h<gt-1;h++)if(M=Jt[h],R=Jt[h+1],v=M.distanceTo(R),T+=v,T>p){U=(T-p)/v,X=[R.x-U*(R.x-M.x),R.y-U*(R.y-M.y)];break}var Ne=l.unproject(x(X));return tt([Ne.lat+it.lat,Ne.lng+it.lng])}var au={__proto__:null,simplify:eu,pointToSegmentDistance:hr,closestPointOnSegment:rh,clipSegment:iu,_getEdgeIntersection:eo,_getBitCode:zi,_sqClosestPointOnSegment:Pi,isFlat:Oe,_flat:su,polylineCenter:dr},no={project:function(i){return new W(i.lng,i.lat)},unproject:function(i){return new rt(i.y,i.x)},bounds:new Z([-180,-90],[180,90])},io={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,p=i.lat*l,v=this.R_MINOR/h,T=Math.sqrt(1-v*v),M=T*Math.sin(p),R=Math.tan(Math.PI/4-p/2)/Math.pow((1-M)/(1+M),T/2);return p=-h*Math.log(Math.max(R,1e-10)),new W(i.lng*l*h,p)},unproject:function(i){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,v=Math.sqrt(1-p*p),T=Math.exp(-i.y/h),M=Math.PI/2-2*Math.atan(T),R=0,U=.1,X;R<15&&Math.abs(U)>1e-7;R++)X=v*Math.sin(M),X=Math.pow((1-X)/(1+X),v/2),U=Math.PI/2-2*Math.atan(T*X)-M,M+=U;return new rt(M*l,i.x*l/h)}},ou={__proto__:null,LonLat:no,Mercator:io,SphericalMercator:si},gs=c({},Lt,{code:"EPSG:3395",projection:io,transformation:(function(){var i=.5/(Math.PI*io.R);return Yn(i,.5,-i,.5)})()}),ru=c({},Lt,{code:"EPSG:4326",projection:no,transformation:Yn(1/180,1,-1/180,.5)}),hh=c({},ie,{projection:no,transformation:Yn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,p=l.lat-i.lat;return Math.sqrt(h*h+p*p)},infinite:!0});ie.Earth=Lt,ie.EPSG3395=gs,ie.EPSG3857=Si,ie.EPSG900913=Fo,ie.EPSG4326=ru,ie.Simple=hh;var yn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[y(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[y(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=y(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=y(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return y(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?st(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[y(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=y(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;i=v.minZoom===void 0?i:Math.min(i,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=yn.extend({initialize:function(i,l){V(this,l),this._layers={};var h,p;if(i)for(h=0,p=i.length;h<p;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[i]&&p[i].apply(p,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return y(i)}}),lu=function(i,l){return new Bi(i,l)},Ke=Bi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Bi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Bi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new F;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),ma=function(i,l){return new Ke(i,l)},ys=ve.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){V(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=x(p),T=x(l==="shadow"&&h.shadowAnchor||h.iconAnchor||v&&v.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),v&&(i.style.width=v.x+"px",i.style.height=v.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return ut.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function so(i){return new ys(i)}var bs=ys.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof bs.imagePath!="string"&&(bs.imagePath=this._detectIconPath()),(this.options.imagePath||bs.imagePath)+ys.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,p,v){var T=p.exec(h);return T&&T[v]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Rt("div","leaflet-default-icon-path",document.body),l=Mi(i,"background-image")||Mi(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),_r=gn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ci(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,T=li(l._icon),M=h.getPixelBounds(),R=h.getPixelOrigin(),U=K(M.min._subtract(R).add(v),M.max._subtract(R).subtract(v));if(!U.contains(T)){var X=x((Math.max(U.max.x,T.x)-U.max.x)/(M.max.x-U.max.x)-(Math.min(U.min.x,T.x)-U.min.x)/(M.min.x-U.min.x),(Math.max(U.max.y,T.y)-U.max.y)/(M.max.y-U.max.y)-(Math.min(U.min.y,T.y)-U.min.y)/(M.min.y-U.min.y)).multiplyBy(p);h.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),he(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Pt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,p=li(l._icon),v=l._map.layerPointToLatLng(p);h&&he(h,p),l._latlng=v,i.latlng=v,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ss=yn.extend({options:{icon:new bs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){V(this,l),this._latlng=tt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=tt(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),St(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(h,"focus",this._panOnFocus,this);var v=i.icon.createShadow(this._shadow),T=!1;v!==this._shadow&&(this._removeShadow(),T=!0),v&&(St(v,l),v.alt=""),this._shadow=v,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),Ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ft(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&he(this._icon,i),this._shadow&&he(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_r)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _r(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ge(this._icon,i),this._shadow&&Ge(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?x(l.iconSize):x(0,0),p=l.iconAnchor?x(l.iconAnchor):x(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mr(i,l){return new Ss(i,l)}var Vn=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return V(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pa=Vn.extend({options:{fill:!0,radius:10},initialize:function(i,l){V(this,l),this._latlng=tt(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=tt(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Vn.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),p=[i+h,l+h];this._pxBounds=new Z(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function uu(i,l){return new pa(i,l)}var pr=pa.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),V(this,l),this._latlng=tt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Vn.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Lt.distance){var v=Math.PI/180,T=this._mRadius/Lt.R/v,M=h.project([l+T,i]),R=h.project([l-T,i]),U=M.add(R).divideBy(2),X=h.unproject(U).lat,it=Math.acos((Math.cos(T*v)-Math.sin(l*v)*Math.sin(X*v))/(Math.cos(l*v)*Math.cos(X*v)))/v;(isNaN(it)||it===0)&&(it=T/Math.cos(Math.PI/180*l)),this._point=U.subtract(h.getPixelOrigin()),this._radius=isNaN(it)?0:U.x-h.project([X,i-it]).x,this._radiusY=U.y-M.y}else{var at=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(at).x}this._updateBounds()}});function fh(i,l,h){return new pr(i,l,h)}var Wn=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){V(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,p=Pi,v,T,M=0,R=this._parts.length;M<R;M++)for(var U=this._parts[M],X=1,it=U.length;X<it;X++){v=U[X-1],T=U[X];var at=p(i,v,T,!0);at<l&&(l=at,h=p(i,v,T))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=tt(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new F,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=Oe(i),p=0,v=i.length;p<v;p++)h?(l[p]=tt(i[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(i[p]);return l},_project:function(){var i=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new W(i,i);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var p=i[0]instanceof rt,v=i.length,T,M;if(p){for(M=[],T=0;T<v;T++)M[T]=this._map.latLngToLayerPoint(i[T]),h.extend(M[T]);l.push(M)}else for(T=0;T<v;T++)this._projectLatlngs(i[T],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,v,T,M,R,U;for(h=0,v=0,T=this._rings.length;h<T;h++)for(U=this._rings[h],p=0,M=U.length;p<M-1;p++)R=iu(U[p],U[p+1],i,p,!0),R&&(l[v]=l[v]||[],l[v].push(R[0]),(R[1]!==U[p+1]||p===M-2)&&(l[v].push(R[1]),v++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,p=i.length;h<p;h++)i[h]=eu(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,p,v,T,M,R,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,T=this._parts.length;h<T;h++)for(R=this._parts[h],p=0,M=R.length,v=M-1;p<M;v=p++)if(!(!l&&p===0)&&hr(i,R[v],R[p])<=U)return!0;return!1}});function dh(i,l){return new Wn(i,l)}Wn._flat=su;var Ts=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return to(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Wn.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof rt&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){Wn.prototype._setLatLngs.call(this,i),Oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new W(l,l);if(i=new Z(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,T;p<v;p++)T=tu(this._rings[p],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,p,v,T,M,R,U,X;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,U=this._parts.length;T<U;T++)for(h=this._parts[T],M=0,X=h.length,R=X-1;M<X;R=M++)p=h[M],v=h[R],p.y>i.y!=v.y>i.y&&i.x<(v.x-p.x)*(i.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||Wn.prototype._containsPoint.call(this,i,!0)}});function Je(i,l){return new Ts(i,l)}var $e=Ke.extend({initialize:function(i,l){V(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=st(i)?i:i.features,h,p,v;if(l){for(h=0,p=l.length;h<p;h++)v=l[h],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var M=va(i,T);return M?(M.feature=Es(i),M.defaultOptions=M.options,this.resetStyle(M),T.onEachFeature&&T.onEachFeature(i,M),this.addLayer(M)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=c({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function va(i,l){var h=i.type==="Feature"?i.geometry:i,p=h?h.coordinates:null,v=[],T=l&&l.pointToLayer,M=l&&l.coordsToLatLng||ao,R,U,X,it;if(!p&&!h)return null;switch(h.type){case"Point":return R=M(p),vr(T,i,R,l);case"MultiPoint":for(X=0,it=p.length;X<it;X++)R=M(p[X]),v.push(vr(T,i,R,l));return new Ke(v);case"LineString":case"MultiLineString":return U=ga(p,h.type==="LineString"?0:1,M),new Wn(U,l);case"Polygon":case"MultiPolygon":return U=ga(p,h.type==="Polygon"?1:2,M),new Ts(U,l);case"GeometryCollection":for(X=0,it=h.geometries.length;X<it;X++){var at=va({geometry:h.geometries[X],type:"Feature",properties:i.properties},l);at&&v.push(at)}return new Ke(v);case"FeatureCollection":for(X=0,it=h.features.length;X<it;X++){var lt=va(h.features[X],l);lt&&v.push(lt)}return new Ke(v);default:throw new Error("Invalid GeoJSON object.")}}function vr(i,l,h,p){return i?i(l,h):new Ss(h,p&&p.markersInheritOptions&&p)}function ao(i){return new rt(i[1],i[0],i[2])}function ga(i,l,h){for(var p=[],v=0,T=i.length,M;v<T;v++)M=l?ga(i[v],l-1,h):(h||ao)(i[v]),p.push(M);return p}function ya(i,l){return i=tt(i),i.alt!==void 0?[A(i.lng,l),A(i.lat,l),A(i.alt,l)]:[A(i.lng,l),A(i.lat,l)]}function oo(i,l,h,p){for(var v=[],T=0,M=i.length;T<M;T++)v.push(l?oo(i[T],Oe(i[T])?0:l-1,h,p):ya(i[T],p));return!l&&h&&v.length>0&&v.push(v[0].slice()),v}function bn(i,l){return i.feature?c({},i.feature,{geometry:l}):Es(l)}function Es(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ki={toGeoJSON:function(i){return bn(this,{type:"Point",coordinates:ya(this.getLatLng(),i)})}};Ss.include(ki),pr.include(ki),pa.include(ki),Wn.include({toGeoJSON:function(i){var l=!Oe(this._latlngs),h=oo(this._latlngs,l?1:0,!1,i);return bn(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ts.include({toGeoJSON:function(i){var l=!Oe(this._latlngs),h=l&&!Oe(this._latlngs[0]),p=oo(this._latlngs,h?2:l?1:0,!0,i);return l||(p=[p]),bn(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),Bi.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),bn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var T=v.toGeoJSON(i);if(h)p.push(T.geometry);else{var M=Es(T);M.type==="FeatureCollection"?p.push.apply(p,M.features):p.push(M)}}}),h?bn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ro(i,l){return new $e(i,l)}var cu=ro,zn=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=nt(l),V(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&us(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=nt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:Rt("img");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=m(this.fire,this,"load"),l.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;un(this._image,h,l)},_reset:function(){var i=this._image,l=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();he(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Cs=function(i,l,h){return new zn(i,l,h)},lo=zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:Rt("video");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=m(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),p=[],v=0;v<h.length;v++)p.push(h[v].src);this._url=h.length>0?p:[l.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var M=Rt("source");M.src=this._url[T],l.appendChild(M)}}});function hu(i,l,h){return new lo(i,l,h)}var hi=zn.extend({_initImage:function(){var i=this._image=this._url;St(i,"leaflet-image-layer"),this._zoomAnimated&&St(i,"leaflet-zoom-animated"),this.options.className&&St(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function fu(i,l,h){return new hi(i,l,h)}var Sn=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof rt||st(i))?(this._latlng=tt(i),V(this,l)):(V(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ge(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ge(this._container,0),this._removeTimeout=setTimeout(m(Ft,void 0,this._container),200)):Ft(this._container),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=tt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&us(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Ke){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=x(this.options.offset),h=this._getAnchor();this._zoomAnimated?he(this._container,i.add(h)):l=l.add(i).add(h);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(i,l,h,p){var v=l;return v instanceof i||(v=new i(p).setContent(l)),h&&v.setLatLng(h),v}}),yn.include({_initOverlay:function(i,l,h,p){var v=h;return v instanceof i?(V(v,p),v._source=this):(v=l&&!p?l:new i(p,this),v.setContent(h)),v}});var ba=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Sn.prototype.openOn.call(this,i)},onAdd:function(i){Sn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",Xn))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",Xn))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=Rt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Rt("div",i+"-content-wrapper",l);if(this._contentNode=Rt("div",i+"-content",h),ps(l),ms(this._contentNode),yt(l,"contextmenu",Xn),this._tipContainer=Rt("div",i+"-tip-container",l),this._tip=Rt("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Rt("a",i+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',yt(p,"click",function(v){_e(v),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=i.offsetHeight,v=this.options.maxHeight,T="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",St(i,T)):Kt(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();he(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Mi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,v=new W(this._containerLeft,-h-this._containerBottom);v._add(li(this._container));var T=i.layerPointToContainerPoint(v),M=x(this.options.autoPanPadding),R=x(this.options.autoPanPaddingTopLeft||M),U=x(this.options.autoPanPaddingBottomRight||M),X=i.getSize(),it=0,at=0;T.x+p+U.x>X.x&&(it=T.x+p-X.x+U.x),T.x-it-R.x<0&&(it=T.x-R.x),T.y+h+U.y>X.y&&(at=T.y+h-X.y+U.y),T.y-at-R.y<0&&(at=T.y-R.y),(it||at)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([it,at]))}},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_h=function(i,l){return new ba(i,l)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(i,l,h){return this._initOverlay(ba,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),yn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(ba,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ke||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Rn(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Vn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var uo=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Sn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Sn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Sn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,p=this._map,v=this._container,T=p.latLngToContainerPoint(p.getCenter()),M=p.layerPointToContainerPoint(i),R=this.options.direction,U=v.offsetWidth,X=v.offsetHeight,it=x(this.options.offset),at=this._getAnchor();R==="top"?(l=U/2,h=X):R==="bottom"?(l=U/2,h=0):R==="center"?(l=U/2,h=X/2):R==="right"?(l=0,h=X/2):R==="left"?(l=U,h=X/2):M.x<T.x?(R="right",l=0,h=X/2):(R="left",l=U+(it.x+at.x)*2,h=X/2),i=i.subtract(x(l,h,!0)).add(it).add(at),Kt(v,"leaflet-tooltip-right"),Kt(v,"leaflet-tooltip-left"),Kt(v,"leaflet-tooltip-top"),Kt(v,"leaflet-tooltip-bottom"),St(v,"leaflet-tooltip-"+R),he(v,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ge(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),mh=function(i,l){return new uo(i,l)};Ct.include({openTooltip:function(i,l,h){return this._initOverlay(uo,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),yn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(uo,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ke||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(yt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),yt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,p;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var gr=ys.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ke(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=x(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function du(i){return new gr(i)}ys.Default=bs;var Hi=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){V(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ft(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof W?i:new W(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),p=0,v=l.length,T;p<v;p++)T=l[p].style.zIndex,l[p]!==this._container&&T&&(h=i(h,+T));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ut.ielt9){Ge(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var T=Math.min(1,(i-v.loaded)/200);Ge(v.el,T),T<1?l=!0:(v.active?h=!0:this._onOpaqueTile(v),v.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Nt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(Ft(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[i],v=this._map;return p||(p=this._levels[i]={},p.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,v.getCenter(),v.getZoom()),w(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ft(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,p){var v=Math.floor(i/2),T=Math.floor(l/2),M=h-1,R=new W(+v,+T);R.z=+M;var U=this._tileCoordsToKey(R),X=this._tiles[U];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),M>p?this._retainParent(v,T,M,p):!1)},_retainChildren:function(i,l,h,p){for(var v=2*i;v<2*i+2;v++)for(var T=2*l;T<2*l+2;T++){var M=new W(v,T);M.z=h+1;var R=this._tileCoordsToKey(M),U=this._tiles[R];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);h+1<p&&this._retainChildren(v,T,h+1,p)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var T=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||T)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var p=this._map.getZoomScale(h,i.zoom),v=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();ut.any3d?un(i.el,v,p):he(i.el,v)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),v=l.project(i,this._tileZoom).floor(),T=l.getSize().divideBy(p*2);return new Z(v.subtract(T),v.add(T))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),v=this._pxBoundsToTileRange(p),T=v.getCenter(),M=[],R=this.options.keepBuffer,U=new Z(v.getBottomLeft().subtract([R,-R]),v.getTopRight().add([R,-R]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var it=this._tiles[X].coords;(it.z!==this._tileZoom||!U.contains(new W(it.x,it.y)))&&(this._tiles[X].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var at=v.min.y;at<=v.max.y;at++)for(var lt=v.min.x;lt<=v.max.x;lt++){var gt=new W(lt,at);if(gt.z=this._tileZoom,!!this._isValidTile(gt)){var Jt=this._tiles[this._tileCoordsToKey(gt)];Jt?Jt.current=!0:M.push(gt)}}if(M.sort(function(Ne,cn){return Ne.distanceTo(T)-cn.distanceTo(T)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fe=document.createDocumentFragment();for(lt=0;lt<M.length;lt++)this._addTile(M[lt],fe);this._level.el.appendChild(fe)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return nt(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),p=i.scaleBy(h),v=p.add(h),T=l.unproject(p,i.z),M=l.unproject(v,i.z);return[T,M]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new F(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new W(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(Ft(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){St(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,ut.ielt9&&this.options.opacity<1&&Ge(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),p=this._tileCoordsToKey(i),v=this.createTile(this._wrapCoords(i),m(this._tileReady,this,i));this._initTile(v),this.createTile.length<2&&Pt(m(this._tileReady,this,i,null,v)),he(v,h),this._tiles[p]={el:v,coords:i,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var p=this._tileCoordsToKey(i);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ge(h.el,0),Nt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(St(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ut.ielt9||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new W(this._wrapX?C(i.x,this._wrapX):i.x,this._wrapY?C(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new Z(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Tn(i){return new Hi(i)}var Ui=Hi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=V(this,l),l.detectRetina&&ut.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return yt(h,"load",m(this._tileOnLoad,this,l,h)),yt(h,"error",m(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:ut.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return dt(this._url,c(l,this.options))},_tileOnLoad:function(i,l){ut.ielt9?setTimeout(m(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(i=l-i),i+p},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=ft;var h=this._tiles[i].coords;Ft(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",ft),Hi.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===ft))return Hi.prototype._tileReady.call(this,i,l,h)}});function tn(i,l){return new Ui(i,l)}var en=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=c({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=V(this,l);var v=l.detectRetina&&ut.retina?2:1,T=this.getTileSize();h.width=T.x*v,h.height=T.y*v,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ui.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,p=K(h.project(l[0]),h.project(l[1])),v=p.min,T=p.max,M=(this._wmsVersion>=1.3&&this._crs===ru?[v.y,v.x,T.y,T.x]:[v.x,v.y,T.x,T.y]).join(","),R=Ui.prototype.getTileUrl.call(this,i);return R+et(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(i,l){return c(this.wmsParams,i),l||this.redraw(),this}});function ws(i,l){return new en(i,l)}Ui.WMS=en,tn.wms=ws;var En=yn.extend({options:{padding:.1},initialize:function(i){V(this,i),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),T=p.multiplyBy(-h).add(v).subtract(this._map._getNewPixelOrigin(i,l));ut.any3d?un(this._container,T,h):he(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new Z(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=En.extend({options:{tolerance:0},getEvents:function(){var i=En.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){En.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");yt(i,"mousemove",this._onMouseMove,this),yt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,Ft(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),p=ut.retina?2:1;he(l,i.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){En.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[y(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete i._order,delete this._layers[y(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;h.push(p)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,p,v,T,M=i._parts,R=M.length,U=this._ctx;if(R){for(U.beginPath(),h=0;h<R;h++){for(p=0,v=M[h].length;p<v;p++)T=M[h][p],U[p?"lineTo":"moveTo"](T.x,T.y);l&&U.closePath()}this._fillStroke(U,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,p=Math.max(Math.round(i._radius),1),v=(Math.max(Math.round(i._radiusY),1)||p)/p;v!==1&&(h.save(),h.scale(1,v)),h.beginPath(),h.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(St(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function Ta(i){return ut.canvas?new Sa(i):null}var Ii=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),As={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(En.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Ii("shape");St(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Ii("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Ft(l),i.removeInteractiveTarget(l),delete this._layers[y(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,p=i.options,v=i._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=i._stroke=Ii("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=st(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),i._stroke=null),p.fill?(h||(h=i._fill=Ii("fill")),v.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(v.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),p=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Oi(i._container)},_bringToBack:function(i){us(i._container)}},Ea=ut.vml?Ii:Pl,fi=En.extend({_initContainer:function(){this._container=Ea("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ea("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ft(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),he(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Ea("path");i.options.className&&St(l,i.options.className),i.options.interactive&&St(l,"leaflet-interactive"),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ft(i._path),i.removeInteractiveTarget(i._path),delete this._layers[y(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Bl(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||h,v="a"+h+","+p+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+v+h*2+",0 "+v+-h*2+",0 ";this._setPath(i,T)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Oi(i._path)},_bringToBack:function(i){us(i._path)}});ut.vml&&fi.include(As);function Zi(i){return ut.svg||ut.vml?new fi(i):null}Ct.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&Ta(i)||Zi(i)}});var _u=Ts.extend({initialize:function(i,l){Ts.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=nt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function nn(i,l){return new _u(i,l)}fi.create=Ea,fi.pointsToPath=Bl,$e.geometryToLayer=va,$e.coordsToLatLng=ao,$e.coordsToLatLngs=ga,$e.latLngToCoords=ya,$e.latLngsToCoords=oo,$e.getFeature=bn,$e.asFeature=Es,Ct.mergeOptions({boxZoom:!0});var co=gn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),ca(),this._startPoint=this._map.mouseEventToContainerPoint(i),yt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new Z(this._point,this._startPoint),h=l.getSize();he(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ft(this._box),Kt(this._container,"leaflet-crosshair")),ua(),ar(),kt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var l=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",co),Ct.mergeOptions({doubleClickZoom:!0});var Pn=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,v=i.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(i.containerPoint,v)}});Ct.addInitHook("addHandler","doubleClickZoom",Pn),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yr=gn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ci(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Kt(this._map._container,"leaflet-grab"),Kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=nt(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+h)%i+l-h,T=(p+l+h)%i-l-h,M=Math.abs(v+h)<Math.abs(T+h)?v:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(i){var l=this._map,h=l.options,p=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,M=h.easeLinearity,R=v.multiplyBy(M/T),U=R.distanceTo([0,0]),X=Math.min(h.inertiaMaxSpeed,U),it=R.multiplyBy(X/U),at=X/(h.inertiaDeceleration*M),lt=it.multiplyBy(-at/2).round();!lt.x&&!lt.y?l.fire("moveend"):(lt=l._limitOffset(lt,l.options.maxBounds),Pt(function(){l.panBy(lt,{duration:at,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",yr),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ca=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),yt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,p=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,p,v;for(p=0,v=h.left.length;p<v;p++)l[h.left[p]]=[-1*i,0];for(p=0,v=h.right.length;p<v;p++)l[h.right[p]]=[i,0];for(p=0,v=h.down.length;p<v;p++)l[h.down[p]]=[0,i];for(p=0,v=h.up.length;p<v;p++)l[h.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,p,v;for(p=0,v=h.zoomIn.length;p<v;p++)l[h.zoomIn[p]]=i;for(p=0,v=h.zoomOut.length;p<v;p++)l[h.zoomOut[p]]=-i},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],i.shiftKey&&(p=x(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(x(p),h.options.maxBounds)),h.options.worldCopyJump){var v=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(v)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Rn(i)}}});Ct.addInitHook("addHandler","keyboard",Ca),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var di=gn.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=da(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),p),Rn(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,T=h?Math.ceil(v/h)*h:v,M=i._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,M&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+M):i.setZoomAround(this._lastMousePos,l+M))}});Ct.addInitHook("addHandler","scrollWheelZoom",di);var br=600;Ct.mergeOptions({tapHold:ut.touchNative&&ut.safari&&ut.mobile,tapTolerance:15});var ho=gn.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",_e),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),br),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){kt(document,"touchend",_e),kt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Ct.addInitHook("addHandler","tapHold",ho),Ct.mergeOptions({touchZoom:ut.touch,bounceAtZoomLimits:!0});var Yi=gn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),_e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]),v=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var T=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var M=m(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pt(M,this,!0),_e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Nt(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Yi),Ct.BoxZoom=co,Ct.DoubleClickZoom=Pn,Ct.Drag=yr,Ct.Keyboard=Ca,Ct.ScrollWheelZoom=di,Ct.TapHold=ho,Ct.TouchZoom=Yi,s.Bounds=Z,s.Browser=ut,s.CRS=ie,s.Canvas=Sa,s.Circle=pr,s.CircleMarker=pa,s.Class=ve,s.Control=Xe,s.DivIcon=gr,s.DivOverlay=Sn,s.DomEvent=th,s.DomUtil=Fl,s.Draggable=ci,s.Evented=$,s.FeatureGroup=Ke,s.GeoJSON=$e,s.GridLayer=Hi,s.Handler=gn,s.Icon=ys,s.ImageOverlay=zn,s.LatLng=rt,s.LatLngBounds=F,s.Layer=yn,s.LayerGroup=Bi,s.LineUtil=au,s.Map=Ct,s.Marker=Ss,s.Mixin=ah,s.Path=Vn,s.Point=W,s.PolyUtil=oh,s.Polygon=Ts,s.Polyline=Wn,s.Popup=ba,s.PosAnimation=$a,s.Projection=ou,s.Rectangle=_u,s.Renderer=En,s.SVG=fi,s.SVGOverlay=hi,s.TileLayer=Ui,s.Tooltip=uo,s.Transformation=Zn,s.Util=an,s.VideoOverlay=lo,s.bind=m,s.bounds=K,s.canvas=Ta,s.circle=fh,s.circleMarker=uu,s.control=vs,s.divIcon=du,s.extend=c,s.featureGroup=ma,s.geoJSON=ro,s.geoJson=cu,s.gridLayer=Tn,s.icon=so,s.imageOverlay=Cs,s.latLng=tt,s.latLngBounds=nt,s.layerGroup=lu,s.map=_a,s.marker=mr,s.point=x,s.polygon=Je,s.polyline=dh,s.popup=_h,s.rectangle=nn,s.setOptions=V,s.stamp=y,s.svg=Zi,s.svgOverlay=fu,s.tileLayer=tn,s.tooltip=mh,s.transformation=Yn,s.version=r,s.videoOverlay=hu;var xs=window.L;s.noConflict=function(){return window.L=xs,this},window.L=s}))})(rl,rl.exports)),rl.exports}var zl=hA();const Io=pg(zl),fA=Io.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),dA=({eventId:a,onBack:n,writePinData:s})=>{const r=ht.useRef(null),c=ht.useRef(null),[d,m]=ht.useState(!1),[g,y]=ht.useState(null),[S,C]=ht.useState(""),[w,A]=ht.useState("");ht.useEffect(()=>{if(!r.current){const dt=Io.map("map-container").setView([36.110257,140.102389],16);r.current=dt,Io.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>'}).addTo(dt)}const et=r.current,bt=dt=>{if(d){const{lat:st,lng:It}=dt.latlng;y({lat:st,lng:It}),c.current?c.current.setLatLng(dt.latlng):(c.current=Io.marker(dt.latlng,{icon:fA,draggable:!0}).addTo(et),c.current.on("dragend",ft=>{y(ft.target.getLatLng())})),m(!1)}};return et.on("click",bt),()=>{et.off("click",bt)}},[d]);const k=()=>{m(!0)},Y=()=>{m(!1),y(null),C(""),A(""),c.current&&(c.current.remove(),c.current=null)},V=()=>{if(!g||!S.trim()||!w.trim()){alert("");return}s(a,g.lat,g.lng,S,w).then(()=>{alert(""),c.current&&(c.current.dragging?.disable(),c.current.bindPopup(`<strong>${S}</strong><br>${w}`).openPopup()),c.current=null,y(null),C(""),A("")}).catch(et=>{alert(": "+(et.message||"Unknown error"))})};return Q.jsxs("div",{className:"screen map-screen",children:[Q.jsx("header",{className:"map-header",children:Q.jsx("button",{className:"btn-back",onClick:n,children:"< "})}),Q.jsx("div",{id:"map-container",className:d?"pinning-mode":""}),Q.jsxs("div",{className:"upload-panel",children:[!g&&!d&&Q.jsx("button",{className:"btn-panel btn-primary",onClick:k,children:""}),d&&Q.jsxs(Q.Fragment,{children:[Q.jsx("p",{children:""}),Q.jsx("button",{className:"btn-panel btn-secondary",onClick:()=>m(!1),children:""})]}),g&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("p",{children:[": ",g.lat.toFixed(4),", ",g.lng.toFixed(4)]}),Q.jsx("input",{type:"text",value:S,onChange:et=>C(et.target.value),placeholder:""}),Q.jsx("input",{type:"text",value:w,onChange:et=>A(et.target.value),placeholder:""}),Q.jsx("button",{className:"btn-panel btn-success",onClick:V,children:""}),Q.jsx("button",{className:"btn-panel btn-secondary",onClick:Y,children:""})]})]})]})};function f0(a,n){const s=ht.useRef(n);ht.useEffect(function(){n!==s.current&&a.attributionControl!=null&&(s.current!=null&&a.attributionControl.removeAttribution(s.current),n!=null&&a.attributionControl.addAttribution(n)),s.current=n},[a,n])}var _A=vg();const mA=1;function pA(a){return Object.freeze({__version:mA,map:a})}function vA(a,n){return Object.freeze({...a,...n})}const d_=ht.createContext(null);function d0(){const a=ht.use(d_);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function gA(a){function n(s,r){const{instance:c,context:d}=a(s).current;ht.useImperativeHandle(r,()=>c);const{children:m}=s;return m==null?null:yi.createElement(d_,{value:d},m)}return ht.forwardRef(n)}function yA(a){function n(s,r){const[c,d]=ht.useState(!1),{instance:m}=a(s,d).current;ht.useImperativeHandle(r,()=>m),ht.useEffect(function(){c&&m.update()},[m,c,s.children]);const g=m._contentNode;return g?_A.createPortal(s.children,g):null}return ht.forwardRef(n)}function bA(a){function n(s,r){const{instance:c}=a(s).current;return ht.useImperativeHandle(r,()=>c),null}return ht.forwardRef(n)}function _0(a,n){const s=ht.useRef(void 0);ht.useEffect(function(){return n!=null&&a.instance.on(n),s.current=n,function(){s.current!=null&&a.instance.off(s.current),s.current=null}},[a,n])}function __(a,n){const s=a.pane??n.pane;return s?{...a,pane:s}:a}function SA(a,n){return function(r,c){const d=d0(),m=a(__(r,d),d);return f0(d.map,r.attribution),_0(m.current,r.eventHandlers),n(m.current,d,r,c),m}}function m_(a,n,s){return Object.freeze({instance:a,context:n,container:s})}function p_(a,n){return n==null?function(r,c){const d=ht.useRef(void 0);return d.current||(d.current=a(r,c)),d}:function(r,c){const d=ht.useRef(void 0);d.current||(d.current=a(r,c));const m=ht.useRef(r),{instance:g}=d.current;return ht.useEffect(function(){m.current!==r&&(n(g,r,m.current),m.current=r)},[g,r,n]),d}}function TA(a,n){ht.useEffect(function(){return(n.layerContainer??n.map).addLayer(a.instance),function(){n.layerContainer?.removeLayer(a.instance),n.map.removeLayer(a.instance)}},[n,a])}function m0(a){return function(s){const r=d0(),c=a(__(s,r),r);return f0(r.map,s.attribution),_0(c.current,s.eventHandlers),TA(c.current,r),c}}function EA(a,n){const s=p_(a,n),r=m0(s);return gA(r)}function CA(a,n){const s=p_(a),r=SA(s,n);return yA(r)}function wA(a,n){const s=p_(a,n),r=m0(s);return bA(r)}function AA(a,n,s){const{opacity:r,zIndex:c}=n;r!=null&&r!==s.opacity&&a.setOpacity(r),c!=null&&c!==s.zIndex&&a.setZIndex(c)}function xA({bounds:a,boundsOptions:n,center:s,children:r,className:c,id:d,placeholder:m,style:g,whenReady:y,zoom:S,...C},w){const[A]=ht.useState({className:c,id:d,style:g}),[k,Y]=ht.useState(null),V=ht.useRef(void 0);ht.useImperativeHandle(w,()=>k?.map??null,[k]);const et=ht.useCallback(dt=>{if(dt!==null&&!V.current){const st=new zl.Map(dt,C);V.current=st,s!=null&&S!=null?st.setView(s,S):a!=null&&st.fitBounds(a,n),y!=null&&st.whenReady(y),Y(pA(st))}},[]);ht.useEffect(()=>()=>{k?.map.remove()},[k]);const bt=k?yi.createElement(d_,{value:k},r):m??null;return yi.createElement("div",{...A,ref:et},bt)}const MA=ht.forwardRef(xA),OA=EA(function({position:n,...s},r){const c=new zl.Marker(n,s);return m_(c,vA(r,{overlayContainer:c}))},function(n,s,r){s.position!==r.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),NA=CA(function(n,s){const r=new zl.Popup(n,s.overlayContainer);return m_(r,s)},function(n,s,{position:r},c){ht.useEffect(function(){const{instance:m}=n;function g(S){S.popup===m&&(m.update(),c(!0))}function y(S){S.popup===m&&c(!1)}return s.map.on({popupopen:g,popupclose:y}),s.overlayContainer==null?(r!=null&&m.setLatLng(r),m.openOn(s.map)):s.overlayContainer.bindPopup(m),function(){s.map.off({popupopen:g,popupclose:y}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(m)}},[n,s,c,r])}),LA=wA(function({url:n,...s},r){const c=new zl.TileLayer(n,__(s,r));return m_(c,r)},function(n,s,r){AA(n,s,r);const{url:c}=s;c!=null&&c!==r.url&&n.setUrl(c)}),DA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",RA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",zA=Io.icon({iconUrl:DA,shadowUrl:RA,iconSize:[25,41],iconAnchor:[12,41]});Io.Marker.prototype.options.icon=zA;let ld=[];function mg({onBack:a,onShowOrganizerLogin:n,onShowVendorLogin:s,eventid:r}){const[c,d]=ht.useState([]);return ht.useEffect(()=>{async function m(){ld=await qC(r),d(ld)}m()},[r]),Q.jsxs("div",{className:"leafmap-screen",children:[Q.jsxs("header",{className:"leafmap-header",children:[Q.jsx("button",{className:"btn-back",onClick:a,children:"< "}),Q.jsxs("div",{className:"header-right-buttons",children:[Q.jsx("button",{className:"btn-header",onClick:n,children:""}),Q.jsx("button",{className:"btn-header",onClick:s,children:""})]})]}),Q.jsxs(MA,{center:[36.110251,140.102381],zoom:16,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[Q.jsx(LA,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ld.map(m=>{const g=m.shopID?m.shopname:m.name,y=m.shopID?m.x_pos:m.lat,S=m.shopID?m.y_pos:m.lng;return Q.jsx(OA,{position:[y,S],children:Q.jsx(NA,{children:m.shopID?Q.jsxs("div",{children:[Q.jsx("strong",{children:g}),Q.jsx("br",{}),Q.jsx("p",{children:m.description}),Q.jsxs("p",{children:["ID: ",m.shopID]}),Q.jsxs("p",{children:["",m.teamname]}),Q.jsxs("p",{children:["",m.description]}),Q.jsxs("p",{children:["",m.place]}),Q.jsxs("p",{children:["",m.type]}),Q.jsxs("p",{children:["",m.starttime,"~",m.endtime]}),Q.jsxs("p",{children:["",m.storage]})]}):Q.jsxs("div",{children:[Q.jsx("strong",{children:g}),Q.jsx("br",{}),Q.jsx("p",{children:m.description})]})})},g)})]})]})}function PA(){const[a,n]=ht.useState("event_select"),s=()=>n("event_select"),r=()=>n("main"),c=()=>n("leafmap0"),d=()=>n("leafmap1"),m=()=>n("organizer_login"),g=()=>n("vender_login"),y=()=>n("vender_upload"),S=()=>{switch(a){case"main":return Q.jsx(rA,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g});case"organizer_login":return Q.jsx(lA,{onBack:c,onLoginSuccess:c});case"vender_login":return Q.jsx(uA,{onBack:c,onLoginSuccess:y});case"leafmap0":return Q.jsx(mg,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g,eventid:"0"});case"leafmap1":return Q.jsx(mg,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g,eventid:"1"});case"vender_upload":return Q.jsx(dA,{onBack:c,eventId:"0",writePinData:YC});case"event_select":return Q.jsx(jC,{onNavigate:C=>{C==="map0"?c():C==="map1"?d():C==="debug"&&r()}});default:return s}};return Q.jsx(Q.Fragment,{children:S()})}Hb.createRoot(document.getElementById("root")).render(Q.jsx(ht.StrictMode,{children:Q.jsx(PA,{})}));
