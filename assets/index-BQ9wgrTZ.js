(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function a(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(f){if(f.ep)return;f.ep=!0;const m=a(f);fetch(f.href,m)}})();function M0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tf={exports:{}},qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function O0(){if(Mp)return qr;Mp=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(u,f,m){var p=null;if(m!==void 0&&(p=""+m),f.key!==void 0&&(p=""+f.key),"key"in f){m={};for(var b in f)b!=="key"&&(m[b]=f[b])}else m=f;return f=m.ref,{$$typeof:r,type:u,key:p,ref:f!==void 0?f:null,props:m}}return qr.Fragment=i,qr.jsx=a,qr.jsxs=a,qr}var Op;function L0(){return Op||(Op=1,Tf.exports=O0()),Tf.exports}var ut=L0(),Cf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function N0(){if(Lp)return St;Lp=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=A&&C[A]||C["@@iterator"],typeof C=="function"?C:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,et={};function yt(C,H,F){this.props=C,this.context=H,this.refs=et,this.updater=F||V}yt.prototype.isReactComponent={},yt.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},yt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function $t(){}$t.prototype=yt.prototype;function ot(C,H,F){this.props=C,this.context=H,this.refs=et,this.updater=F||V}var ct=ot.prototype=new $t;ct.constructor=ot,K(ct,yt.prototype),ct.isPureReactComponent=!0;var kt=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function re(C,H,F,X,tt,st){return F=st.ref,{$$typeof:r,type:C,key:H,ref:F!==void 0?F:null,props:st}}function _e(C,H){return re(C.type,H,void 0,void 0,void 0,C.props)}function Ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function Pn(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return H[F]})}var jt=/\/+/g;function It(C,H){return typeof C=="object"&&C!==null&&C.key!=null?Pn(""+C.key):H.toString(36)}function hi(){}function Ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(hi,hi):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ee(C,H,F,X,tt){var st=typeof C;(st==="undefined"||st==="boolean")&&(C=null);var W=!1;if(C===null)W=!0;else switch(st){case"bigint":case"string":case"number":W=!0;break;case"object":switch(C.$$typeof){case r:case i:W=!0;break;case N:return W=C._init,Ee(W(C._payload),H,F,X,tt)}}if(W)return tt=tt(C),W=X===""?"."+It(C,0):X,kt(tt)?(F="",W!=null&&(F=W.replace(jt,"$&/")+"/"),Ee(tt,H,F,"",function(In){return In})):tt!=null&&(Ue(tt)&&(tt=_e(tt,F+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(jt,"$&/")+"/")+W)),H.push(tt)),1;W=0;var ie=X===""?".":X+":";if(kt(C))for(var Rt=0;Rt<C.length;Rt++)X=C[Rt],st=ie+It(X,Rt),W+=Ee(X,H,F,st,tt);else if(Rt=O(C),typeof Rt=="function")for(C=Rt.call(C),Rt=0;!(X=C.next()).done;)X=X.value,st=ie+It(X,Rt++),W+=Ee(X,H,F,st,tt);else if(st==="object"){if(typeof C.then=="function")return Ee(Ne(C),H,F,X,tt);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return W}function U(C,H,F){if(C==null)return C;var X=[],tt=0;return Ee(C,X,"","",function(st){return H.call(F,st,tt++)}),X}function J(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var j=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return St.Children={map:U,forEach:function(C,H,F){U(C,function(){H.apply(this,arguments)},F)},count:function(C){var H=0;return U(C,function(){H++}),H},toArray:function(C){return U(C,function(H){return H})||[]},only:function(C){if(!Ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=yt,St.Fragment=a,St.Profiler=f,St.PureComponent=ot,St.StrictMode=u,St.Suspense=T,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return bt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,H,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var X=K({},C.props),tt=C.key,st=void 0;if(H!=null)for(W in H.ref!==void 0&&(st=void 0),H.key!==void 0&&(tt=""+H.key),H)!he.call(H,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&H.ref===void 0||(X[W]=H[W]);var W=arguments.length-2;if(W===1)X.children=F;else if(1<W){for(var ie=Array(W),Rt=0;Rt<W;Rt++)ie[Rt]=arguments[Rt+2];X.children=ie}return re(C.type,tt,void 0,void 0,st,X)},St.createContext=function(C){return C={$$typeof:p,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:m,_context:C},C},St.createElement=function(C,H,F){var X,tt={},st=null;if(H!=null)for(X in H.key!==void 0&&(st=""+H.key),H)he.call(H,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(tt[X]=H[X]);var W=arguments.length-2;if(W===1)tt.children=F;else if(1<W){for(var ie=Array(W),Rt=0;Rt<W;Rt++)ie[Rt]=arguments[Rt+2];tt.children=ie}if(C&&C.defaultProps)for(X in W=C.defaultProps,W)tt[X]===void 0&&(tt[X]=W[X]);return re(C,st,void 0,void 0,null,tt)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:b,render:C}},St.isValidElement=Ue,St.lazy=function(C){return{$$typeof:N,_payload:{_status:-1,_result:C},_init:J}},St.memo=function(C,H){return{$$typeof:E,type:C,compare:H===void 0?null:H}},St.startTransition=function(C){var H=bt.T,F={};bt.T=F;try{var X=C(),tt=bt.S;tt!==null&&tt(F,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Bt,j)}catch(st){j(st)}finally{bt.T=H}},St.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},St.use=function(C){return bt.H.use(C)},St.useActionState=function(C,H,F){return bt.H.useActionState(C,H,F)},St.useCallback=function(C,H){return bt.H.useCallback(C,H)},St.useContext=function(C){return bt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,H){return bt.H.useDeferredValue(C,H)},St.useEffect=function(C,H,F){var X=bt.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(C,H)},St.useId=function(){return bt.H.useId()},St.useImperativeHandle=function(C,H,F){return bt.H.useImperativeHandle(C,H,F)},St.useInsertionEffect=function(C,H){return bt.H.useInsertionEffect(C,H)},St.useLayoutEffect=function(C,H){return bt.H.useLayoutEffect(C,H)},St.useMemo=function(C,H){return bt.H.useMemo(C,H)},St.useOptimistic=function(C,H){return bt.H.useOptimistic(C,H)},St.useReducer=function(C,H,F){return bt.H.useReducer(C,H,F)},St.useRef=function(C){return bt.H.useRef(C)},St.useState=function(C){return bt.H.useState(C)},St.useSyncExternalStore=function(C,H,F){return bt.H.useSyncExternalStore(C,H,F)},St.useTransition=function(){return bt.H.useTransition()},St.version="19.1.1",St}var Np;function sd(){return Np||(Np=1,Cf.exports=N0()),Cf.exports}var gt=sd();const Zf=M0(gt);var wf={exports:{}},Gr={},xf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function R0(){return Rp||(Rp=1,(function(r){function i(U,J){var j=U.length;U.push(J);t:for(;0<j;){var Bt=j-1>>>1,C=U[Bt];if(0<f(C,J))U[Bt]=J,U[j]=C,j=Bt;else break t}}function a(U){return U.length===0?null:U[0]}function u(U){if(U.length===0)return null;var J=U[0],j=U.pop();if(j!==J){U[0]=j;t:for(var Bt=0,C=U.length,H=C>>>1;Bt<H;){var F=2*(Bt+1)-1,X=U[F],tt=F+1,st=U[tt];if(0>f(X,j))tt<C&&0>f(st,X)?(U[Bt]=st,U[tt]=j,Bt=tt):(U[Bt]=X,U[F]=j,Bt=F);else if(tt<C&&0>f(st,j))U[Bt]=st,U[tt]=j,Bt=tt;else break t}}return J}function f(U,J){var j=U.sortIndex-J.sortIndex;return j!==0?j:U.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var T=[],E=[],N=1,A=null,O=3,V=!1,K=!1,et=!1,yt=!1,$t=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function kt(U){for(var J=a(E);J!==null;){if(J.callback===null)u(E);else if(J.startTime<=U)u(E),J.sortIndex=J.expirationTime,i(T,J);else break;J=a(E)}}function bt(U){if(et=!1,kt(U),!K)if(a(T)!==null)K=!0,he||(he=!0,It());else{var J=a(E);J!==null&&Ee(bt,J.startTime-U)}}var he=!1,re=-1,_e=5,Ue=-1;function Pn(){return yt?!0:!(r.unstable_now()-Ue<_e)}function jt(){if(yt=!1,he){var U=r.unstable_now();Ue=U;var J=!0;try{t:{K=!1,et&&(et=!1,ot(re),re=-1),V=!0;var j=O;try{e:{for(kt(U),A=a(T);A!==null&&!(A.expirationTime>U&&Pn());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,O=A.priorityLevel;var C=Bt(A.expirationTime<=U);if(U=r.unstable_now(),typeof C=="function"){A.callback=C,kt(U),J=!0;break e}A===a(T)&&u(T),kt(U)}else u(T);A=a(T)}if(A!==null)J=!0;else{var H=a(E);H!==null&&Ee(bt,H.startTime-U),J=!1}}break t}finally{A=null,O=j,V=!1}J=void 0}}finally{J?It():he=!1}}}var It;if(typeof ct=="function")It=function(){ct(jt)};else if(typeof MessageChannel<"u"){var hi=new MessageChannel,Ne=hi.port2;hi.port1.onmessage=jt,It=function(){Ne.postMessage(null)}}else It=function(){$t(jt,0)};function Ee(U,J){re=$t(function(){U(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(U){switch(O){case 1:case 2:case 3:var J=3;break;default:J=O}var j=O;O=J;try{return U()}finally{O=j}},r.unstable_requestPaint=function(){yt=!0},r.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=O;O=U;try{return J()}finally{O=j}},r.unstable_scheduleCallback=function(U,J,j){var Bt=r.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Bt+j:Bt):j=Bt,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=j+C,U={id:N++,callback:J,priorityLevel:U,startTime:j,expirationTime:C,sortIndex:-1},j>Bt?(U.sortIndex=j,i(E,U),a(T)===null&&U===a(E)&&(et?(ot(re),re=-1):et=!0,Ee(bt,j-Bt))):(U.sortIndex=C,i(T,U),K||V||(K=!0,he||(he=!0,It()))),U},r.unstable_shouldYield=Pn,r.unstable_wrapCallback=function(U){var J=O;return function(){var j=O;O=J;try{return U.apply(this,arguments)}finally{O=j}}}})(Af)),Af}var Dp;function D0(){return Dp||(Dp=1,xf.exports=R0()),xf.exports}var Mf={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function z0(){if(zp)return Ve;zp=1;var r=sd();function i(T){var E="https://react.dev/errors/"+T;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)E+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+T+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var u={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function m(T,E,N){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:A==null?null:""+A,children:T,containerInfo:E,implementation:N}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(T,E){if(T==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ve.createPortal=function(T,E){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(i(299));return m(T,E,null,N)},Ve.flushSync=function(T){var E=p.T,N=u.p;try{if(p.T=null,u.p=2,T)return T()}finally{p.T=E,u.p=N,u.d.f()}},Ve.preconnect=function(T,E){typeof T=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,u.d.C(T,E))},Ve.prefetchDNS=function(T){typeof T=="string"&&u.d.D(T)},Ve.preinit=function(T,E){if(typeof T=="string"&&E&&typeof E.as=="string"){var N=E.as,A=b(N,E.crossOrigin),O=typeof E.integrity=="string"?E.integrity:void 0,V=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;N==="style"?u.d.S(T,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:V}):N==="script"&&u.d.X(T,{crossOrigin:A,integrity:O,fetchPriority:V,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Ve.preinitModule=function(T,E){if(typeof T=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var N=b(E.as,E.crossOrigin);u.d.M(T,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&u.d.M(T)},Ve.preload=function(T,E){if(typeof T=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var N=E.as,A=b(N,E.crossOrigin);u.d.L(T,N,{crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Ve.preloadModule=function(T,E){if(typeof T=="string")if(E){var N=b(E.as,E.crossOrigin);u.d.m(T,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else u.d.m(T)},Ve.requestFormReset=function(T){u.d.r(T)},Ve.unstable_batchedUpdates=function(T,E){return T(E)},Ve.useFormState=function(T,E,N){return p.H.useFormState(T,E,N)},Ve.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ve.version="19.1.1",Ve}var Pp;function Ng(){if(Pp)return Mf.exports;Pp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Mf.exports=z0(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function P0(){if(Ip)return Gr;Ip=1;var r=D0(),i=sd(),a=Ng();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(m(t)!==t)throw Error(u(188))}function T(t){var e=t.alternate;if(!e){if(e=m(t),e===null)throw Error(u(188));return e!==t?null:t}for(var s=t,l=e;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return b(h),t;if(d===l)return b(h),e;d=d.sibling}throw Error(u(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===s){v=!0,s=h,l=d;break}if(S===l){v=!0,l=h,s=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===s){v=!0,s=d,l=h;break}if(S===l){v=!0,l=d,s=h;break}S=S.sibling}if(!v)throw Error(u(189))}}if(s.alternate!==l)throw Error(u(190))}if(s.tag!==3)throw Error(u(188));return s.stateNode.current===s?t:e}function E(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=E(t),e!==null)return e;t=t.sibling}return null}var N=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),$t=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),Pn=Symbol.for("react.memo_cache_sentinel"),jt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=jt&&t[jt]||t["@@iterator"],typeof t=="function"?t:null)}var hi=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===hi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case yt:return"Profiler";case et:return"StrictMode";case bt:return"Suspense";case he:return"SuspenseList";case Ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case ot:return(t._context.displayName||"Context")+".Consumer";case kt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case re:return e=t.displayName||null,e!==null?e:Ne(t.type)||"Memo";case _e:e=t._payload,t=t._init;try{return Ne(t(e))}catch{}}return null}var Ee=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function H(t){return{current:t}}function F(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function X(t,e){C++,Bt[C]=t.current,t.current=e}var tt=H(null),st=H(null),W=H(null),ie=H(null);function Rt(t,e){switch(X(W,e),X(st,t),X(tt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?np(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=np(e),t=ip(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(tt),X(tt,t)}function In(){F(tt),F(st),F(W)}function Ks(t){t.memoizedState!==null&&X(ie,t);var e=tt.current,s=ip(e,t.type);e!==s&&(X(st,t),X(tt,s))}function Qi(t){st.current===t&&(F(tt),F(st)),ie.current===t&&(F(ie),Br._currentValue=j)}var fi=Object.prototype.hasOwnProperty,Ws=r.unstable_scheduleCallback,ko=r.unstable_cancelCallback,Sl=r.unstable_shouldYield,El=r.unstable_requestPaint,en=r.unstable_now,za=r.unstable_getCurrentPriorityLevel,Tl=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,Fi=r.unstable_NormalPriority,Cl=r.unstable_LowPriority,Ho=r.unstable_IdlePriority,Ac=r.log,Mc=r.unstable_setDisableYieldValue,di=null,He=null;function Bn(t){if(typeof Ac=="function"&&Mc(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(di,t)}catch{}}var Xe=Math.clz32?Math.clz32:Oc,wl=Math.log,xl=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(wl(t)/xl|0)|0}var Js=256,Ki=4194304;function Wn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pa(t,e,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Wn(l):(v&=S,v!==0?h=Wn(v):s||(s=S&~t,s!==0&&(h=Wn(s))))):(S=l&~d,S!==0?h=Wn(S):v!==0?h=Wn(v):s||(s=l&~t,s!==0&&(h=Wn(s)))),h===0?0:e!==0&&e!==h&&(e&d)===0&&(d=h&-h,s=e&-e,d>=s||d===32&&(s&4194048)!==0)?e:h}function kn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Lc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var t=Js;return Js<<=1,(Js&4194048)===0&&(Js=256),t}function Zo(){var t=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),t}function Ia(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Wi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nc(t,e,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,P=t.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-Xe(s),G=1<<Z;S[Z]=0,x[Z]=-1;var I=P[Z];if(I!==null)for(P[Z]=null,Z=0;Z<I.length;Z++){var B=I[Z];B!==null&&(B.lane&=-536870913)}s&=~G}l!==0&&Ml(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~e))}function Ml(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-Xe(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ol(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var l=31-Xe(s),h=1<<l;h&e|t[l]&e&&(t[l]|=e),s&=~h}}function qo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Go(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ll(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Ep(t.type))}function Yo(t,e){var s=J.p;try{return J.p=t,e()}finally{J.p=s}}var Jn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Jn,Ze="__reactProps$"+Jn,Ji="__reactContainer$"+Jn,nn="__reactEvents$"+Jn,rt="__reactListeners$"+Jn,Nl="__reactHandles$"+Jn,Vo="__reactResources$"+Jn,$i="__reactMarker$"+Jn;function Ba(t){delete t[Te],delete t[Ze],delete t[nn],delete t[rt],delete t[Nl]}function $n(t){var e=t[Te];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Ji]||s[Te]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=rp(t);t!==null;){if(s=t[Te])return s;t=rp(t)}return e}t=s,s=t.parentNode}return null}function _i(t){if(t=t[Te]||t[Ji]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Cn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function mi(t){var e=t[Vo];return e||(e=t[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function me(t){t[$i]=!0}var Rl=new Set,Dl={};function pi(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(Dl[t]=e,t=0;t<e.length;t++)Rl.add(e[t])}var Rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$s={},zl={};function Dc(t){return fi.call(zl,t)?!0:fi.call($s,t)?!1:Rc.test(t)?zl[t]=!0:($s[t]=!0,!1)}function ka(t,e,s){if(Dc(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function Ua(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function Un(t,e,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+l)}}var ta,ts;function vi(t){if(ta===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);ta=e&&e[1]||"",ts=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+t+ts}var Ha=!1;function yi(t,e){if(!t||Ha)return"";Ha=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var I=B}Reflect.construct(t,[],G)}else{try{G.call()}catch(B){I=B}t.call(G.prototype)}}else{try{throw Error()}catch(B){I=B}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&I&&typeof B.stack=="string")return[B.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var x=v.split(`
`),P=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===P.length)for(l=x.length-1,h=P.length-1;1<=l&&0<=h&&x[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==P[h]){var Z=`
`+x[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ha=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?vi(s):""}function Lt(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return vi("Activity");default:return""}}function Xt(t){try{var e="";do e+=Lt(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Re(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function es(t){var e=bi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ns(t){t._valueTracker||(t._valueTracker=es(t))}function vt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),l="";return t&&(l=bi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(e.setValue(t),!0):!1}function Qt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jo=/[\n"\\]/g;function De(t){return t.replace(jo,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function qe(t,e,s,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Re(e)):t.value!==""+Re(e)&&(t.value=""+Re(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?is(t,v,Re(e)):s!=null?is(t,v,Re(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Re(S):t.removeAttribute("name")}function Pl(t,e,s,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),e!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||e!=null))return;s=s!=null?""+Re(s):"",e=e!=null?""+Re(e):s,S||e===t.value||(t.value=e),t.defaultValue=e}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function is(t,e,s){e==="number"&&Qt(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function sn(t,e,s,l){if(t=t.options,e){e={};for(var h=0;h<s.length;h++)e["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=e.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Re(s),e=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function se(t,e,s){if(e!=null&&(e=""+Re(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+Re(s):""}function ti(t,e,s,l){if(e==null){if(l!=null){if(s!=null)throw Error(u(92));if(Ee(l)){if(1<l.length)throw Error(u(93));l=l[0]}s=l}s==null&&(s=""),e=s}s=Re(e),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function wn(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Za(t,e,s){var l=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,s):typeof s!="number"||s===0||ea.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function ss(t,e,s){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in e)l=e[h],e.hasOwnProperty(h)&&s[h]!==l&&Za(t,h,l)}else for(var d in e)e.hasOwnProperty(d)&&Za(t,d,e[d])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(t){return qa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ia=null;function os(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,ei=null;function Il(t){var e=_i(t);if(e&&(t=e.stateNode)){var s=t[Ze]||null;t:switch(t=e.stateNode,e.type){case"input":if(qe(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var l=s[e];if(l!==t&&l.form===t.form){var h=l[Ze]||null;if(!h)throw Error(u(90));qe(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<s.length;e++)l=s[e],l.form===t.form&&vt(l)}break t;case"textarea":se(t,s.value,s.defaultValue);break t;case"select":e=s.value,e!=null&&sn(t,!!s.multiple,e,!1)}}}var pt=!1;function hn(t,e,s){if(pt)return t(e,s);pt=!0;try{var l=t(e);return l}finally{if(pt=!1,(Si!==null||ei!==null)&&(Lu(),Si&&(e=Si,t=ei,ei=Si=null,Il(e),t)))for(e=0;e<t.length;e++)Il(t[e])}}function Dt(t,e){var s=t.stateNode;if(s===null)return null;var l=s[Ze]||null;if(l===null)return null;s=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(u(231,e,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(xn)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{sa=!1}var An=null,Hn=null,rs=null;function ls(){if(rs)return rs;var t,e=Hn,s=e.length,l,h="value"in An?An.value:An.textContent,d=h.length;for(t=0;t<s&&e[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&e[s-l]===h[d-l];l++);return rs=h.slice(t,1<l?1-l:void 0)}function le(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function Qo(){return!1}function ze(t){function e(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mn:Qo,this.isPropagationStopped=Qo,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=ze(Ti),Ci=N({},Ti,{view:0,detail:0}),zc=ze(Ci),Ga,Tt,oa,Ge=N({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Ga=t.screenX-oa.screenX,Tt=t.screenY-oa.screenY):Tt=Ga=0,oa=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Tt}}),us=ze(Ge),Bl=N({},Ge,{dataTransfer:0}),Pc=ze(Bl),Fo=N({},Ci,{relatedTarget:0}),Ko=ze(Fo),kl=N({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=ze(kl),Bc=N({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wo=ze(Bc),kc=N({},Ti,{data:0}),fn=ze(kc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ni[t])?!!e[t]:!1}function Ya(){return Hl}var Jo=N({},Ci,{key:function(t){if(t.key){var e=Uc[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=le(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ul[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?le(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?le(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hc=ze(Jo),Zl=N({},Ge,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=ze(Zl),Zc=N({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),qc=ze(Zc),tr=N({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gc=ze(tr),ql=N({},Ge,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gl=ze(ql),Va=N({},Ti,{newState:0,oldState:0}),wi=ze(Va),Yc=[9,13,27,32],xi=xn&&"CompositionEvent"in window,Ce=null;xn&&"documentMode"in document&&(Ce=document.documentMode);var Yl=xn&&"TextEvent"in window&&!Ce,er=xn&&(!xi||Ce&&8<Ce&&11>=Ce),Vl=" ",ja=!1;function Xa(t,e){switch(t){case"keyup":return Yc.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function Xl(t,e){switch(t){case"compositionend":return jl(e);case"keypress":return e.which!==32?null:(ja=!0,Vl);case"textInput":return t=e.data,t===Vl&&ja?null:t;default:return null}}function Vc(t,e){if(cs)return t==="compositionend"||!xi&&Xa(t,e)?(t=ls(),rs=Hn=An=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return er&&e.locale!=="ko"?null:e.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ai(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dn[t.type]:e==="textarea"}function Ql(t,e,s,l){Si?ei?ei.push(l):ei=[l]:Si=l,e=Iu(e,"onChange"),0<e.length&&(s=new aa("onChange","change",null,s,l),t.push({event:s,listeners:e}))}var Qe=null,ra=null;function hs(t){Wm(t,0)}function Qa(t){var e=Cn(t);if(vt(e))return t}function fs(t,e){if(t==="change")return e}var nr=!1;if(xn){var ds;if(xn){var ir="oninput"in document;if(!ir){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),ir=typeof Zn.oninput=="function"}ds=ir}else ds=!1;nr=ds&&(!document.documentMode||9<document.documentMode)}function la(){Qe&&(Qe.detachEvent("onpropertychange",Fl),ra=Qe=null)}function Fl(t){if(t.propertyName==="value"&&Qa(ra)){var e=[];Ql(e,ra,t,os(t)),hn(hs,e)}}function sr(t,e,s){t==="focusin"?(la(),Qe=e,ra=s,Qe.attachEvent("onpropertychange",Fl)):t==="focusout"&&la()}function jc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qa(ra)}function qn(t,e){if(t==="click")return Qa(e)}function Xc(t,e){if(t==="input"||t==="change")return Qa(e)}function _s(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fe=typeof Object.is=="function"?Object.is:_s;function Ke(t,e){if(Fe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),l=Object.keys(e);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!fi.call(e,h)||!Fe(t[h],e[h]))return!1}return!0}function ua(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ar(t,e){var s=ua(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=e&&l>=e)return{node:s,offset:e-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ua(s)}}function Fa(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fa(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ca(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Qt(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Qt(t.document)}return e}function ha(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ka=xn&&"documentMode"in document&&11>=document.documentMode,_n=null,ms=null,Mi=null,Wa=!1;function Kl(t,e,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wa||_n==null||_n!==Qt(l)||(l=_n,"selectionStart"in l&&ha(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mi&&Ke(Mi,l)||(Mi=l,l=Iu(ms,"onSelect"),0<l.length&&(e=new aa("onSelect","select",null,e,s),t.push({event:e,listeners:l}),e.target=_n)))}function On(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var ps={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionrun:On("Transition","TransitionRun"),transitionstart:On("Transition","TransitionStart"),transitioncancel:On("Transition","TransitionCancel"),transitionend:On("Transition","TransitionEnd")},Ja={},Wl={};xn&&(Wl=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function ii(t){if(Ja[t])return Ja[t];if(!ps[t])return t;var e=ps[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Wl)return Ja[t]=e[s];return t}var Jl=ii("animationend"),mn=ii("animationiteration"),fa=ii("animationstart"),Qc=ii("transitionrun"),$a=ii("transitionstart"),Fc=ii("transitioncancel"),or=ii("transitionend"),$l=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function pn(t,e){$l.set(t,e),pi(e,[t])}var Li=new WeakMap;function We(t,e){if(typeof t=="object"&&t!==null){var s=Li.get(t);return s!==void 0?s:(e={value:t,source:e,stack:Xt(e)},Li.set(t,e),e)}return{value:t,source:e,stack:Xt(e)}}var Je=[],gs=0,gn=0;function da(){for(var t=gs,e=gn=gs=0;e<t;){var s=Je[e];Je[e++]=null;var l=Je[e];Je[e++]=null;var h=Je[e];Je[e++]=null;var d=Je[e];if(Je[e++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ma(s,h,d)}}function _a(t,e,s,l){Je[gs++]=t,Je[gs++]=e,Je[gs++]=s,Je[gs++]=l,gn|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ni(t,e,s,l){return _a(t,e,s,l),si(t)}function vs(t,e){return _a(t,null,null,e),si(t)}function ma(t,e,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&e!==null&&(h=31-Xe(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[e]:l.push(e),e.lane=s|536870912),d):null}function si(t){if(50<Or)throw Or=0,jh=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ri={};function tu(t,e,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(t,e,s,l){return new tu(t,e,s,l)}function to(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ln(t,e){var s=t.alternate;return s===null?(s=$e(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function rr(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function pa(t,e,s,l,h,d){var v=0;if(l=t,typeof t=="function")to(t)&&(v=1);else if(typeof t=="string")v=m0(t,s,tt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Ue:return t=$e(31,s,e,h),t.elementType=Ue,t.lanes=d,t;case K:return ai(s.children,h,d,e);case et:v=8,h|=24;break;case yt:return t=$e(12,s,e,h|2),t.elementType=yt,t.lanes=d,t;case bt:return t=$e(13,s,e,h),t.elementType=bt,t.lanes=d,t;case he:return t=$e(19,s,e,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $t:case ct:v=10;break t;case ot:v=9;break t;case kt:v=11;break t;case re:v=14;break t;case _e:v=16,l=null;break t}v=29,s=Error(u(130,t===null?"null":typeof t,"")),l=null}return e=$e(v,s,e,h),e.elementType=t,e.type=l,e.lanes=d,e}function ai(t,e,s,l){return t=$e(7,t,l,e),t.lanes=s,t}function lr(t,e,s){return t=$e(6,t,null,e),t.lanes=s,t}function eo(t,e,s){return e=$e(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Di=[],ys=0,n=null,o=0,c=[],_=0,g=null,y=1,w="";function D(t,e){Di[ys++]=o,Di[ys++]=n,n=t,o=e}function k(t,e,s){c[_++]=y,c[_++]=w,c[_++]=g,g=t;var l=y;t=w;var h=32-Xe(l)-1;l&=~(1<<h),s+=1;var d=32-Xe(e)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,y=1<<32-Xe(e)+h|s<<h|l,w=d+t}else y=1<<d|s<<h|l,w=t}function Y(t){t.return!==null&&(D(t,1),k(t,1,0))}function $(t){for(;t===n;)n=Di[--ys],Di[ys]=null,o=Di[--ys],Di[ys]=null;for(;t===g;)g=c[--_],c[_]=null,w=c[--_],c[_]=null,y=c[--_],c[_]=null}var nt=null,at=null,mt=!1,Ft=null,ae=!1,we=Error(u(519));function an(t){var e=Error(u(418,""));throw Ss(We(e,t)),we}function eu(t){var e=t.stateNode,s=t.type,l=t.memoizedProps;switch(e[Te]=t,e[Ze]=l,s){case"dialog":At("cancel",e),At("close",e);break;case"iframe":case"object":case"embed":At("load",e);break;case"video":case"audio":for(s=0;s<Nr.length;s++)At(Nr[s],e);break;case"source":At("error",e);break;case"img":case"image":case"link":At("error",e),At("load",e);break;case"details":At("toggle",e);break;case"input":At("invalid",e),Pl(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(e);break;case"select":At("invalid",e);break;case"textarea":At("invalid",e),ti(e,l.value,l.defaultValue,l.children),ns(e)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||l.suppressHydrationWarning===!0||ep(e.textContent,s)?(l.popover!=null&&(At("beforetoggle",e),At("toggle",e)),l.onScroll!=null&&At("scroll",e),l.onScrollEnd!=null&&At("scrollend",e),l.onClick!=null&&(e.onclick=Bu),e=!0):e=!1,e||an(t)}function nu(t){for(nt=t.return;nt;)switch(nt.tag){case 5:case 13:ae=!1;return;case 27:case 3:ae=!0;return;default:nt=nt.return}}function ga(t){if(t!==nt)return!1;if(!mt)return nu(t),mt=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||uf(t.type,t.memoizedProps)),s=!s),s&&at&&an(t),nu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){at=jn(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}at=null}}else e===27?(e=at,Is(t.type)?(t=df,df=null,at=t):at=e):at=nt?jn(t.stateNode.nextSibling):null;return!0}function bs(){at=nt=null,mt=!1}function iu(){var t=Ft;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ft=null),t}function Ss(t){Ft===null?Ft=[t]:Ft.push(t)}var ee=H(null),Nn=null,Gn=null;function oi(t,e,s){X(ee,e._currentValue),e._currentValue=s}function Yn(t){t._currentValue=ee.current,F(ee)}function va(t,e,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===s)break;t=t.return}}function no(t,e,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var x=0;x<e.length;x++)if(S.context===e[x]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),va(d.return,s,t),l||(v=null);break t}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),va(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ya(t,e,s,l){t=null;for(var h=e,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var S=h.type;Fe(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===ie.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Br):t=[Br])}h=h.return}t!==null&&no(e,t,s,l),e.flags|=262144}function su(t){for(t=t.firstContext;t!==null;){if(!Fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){Nn=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return Zd(Nn,t)}function au(t,e){return Nn===null&&ba(t),Zd(t,e)}function Zd(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},Gn===null){if(t===null)throw Error(u(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return s}var _y=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},my=r.unstable_scheduleCallback,py=r.unstable_NormalPriority,ve={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new _y,data:new Map,refCount:0}}function ur(t){t.refCount--,t.refCount===0&&my(py,function(){t.controller.abort()})}var cr=null,Wc=0,io=0,so=null;function gy(t,e){if(cr===null){var s=cr=[];Wc=0,io=$h(),so={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wc++,e.then(qd,qd),e}function qd(){if(--Wc===0&&cr!==null){so!==null&&(so.status="fulfilled");var t=cr;cr=null,io=0,so=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function vy(t,e){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var h=0;h<s.length;h++)(0,s[h])(e)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gd=U.S;U.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&gy(t,e),Gd!==null&&Gd(t,e)};var Sa=H(null);function Jc(){var t=Sa.current;return t!==null?t:Kt.pooledCache}function ou(t,e){e===null?X(Sa,Sa.current):X(Sa,e.pool)}function Yd(){var t=Jc();return t===null?null:{parent:ve._currentValue,pool:t}}var hr=Error(u(460)),Vd=Error(u(474)),ru=Error(u(542)),$c={then:function(){}};function jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function Xd(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(lu,lu),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Fd(t),t;default:if(typeof e.status=="string")e.then(lu,lu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=l}},function(l){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Fd(t),t}throw fr=e,hr}}var fr=null;function Qd(){if(fr===null)throw Error(u(459));var t=fr;return fr=null,t}function Fd(t){if(t===hr||t===ru)throw Error(u(483))}var Es=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var h=l.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),l.pending=e,e=si(t),ma(t,null,s),e}return _a(t,l,e,s),si(t)}function dr(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,s|=l,e.lanes=s,Ol(t,s)}}function nh(t,e){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=e:d=d.next=e}else h=d=e;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var ih=!1;function _r(){if(ih){var t=so;if(t!==null)throw t}}function mr(t,e,s,l){ih=!1;var h=t.updateQueue;Es=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,P=x.next;x.next=null,v===null?d=P:v.next=P,v=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==v&&(S===null?Z.firstBaseUpdate=P:S.next=P,Z.lastBaseUpdate=x))}if(d!==null){var G=h.baseState;v=0,Z=P=x=null,S=d;do{var I=S.lane&-536870913,B=I!==S.lane;if(B?(Nt&I)===I:(l&I)===I){I!==0&&I===io&&(ih=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var _t=t,ht=S;I=e;var Gt=s;switch(ht.tag){case 1:if(_t=ht.payload,typeof _t=="function"){G=_t.call(Gt,G,I);break t}G=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=ht.payload,I=typeof _t=="function"?_t.call(Gt,G,I):_t,I==null)break t;G=N({},G,I);break t;case 2:Es=!0}}I=S.callback,I!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[I]:B.push(I))}else B={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(P=Z=B,x=G):Z=Z.next=B,v|=I;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;B=S,S=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Z===null&&(x=G),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Rs|=v,t.lanes=v,t.memoizedState=G}}function Kd(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Wd(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Kd(s[t],e)}var ao=H(null),uu=H(0);function Jd(t,e){t=Hi,X(uu,t),X(ao,e),Hi=t|e.baseLanes}function sh(){X(uu,Hi),X(ao,ao.current)}function ah(){Hi=uu.current,F(ao),F(uu)}var ws=0,Et=null,Zt=null,pe=null,cu=!1,oo=!1,Ea=!1,hu=0,pr=0,ro=null,yy=0;function fe(){throw Error(u(321))}function oh(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Fe(t[s],e[s]))return!1;return!0}function rh(t,e,s,l,h,d){return ws=d,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U.H=t===null||t.memoizedState===null?P_:I_,Ea=!1,d=s(l,h),Ea=!1,oo&&(d=t_(e,s,l,h)),$d(t),d}function $d(t){U.H=gu;var e=Zt!==null&&Zt.next!==null;if(ws=0,pe=Zt=Et=null,cu=!1,pr=0,ro=null,e)throw Error(u(300));t===null||xe||(t=t.dependencies,t!==null&&su(t)&&(xe=!0))}function t_(t,e,s,l){Et=t;var h=0;do{if(oo&&(ro=null),pr=0,oo=!1,25<=h)throw Error(u(301));if(h+=1,pe=Zt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=xy,d=e(s,l)}while(oo);return d}function by(){var t=U.H,e=t.useState()[0];return e=typeof e.then=="function"?gr(e):e,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Et.flags|=1024),e}function lh(){var t=hu!==0;return hu=0,t}function uh(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function ch(t){if(cu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}cu=!1}ws=0,pe=Zt=Et=null,oo=!1,pr=hu=0,ro=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Et.memoizedState=pe=t:pe=pe.next=t,pe}function ge(){if(Zt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=pe===null?Et.memoizedState:pe.next;if(e!==null)pe=e,Zt=t;else{if(t===null)throw Et.alternate===null?Error(u(467)):Error(u(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},pe===null?Et.memoizedState=pe=t:pe=pe.next=t}return pe}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(t){var e=pr;return pr+=1,ro===null&&(ro=[]),t=Xd(ro,t,e),e=Et,(pe===null?e.memoizedState:pe.next)===null&&(e=e.alternate,U.H=e===null||e.memoizedState===null?P_:I_),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gr(t);if(t.$$typeof===ct)return Ye(t)}throw Error(u(438,String(t)))}function fh(t){var e=null,s=Et.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=hh(),Et.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),l=0;l<t;l++)s[l]=Pn;return e.index++,s}function zi(t,e){return typeof e=="function"?e(t):e}function du(t){var e=ge();return dh(e,Zt,t)}function dh(t,e,s){var l=t.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}e.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{e=h.next;var S=v=null,x=null,P=e,Z=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Nt&G)===G:(ws&G)===G){var I=P.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===io&&(Z=!0);else if((ws&I)===I){P=P.next,I===io&&(Z=!0);continue}else G={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(S=x=G,v=d):x=x.next=G,Et.lanes|=I,Rs|=I;G=P.action,Ea&&s(d,G),d=P.hasEagerState?P.eagerState:s(d,G)}else I={lane:G,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(S=x=I,v=d):x=x.next=I,Et.lanes|=G,Rs|=G;P=P.next}while(P!==null&&P!==e);if(x===null?v=d:x.next=S,!Fe(d,t.memoizedState)&&(xe=!0,Z&&(s=so,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var e=ge(),s=e.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=e.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Fe(d,e.memoizedState)||(xe=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),s.lastRenderedState=d}return[d,l]}function e_(t,e,s){var l=Et,h=ge(),d=mt;if(d){if(s===void 0)throw Error(u(407));s=s()}else s=e();var v=!Fe((Zt||h).memoizedState,s);v&&(h.memoizedState=s,xe=!0),h=h.queue;var S=s_.bind(null,l,h,t);if(vr(2048,8,S,[t]),h.getSnapshot!==e||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,lo(9,_u(),i_.bind(null,l,h,s,e),null),Kt===null)throw Error(u(349));d||(ws&124)!==0||n_(l,e,s)}return s}function n_(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Et.updateQueue,e===null?(e=hh(),Et.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function i_(t,e,s,l){e.value=s,e.getSnapshot=l,a_(e)&&o_(t)}function s_(t,e,s){return s(function(){a_(e)&&o_(t)})}function a_(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Fe(t,s)}catch{return!0}}function o_(t){var e=vs(t,2);e!==null&&En(e,t,2)}function mh(t){var e=on();if(typeof t=="function"){var s=t;if(t=s(),Ea){Bn(!0);try{s()}finally{Bn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},e}function r_(t,e,s,l){return t.baseState=s,dh(t,Zt,typeof l=="function"?l:zi)}function Sy(t,e,s,l,h){if(pu(t))throw Error(u(485));if(t=e.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};U.T!==null?s(!0):d.isTransition=!1,l(d),s=e.pending,s===null?(d.next=e.pending=d,l_(e,d)):(d.next=s.next,e.pending=s.next=d)}}function l_(t,e){var s=e.action,l=e.payload,h=t.state;if(e.isTransition){var d=U.T,v={};U.T=v;try{var S=s(h,l),x=U.S;x!==null&&x(v,S),u_(t,e,S)}catch(P){ph(t,e,P)}finally{U.T=d}}else try{d=s(h,l),u_(t,e,d)}catch(P){ph(t,e,P)}}function u_(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){c_(t,e,l)},function(l){return ph(t,e,l)}):c_(t,e,s)}function c_(t,e,s){e.status="fulfilled",e.value=s,h_(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,l_(t,s)))}function ph(t,e,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=s,h_(e),e=e.next;while(e!==l)}t.action=null}function h_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function f_(t,e){return e}function d_(t,e){if(mt){var s=Kt.formState;if(s!==null){t:{var l=Et;if(mt){if(at){e:{for(var h=at,d=ae;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=jn(h.nextSibling),l=h.data==="F!";break t}}an(l)}l=!1}l&&(e=s[0])}}return s=on(),s.memoizedState=s.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:e},s.queue=l,s=R_.bind(null,Et,l),l.dispatch=s,l=mh(!1),d=Sh.bind(null,Et,!1,l.queue),l=on(),h={state:e,dispatch:null,action:t,pending:null},l.queue=h,s=Sy.bind(null,Et,h,d,s),h.dispatch=s,l.memoizedState=t,[e,s,!1]}function __(t){var e=ge();return m_(e,Zt,t)}function m_(t,e,s){if(e=dh(t,e,f_)[0],t=du(zi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=gr(e)}catch(v){throw v===hr?ru:v}else l=e;e=ge();var h=e.queue,d=h.dispatch;return s!==e.memoizedState&&(Et.flags|=2048,lo(9,_u(),Ey.bind(null,h,s),null)),[l,d,t]}function Ey(t,e){t.action=e}function p_(t){var e=ge(),s=Zt;if(s!==null)return m_(e,s,t);ge(),e=e.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=t,[e,l,!1]}function lo(t,e,s,l){return t={tag:t,create:s,deps:l,inst:e,next:null},e=Et.updateQueue,e===null&&(e=hh(),Et.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,e.lastEffect=t),t}function _u(){return{destroy:void 0,resource:void 0}}function g_(){return ge().memoizedState}function mu(t,e,s,l){var h=on();l=l===void 0?null:l,Et.flags|=t,h.memoizedState=lo(1|e,_u(),s,l)}function vr(t,e,s,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&oh(l,Zt.memoizedState.deps)?h.memoizedState=lo(e,d,s,l):(Et.flags|=t,h.memoizedState=lo(1|e,d,s,l))}function v_(t,e){mu(8390656,8,t,e)}function y_(t,e){vr(2048,8,t,e)}function b_(t,e){return vr(4,2,t,e)}function S_(t,e){return vr(4,4,t,e)}function E_(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T_(t,e,s){s=s!=null?s.concat([t]):null,vr(4,4,E_.bind(null,e,t),s)}function gh(){}function C_(t,e){var s=ge();e=e===void 0?null:e;var l=s.memoizedState;return e!==null&&oh(e,l[1])?l[0]:(s.memoizedState=[t,e],t)}function w_(t,e){var s=ge();e=e===void 0?null:e;var l=s.memoizedState;if(e!==null&&oh(e,l[1]))return l[0];if(l=t(),Ea){Bn(!0);try{t()}finally{Bn(!1)}}return s.memoizedState=[l,e],l}function vh(t,e,s){return s===void 0||(ws&1073741824)!==0?t.memoizedState=e:(t.memoizedState=s,t=Mm(),Et.lanes|=t,Rs|=t,s)}function x_(t,e,s,l){return Fe(s,e)?s:ao.current!==null?(t=vh(t,s,l),Fe(t,e)||(xe=!0),t):(ws&42)===0?(xe=!0,t.memoizedState=s):(t=Mm(),Et.lanes|=t,Rs|=t,e)}function A_(t,e,s,l,h){var d=J.p;J.p=d!==0&&8>d?d:8;var v=U.T,S={};U.T=S,Sh(t,!1,e,s);try{var x=h(),P=U.S;if(P!==null&&P(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=vy(x,l);yr(t,e,Z,Sn(t))}else yr(t,e,l,Sn(t))}catch(G){yr(t,e,{then:function(){},status:"rejected",reason:G},Sn())}finally{J.p=d,U.T=v}}function Ty(){}function yh(t,e,s,l){if(t.tag!==5)throw Error(u(476));var h=M_(t).queue;A_(t,h,e,j,s===null?Ty:function(){return O_(t),s(l)})}function M_(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:j},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function O_(t){var e=M_(t).next.queue;yr(t,e,{},Sn())}function bh(){return Ye(Br)}function L_(){return ge().memoizedState}function N_(){return ge().memoizedState}function Cy(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=Sn();t=Ts(s);var l=Cs(e,t,s);l!==null&&(En(l,e,s),dr(l,e,s)),e={cache:Kc()},t.payload=e;return}e=e.return}}function wy(t,e,s){var l=Sn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},pu(t)?D_(e,s):(s=Ni(t,e,s,l),s!==null&&(En(s,t,l),z_(s,e,l)))}function R_(t,e,s){var l=Sn();yr(t,e,s,l)}function yr(t,e,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(pu(t))D_(e,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var v=e.lastRenderedState,S=d(v,s);if(h.hasEagerState=!0,h.eagerState=S,Fe(S,v))return _a(t,e,h,0),Kt===null&&da(),!1}catch{}finally{}if(s=Ni(t,e,h,l),s!==null)return En(s,t,l),z_(s,e,l),!0}return!1}function Sh(t,e,s,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(e)throw Error(u(479))}else e=Ni(t,s,l,2),e!==null&&En(e,t,2)}function pu(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function D_(t,e){oo=cu=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function z_(t,e,s){if((s&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,s|=l,e.lanes=s,Ol(t,s)}}var gu={readContext:Ye,use:fu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},P_={readContext:Ye,use:fu,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:v_,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,mu(4194308,4,E_.bind(null,e,t),s)},useLayoutEffect:function(t,e){return mu(4194308,4,t,e)},useInsertionEffect:function(t,e){mu(4,2,t,e)},useMemo:function(t,e){var s=on();e=e===void 0?null:e;var l=t();if(Ea){Bn(!0);try{t()}finally{Bn(!1)}}return s.memoizedState=[l,e],l},useReducer:function(t,e,s){var l=on();if(s!==void 0){var h=s(e);if(Ea){Bn(!0);try{s(e)}finally{Bn(!1)}}}else h=e;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wy.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:function(t){t=mh(t);var e=t.queue,s=R_.bind(null,Et,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:gh,useDeferredValue:function(t,e){var s=on();return vh(s,t,e)},useTransition:function(){var t=mh(!1);return t=A_.bind(null,Et,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var l=Et,h=on();if(mt){if(s===void 0)throw Error(u(407));s=s()}else{if(s=e(),Kt===null)throw Error(u(349));(Nt&124)!==0||n_(l,e,s)}h.memoizedState=s;var d={value:s,getSnapshot:e};return h.queue=d,v_(s_.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,_u(),i_.bind(null,l,d,s,e),null),s},useId:function(){var t=on(),e=Kt.identifierPrefix;if(mt){var s=w,l=y;s=(l&~(1<<32-Xe(l)-1)).toString(32)+s,e="«"+e+"R"+s,s=hu++,0<s&&(e+="H"+s.toString(32)),e+="»"}else s=yy++,e="«"+e+"r"+s.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:bh,useFormState:d_,useActionState:d_,useOptimistic:function(t){var e=on();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=Sh.bind(null,Et,!0,s),s.dispatch=e,[t,e]},useMemoCache:fh,useCacheRefresh:function(){return on().memoizedState=Cy.bind(null,Et)}},I_={readContext:Ye,use:fu,useCallback:C_,useContext:Ye,useEffect:y_,useImperativeHandle:T_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:w_,useReducer:du,useRef:g_,useState:function(){return du(zi)},useDebugValue:gh,useDeferredValue:function(t,e){var s=ge();return x_(s,Zt.memoizedState,t,e)},useTransition:function(){var t=du(zi)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:gr(t),e]},useSyncExternalStore:e_,useId:L_,useHostTransitionStatus:bh,useFormState:__,useActionState:__,useOptimistic:function(t,e){var s=ge();return r_(s,Zt,t,e)},useMemoCache:fh,useCacheRefresh:N_},xy={readContext:Ye,use:fu,useCallback:C_,useContext:Ye,useEffect:y_,useImperativeHandle:T_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:w_,useReducer:_h,useRef:g_,useState:function(){return _h(zi)},useDebugValue:gh,useDeferredValue:function(t,e){var s=ge();return Zt===null?vh(s,t,e):x_(s,Zt.memoizedState,t,e)},useTransition:function(){var t=_h(zi)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:gr(t),e]},useSyncExternalStore:e_,useId:L_,useHostTransitionStatus:bh,useFormState:p_,useActionState:p_,useOptimistic:function(t,e){var s=ge();return Zt!==null?r_(s,Zt,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:fh,useCacheRefresh:N_},uo=null,br=0;function vu(t){var e=br;return br+=1,uo===null&&(uo=[]),Xd(uo,t,e)}function Sr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function yu(t,e){throw e.$$typeof===A?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function B_(t){var e=t._init;return e(t._payload)}function k_(t){function e(R,M){if(t){var z=R.deletions;z===null?(R.deletions=[M],R.flags|=16):z.push(M)}}function s(R,M){if(!t)return null;for(;M!==null;)e(R,M),M=M.sibling;return null}function l(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function h(R,M){return R=Ln(R,M),R.index=0,R.sibling=null,R}function d(R,M,z){return R.index=z,t?(z=R.alternate,z!==null?(z=z.index,z<M?(R.flags|=67108866,M):z):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function v(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function S(R,M,z,q){return M===null||M.tag!==6?(M=lr(z,R.mode,q),M.return=R,M):(M=h(M,z),M.return=R,M)}function x(R,M,z,q){var it=z.type;return it===K?Z(R,M,z.props.children,q,z.key):M!==null&&(M.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===_e&&B_(it)===M.type)?(M=h(M,z.props),Sr(M,z),M.return=R,M):(M=pa(z.type,z.key,z.props,null,R.mode,q),Sr(M,z),M.return=R,M)}function P(R,M,z,q){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=eo(z,R.mode,q),M.return=R,M):(M=h(M,z.children||[]),M.return=R,M)}function Z(R,M,z,q,it){return M===null||M.tag!==7?(M=ai(z,R.mode,q,it),M.return=R,M):(M=h(M,z),M.return=R,M)}function G(R,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=lr(""+M,R.mode,z),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return z=pa(M.type,M.key,M.props,null,R.mode,z),Sr(z,M),z.return=R,z;case V:return M=eo(M,R.mode,z),M.return=R,M;case _e:var q=M._init;return M=q(M._payload),G(R,M,z)}if(Ee(M)||It(M))return M=ai(M,R.mode,z,null),M.return=R,M;if(typeof M.then=="function")return G(R,vu(M),z);if(M.$$typeof===ct)return G(R,au(R,M),z);yu(R,M)}return null}function I(R,M,z,q){var it=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:S(R,M,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===it?x(R,M,z,q):null;case V:return z.key===it?P(R,M,z,q):null;case _e:return it=z._init,z=it(z._payload),I(R,M,z,q)}if(Ee(z)||It(z))return it!==null?null:Z(R,M,z,q,null);if(typeof z.then=="function")return I(R,M,vu(z),q);if(z.$$typeof===ct)return I(R,M,au(R,z),q);yu(R,z)}return null}function B(R,M,z,q,it){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(z)||null,S(M,R,""+q,it);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return R=R.get(q.key===null?z:q.key)||null,x(M,R,q,it);case V:return R=R.get(q.key===null?z:q.key)||null,P(M,R,q,it);case _e:var Ct=q._init;return q=Ct(q._payload),B(R,M,z,q,it)}if(Ee(q)||It(q))return R=R.get(z)||null,Z(M,R,q,it,null);if(typeof q.then=="function")return B(R,M,z,vu(q),it);if(q.$$typeof===ct)return B(R,M,z,au(M,q),it);yu(M,q)}return null}function _t(R,M,z,q){for(var it=null,Ct=null,lt=M,ft=M=0,Me=null;lt!==null&&ft<z.length;ft++){lt.index>ft?(Me=lt,lt=null):Me=lt.sibling;var zt=I(R,lt,z[ft],q);if(zt===null){lt===null&&(lt=Me);break}t&&lt&&zt.alternate===null&&e(R,lt),M=d(zt,M,ft),Ct===null?it=zt:Ct.sibling=zt,Ct=zt,lt=Me}if(ft===z.length)return s(R,lt),mt&&D(R,ft),it;if(lt===null){for(;ft<z.length;ft++)lt=G(R,z[ft],q),lt!==null&&(M=d(lt,M,ft),Ct===null?it=lt:Ct.sibling=lt,Ct=lt);return mt&&D(R,ft),it}for(lt=l(lt);ft<z.length;ft++)Me=B(lt,R,ft,z[ft],q),Me!==null&&(t&&Me.alternate!==null&&lt.delete(Me.key===null?ft:Me.key),M=d(Me,M,ft),Ct===null?it=Me:Ct.sibling=Me,Ct=Me);return t&&lt.forEach(function(Zs){return e(R,Zs)}),mt&&D(R,ft),it}function ht(R,M,z,q){if(z==null)throw Error(u(151));for(var it=null,Ct=null,lt=M,ft=M=0,Me=null,zt=z.next();lt!==null&&!zt.done;ft++,zt=z.next()){lt.index>ft?(Me=lt,lt=null):Me=lt.sibling;var Zs=I(R,lt,zt.value,q);if(Zs===null){lt===null&&(lt=Me);break}t&&lt&&Zs.alternate===null&&e(R,lt),M=d(Zs,M,ft),Ct===null?it=Zs:Ct.sibling=Zs,Ct=Zs,lt=Me}if(zt.done)return s(R,lt),mt&&D(R,ft),it;if(lt===null){for(;!zt.done;ft++,zt=z.next())zt=G(R,zt.value,q),zt!==null&&(M=d(zt,M,ft),Ct===null?it=zt:Ct.sibling=zt,Ct=zt);return mt&&D(R,ft),it}for(lt=l(lt);!zt.done;ft++,zt=z.next())zt=B(lt,R,ft,zt.value,q),zt!==null&&(t&&zt.alternate!==null&&lt.delete(zt.key===null?ft:zt.key),M=d(zt,M,ft),Ct===null?it=zt:Ct.sibling=zt,Ct=zt);return t&&lt.forEach(function(A0){return e(R,A0)}),mt&&D(R,ft),it}function Gt(R,M,z,q){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:t:{for(var it=z.key;M!==null;){if(M.key===it){if(it=z.type,it===K){if(M.tag===7){s(R,M.sibling),q=h(M,z.props.children),q.return=R,R=q;break t}}else if(M.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===_e&&B_(it)===M.type){s(R,M.sibling),q=h(M,z.props),Sr(q,z),q.return=R,R=q;break t}s(R,M);break}else e(R,M);M=M.sibling}z.type===K?(q=ai(z.props.children,R.mode,q,z.key),q.return=R,R=q):(q=pa(z.type,z.key,z.props,null,R.mode,q),Sr(q,z),q.return=R,R=q)}return v(R);case V:t:{for(it=z.key;M!==null;){if(M.key===it)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(R,M.sibling),q=h(M,z.children||[]),q.return=R,R=q;break t}else{s(R,M);break}else e(R,M);M=M.sibling}q=eo(z,R.mode,q),q.return=R,R=q}return v(R);case _e:return it=z._init,z=it(z._payload),Gt(R,M,z,q)}if(Ee(z))return _t(R,M,z,q);if(It(z)){if(it=It(z),typeof it!="function")throw Error(u(150));return z=it.call(z),ht(R,M,z,q)}if(typeof z.then=="function")return Gt(R,M,vu(z),q);if(z.$$typeof===ct)return Gt(R,M,au(R,z),q);yu(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(R,M.sibling),q=h(M,z),q.return=R,R=q):(s(R,M),q=lr(z,R.mode,q),q.return=R,R=q),v(R)):s(R,M)}return function(R,M,z,q){try{br=0;var it=Gt(R,M,z,q);return uo=null,it}catch(lt){if(lt===hr||lt===ru)throw lt;var Ct=$e(29,lt,null,R.mode);return Ct.lanes=q,Ct.return=R,Ct}finally{}}}var co=k_(!0),U_=k_(!1),Rn=H(null),ri=null;function xs(t){var e=t.alternate;X(ye,ye.current&1),X(Rn,t),ri===null&&(e===null||ao.current!==null||e.memoizedState!==null)&&(ri=t)}function H_(t){if(t.tag===22){if(X(ye,ye.current),X(Rn,t),ri===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ri=t)}}else As()}function As(){X(ye,ye.current),X(Rn,Rn.current)}function Pi(t){F(Rn),ri===t&&(ri=null),F(ye)}var ye=H(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ff(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Eh(t,e,s,l){e=t.memoizedState,s=s(l,e),s=s==null?e:N({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Th={enqueueSetState:function(t,e,s){t=t._reactInternals;var l=Sn(),h=Ts(l);h.payload=e,s!=null&&(h.callback=s),e=Cs(t,h,l),e!==null&&(En(e,t,l),dr(e,t,l))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var l=Sn(),h=Ts(l);h.tag=1,h.payload=e,s!=null&&(h.callback=s),e=Cs(t,h,l),e!==null&&(En(e,t,l),dr(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Sn(),l=Ts(s);l.tag=2,e!=null&&(l.callback=e),e=Cs(t,l,s),e!==null&&(En(e,t,s),dr(e,t,s))}};function Z_(t,e,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):e.prototype&&e.prototype.isPureReactComponent?!Ke(s,l)||!Ke(h,d):!0}function q_(t,e,s,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,l),e.state!==t&&Th.enqueueReplaceState(e,e.state,null)}function Ta(t,e){var s=e;if("ref"in e){s={};for(var l in e)l!=="ref"&&(s[l]=e[l])}if(t=t.defaultProps){s===e&&(s=N({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function G_(t){Su(t)}function Y_(t){console.error(t)}function V_(t){Su(t)}function Eu(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function j_(t,e,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ch(t,e,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Eu(t,e)},s}function X_(t){return t=Ts(t),t.tag=3,t}function Q_(t,e,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){j_(e,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){j_(e,s,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Ay(t,e,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=s.alternate,e!==null&&ya(e,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return ri===null?Qh():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===$c?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([l]):e.add(l),Kh(t,l,h)),!1;case 22:return s.flags|=65536,l===$c?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([l]):s.add(l)),Kh(t,l,h)),!1}throw Error(u(435,s.tag))}return Kh(t,l,h),Qh(),!1}if(mt)return e=Rn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,l!==we&&(t=Error(u(422),{cause:l}),Ss(We(t,s)))):(l!==we&&(e=Error(u(423),{cause:l}),Ss(We(e,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=We(l,s),h=Ch(t.stateNode,l,h),nh(t,h),ue!==4&&(ue=2)),!1;var d=Error(u(520),{cause:l});if(d=We(d,s),Mr===null?Mr=[d]:Mr.push(d),ue!==4&&(ue=2),e===null)return!0;l=We(l,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Ch(s.stateNode,l,t),nh(s,t),!1;case 1:if(e=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=X_(h),Q_(h,t,s,l),nh(s,h),!1}s=s.return}while(s!==null);return!1}var F_=Error(u(461)),xe=!1;function Pe(t,e,s,l){e.child=t===null?U_(e,null,s,l):co(e,t.child,s,l)}function K_(t,e,s,l,h){s=s.render;var d=e.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return ba(e),l=rh(t,e,s,v,d,h),S=lh(),t!==null&&!xe?(uh(t,e,h),Ii(t,e,h)):(mt&&S&&Y(e),e.flags|=1,Pe(t,e,l,h),e.child)}function W_(t,e,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!to(d)&&d.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=d,J_(t,e,d,l,h)):(t=pa(s.type,null,l,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!Rh(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ke,s(v,l)&&t.ref===e.ref)return Ii(t,e,h)}return e.flags|=1,t=Ln(d,l),t.ref=e.ref,t.return=e,e.child=t}function J_(t,e,s,l,h){if(t!==null){var d=t.memoizedProps;if(Ke(d,l)&&t.ref===e.ref)if(xe=!1,e.pendingProps=l=d,Rh(t,h))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,Ii(t,e,h)}return wh(t,e,s,l,h)}function $_(t,e,s){var l=e.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=e.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;e.childLanes=d&~l}else e.childLanes=0,e.child=null;return tm(t,e,l,s)}if((s&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ou(e,d!==null?d.cachePool:null),d!==null?Jd(e,d):sh(),H_(e);else return e.lanes=e.childLanes=536870912,tm(t,e,d!==null?d.baseLanes|s:s,s)}else d!==null?(ou(e,d.cachePool),Jd(e,d),As(),e.memoizedState=null):(t!==null&&ou(e,null),sh(),As());return Pe(t,e,h,s),e.child}function tm(t,e,s,l){var h=Jc();return h=h===null?null:{parent:ve._currentValue,pool:h},e.memoizedState={baseLanes:s,cachePool:h},t!==null&&ou(e,null),sh(),H_(e),t!==null&&ya(t,e,l,!0),null}function Tu(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(u(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function wh(t,e,s,l,h){return ba(e),s=rh(t,e,s,l,void 0,h),l=lh(),t!==null&&!xe?(uh(t,e,h),Ii(t,e,h)):(mt&&l&&Y(e),e.flags|=1,Pe(t,e,s,h),e.child)}function em(t,e,s,l,h,d){return ba(e),e.updateQueue=null,s=t_(e,l,s,h),$d(t),l=lh(),t!==null&&!xe?(uh(t,e,d),Ii(t,e,d)):(mt&&l&&Y(e),e.flags|=1,Pe(t,e,s,d),e.child)}function nm(t,e,s,l,h){if(ba(e),e.stateNode===null){var d=Ri,v=s.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new s(l,d),e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Th,e.stateNode=d,d._reactInternals=e,d=e.stateNode,d.props=l,d.state=e.memoizedState,d.refs={},th(e),v=s.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):Ri,d.state=e.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Eh(e,s,v,l),d.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Th.enqueueReplaceState(d,d.state,null),mr(e,l,d,h),_r(),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){d=e.stateNode;var S=e.memoizedProps,x=Ta(s,S);d.props=x;var P=d.context,Z=s.contextType;v=Ri,typeof Z=="object"&&Z!==null&&(v=Ye(Z));var G=s.getDerivedStateFromProps;Z=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=e.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||P!==v)&&q_(e,d,l,v),Es=!1;var I=e.memoizedState;d.state=I,mr(e,l,d,h),_r(),P=e.memoizedState,S||I!==P||Es?(typeof G=="function"&&(Eh(e,s,G,l),P=e.memoizedState),(x=Es||Z_(e,s,x,l,I,P,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=P),d.props=l,d.state=P,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{d=e.stateNode,eh(t,e),v=e.memoizedProps,Z=Ta(s,v),d.props=Z,G=e.pendingProps,I=d.context,P=s.contextType,x=Ri,typeof P=="object"&&P!==null&&(x=Ye(P)),S=s.getDerivedStateFromProps,(P=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==G||I!==x)&&q_(e,d,l,x),Es=!1,I=e.memoizedState,d.state=I,mr(e,l,d,h),_r();var B=e.memoizedState;v!==G||I!==B||Es||t!==null&&t.dependencies!==null&&su(t.dependencies)?(typeof S=="function"&&(Eh(e,s,S,l),B=e.memoizedState),(Z=Es||Z_(e,s,Z,l,I,B,x)||t!==null&&t.dependencies!==null&&su(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,x)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=B),d.props=l,d.state=B,d.context=x,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),l=!1)}return d=l,Tu(t,e),l=(e.flags&128)!==0,d||l?(d=e.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),e.flags|=1,t!==null&&l?(e.child=co(e,t.child,null,h),e.child=co(e,null,s,h)):Pe(t,e,s,h),e.memoizedState=d.state,t=e.child):t=Ii(t,e,h),t}function im(t,e,s,l){return bs(),e.flags|=256,Pe(t,e,s,l),e.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:Yd()}}function Mh(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=Dn),t}function sm(t,e,s){var l=e.pendingProps,h=!1,d=(e.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(ye.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(mt){if(h?xs(e):As(),mt){var S=at,x;if(x=S){t:{for(x=S,S=ae;x.nodeType!==8;){if(!S){S=null;break t}if(x=jn(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(e.memoizedState={dehydrated:S,treeContext:g!==null?{id:y,overflow:w}:null,retryLane:536870912,hydrationErrors:null},x=$e(18,null,null,0),x.stateNode=S,x.return=e,e.child=x,nt=e,at=null,x=!0):x=!1}x||an(e)}if(S=e.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ff(S)?e.lanes=32:e.lanes=536870912,null;Pi(e)}return S=l.children,l=l.fallback,h?(As(),h=e.mode,S=Cu({mode:"hidden",children:S},h),l=ai(l,h,s,null),S.return=e,l.return=e,S.sibling=l,e.child=S,h=e.child,h.memoizedState=Ah(s),h.childLanes=Mh(t,v,s),e.memoizedState=xh,l):(xs(e),Oh(e,S))}if(x=t.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(d)e.flags&256?(xs(e),e.flags&=-257,e=Lh(t,e,s)):e.memoizedState!==null?(As(),e.child=t.child,e.flags|=128,e=null):(As(),h=l.fallback,S=e.mode,l=Cu({mode:"visible",children:l.children},S),h=ai(h,S,s,null),h.flags|=2,l.return=e,h.return=e,l.sibling=h,e.child=l,co(e,t.child,null,s),l=e.child,l.memoizedState=Ah(s),l.childLanes=Mh(t,v,s),e.memoizedState=xh,e=h);else if(xs(e),ff(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(u(419)),l.stack="",l.digest=v,Ss({value:l,source:null,stack:null}),e=Lh(t,e,s)}else if(xe||ya(t,e,s,!1),v=(s&t.childLanes)!==0,xe||v){if(v=Kt,v!==null&&(l=s&-s,l=(l&42)!==0?1:qo(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,vs(t,l),En(v,t,l),F_;S.data==="$?"||Qh(),e=Lh(t,e,s)}else S.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,at=jn(S.nextSibling),nt=e,mt=!0,Ft=null,ae=!1,t!==null&&(c[_++]=y,c[_++]=w,c[_++]=g,y=t.id,w=t.overflow,g=e),e=Oh(e,l.children),e.flags|=4096);return e}return h?(As(),h=l.fallback,S=e.mode,x=t.child,P=x.sibling,l=Ln(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,P!==null?h=Ln(P,h):(h=ai(h,S,s,null),h.flags|=2),h.return=e,l.return=e,l.sibling=h,e.child=l,l=h,h=e.child,S=t.child.memoizedState,S===null?S=Ah(s):(x=S.cachePool,x!==null?(P=ve._currentValue,x=x.parent!==P?{parent:P,pool:P}:x):x=Yd(),S={baseLanes:S.baseLanes|s,cachePool:x}),h.memoizedState=S,h.childLanes=Mh(t,v,s),e.memoizedState=xh,l):(xs(e),s=t.child,t=s.sibling,s=Ln(s,{mode:"visible",children:l.children}),s.return=e,s.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=s,e.memoizedState=null,s)}function Oh(t,e){return e=Cu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Cu(t,e){return t=$e(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lh(t,e,s){return co(e,t.child,null,s),t=Oh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function am(t,e,s){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),va(t.return,e,s)}function Nh(t,e,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function om(t,e,s){var l=e.pendingProps,h=l.revealOrder,d=l.tail;if(Pe(t,e,l.children,s),l=ye.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,s,e);else if(t.tag===19)am(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(ye,l),h){case"forwards":for(s=e.child,h=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=e.child,e.child=null):(h=s.sibling,s.sibling=null),Nh(e,!1,h,s,d);break;case"backwards":for(s=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&bu(t)===null){e.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Nh(e,!0,s,null,d);break;case"together":Nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ii(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,(s&e.childLanes)===0)if(t!==null){if(ya(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,s=Ln(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ln(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function Rh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&su(t)))}function My(t,e,s){switch(e.tag){case 3:Rt(e,e.stateNode.containerInfo),oi(e,ve,t.memoizedState.cache),bs();break;case 27:case 5:Ks(e);break;case 4:Rt(e,e.stateNode.containerInfo);break;case 10:oi(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(e),e.flags|=128,null):(s&e.child.childLanes)!==0?sm(t,e,s):(xs(e),t=Ii(t,e,s),t!==null?t.sibling:null);xs(e);break;case 19:var h=(t.flags&128)!==0;if(l=(s&e.childLanes)!==0,l||(ya(t,e,s,!1),l=(s&e.childLanes)!==0),h){if(l)return om(t,e,s);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(ye,ye.current),l)break;return null;case 22:case 23:return e.lanes=0,$_(t,e,s);case 24:oi(e,ve,t.memoizedState.cache)}return Ii(t,e,s)}function rm(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Rh(t,s)&&(e.flags&128)===0)return xe=!1,My(t,e,s);xe=(t.flags&131072)!==0}else xe=!1,mt&&(e.flags&1048576)!==0&&k(e,o,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,h=l._init;if(l=h(l._payload),e.type=l,typeof l=="function")to(l)?(t=Ta(l,t),e.tag=1,e=nm(null,e,l,t,s)):(e.tag=0,e=wh(null,e,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===kt){e.tag=11,e=K_(null,e,l,t,s);break t}else if(h===re){e.tag=14,e=W_(null,e,l,t,s);break t}}throw e=Ne(l)||l,Error(u(306,e,""))}}return e;case 0:return wh(t,e,e.type,e.pendingProps,s);case 1:return l=e.type,h=Ta(l,e.pendingProps),nm(t,e,l,h,s);case 3:t:{if(Rt(e,e.stateNode.containerInfo),t===null)throw Error(u(387));l=e.pendingProps;var d=e.memoizedState;h=d.element,eh(t,e),mr(e,l,null,s);var v=e.memoizedState;if(l=v.cache,oi(e,ve,l),l!==d.cache&&no(e,[ve],s,!0),_r(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){e=im(t,e,l,s);break t}else if(l!==h){h=We(Error(u(424)),e),Ss(h),e=im(t,e,l,s);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=jn(t.firstChild),nt=e,mt=!0,Ft=null,ae=!0,s=U_(e,null,l,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(bs(),l===h){e=Ii(t,e,s);break t}Pe(t,e,l,s)}e=e.child}return e;case 26:return Tu(t,e),t===null?(s=hp(e.type,null,e.pendingProps,null))?e.memoizedState=s:mt||(s=e.type,t=e.pendingProps,l=ku(W.current).createElement(s),l[Te]=e,l[Ze]=t,Be(l,s,t),me(l),e.stateNode=l):e.memoizedState=hp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ks(e),t===null&&mt&&(l=e.stateNode=lp(e.type,e.pendingProps,W.current),nt=e,ae=!0,h=at,Is(e.type)?(df=h,at=jn(l.firstChild)):at=h),Pe(t,e,e.pendingProps.children,s),Tu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&mt&&((h=l=at)&&(l=n0(l,e.type,e.pendingProps,ae),l!==null?(e.stateNode=l,nt=e,at=jn(l.firstChild),ae=!1,h=!0):h=!1),h||an(e)),Ks(e),h=e.type,d=e.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,uf(h,d)?l=null:v!==null&&uf(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=rh(t,e,by,null,null,s),Br._currentValue=h),Tu(t,e),Pe(t,e,l,s),e.child;case 6:return t===null&&mt&&((t=s=at)&&(s=i0(s,e.pendingProps,ae),s!==null?(e.stateNode=s,nt=e,at=null,t=!0):t=!1),t||an(e)),null;case 13:return sm(t,e,s);case 4:return Rt(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=co(e,null,l,s):Pe(t,e,l,s),e.child;case 11:return K_(t,e,e.type,e.pendingProps,s);case 7:return Pe(t,e,e.pendingProps,s),e.child;case 8:return Pe(t,e,e.pendingProps.children,s),e.child;case 12:return Pe(t,e,e.pendingProps.children,s),e.child;case 10:return l=e.pendingProps,oi(e,e.type,l.value),Pe(t,e,l.children,s),e.child;case 9:return h=e.type._context,l=e.pendingProps.children,ba(e),h=Ye(h),l=l(h),e.flags|=1,Pe(t,e,l,s),e.child;case 14:return W_(t,e,e.type,e.pendingProps,s);case 15:return J_(t,e,e.type,e.pendingProps,s);case 19:return om(t,e,s);case 31:return l=e.pendingProps,s=e.mode,l={mode:l.mode,children:l.children},t===null?(s=Cu(l,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=Ln(t.child,l),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return $_(t,e,s);case 24:return ba(e),l=Ye(ve),t===null?(h=Jc(),h===null&&(h=Kt,d=Kc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),e.memoizedState={parent:l,cache:h},th(e),oi(e,ve,h)):((t.lanes&s)!==0&&(eh(t,e),mr(e,null,null,s),_r()),h=t.memoizedState,d=e.memoizedState,h.parent!==l?(h={parent:l,cache:l},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),oi(e,ve,l)):(l=d.cache,oi(e,ve,l),l!==h.cache&&no(e,[ve],s,!0))),Pe(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function Bi(t){t.flags|=4}function lm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pp(e)){if(e=Rn.current,e!==null&&((Nt&4194048)===Nt?ri!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||e!==ri))throw fr=$c,Vd;t.flags|=8192}}function wu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Zo():536870912,t.lanes|=e,mo|=e)}function Er(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(e)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,e}function Oy(t,e,s){var l=e.pendingProps;switch($(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return s=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Yn(ve),In(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ga(e)?Bi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,iu())),oe(e),null;case 26:return s=e.memoizedState,t===null?(Bi(e),s!==null?(oe(e),lm(e,s)):(oe(e),e.flags&=-16777217)):s?s!==t.memoizedState?(Bi(e),oe(e),lm(e,s)):(oe(e),e.flags&=-16777217):(t.memoizedProps!==l&&Bi(e),oe(e),e.flags&=-16777217),null;case 27:Qi(e),s=W.current;var h=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Bi(e);else{if(!l){if(e.stateNode===null)throw Error(u(166));return oe(e),null}t=tt.current,ga(e)?eu(e):(t=lp(h,l,s),e.stateNode=t,Bi(e))}return oe(e),null;case 5:if(Qi(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Bi(e);else{if(!l){if(e.stateNode===null)throw Error(u(166));return oe(e),null}if(t=tt.current,ga(e))eu(e);else{switch(h=ku(W.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Te]=e,t[Ze]=l;t:for(h=e.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}e.stateNode=t;t:switch(Be(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Bi(e)}}return oe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&Bi(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(u(166));if(t=W.current,ga(e)){if(t=e.stateNode,s=e.memoizedProps,l=null,h=nt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Te]=e,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ep(t.nodeValue,s)),t||an(e)}else t=ku(t).createTextNode(l),t[Te]=e,e.stateNode=t}return oe(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(e),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[Te]=e}else bs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),h=!1}else h=iu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(Pi(e),e):(Pi(e),null)}if(Pi(e),(e.flags&128)!==0)return e.lanes=s,e;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=e.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),wu(e,e.updateQueue),oe(e),null;case 4:return In(),t===null&&sf(e.stateNode.containerInfo),oe(e),null;case 10:return Yn(e.type),oe(e),null;case 19:if(F(ye),h=e.memoizedState,h===null)return oe(e),null;if(l=(e.flags&128)!==0,d=h.rendering,d===null)if(l)Er(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(d=bu(t),d!==null){for(e.flags|=128,Er(h,!1),t=d.updateQueue,e.updateQueue=t,wu(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)rr(s,t),s=s.sibling;return X(ye,ye.current&1|2),e.child}t=t.sibling}h.tail!==null&&en()>Mu&&(e.flags|=128,l=!0,Er(h,!1),e.lanes=4194304)}else{if(!l)if(t=bu(d),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,wu(e,t),Er(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!mt)return oe(e),null}else 2*en()-h.renderingStartTime>Mu&&s!==536870912&&(e.flags|=128,l=!0,Er(h,!1),e.lanes=4194304);h.isBackwards?(d.sibling=e.child,e.child=d):(t=h.last,t!==null?t.sibling=d:e.child=d,h.last=d)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=en(),e.sibling=null,t=ye.current,X(ye,l?t&1|2:t&1),e):(oe(e),null);case 22:case 23:return Pi(e),ah(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(s&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),s=e.updateQueue,s!==null&&wu(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==s&&(e.flags|=2048),t!==null&&F(Sa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Yn(ve),oe(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Ly(t,e){switch($(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(ve),In(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Qi(e),null;case 13:if(Pi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(ye),null;case 4:return In(),null;case 10:return Yn(e.type),null;case 22:case 23:return Pi(e),ah(),t!==null&&F(Sa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Yn(ve),null;case 25:return null;default:return null}}function um(t,e){switch($(e),e.tag){case 3:Yn(ve),In();break;case 26:case 27:case 5:Qi(e);break;case 4:In();break;case 13:Pi(e);break;case 19:F(ye);break;case 10:Yn(e.type);break;case 22:case 23:Pi(e),ah(),t!==null&&F(Sa);break;case 24:Yn(ve)}}function Tr(t,e){try{var s=e.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(S){Yt(e,e.return,S)}}function Ms(t,e,s){try{var l=e.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=e;var x=s,P=S;try{P()}catch(Z){Yt(h,x,Z)}}}l=l.next}while(l!==d)}}catch(Z){Yt(e,e.return,Z)}}function cm(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{Wd(e,s)}catch(l){Yt(t,t.return,l)}}}function hm(t,e,s){s.props=Ta(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(t,e,l)}}function Cr(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Yt(t,e,h)}}function li(t,e){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(t,e,h)}else s.current=null}function fm(t){var e=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Yt(t,t.return,h)}}function Dh(t,e,s){try{var l=t.stateNode;Wy(l,t.type,s,e),l[Ze]=e}catch(h){Yt(t,t.return,h)}}function dm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,e,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bu));else if(l!==4&&(l===27&&Is(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(Ph(t,e,s),t=t.sibling;t!==null;)Ph(t,e,s),t=t.sibling}function xu(t,e,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(l!==4&&(l===27&&Is(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(xu(t,e,s),t=t.sibling;t!==null;)xu(t,e,s),t=t.sibling}function _m(t){var e=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);Be(e,l,s),e[Te]=t,e[Ze]=s}catch(d){Yt(t,t.return,d)}}var ki=!1,de=!1,Ih=!1,mm=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ny(t,e){if(t=t.containerInfo,rf=Yu,t=ca(t),ha(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,S=-1,x=-1,P=0,Z=0,G=t,I=null;e:for(;;){for(var B;G!==s||h!==0&&G.nodeType!==3||(S=v+h),G!==d||l!==0&&G.nodeType!==3||(x=v+l),G.nodeType===3&&(v+=G.nodeValue.length),(B=G.firstChild)!==null;)I=G,G=B;for(;;){if(G===t)break e;if(I===s&&++P===h&&(S=v),I===d&&++Z===l&&(x=v),(B=G.nextSibling)!==null)break;G=I,I=G.parentNode}G=B}s=S===-1||x===-1?null:{start:S,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(lf={focusedElem:t,selectionRange:s},Yu=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){switch(e=Ae,d=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=e,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var _t=Ta(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Yt(s,s.return,ht)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)hf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}}function pm(t,e,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Os(t,s),l&4&&Tr(5,s);break;case 1:if(Os(t,s),l&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(v){Yt(s,s.return,v)}else{var h=Ta(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Yt(s,s.return,v)}}l&64&&cm(s),l&512&&Cr(s,s.return);break;case 3:if(Os(t,s),l&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Wd(t,e)}catch(v){Yt(s,s.return,v)}}break;case 27:e===null&&l&4&&_m(s);case 26:case 5:Os(t,s),e===null&&l&4&&fm(s),l&512&&Cr(s,s.return);break;case 12:Os(t,s);break;case 13:Os(t,s),l&4&&ym(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Hy.bind(null,s),s0(t,s))));break;case 22:if(l=s.memoizedState!==null||ki,!l){e=e!==null&&e.memoizedState!==null||de,h=ki;var d=de;ki=l,(de=e)&&!d?Ls(t,s,(s.subtreeFlags&8772)!==0):Os(t,s),ki=h,de=d}break;case 30:break;default:Os(t,s)}}function gm(t){var e=t.alternate;e!==null&&(t.alternate=null,gm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ba(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,rn=!1;function Ui(t,e,s){for(s=s.child;s!==null;)vm(t,e,s),s=s.sibling}function vm(t,e,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(di,s)}catch{}switch(s.tag){case 26:de||li(s,e),Ui(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:de||li(s,e);var l=ne,h=rn;Is(s.type)&&(ne=s.stateNode,rn=!1),Ui(t,e,s),Dr(s.stateNode),ne=l,rn=h;break;case 5:de||li(s,e);case 6:if(l=ne,h=rn,ne=null,Ui(t,e,s),ne=l,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(d){Yt(s,e,d)}else try{ne.removeChild(s.stateNode)}catch(d){Yt(s,e,d)}break;case 18:ne!==null&&(rn?(t=ne,op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Zr(t)):op(ne,s.stateNode));break;case 4:l=ne,h=rn,ne=s.stateNode.containerInfo,rn=!0,Ui(t,e,s),ne=l,rn=h;break;case 0:case 11:case 14:case 15:de||Ms(2,s,e),de||Ms(4,s,e),Ui(t,e,s);break;case 1:de||(li(s,e),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hm(s,e,l)),Ui(t,e,s);break;case 21:Ui(t,e,s);break;case 22:de=(l=de)||s.memoizedState!==null,Ui(t,e,s),de=l;break;default:Ui(t,e,s)}}function ym(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zr(t)}catch(s){Yt(e,e.return,s)}}function Ry(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new mm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new mm),e;default:throw Error(u(435,t.tag))}}function Bh(t,e){var s=Ry(t);e.forEach(function(l){var h=Zy.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function vn(t,e){var s=e.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=e,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(Is(S.type)){ne=S.stateNode,rn=!1;break t}break;case 5:ne=S.stateNode,rn=!1;break t;case 3:case 4:ne=S.stateNode.containerInfo,rn=!0;break t}S=S.return}if(ne===null)throw Error(u(160));vm(d,v,h),ne=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)bm(e,t),e=e.sibling}var Vn=null;function bm(t,e){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),yn(t),l&4&&(Ms(3,t,t.return),Tr(3,t),Ms(5,t,t.return));break;case 1:vn(e,t),yn(t),l&512&&(de||s===null||li(s,s.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Vn;if(vn(e,t),yn(t),l&512&&(de||s===null||li(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[$i]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,s),d[Te]=t,me(d),l=d;break t;case"link":var v=_p("link","href",h).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;case"meta":if(v=_p("meta","content",h).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;default:throw Error(u(468,l))}d[Te]=t,me(d),l=d}t.stateNode=l}else mp(h,t.type,t.stateNode);else t.stateNode=dp(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?mp(h,t.type,t.stateNode):dp(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(e,t),yn(t),l&512&&(de||s===null||li(s,s.return)),s!==null&&l&4&&Dh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(e,t),yn(t),l&512&&(de||s===null||li(s,s.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(B){Yt(t,t.return,B)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dh(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ih=!0);break;case 6:if(vn(e,t),yn(t),l&4){if(t.stateNode===null)throw Error(u(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(B){Yt(t,t.return,B)}}break;case 3:if(Zu=null,h=Vn,Vn=Uu(e.containerInfo),vn(e,t),Vn=h,yn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Zr(e.containerInfo)}catch(B){Yt(t,t.return,B)}Ih&&(Ih=!1,Sm(t));break;case 4:l=Vn,Vn=Uu(t.stateNode.containerInfo),vn(e,t),yn(t),Vn=l;break;case 12:vn(e,t),yn(t);break;case 13:vn(e,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gh=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,P=ki,Z=de;if(ki=P||h,de=Z||x,vn(e,t),de=Z,ki=P,yn(t),l&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(s===null||x||ki||de||Ca(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){x=s=e;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=x.stateNode;var G=x.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(B){Yt(x,x.return,B)}}}else if(e.tag===6){if(s===null){x=e;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(B){Yt(x,x.return,B)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bh(t,s))));break;case 19:vn(e,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 30:break;case 21:break;default:vn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{for(var s,l=t.return;l!==null;){if(dm(l)){s=l;break}l=l.return}if(s==null)throw Error(u(160));switch(s.tag){case 27:var h=s.stateNode,d=zh(t);xu(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(wn(v,""),s.flags&=-33);var S=zh(t);xu(t,S,v);break;case 3:case 4:var x=s.stateNode.containerInfo,P=zh(t);Ph(t,P,x);break;default:throw Error(u(161))}}catch(Z){Yt(t,t.return,Z)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Sm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Os(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)pm(t,e.alternate,e),e=e.sibling}function Ca(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ms(4,e,e.return),Ca(e);break;case 1:li(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&hm(e,e.return,s),Ca(e);break;case 27:Dr(e.stateNode);case 26:case 5:li(e,e.return),Ca(e);break;case 22:e.memoizedState===null&&Ca(e);break;case 30:Ca(e);break;default:Ca(e)}t=t.sibling}}function Ls(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,h=t,d=e,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ls(h,d,s),Tr(4,d);break;case 1:if(Ls(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Kd(x[h],S)}catch(P){Yt(l,l.return,P)}}s&&v&64&&cm(d),Cr(d,d.return);break;case 27:_m(d);case 26:case 5:Ls(h,d,s),s&&l===null&&v&4&&fm(d),Cr(d,d.return);break;case 12:Ls(h,d,s);break;case 13:Ls(h,d,s),s&&v&4&&ym(h,d);break;case 22:d.memoizedState===null&&Ls(h,d,s),Cr(d,d.return);break;case 30:break;default:Ls(h,d,s)}e=e.sibling}}function kh(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ur(s))}function Uh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ur(t))}function ui(t,e,s,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Em(t,e,s,l),e=e.sibling}function Em(t,e,s,l){var h=e.flags;switch(e.tag){case 0:case 11:case 15:ui(t,e,s,l),h&2048&&Tr(9,e);break;case 1:ui(t,e,s,l);break;case 3:ui(t,e,s,l),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ur(t)));break;case 12:if(h&2048){ui(t,e,s,l),t=e.stateNode;try{var d=e.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Yt(e,e.return,x)}}else ui(t,e,s,l);break;case 13:ui(t,e,s,l);break;case 23:break;case 22:d=e.stateNode,v=e.alternate,e.memoizedState!==null?d._visibility&2?ui(t,e,s,l):wr(t,e):d._visibility&2?ui(t,e,s,l):(d._visibility|=2,ho(t,e,s,l,(e.subtreeFlags&10256)!==0)),h&2048&&kh(v,e);break;case 24:ui(t,e,s,l),h&2048&&Uh(e.alternate,e);break;default:ui(t,e,s,l)}}function ho(t,e,s,l,h){for(h=h&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var d=t,v=e,S=s,x=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:ho(d,v,S,x,h),Tr(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?ho(d,v,S,x,h):wr(d,v):(Z._visibility|=2,ho(d,v,S,x,h)),h&&P&2048&&kh(v.alternate,v);break;case 24:ho(d,v,S,x,h),h&&P&2048&&Uh(v.alternate,v);break;default:ho(d,v,S,x,h)}e=e.sibling}}function wr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,l=e,h=l.flags;switch(l.tag){case 22:wr(s,l),h&2048&&kh(l.alternate,l);break;case 24:wr(s,l),h&2048&&Uh(l.alternate,l);break;default:wr(s,l)}e=e.sibling}}var xr=8192;function fo(t){if(t.subtreeFlags&xr)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 26:fo(t),t.flags&xr&&t.memoizedState!==null&&g0(Vn,t.memoizedState,t.memoizedProps);break;case 5:fo(t);break;case 3:case 4:var e=Vn;Vn=Uu(t.stateNode.containerInfo),fo(t),Vn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=xr,xr=16777216,fo(t),xr=e):fo(t));break;default:fo(t)}}function Cm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ar(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var l=e[s];Ae=l,xm(l,t)}Cm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wm(t),t=t.sibling}function wm(t){switch(t.tag){case 0:case 11:case 15:Ar(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:Ar(t);break;case 12:Ar(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Au(t)):Ar(t);break;default:Ar(t)}}function Au(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var l=e[s];Ae=l,xm(l,t)}Cm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ms(8,e,e.return),Au(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Au(e));break;default:Au(e)}t=t.sibling}}function xm(t,e){for(;Ae!==null;){var s=Ae;switch(s.tag){case 0:case 11:case 15:Ms(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ur(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ae=l;else t:for(s=t;Ae!==null;){l=Ae;var h=l.sibling,d=l.return;if(gm(l),l===s){Ae=null;break t}if(h!==null){h.return=d,Ae=h;break t}Ae=d}}}var Dy={getCacheForType:function(t){var e=Ye(ve),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},zy=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Kt=null,xt=null,Nt=0,Ht=0,bn=null,Ns=!1,_o=!1,Hh=!1,Hi=0,ue=0,Rs=0,wa=0,Zh=0,Dn=0,mo=0,Mr=null,ln=null,qh=!1,Gh=0,Mu=1/0,Ou=null,Ds=null,Ie=0,zs=null,po=null,go=0,Yh=0,Vh=null,Am=null,Or=0,jh=null;function Sn(){if((Ut&2)!==0&&Nt!==0)return Nt&-Nt;if(U.T!==null){var t=io;return t!==0?t:$h()}return Ll()}function Mm(){Dn===0&&(Dn=(Nt&536870912)===0||mt?Al():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Dn}function En(t,e,s){(t===Kt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(vo(t,0),Ps(t,Nt,Dn,!1)),Wi(t,s),((Ut&2)===0||t!==Kt)&&(t===Kt&&((Ut&2)===0&&(wa|=s),ue===4&&Ps(t,Nt,Dn,!1)),ci(t))}function Om(t,e,s){if((Ut&6)!==0)throw Error(u(327));var l=!s&&(e&124)===0&&(e&t.expiredLanes)===0||kn(t,e),h=l?By(t,e):Fh(t,e,!0),d=l;do{if(h===0){_o&&!l&&Ps(t,e,0,!1);break}else{if(s=t.current.alternate,d&&!Py(s)){h=Fh(t,e,!1),d=!1;continue}if(h===2){if(d=e,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var S=t;h=Mr;var x=S.current.memoizedState.isDehydrated;if(x&&(vo(S,v).flags|=256),v=Fh(S,v,!1),v!==2){if(Hh&&!x){S.errorRecoveryDisabledLanes|=d,wa|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){vo(t,0),Ps(t,e,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:Ps(l,e,Dn,!Ns);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Gh+300-en(),10<h)){if(Ps(l,e,Dn,!Ns),Pa(l,0,!0)!==0)break t;l.timeoutHandle=sp(Lm.bind(null,l,s,ln,Ou,qh,e,Dn,wa,mo,Ns,d,2,-0,0),h);break t}Lm(l,s,ln,Ou,qh,e,Dn,wa,mo,Ns,d,0,-0,0)}}break}while(!0);ci(t)}function Lm(t,e,s,l,h,d,v,S,x,P,Z,G,I,B){if(t.timeoutHandle=-1,G=e.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Ir={stylesheets:null,count:0,unsuspend:p0},Tm(e),G=v0(),G!==null)){t.cancelPendingCommit=G(Bm.bind(null,t,e,d,s,l,h,v,S,x,Z,1,I,B)),Ps(t,d,v,!P);return}Bm(t,e,d,s,l,h,v,S,x)}function Py(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Fe(d(),h))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ps(t,e,s,l){e&=~Zh,e&=~wa,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var h=e;0<h;){var d=31-Xe(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&Ml(t,s,e)}function Lu(){return(Ut&6)===0?(Lr(0),!1):!0}function Xh(){if(xt!==null){if(Ht===0)var t=xt.return;else t=xt,Gn=Nn=null,ch(t),uo=null,br=0,t=xt;for(;t!==null;)um(t.alternate,t),t=t.return;xt=null}}function vo(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$y(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xh(),Kt=t,xt=s=Ln(t.current,null),Nt=e,Ht=0,bn=null,Ns=!1,_o=kn(t,e),Hh=!1,mo=Dn=Zh=wa=Rs=ue=0,ln=Mr=null,qh=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var h=31-Xe(l),d=1<<h;e|=t[h],l&=~d}return Hi=e,da(),s}function Nm(t,e){Et=null,U.H=gu,e===hr||e===ru?(e=Qd(),Ht=3):e===Vd?(e=Qd(),Ht=4):Ht=e===F_?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bn=e,xt===null&&(ue=1,Eu(t,We(e,t.current)))}function Rm(){var t=U.H;return U.H=gu,t===null?gu:t}function Dm(){var t=U.A;return U.A=Dy,t}function Qh(){ue=4,Ns||(Nt&4194048)!==Nt&&Rn.current!==null||(_o=!0),(Rs&134217727)===0&&(wa&134217727)===0||Kt===null||Ps(Kt,Nt,Dn,!1)}function Fh(t,e,s){var l=Ut;Ut|=2;var h=Rm(),d=Dm();(Kt!==t||Nt!==e)&&(Ou=null,vo(t,e)),e=!1;var v=ue;t:do try{if(Ht!==0&&xt!==null){var S=xt,x=bn;switch(Ht){case 8:Xh(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(e=!0);var P=Ht;if(Ht=0,bn=null,yo(t,S,x,P),s&&_o){v=0;break t}break;default:P=Ht,Ht=0,bn=null,yo(t,S,x,P)}}Iy(),v=ue;break}catch(Z){Nm(t,Z)}while(!0);return e&&t.shellSuspendCounter++,Gn=Nn=null,Ut=l,U.H=h,U.A=d,xt===null&&(Kt=null,Nt=0,da()),v}function Iy(){for(;xt!==null;)zm(xt)}function By(t,e){var s=Ut;Ut|=2;var l=Rm(),h=Dm();Kt!==t||Nt!==e?(Ou=null,Mu=en()+500,vo(t,e)):_o=kn(t,e);t:do try{if(Ht!==0&&xt!==null){e=xt;var d=bn;e:switch(Ht){case 1:Ht=0,bn=null,yo(t,e,d,1);break;case 2:case 9:if(jd(d)){Ht=0,bn=null,Pm(e);break}e=function(){Ht!==2&&Ht!==9||Kt!==t||(Ht=7),ci(t)},d.then(e,e);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:jd(d)?(Ht=0,bn=null,Pm(e)):(Ht=0,bn=null,yo(t,e,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var S=xt;if(!v||pp(v)){Ht=0,bn=null;var x=S.sibling;if(x!==null)xt=x;else{var P=S.return;P!==null?(xt=P,Nu(P)):xt=null}break e}}Ht=0,bn=null,yo(t,e,d,5);break;case 6:Ht=0,bn=null,yo(t,e,d,6);break;case 8:Xh(),ue=6;break t;default:throw Error(u(462))}}ky();break}catch(Z){Nm(t,Z)}while(!0);return Gn=Nn=null,U.H=l,U.A=h,Ut=s,xt!==null?0:(Kt=null,Nt=0,da(),ue)}function ky(){for(;xt!==null&&!Sl();)zm(xt)}function zm(t){var e=rm(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,e===null?Nu(t):xt=e}function Pm(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=em(s,e,e.pendingProps,e.type,void 0,Nt);break;case 11:e=em(s,e,e.pendingProps,e.type.render,e.ref,Nt);break;case 5:ch(e);default:um(s,e),e=xt=rr(e,Hi),e=rm(s,e,Hi)}t.memoizedProps=t.pendingProps,e===null?Nu(t):xt=e}function yo(t,e,s,l){Gn=Nn=null,ch(e),uo=null,br=0;var h=e.return;try{if(Ay(t,h,e,s,Nt)){ue=1,Eu(t,We(s,t.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;ue=1,Eu(t,We(s,t.current)),xt=null;return}e.flags&32768?(mt||l===1?t=!0:_o||(Nt&536870912)!==0?t=!1:(Ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Im(e,t)):Nu(e)}function Nu(t){var e=t;do{if((e.flags&32768)!==0){Im(e,Ns);return}t=e.return;var s=Oy(e.alternate,e,Hi);if(s!==null){xt=s;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);ue===0&&(ue=5)}function Im(t,e){do{var s=Ly(t.alternate,t);if(s!==null){s.flags&=32767,xt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=s}while(t!==null);ue=6,xt=null}function Bm(t,e,s,l,h,d,v,S,x){t.cancelPendingCommit=null;do Ru();while(Ie!==0);if((Ut&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(d=e.lanes|e.childLanes,d|=gn,Nc(t,s,d,v,S,x),t===Kt&&(xt=Kt=null,Nt=0),po=e,zs=t,go=s,Yh=d,Vh=h,Am=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qy(Fi,function(){return qm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=J.p,J.p=2,v=Ut,Ut|=4;try{Ny(t,e,s)}finally{Ut=v,J.p=h,U.T=l}}Ie=1,km(),Um(),Hm()}}function km(){if(Ie===1){Ie=0;var t=zs,e=po,s=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var l=J.p;J.p=2;var h=Ut;Ut|=4;try{bm(e,t);var d=lf,v=ca(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Fa(S.ownerDocument.documentElement,S)){if(x!==null&&ha(S)){var P=x.start,Z=x.end;if(Z===void 0&&(Z=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(Z,S.value.length);else{var G=S.ownerDocument||document,I=G&&G.defaultView||window;if(I.getSelection){var B=I.getSelection(),_t=S.textContent.length,ht=Math.min(x.start,_t),Gt=x.end===void 0?ht:Math.min(x.end,_t);!B.extend&&ht>Gt&&(v=Gt,Gt=ht,ht=v);var R=ar(S,ht),M=ar(S,Gt);if(R&&M&&(B.rangeCount!==1||B.anchorNode!==R.node||B.anchorOffset!==R.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var z=G.createRange();z.setStart(R.node,R.offset),B.removeAllRanges(),ht>Gt?(B.addRange(z),B.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),B.addRange(z))}}}}for(G=[],B=S;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<G.length;S++){var q=G[S];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Yu=!!rf,lf=rf=null}finally{Ut=h,J.p=l,U.T=s}}t.current=e,Ie=2}}function Um(){if(Ie===2){Ie=0;var t=zs,e=po,s=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var l=J.p;J.p=2;var h=Ut;Ut|=4;try{pm(t,e.alternate,e)}finally{Ut=h,J.p=l,U.T=s}}Ie=3}}function Hm(){if(Ie===4||Ie===3){Ie=0,El();var t=zs,e=po,s=go,l=Am;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ie=5:(Ie=0,po=zs=null,Zm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),Go(s),e=e.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(di,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=U.T,h=J.p,J.p=2,U.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{U.T=e,J.p=h}}(go&3)!==0&&Ru(),ci(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===jh?Or++:(Or=0,jh=t):Or=0,Lr(0)}}function Zm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ur(e)))}function Ru(t){return km(),Um(),Hm(),qm()}function qm(){if(Ie!==5)return!1;var t=zs,e=Yh;Yh=0;var s=Go(go),l=U.T,h=J.p;try{J.p=32>s?32:s,U.T=null,s=Vh,Vh=null;var d=zs,v=go;if(Ie=0,po=zs=null,go=0,(Ut&6)!==0)throw Error(u(331));var S=Ut;if(Ut|=4,wm(d.current),Em(d,d.current,v,s),Ut=S,Lr(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(di,d)}catch{}return!0}finally{J.p=h,U.T=l,Zm(t,e)}}function Gm(t,e,s){e=We(s,e),e=Ch(t.stateNode,e,2),t=Cs(t,e,2),t!==null&&(Wi(t,2),ci(t))}function Yt(t,e,s){if(t.tag===3)Gm(t,t,s);else for(;e!==null;){if(e.tag===3){Gm(e,t,s);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=We(s,t),s=X_(2),l=Cs(e,s,2),l!==null&&(Q_(s,l,e,t),Wi(l,2),ci(l));break}}e=e.return}}function Kh(t,e,s){var l=t.pingCache;if(l===null){l=t.pingCache=new zy;var h=new Set;l.set(e,h)}else h=l.get(e),h===void 0&&(h=new Set,l.set(e,h));h.has(s)||(Hh=!0,h.add(s),t=Uy.bind(null,t,e,s),e.then(t,t))}function Uy(t,e,s){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Kt===t&&(Nt&s)===s&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>en()-Gh?(Ut&2)===0&&vo(t,0):Zh|=s,mo===Nt&&(mo=0)),ci(t)}function Ym(t,e){e===0&&(e=Zo()),t=vs(t,e),t!==null&&(Wi(t,e),ci(t))}function Hy(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Ym(t,s)}function Zy(t,e){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(e),Ym(t,s)}function qy(t,e){return Ws(t,e)}var Du=null,bo=null,Wh=!1,zu=!1,Jh=!1,xa=0;function ci(t){t!==bo&&t.next===null&&(bo===null?Du=bo=t:bo=bo.next=t),zu=!0,Wh||(Wh=!0,Yy())}function Lr(t,e){if(!Jh&&zu){Jh=!0;do for(var s=!1,l=Du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Xe(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Qm(l,d))}else d=Nt,d=Pa(l,l===Kt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||kn(l,d)||(s=!0,Qm(l,d));l=l.next}while(s);Jh=!1}}function Gy(){Vm()}function Vm(){zu=Wh=!1;var t=0;xa!==0&&(Jy()&&(t=xa),xa=0);for(var e=en(),s=null,l=Du;l!==null;){var h=l.next,d=jm(l,e);d===0?(l.next=null,s===null?Du=h:s.next=h,h===null&&(bo=s)):(s=l,(t!==0||(d&3)!==0)&&(zu=!0)),l=h}Lr(t)}function jm(t,e){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Xe(d),S=1<<v,x=h[v];x===-1?((S&s)===0||(S&l)!==0)&&(h[v]=Lc(S,e)):x<=e&&(t.expiredLanes|=S),d&=~S}if(e=Kt,s=Nt,s=Pa(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===e&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ko(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||kn(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(l!==null&&ko(l),Go(s)){case 2:case 8:s=Uo;break;case 32:s=Fi;break;case 268435456:s=Ho;break;default:s=Fi}return l=Xm.bind(null,t),s=Ws(s,l),t.callbackPriority=e,t.callbackNode=s,e}return l!==null&&l!==null&&ko(l),t.callbackPriority=2,t.callbackNode=null,2}function Xm(t,e){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ru()&&t.callbackNode!==s)return null;var l=Nt;return l=Pa(t,t===Kt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Om(t,l,e),jm(t,en()),t.callbackNode!=null&&t.callbackNode===s?Xm.bind(null,t):null)}function Qm(t,e){if(Ru())return null;Om(t,e,!0)}function Yy(){t0(function(){(Ut&6)!==0?Ws(Tl,Gy):Vm()})}function $h(){return xa===0&&(xa=Al()),xa}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:as(""+t)}function Km(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function Vy(t,e,s,l,h){if(e==="submit"&&s&&s.stateNode===h){var d=Fm((h[Ze]||null).action),v=l.submitter;v&&(e=(e=v[Ze]||null)?Fm(e.formAction):v.getAttribute("formAction"),e!==null&&(d=e,v=null));var S=new aa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var x=v?Km(h,v):new FormData(h);yh(s,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=v?Km(h,v):new FormData(h),yh(s,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var tf=0;tf<Oi.length;tf++){var ef=Oi[tf],jy=ef.toLowerCase(),Xy=ef[0].toUpperCase()+ef.slice(1);pn(jy,"on"+Xy)}pn(Jl,"onAnimationEnd"),pn(mn,"onAnimationIteration"),pn(fa,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Qc,"onTransitionRun"),pn($a,"onTransitionStart"),pn(Fc,"onTransitionCancel"),pn(or,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nr));function Wm(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;t:{var d=void 0;if(e)for(var v=l.length-1;0<=v;v--){var S=l[v],x=S.instance,P=S.currentTarget;if(S=S.listener,x!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=P;try{d(h)}catch(Z){Su(Z)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(S=l[v],x=S.instance,P=S.currentTarget,S=S.listener,x!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=P;try{d(h)}catch(Z){Su(Z)}h.currentTarget=null,d=x}}}}function At(t,e){var s=e[nn];s===void 0&&(s=e[nn]=new Set);var l=t+"__bubble";s.has(l)||(Jm(e,t,2,!1),s.add(l))}function nf(t,e,s){var l=0;e&&(l|=4),Jm(s,t,l,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[Pu]){t[Pu]=!0,Rl.forEach(function(s){s!=="selectionchange"&&(Qy.has(s)||nf(s,!1,t),nf(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,nf("selectionchange",!1,e))}}function Jm(t,e,s,l){switch(Ep(e)){case 2:var h=S0;break;case 8:h=E0;break;default:h=vf}s=h.bind(null,e,s,t),h=void 0,!sa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(e,s,{capture:!0,passive:h}):t.addEventListener(e,s,!0):h!==void 0?t.addEventListener(e,s,{passive:h}):t.addEventListener(e,s,!1)}function af(t,e,s,l,h){var d=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=$n(S),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue t}S=S.parentNode}}l=l.return}hn(function(){var P=d,Z=os(s),G=[];t:{var I=$l.get(t);if(I!==void 0){var B=aa,_t=t;switch(t){case"keypress":if(le(s)===0)break t;case"keydown":case"keyup":B=Hc;break;case"focusin":_t="focus",B=Ko;break;case"focusout":_t="blur",B=Ko;break;case"beforeblur":case"afterblur":B=Ko;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=qc;break;case Jl:case mn:case fa:B=Ic;break;case or:B=Gc;break;case"scroll":case"scrollend":B=zc;break;case"wheel":B=Gl;break;case"copy":case"cut":case"paste":B=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=$o;break;case"toggle":case"beforetoggle":B=wi}var ht=(e&4)!==0,Gt=!ht&&(t==="scroll"||t==="scrollend"),R=ht?I!==null?I+"Capture":null:I;ht=[];for(var M=P,z;M!==null;){var q=M;if(z=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||z===null||R===null||(q=Dt(M,R),q!=null&&ht.push(Rr(M,q,z))),Gt)break;M=M.return}0<ht.length&&(I=new B(I,_t,null,s,Z),G.push({event:I,listeners:ht}))}}if((e&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",I&&s!==ia&&(_t=s.relatedTarget||s.fromElement)&&($n(_t)||_t[Ji]))break t;if((B||I)&&(I=Z.window===Z?Z:(I=Z.ownerDocument)?I.defaultView||I.parentWindow:window,B?(_t=s.relatedTarget||s.toElement,B=P,_t=_t?$n(_t):null,_t!==null&&(Gt=m(_t),ht=_t.tag,_t!==Gt||ht!==5&&ht!==27&&ht!==6)&&(_t=null)):(B=null,_t=P),B!==_t)){if(ht=us,q="onMouseLeave",R="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ht=$o,q="onPointerLeave",R="onPointerEnter",M="pointer"),Gt=B==null?I:Cn(B),z=_t==null?I:Cn(_t),I=new ht(q,M+"leave",B,s,Z),I.target=Gt,I.relatedTarget=z,q=null,$n(Z)===P&&(ht=new ht(R,M+"enter",_t,s,Z),ht.target=z,ht.relatedTarget=Gt,q=ht),Gt=q,B&&_t)e:{for(ht=B,R=_t,M=0,z=ht;z;z=So(z))M++;for(z=0,q=R;q;q=So(q))z++;for(;0<M-z;)ht=So(ht),M--;for(;0<z-M;)R=So(R),z--;for(;M--;){if(ht===R||R!==null&&ht===R.alternate)break e;ht=So(ht),R=So(R)}ht=null}else ht=null;B!==null&&$m(G,I,B,ht,!1),_t!==null&&Gt!==null&&$m(G,Gt,_t,ht,!0)}}t:{if(I=P?Cn(P):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var it=fs;else if(Ai(I))if(nr)it=Xc;else{it=jc;var Ct=sr}else B=I.nodeName,!B||B.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?P&&na(P.elementType)&&(it=fs):it=qn;if(it&&(it=it(t,P))){Ql(G,it,s,Z);break t}Ct&&Ct(t,I,P),t==="focusout"&&P&&I.type==="number"&&P.memoizedProps.value!=null&&is(I,"number",I.value)}switch(Ct=P?Cn(P):window,t){case"focusin":(Ai(Ct)||Ct.contentEditable==="true")&&(_n=Ct,ms=P,Mi=null);break;case"focusout":Mi=ms=_n=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,Kl(G,s,Z);break;case"selectionchange":if(Ka)break;case"keydown":case"keyup":Kl(G,s,Z)}var lt;if(xi)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else cs?Xa(t,s)&&(ft="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(er&&s.locale!=="ko"&&(cs||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&cs&&(lt=ls()):(An=Z,Hn="value"in An?An.value:An.textContent,cs=!0)),Ct=Iu(P,ft),0<Ct.length&&(ft=new fn(ft,t,null,s,Z),G.push({event:ft,listeners:Ct}),lt?ft.data=lt:(lt=jl(s),lt!==null&&(ft.data=lt)))),(lt=Yl?Xl(t,s):Vc(t,s))&&(ft=Iu(P,"onBeforeInput"),0<ft.length&&(Ct=new fn("onBeforeInput","beforeinput",null,s,Z),G.push({event:Ct,listeners:ft}),Ct.data=lt)),Vy(G,t,P,s,Z)}Wm(G,e)})}function Rr(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Iu(t,e){for(var s=e+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Dt(t,s),h!=null&&l.unshift(Rr(t,h,d)),h=Dt(t,e),h!=null&&l.push(Rr(t,h,d))),t.tag===3)return l;t=t.return}return[]}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $m(t,e,s,l,h){for(var d=e._reactName,v=[];s!==null&&s!==l;){var S=s,x=S.alternate,P=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||P===null||(x=P,h?(P=Dt(s,d),P!=null&&v.unshift(Rr(s,P,x))):h||(P=Dt(s,d),P!=null&&v.push(Rr(s,P,x)))),s=s.return}v.length!==0&&t.push({event:e,listeners:v})}var Fy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function tp(t){return(typeof t=="string"?t:""+t).replace(Fy,`
`).replace(Ky,"")}function ep(t,e){return e=tp(e),tp(t)===e}function Bu(){}function qt(t,e,s,l,h,d){switch(s){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&wn(t,""+l);break;case"className":Ua(t,"class",l);break;case"tabIndex":Ua(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(t,s,l);break;case"style":ss(t,l,d);break;case"data":if(e!=="object"){Ua(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=as(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(e!=="input"&&qt(t,e,"name",h.name,h,null),qt(t,e,"formEncType",h.formEncType,h,null),qt(t,e,"formMethod",h.formMethod,h,null),qt(t,e,"formTarget",h.formTarget,h,null)):(qt(t,e,"encType",h.encType,h,null),qt(t,e,"method",h.method,h,null),qt(t,e,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=as(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Bu);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=as(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":At("beforetoggle",t),At("toggle",t),ka(t,"popover",l);break;case"xlinkActuate":Un(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ka(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xo.get(s)||s,ka(t,s,l))}}function of(t,e,s,l,h,d){switch(s){case"style":ss(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=s}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),e=s.slice(2,h?s.length-7:void 0),d=t[Ze]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(e,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,l,h);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ka(t,s,l)}}}function Be(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",t),At("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:qt(t,e,d,v,s,null)}}h&&qt(t,e,"srcSet",s.srcSet,s,null),l&&qt(t,e,"src",s.src,s,null);return;case"input":At("invalid",t);var S=d=v=h=null,x=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":x=Z;break;case"defaultChecked":P=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,e));break;default:qt(t,e,l,Z,s,null)}}Pl(t,d,S,x,P,v,h,!1),ns(t);return;case"select":At("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:qt(t,e,h,S,s,null)}e=d,s=v,t.multiple=!!l,e!=null?sn(t,!!l,e,!1):s!=null&&sn(t,!!l,s,!0);return;case"textarea":At("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(u(91));break;default:qt(t,e,v,S,s,null)}ti(t,l,h,d),ns(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qt(t,e,x,l,s,null)}return;case"dialog":At("beforetoggle",t),At("toggle",t),At("cancel",t),At("close",t);break;case"iframe":case"object":At("load",t);break;case"video":case"audio":for(l=0;l<Nr.length;l++)At(Nr[l],t);break;case"image":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"embed":case"source":case"link":At("error",t),At("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:qt(t,e,P,l,s,null)}return;default:if(na(e)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&of(t,e,Z,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&qt(t,e,S,l,s,null))}function Wy(t,e,s,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,x=null,P=null,Z=null;for(B in s){var G=s[B];if(s.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":x=G;default:l.hasOwnProperty(B)||qt(t,e,B,null,l,G)}}for(var I in l){var B=l[I];if(G=s[I],l.hasOwnProperty(I)&&(B!=null||G!=null))switch(I){case"type":d=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":Z=B;break;case"value":v=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(u(137,e));break;default:B!==G&&qt(t,e,I,B,l,G)}}qe(t,v,S,x,P,Z,d,h);return;case"select":B=v=S=I=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":B=x;default:l.hasOwnProperty(d)||qt(t,e,d,null,l,x)}for(h in l)if(d=l[h],x=s[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":I=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==x&&qt(t,e,h,d,l,x)}e=S,s=v,l=B,I!=null?sn(t,!!s,I,!1):!!l!=!!s&&(e!=null?sn(t,!!s,e,!0):sn(t,!!s,s?[]:"",!1));return;case"textarea":B=I=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:qt(t,e,S,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":I=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==d&&qt(t,e,v,h,l,d)}se(t,I,B);return;case"option":for(var _t in s)if(I=s[_t],s.hasOwnProperty(_t)&&I!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:qt(t,e,_t,null,l,I)}for(x in l)if(I=l[x],B=s[x],l.hasOwnProperty(x)&&I!==B&&(I!=null||B!=null))switch(x){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:qt(t,e,x,I,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)I=s[ht],s.hasOwnProperty(ht)&&I!=null&&!l.hasOwnProperty(ht)&&qt(t,e,ht,null,l,I);for(P in l)if(I=l[P],B=s[P],l.hasOwnProperty(P)&&I!==B&&(I!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(u(137,e));break;default:qt(t,e,P,I,l,B)}return;default:if(na(e)){for(var Gt in s)I=s[Gt],s.hasOwnProperty(Gt)&&I!==void 0&&!l.hasOwnProperty(Gt)&&of(t,e,Gt,void 0,l,I);for(Z in l)I=l[Z],B=s[Z],!l.hasOwnProperty(Z)||I===B||I===void 0&&B===void 0||of(t,e,Z,I,l,B);return}}for(var R in s)I=s[R],s.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&qt(t,e,R,null,l,I);for(G in l)I=l[G],B=s[G],!l.hasOwnProperty(G)||I===B||I==null&&B==null||qt(t,e,G,I,l,B)}var rf=null,lf=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=null;function Jy(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(t){return ap.resolve(null).then(t).catch(e0)}:sp;function e0(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function op(t,e){var s=e,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&Dr(v.documentElement),s&2&&Dr(v.body),s&4)for(s=v.head,Dr(s),v=s.firstChild;v;){var S=v.nextSibling,x=v.nodeName;v[$i]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=S}}if(h===0){t.removeChild(d),Zr(e);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Zr(e)}function hf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hf(s),Ba(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function n0(t,e,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$i])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function i0(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s0(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var l=function(){e(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var df=null;function rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function lp(t,e,s){switch(e=ku(s),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Dr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ba(t)}var zn=new Map,up=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=J.d;J.d={f:a0,r:o0,D:r0,C:l0,L:u0,m:c0,X:f0,S:h0,M:d0};function a0(){var t=Zi.f(),e=Lu();return t||e}function o0(t){var e=_i(t);e!==null&&e.tag===5&&e.type==="form"?O_(e):Zi.r(t)}var Eo=typeof document>"u"?null:document;function cp(t,e,s){var l=Eo;if(l&&typeof e=="string"&&e){var h=De(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),up.has(h)||(up.add(h),t={rel:t,crossOrigin:s,href:e},l.querySelector(h)===null&&(e=l.createElement("link"),Be(e,"link",t),me(e),l.head.appendChild(e)))}}function r0(t){Zi.D(t),cp("dns-prefetch",t,null)}function l0(t,e){Zi.C(t,e),cp("preconnect",t,e)}function u0(t,e,s){Zi.L(t,e,s);var l=Eo;if(l&&t&&e){var h='link[rel="preload"][as="'+De(e)+'"]';e==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+De(s.imageSizes)+'"]')):h+='[href="'+De(t)+'"]';var d=h;switch(e){case"style":d=To(t);break;case"script":d=Co(t)}zn.has(d)||(t=N({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),zn.set(d,t),l.querySelector(h)!==null||e==="style"&&l.querySelector(zr(d))||e==="script"&&l.querySelector(Pr(d))||(e=l.createElement("link"),Be(e,"link",t),me(e),l.head.appendChild(e)))}}function c0(t,e){Zi.m(t,e);var s=Eo;if(s&&t){var l=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Co(t)}if(!zn.has(d)&&(t=N({rel:"modulepreload",href:t},e),zn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pr(d)))return}l=s.createElement("link"),Be(l,"link",t),me(l),s.head.appendChild(l)}}}function h0(t,e,s){Zi.S(t,e,s);var l=Eo;if(l&&t){var h=mi(l).hoistableStyles,d=To(t);e=e||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(zr(d)))S.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":e},s),(s=zn.get(d))&&_f(t,s);var x=v=l.createElement("link");me(x),Be(x,"link",t),x._p=new Promise(function(P,Z){x.onload=P,x.onerror=Z}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hu(v,e,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function f0(t,e){Zi.X(t,e);var s=Eo;if(s&&t){var l=mi(s).hoistableScripts,h=Co(t),d=l.get(h);d||(d=s.querySelector(Pr(h)),d||(t=N({src:t,async:!0},e),(e=zn.get(h))&&mf(t,e),d=s.createElement("script"),me(d),Be(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function d0(t,e){Zi.M(t,e);var s=Eo;if(s&&t){var l=mi(s).hoistableScripts,h=Co(t),d=l.get(h);d||(d=s.querySelector(Pr(h)),d||(t=N({src:t,async:!0,type:"module"},e),(e=zn.get(h))&&mf(t,e),d=s.createElement("script"),me(d),Be(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hp(t,e,s,l){var h=(h=W.current)?Uu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=To(s.href),s=mi(h).hoistableStyles,l=s.get(e),l||(l={type:"style",instance:null,count:0,state:null},s.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=To(s.href);var d=mi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(zr(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),d||_0(h,t,s,v.state))),e&&l===null)throw Error(u(528,""));return v}if(e&&l!==null)throw Error(u(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Co(s),s=mi(h).hoistableScripts,l=s.get(e),l||(l={type:"script",instance:null,count:0,state:null},s.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function To(t){return'href="'+De(t)+'"'}function zr(t){return'link[rel="stylesheet"]['+t+"]"}function fp(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function _0(t,e,s,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),Be(e,"link",s),me(e),t.head.appendChild(e))}function Co(t){return'[src="'+De(t)+'"]'}function Pr(t){return"script[async]"+t}function dp(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+De(s.href)+'"]');if(l)return e.instance=l,me(l),l;var h=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),Be(l,"style",h),Hu(l,s.precedence,t),e.instance=l;case"stylesheet":h=To(s.href);var d=t.querySelector(zr(h));if(d)return e.state.loading|=4,e.instance=d,me(d),d;l=fp(s),(h=zn.get(h))&&_f(l,h),d=(t.ownerDocument||t).createElement("link"),me(d);var v=d;return v._p=new Promise(function(S,x){v.onload=S,v.onerror=x}),Be(d,"link",l),e.state.loading|=4,Hu(d,s.precedence,t),e.instance=d;case"script":return d=Co(s.src),(h=t.querySelector(Pr(d)))?(e.instance=h,me(h),h):(l=s,(h=zn.get(d))&&(l=N({},s),mf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),me(h),Be(h,"link",l),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,Hu(l,s.precedence,t));return e.instance}function Hu(t,e,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===e)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function _f(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Zu=null;function _p(t,e,s){if(Zu===null){var l=new Map,h=Zu=new Map;h.set(s,l)}else h=Zu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[$i]||d[Te]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(e)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function mp(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function m0(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ir=null;function p0(){}function g0(t,e,s){if(Ir===null)throw Error(u(475));var l=Ir;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var h=To(s.href),d=t.querySelector(zr(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qu.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=d,me(d);return}d=t.ownerDocument||t,s=fp(s),(h=zn.get(h))&&_f(s,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(S,x){v.onload=S,v.onerror=x}),Be(d,"link",s),e.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=qu.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function v0(){if(Ir===null)throw Error(u(475));var t=Ir;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function pf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,e.forEach(y0,t),Gu=null,qu.call(t))}function y0(t,e){if(!(e.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=e.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=qu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var Br={$$typeof:ct,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function b0(t,e,s,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gp(t,e,s,l,h,d,v,S,x,P,Z,G){return t=new b0(t,e,s,v,S,x,P,G),e=1,d===!0&&(e|=24),d=$e(3,null,null,e),t.current=d,d.stateNode=t,e=Kc(),e.refCount++,t.pooledCache=e,e.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:e},th(d),t}function vp(t){return t?(t=Ri,t):Ri}function yp(t,e,s,l,h,d){h=vp(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(e),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Cs(t,l,e),s!==null&&(En(s,t,e),dr(s,t,e))}function bp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function gf(t,e){bp(t,e),(t=t.alternate)&&bp(t,e)}function Sp(t){if(t.tag===13){var e=vs(t,67108864);e!==null&&En(e,t,67108864),gf(t,67108864)}}var Yu=!0;function S0(t,e,s,l){var h=U.T;U.T=null;var d=J.p;try{J.p=2,vf(t,e,s,l)}finally{J.p=d,U.T=h}}function E0(t,e,s,l){var h=U.T;U.T=null;var d=J.p;try{J.p=8,vf(t,e,s,l)}finally{J.p=d,U.T=h}}function vf(t,e,s,l){if(Yu){var h=yf(l);if(h===null)af(t,e,l,Vu,s),Tp(t,l);else if(C0(h,t,e,s,l))l.stopPropagation();else if(Tp(t,l),e&4&&-1<T0.indexOf(t)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Wn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var x=1<<31-Xe(v);S.entanglements[1]|=x,v&=~x}ci(d),(Ut&6)===0&&(Mu=en()+500,Lr(0))}}break;case 13:S=vs(d,2),S!==null&&En(S,d,2),Lu(),gf(d,2)}if(d=yf(l),d===null&&af(t,e,l,Vu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else af(t,e,l,null,s)}}function yf(t){return t=os(t),bf(t)}var Vu=null;function bf(t){if(Vu=null,t=$n(t),t!==null){var e=m(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=p(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Vu=t,null}function Ep(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(za()){case Tl:return 2;case Uo:return 8;case Fi:case Cl:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var Sf=!1,Bs=null,ks=null,Us=null,kr=new Map,Ur=new Map,Hs=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":kr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(e.pointerId)}}function Hr(t,e,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},e!==null&&(e=_i(e),e!==null&&Sp(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function C0(t,e,s,l,h){switch(e){case"focusin":return Bs=Hr(Bs,t,e,s,l,h),!0;case"dragenter":return ks=Hr(ks,t,e,s,l,h),!0;case"mouseover":return Us=Hr(Us,t,e,s,l,h),!0;case"pointerover":var d=h.pointerId;return kr.set(d,Hr(kr.get(d)||null,t,e,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ur.set(d,Hr(Ur.get(d)||null,t,e,s,l,h)),!0}return!1}function Cp(t){var e=$n(t.target);if(e!==null){var s=m(e);if(s!==null){if(e=s.tag,e===13){if(e=p(s),e!==null){t.blockedOn=e,Yo(t.priority,function(){if(s.tag===13){var l=Sn();l=qo(l);var h=vs(s,l);h!==null&&En(h,s,l),gf(s,l)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=yf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ia=l,s.target.dispatchEvent(l),ia=null}else return e=_i(s),e!==null&&Sp(e),t.blockedOn=s,!1;e.shift()}return!0}function wp(t,e,s){ju(t)&&s.delete(e)}function w0(){Sf=!1,Bs!==null&&ju(Bs)&&(Bs=null),ks!==null&&ju(ks)&&(ks=null),Us!==null&&ju(Us)&&(Us=null),kr.forEach(wp),Ur.forEach(wp)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,Sf||(Sf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w0)))}var Qu=null;function xp(t){Qu!==t&&(Qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var e=0;e<t.length;e+=3){var s=t[e],l=t[e+1],h=t[e+2];if(typeof l!="function"){if(bf(l||s)===null)continue;break}var d=_i(s);d!==null&&(t.splice(e,3),e-=3,yh(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Zr(t){function e(x){return Xu(x,t)}Bs!==null&&Xu(Bs,t),ks!==null&&Xu(ks,t),Us!==null&&Xu(Us,t),kr.forEach(e),Ur.forEach(e);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)Cp(s),s.blockedOn===null&&Hs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Ze]||null;if(typeof d=="function")v||xp(s);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ze]||null)S=v.formAction;else if(bf(h)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),xp(s)}}}function Ef(t){this._internalRoot=t}Fu.prototype.render=Ef.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var s=e.current,l=Sn();yp(s,l,t,e,null,null)},Fu.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yp(t.current,2,null,t,null,null),Lu(),e[Ji]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ll();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Hs.length&&e!==0&&e<Hs[s].priority;s++);Hs.splice(s,0,t),s===0&&Cp(t)}};var Ap=i.version;if(Ap!=="19.1.1")throw Error(u(527,Ap,"19.1.1"));J.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=T(e),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var x0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{di=Ku.inject(x0),He=Ku}catch{}}return Gr.createRoot=function(t,e){if(!f(t))throw Error(u(299));var s=!1,l="",h=G_,d=Y_,v=V_,S=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(d=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(S=e.unstable_transitionCallbacks)),e=gp(t,1,!1,null,null,s,l,h,d,v,S,null),t[Ji]=e.current,sf(t),new Ef(e)},Gr.hydrateRoot=function(t,e,s){if(!f(t))throw Error(u(299));var l=!1,h="",d=G_,v=Y_,S=V_,x=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),e=gp(t,1,!0,e,s??null,l,h,d,v,S,x,P),e.context=vp(null),s=e.current,l=Sn(),l=qo(l),h=Ts(l),h.callback=null,Cs(s,h,l),s=l,e.current.lanes=s,Wi(e,s),ci(e),t[Ji]=e.current,sf(t),new Fu(e)},Gr.version="19.1.1",Gr}var Bp;function I0(){if(Bp)return wf.exports;Bp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),wf.exports=P0(),wf.exports}var B0=I0();function k0({onNavigateToMap:r}){return ut.jsxs("div",{className:"screen event-select-screen",children:[ut.jsx("div",{className:"title-container",children:ut.jsx("h1",{children:"屋台なう！"})}),ut.jsx("button",{className:"btn event-button",onClick:r,children:"雙峰祭"})]})}const U0=()=>{};var kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(r,i){if(!r)throw Po(i)},Po=function(r){return new Error("Firebase Database ("+Rg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=function(r){const i=[];let a=0;for(let u=0;u<r.length;u++){let f=r.charCodeAt(u);f<128?i[a++]=f:f<2048?(i[a++]=f>>6|192,i[a++]=f&63|128):(f&64512)===55296&&u+1<r.length&&(r.charCodeAt(u+1)&64512)===56320?(f=65536+((f&1023)<<10)+(r.charCodeAt(++u)&1023),i[a++]=f>>18|240,i[a++]=f>>12&63|128,i[a++]=f>>6&63|128,i[a++]=f&63|128):(i[a++]=f>>12|224,i[a++]=f>>6&63|128,i[a++]=f&63|128)}return i},H0=function(r){const i=[];let a=0,u=0;for(;a<r.length;){const f=r[a++];if(f<128)i[u++]=String.fromCharCode(f);else if(f>191&&f<224){const m=r[a++];i[u++]=String.fromCharCode((f&31)<<6|m&63)}else if(f>239&&f<365){const m=r[a++],p=r[a++],b=r[a++],T=((f&7)<<18|(m&63)<<12|(p&63)<<6|b&63)-65536;i[u++]=String.fromCharCode(55296+(T>>10)),i[u++]=String.fromCharCode(56320+(T&1023))}else{const m=r[a++],p=r[a++];i[u++]=String.fromCharCode((f&15)<<12|(m&63)<<6|p&63)}}return i.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,i){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let f=0;f<r.length;f+=3){const m=r[f],p=f+1<r.length,b=p?r[f+1]:0,T=f+2<r.length,E=T?r[f+2]:0,N=m>>2,A=(m&3)<<4|b>>4;let O=(b&15)<<2|E>>6,V=E&63;T||(V=64,p||(O=64)),u.push(a[N],a[A],a[O],a[V])}return u.join("")},encodeString(r,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(r):this.encodeByteArray(Dg(r),i)},decodeString(r,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(r):H0(this.decodeStringToByteArray(r,i))},decodeStringToByteArray(r,i){this.init_();const a=i?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let f=0;f<r.length;){const m=a[r.charAt(f++)],b=f<r.length?a[r.charAt(f)]:0;++f;const E=f<r.length?a[r.charAt(f)]:64;++f;const A=f<r.length?a[r.charAt(f)]:64;if(++f,m==null||b==null||E==null||A==null)throw new Z0;const O=m<<2|b>>4;if(u.push(O),E!==64){const V=b<<4&240|E>>2;if(u.push(V),A!==64){const K=E<<6&192|A;u.push(K)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Z0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zg=function(r){const i=Dg(r);return ad.encodeByteArray(i,!0)},tc=function(r){return zg(r).replace(/\./g,"")},qf=function(r){try{return ad.decodeString(r,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){return Pg(void 0,r)}function Pg(r,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:const a=i;return new Date(a.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return i}for(const a in i)!i.hasOwnProperty(a)||!G0(a)||(r[a]=Pg(r[a],i[a]));return r}function G0(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=()=>Y0().__FIREBASE_DEFAULTS__,j0=()=>{if(typeof process>"u"||typeof kp>"u")return;const r=kp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=r&&qf(r[1]);return i&&JSON.parse(i)},Ig=()=>{try{return U0()||V0()||j0()||X0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Q0=r=>Ig()?.emulatorHosts?.[r],F0=r=>{const i=Q0(r);if(!i)return;const a=i.lastIndexOf(":");if(a<=0||a+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const u=parseInt(i.substring(a+1),10);return i[0]==="["?[i.substring(1,a-1),u]:[i.substring(0,a),u]},Bg=()=>Ig()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}wrapCallback(i){return(a,u)=>{a?this.reject(a):this.resolve(u),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(a):i(a,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r,i){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},u=i||"demo-project",f=r.iat||0,m=r.sub||r.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${u}`,aud:u,iat:f,exp:f+3600,auth_time:f,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}},...r};return[tc(JSON.stringify(a)),tc(JSON.stringify(p)),""].join(".")}const Fr={};function J0(){const r={prod:[],emulator:[]};for(const i of Object.keys(Fr))Fr[i]?r.emulator.push(i):r.prod.push(i);return r}function $0(r){let i=document.getElementById(r),a=!1;return i||(i=document.createElement("div"),i.setAttribute("id",r),a=!0),{created:a,element:i}}let Up=!1;function tb(r,i){if(typeof window>"u"||typeof document>"u"||!rd(window.location.host)||Fr[r]===i||Fr[r]||Up)return;Fr[r]=i;function a(O){return`__firebase__banner__${O}`}const u="__firebase__banner",m=J0().prod.length>0;function p(){const O=document.getElementById(u);O&&O.remove()}function b(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function T(O,V){O.setAttribute("width","24"),O.setAttribute("id",V),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Up=!0,p()},O}function N(O,V){O.setAttribute("id",V),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=$0(u),V=a("text"),K=document.getElementById(V)||document.createElement("span"),et=a("learnmore"),yt=document.getElementById(et)||document.createElement("a"),$t=a("preprendIcon"),ot=document.getElementById($t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;b(ct),N(yt,et);const kt=E();T(ot,$t),ct.append(ot,K,yt,kt),document.body.appendChild(ct)}m?(K.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eb())}function nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ib(){return Rg.NODE_ADMIN===!0}function sb(){try{return typeof indexedDB=="object"}catch{return!1}}function ab(){return new Promise((r,i)=>{try{let a=!0;const u="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(u);f.onsuccess=()=>{f.result.close(),a||self.indexedDB.deleteDatabase(u),r(!0)},f.onupgradeneeded=()=>{a=!1},f.onerror=()=>{i(f.error?.message||"")}}catch(a){i(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="FirebaseError";class fl extends Error{constructor(i,a,u){super(a),this.code=i,this.customData=u,this.name=ob,Object.setPrototypeOf(this,fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ug.prototype.create)}}class Ug{constructor(i,a,u){this.service=i,this.serviceName=a,this.errors=u}create(i,...a){const u=a[0]||{},f=`${this.service}/${i}`,m=this.errors[i],p=m?rb(m,u):"Error",b=`${this.serviceName}: ${p} (${f}).`;return new fl(f,b,u)}}function rb(r,i){return r.replace(lb,(a,u)=>{const f=i[u];return f!=null?String(f):`<${u}?>`})}const lb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){return JSON.parse(r)}function be(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=function(r){let i={},a={},u={},f="";try{const m=r.split(".");i=el(qf(m[0])||""),a=el(qf(m[1])||""),f=m[2],u=a.d||{},delete a.d}catch{}return{header:i,claims:a,data:u,signature:f}},ub=function(r){const i=Hg(r),a=i.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},cb=function(r){const i=Hg(r).claims;return typeof i=="object"&&i.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(r,i){return Object.prototype.hasOwnProperty.call(r,i)}function No(r,i){if(Object.prototype.hasOwnProperty.call(r,i))return r[i]}function Hp(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}function ec(r,i,a){const u={};for(const f in r)Object.prototype.hasOwnProperty.call(r,f)&&(u[f]=i.call(a,r[f],f,r));return u}function nc(r,i){if(r===i)return!0;const a=Object.keys(r),u=Object.keys(i);for(const f of a){if(!u.includes(f))return!1;const m=r[f],p=i[f];if(Zp(m)&&Zp(p)){if(!nc(m,p))return!1}else if(m!==p)return!1}for(const f of u)if(!a.includes(f))return!1;return!0}function Zp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){const i=[];for(const[a,u]of Object.entries(r))Array.isArray(u)?u.forEach(f=>{i.push(encodeURIComponent(a)+"="+encodeURIComponent(f))}):i.push(encodeURIComponent(a)+"="+encodeURIComponent(u));return i.length?"&"+i.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(i,a){a||(a=0);const u=this.W_;if(typeof i=="string")for(let A=0;A<16;A++)u[A]=i.charCodeAt(a)<<24|i.charCodeAt(a+1)<<16|i.charCodeAt(a+2)<<8|i.charCodeAt(a+3),a+=4;else for(let A=0;A<16;A++)u[A]=i[a]<<24|i[a+1]<<16|i[a+2]<<8|i[a+3],a+=4;for(let A=16;A<80;A++){const O=u[A-3]^u[A-8]^u[A-14]^u[A-16];u[A]=(O<<1|O>>>31)&4294967295}let f=this.chain_[0],m=this.chain_[1],p=this.chain_[2],b=this.chain_[3],T=this.chain_[4],E,N;for(let A=0;A<80;A++){A<40?A<20?(E=b^m&(p^b),N=1518500249):(E=m^p^b,N=1859775393):A<60?(E=m&p|b&(m|p),N=2400959708):(E=m^p^b,N=3395469782);const O=(f<<5|f>>>27)+E+T+N+u[A]&4294967295;T=b,b=p,p=(m<<30|m>>>2)&4294967295,m=f,f=O}this.chain_[0]=this.chain_[0]+f&4294967295,this.chain_[1]=this.chain_[1]+m&4294967295,this.chain_[2]=this.chain_[2]+p&4294967295,this.chain_[3]=this.chain_[3]+b&4294967295,this.chain_[4]=this.chain_[4]+T&4294967295}update(i,a){if(i==null)return;a===void 0&&(a=i.length);const u=a-this.blockSize;let f=0;const m=this.buf_;let p=this.inbuf_;for(;f<a;){if(p===0)for(;f<=u;)this.compress_(i,f),f+=this.blockSize;if(typeof i=="string"){for(;f<a;)if(m[p]=i.charCodeAt(f),++p,++f,p===this.blockSize){this.compress_(m),p=0;break}}else for(;f<a;)if(m[p]=i[f],++p,++f,p===this.blockSize){this.compress_(m),p=0;break}}this.inbuf_=p,this.total_+=a}digest(){const i=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let f=this.blockSize-1;f>=56;f--)this.buf_[f]=a&255,a/=256;this.compress_(this.buf_);let u=0;for(let f=0;f<5;f++)for(let m=24;m>=0;m-=8)i[u]=this.chain_[f]>>m&255,++u;return i}}function Zg(r,i){return`${r} failed: ${i} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=function(r){const i=[];let a=0;for(let u=0;u<r.length;u++){let f=r.charCodeAt(u);if(f>=55296&&f<=56319){const m=f-55296;u++,Q(u<r.length,"Surrogate pair missing trail surrogate.");const p=r.charCodeAt(u)-56320;f=65536+(m<<10)+p}f<128?i[a++]=f:f<2048?(i[a++]=f>>6|192,i[a++]=f&63|128):f<65536?(i[a++]=f>>12|224,i[a++]=f>>6&63|128,i[a++]=f&63|128):(i[a++]=f>>18|240,i[a++]=f>>12&63|128,i[a++]=f>>6&63|128,i[a++]=f&63|128)}return i},vc=function(r){let i=0;for(let a=0;a<r.length;a++){const u=r.charCodeAt(a);u<128?i++:u<2048?i+=2:u>=55296&&u<=56319?(i+=4,a++):i+=3}return i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(r){return r&&r._delegate?r._delegate:r}class nl{constructor(i,a,u){this.name=i,this.instanceFactory=a,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(i,a){this.name=i,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const a=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(a)){const u=new od;if(this.instancesDeferred.set(a,u),this.isInitialized(a)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:a});f&&u.resolve(f)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(i){const a=this.normalizeInstanceIdentifier(i?.identifier),u=i?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(pb(i))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);try{const m=this.getOrInitializeService({instanceIdentifier:f});u.resolve(m)}catch{}}}}clearInstance(i=Aa){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...i.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=Aa){return this.instances.has(i)}getOptions(i=Aa){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:a={}}=i,u=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:u,options:a});for(const[m,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(m);u===b&&p.resolve(f)}return f}onInit(i,a){const u=this.normalizeInstanceIdentifier(a),f=this.onInitCallbacks.get(u)??new Set;f.add(i),this.onInitCallbacks.set(u,f);const m=this.instances.get(u);return m&&i(m,u),()=>{f.delete(i)}}invokeOnInitCallbacks(i,a){const u=this.onInitCallbacks.get(a);if(u)for(const f of u)try{f(i,a)}catch{}}getOrInitializeService({instanceIdentifier:i,options:a={}}){let u=this.instances.get(i);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:mb(i),options:a}),this.instances.set(i,u),this.instancesOptions.set(i,a),this.invokeOnInitCallbacks(u,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,u)}catch{}return u||null}normalizeInstanceIdentifier(i=Aa){return this.component?this.component.multipleInstances?i:Aa:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mb(r){return r===Aa?void 0:r}function pb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const a=this.getProvider(i.name);if(a.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);a.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const a=new _b(i,this);return this.providers.set(i,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Wt||(Wt={}));const vb={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},yb=Wt.INFO,bb={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},Sb=(r,i,...a)=>{if(i<r.logLevel)return;const u=new Date().toISOString(),f=bb[i];if(f)console[f](`[${u}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class qg{constructor(i){this.name=i,this._logLevel=yb,this._logHandler=Sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Wt))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?vb[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...i),this._logHandler(this,Wt.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...i),this._logHandler(this,Wt.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...i),this._logHandler(this,Wt.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...i),this._logHandler(this,Wt.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...i),this._logHandler(this,Wt.ERROR,...i)}}const Eb=(r,i)=>i.some(a=>r instanceof a);let qp,Gp;function Tb(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cb(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gg=new WeakMap,Gf=new WeakMap,Yg=new WeakMap,Of=new WeakMap,ld=new WeakMap;function wb(r){const i=new Promise((a,u)=>{const f=()=>{r.removeEventListener("success",m),r.removeEventListener("error",p)},m=()=>{a(qs(r.result)),f()},p=()=>{u(r.error),f()};r.addEventListener("success",m),r.addEventListener("error",p)});return i.then(a=>{a instanceof IDBCursor&&Gg.set(a,r)}).catch(()=>{}),ld.set(i,r),i}function xb(r){if(Gf.has(r))return;const i=new Promise((a,u)=>{const f=()=>{r.removeEventListener("complete",m),r.removeEventListener("error",p),r.removeEventListener("abort",p)},m=()=>{a(),f()},p=()=>{u(r.error||new DOMException("AbortError","AbortError")),f()};r.addEventListener("complete",m),r.addEventListener("error",p),r.addEventListener("abort",p)});Gf.set(r,i)}let Yf={get(r,i,a){if(r instanceof IDBTransaction){if(i==="done")return Gf.get(r);if(i==="objectStoreNames")return r.objectStoreNames||Yg.get(r);if(i==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return qs(r[i])},set(r,i,a){return r[i]=a,!0},has(r,i){return r instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in r}};function Ab(r){Yf=r(Yf)}function Mb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...a){const u=r.call(Lf(this),i,...a);return Yg.set(u,i.sort?i.sort():[i]),qs(u)}:Cb().includes(r)?function(...i){return r.apply(Lf(this),i),qs(Gg.get(this))}:function(...i){return qs(r.apply(Lf(this),i))}}function Ob(r){return typeof r=="function"?Mb(r):(r instanceof IDBTransaction&&xb(r),Eb(r,Tb())?new Proxy(r,Yf):r)}function qs(r){if(r instanceof IDBRequest)return wb(r);if(Of.has(r))return Of.get(r);const i=Ob(r);return i!==r&&(Of.set(r,i),ld.set(i,r)),i}const Lf=r=>ld.get(r);function Lb(r,i,{blocked:a,upgrade:u,blocking:f,terminated:m}={}){const p=indexedDB.open(r,i),b=qs(p);return u&&p.addEventListener("upgradeneeded",T=>{u(qs(p.result),T.oldVersion,T.newVersion,qs(p.transaction),T)}),a&&p.addEventListener("blocked",T=>a(T.oldVersion,T.newVersion,T)),b.then(T=>{m&&T.addEventListener("close",()=>m()),f&&T.addEventListener("versionchange",E=>f(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const Nb=["get","getKey","getAll","getAllKeys","count"],Rb=["put","add","delete","clear"],Nf=new Map;function Yp(r,i){if(!(r instanceof IDBDatabase&&!(i in r)&&typeof i=="string"))return;if(Nf.get(i))return Nf.get(i);const a=i.replace(/FromIndex$/,""),u=i!==a,f=Rb.includes(a);if(!(a in(u?IDBIndex:IDBObjectStore).prototype)||!(f||Nb.includes(a)))return;const m=async function(p,...b){const T=this.transaction(p,f?"readwrite":"readonly");let E=T.store;return u&&(E=E.index(b.shift())),(await Promise.all([E[a](...b),f&&T.done]))[0]};return Nf.set(i,m),m}Ab(r=>({...r,get:(i,a,u)=>Yp(i,a)||r.get(i,a,u),has:(i,a)=>!!Yp(i,a)||r.has(i,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(zb(a)){const u=a.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(a=>a).join(" ")}}function zb(r){return r.getComponent()?.type==="VERSION"}const Vf="@firebase/app",Vp="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new qg("@firebase/app"),Pb="@firebase/app-compat",Ib="@firebase/analytics-compat",Bb="@firebase/analytics",kb="@firebase/app-check-compat",Ub="@firebase/app-check",Hb="@firebase/auth",Zb="@firebase/auth-compat",qb="@firebase/database",Gb="@firebase/data-connect",Yb="@firebase/database-compat",Vb="@firebase/functions",jb="@firebase/functions-compat",Xb="@firebase/installations",Qb="@firebase/installations-compat",Fb="@firebase/messaging",Kb="@firebase/messaging-compat",Wb="@firebase/performance",Jb="@firebase/performance-compat",$b="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",s1="@firebase/ai",a1="@firebase/firestore-compat",o1="firebase",r1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",l1={[Vf]:"fire-core",[Pb]:"fire-core-compat",[Bb]:"fire-analytics",[Ib]:"fire-analytics-compat",[Ub]:"fire-app-check",[kb]:"fire-app-check-compat",[Hb]:"fire-auth",[Zb]:"fire-auth-compat",[qb]:"fire-rtdb",[Gb]:"fire-data-connect",[Yb]:"fire-rtdb-compat",[Vb]:"fire-fn",[jb]:"fire-fn-compat",[Xb]:"fire-iid",[Qb]:"fire-iid-compat",[Fb]:"fire-fcm",[Kb]:"fire-fcm-compat",[Wb]:"fire-perf",[Jb]:"fire-perf-compat",[$b]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,u1=new Map,Xf=new Map;function jp(r,i){try{r.container.addComponent(i)}catch(a){Yi.debug(`Component ${i.name} failed to register with FirebaseApp ${r.name}`,a)}}function sc(r){const i=r.name;if(Xf.has(i))return Yi.debug(`There were multiple attempts to register component ${i}.`),!1;Xf.set(i,r);for(const a of ic.values())jp(a,r);for(const a of u1.values())jp(a,r);return!0}function c1(r,i){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(i)}function h1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Ug("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(i,a,u){this._isDeleted=!1,this._options={...i},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=r1;function Vg(r,i={}){let a=r;typeof i!="object"&&(i={name:i});const u={name:jf,automaticDataCollectionEnabled:!0,...i},f=u.name;if(typeof f!="string"||!f)throw Gs.create("bad-app-name",{appName:String(f)});if(a||(a=Bg()),!a)throw Gs.create("no-options");const m=ic.get(f);if(m){if(nc(a,m.options)&&nc(u,m.config))return m;throw Gs.create("duplicate-app",{appName:f})}const p=new gb(f);for(const T of Xf.values())p.addComponent(T);const b=new d1(a,u,p);return ic.set(f,b),b}function m1(r=jf){const i=ic.get(r);if(!i&&r===jf&&Bg())return Vg();if(!i)throw Gs.create("no-app",{appName:r});return i}function Mo(r,i,a){let u=l1[r]??r;a&&(u+=`-${a}`);const f=u.match(/\s|\//),m=i.match(/\s|\//);if(f||m){const p=[`Unable to register library "${u}" with version "${i}":`];f&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&m&&p.push("and"),m&&p.push(`version name "${i}" contains illegal characters (whitespace or "/")`),Yi.warn(p.join(" "));return}sc(new nl(`${u}-version`,()=>({library:u,version:i}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",g1=1,il="firebase-heartbeat-store";let Rf=null;function jg(){return Rf||(Rf=Lb(p1,g1,{upgrade:(r,i)=>{switch(i){case 0:try{r.createObjectStore(il)}catch(a){console.warn(a)}}}}).catch(r=>{throw Gs.create("idb-open",{originalErrorMessage:r.message})})),Rf}async function v1(r){try{const a=(await jg()).transaction(il),u=await a.objectStore(il).get(Xg(r));return await a.done,u}catch(i){if(i instanceof fl)Yi.warn(i.message);else{const a=Gs.create("idb-get",{originalErrorMessage:i?.message});Yi.warn(a.message)}}}async function Xp(r,i){try{const u=(await jg()).transaction(il,"readwrite");await u.objectStore(il).put(i,Xg(r)),await u.done}catch(a){if(a instanceof fl)Yi.warn(a.message);else{const u=Gs.create("idb-set",{originalErrorMessage:a?.message});Yi.warn(u.message)}}}function Xg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,b1=30;class S1{constructor(i){this.container=i,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new T1(a),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>b1){const f=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Yi.warn(i)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qp(),{heartbeatsToSend:a,unsentEntries:u}=E1(this._heartbeatsCache.heartbeats),f=tc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Yi.warn(i),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function E1(r,i=y1){const a=[];let u=r.slice();for(const f of r){const m=a.find(p=>p.agent===f.agent);if(m){if(m.dates.push(f.date),Fp(a)>i){m.dates.pop();break}}else if(a.push({agent:f.agent,dates:[f.date]}),Fp(a)>i){a.pop();break}u=u.slice(1)}return{heartbeatsToSend:a,unsentEntries:u}}class T1{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sb()?ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await v1(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(i){if(await this._canUseIndexedDBPromise){const u=await this.read();return Xp(this.app,{lastSentHeartbeatDate:i.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){if(await this._canUseIndexedDBPromise){const u=await this.read();return Xp(this.app,{lastSentHeartbeatDate:i.lastSentHeartbeatDate??u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...i.heartbeats]})}else return}}function Fp(r){return tc(JSON.stringify({version:2,heartbeats:r})).length}function C1(r){if(r.length===0)return-1;let i=0,a=r[0].date;for(let u=1;u<r.length;u++)r[u].date<a&&(a=r[u].date,i=u);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){sc(new nl("platform-logger",i=>new Db(i),"PRIVATE")),sc(new nl("heartbeat",i=>new S1(i),"PRIVATE")),Mo(Vf,Vp,r),Mo(Vf,Vp,"esm2020"),Mo("fire-js","")}w1("");var x1="firebase",A1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(x1,A1,"app");var Kp={};const Wp="@firebase/database",Jp="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg="";function M1(r){Qg=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,a){a==null?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),be(a))}get(i){const a=this.domStorage_.getItem(this.prefixedName_(i));return a==null?null:el(a)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,a){a==null?delete this.cache_[i]:this.cache_[i]=a}get(i){return ji(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const i=window[r];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new O1(i)}}catch{}return new L1},Oa=Fg("localStorage"),N1=Fg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new qg("@firebase/database"),R1=(function(){let r=1;return function(){return r++}})(),Kg=function(r){const i=db(r),a=new fb;a.update(i);const u=a.digest();return ad.encodeByteArray(u)},_l=function(...r){let i="";for(let a=0;a<r.length;a++){const u=r[a];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?i+=_l.apply(null,u):typeof u=="object"?i+=be(u):i+=u,i+=" "}return i};let Kr=null,$p=!0;const D1=function(r,i){Q(!0,"Can't turn on custom loggers persistently."),Oo.logLevel=Wt.VERBOSE,Kr=Oo.log.bind(Oo)},je=function(...r){if($p===!0&&($p=!1,Kr===null&&N1.get("logging_enabled")===!0&&D1()),Kr){const i=_l.apply(null,r);Kr(i)}},ml=function(r){return function(...i){je(r,...i)}},Qf=function(...r){const i="FIREBASE INTERNAL ERROR: "+_l(...r);Oo.error(i)},Vi=function(...r){const i=`FIREBASE FATAL ERROR: ${_l(...r)}`;throw Oo.error(i),new Error(i)},Tn=function(...r){const i="FIREBASE WARNING: "+_l(...r);Oo.warn(i)},z1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wg=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},P1=function(r){if(document.readyState==="complete")r();else{let i=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}i||(i=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Ro="[MIN_NAME]",La="[MAX_NAME]",Io=function(r,i){if(r===i)return 0;if(r===Ro||i===La)return-1;if(i===Ro||r===La)return 1;{const a=tg(r),u=tg(i);return a!==null?u!==null?a-u===0?r.length-i.length:a-u:-1:u!==null?1:r<i?-1:1}},I1=function(r,i){return r===i?0:r<i?-1:1},Yr=function(r,i){if(i&&r in i)return i[r];throw new Error("Missing required key ("+r+") in object: "+be(i))},ud=function(r){if(typeof r!="object"||r===null)return be(r);const i=[];for(const u in r)i.push(u);i.sort();let a="{";for(let u=0;u<i.length;u++)u!==0&&(a+=","),a+=be(i[u]),a+=":",a+=ud(r[i[u]]);return a+="}",a},Jg=function(r,i){const a=r.length;if(a<=i)return[r];const u=[];for(let f=0;f<a;f+=i)f+i>a?u.push(r.substring(f,a)):u.push(r.substring(f,f+i));return u};function cn(r,i){for(const a in r)r.hasOwnProperty(a)&&i(a,r[a])}const $g=function(r){Q(!Wg(r),"Invalid JSON number");const i=11,a=52,u=(1<<i-1)-1;let f,m,p,b,T;r===0?(m=0,p=0,f=1/r===-1/0?1:0):(f=r<0,r=Math.abs(r),r>=Math.pow(2,1-u)?(b=Math.min(Math.floor(Math.log(r)/Math.LN2),u),m=b+u,p=Math.round(r*Math.pow(2,a-b)-Math.pow(2,a))):(m=0,p=Math.round(r/Math.pow(2,1-u-a))));const E=[];for(T=a;T;T-=1)E.push(p%2?1:0),p=Math.floor(p/2);for(T=i;T;T-=1)E.push(m%2?1:0),m=Math.floor(m/2);E.push(f?1:0),E.reverse();const N=E.join("");let A="";for(T=0;T<64;T+=8){let O=parseInt(N.substr(T,8),2).toString(16);O.length===1&&(O="0"+O),A=A+O}return A.toLowerCase()},B1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},k1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function U1(r,i){let a="Unknown Error";r==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?a="Client doesn't have permission to access the desired data.":r==="unavailable"&&(a="The service is unavailable");const u=new Error(r+" at "+i._path.toString()+": "+a);return u.code=r.toUpperCase(),u}const H1=new RegExp("^-?(0*)\\d{1,10}$"),Z1=-2147483648,q1=2147483647,tg=function(r){if(H1.test(r)){const i=Number(r);if(i>=Z1&&i<=q1)return i}return null},pl=function(r){try{r()}catch(i){setTimeout(()=>{const a=i.stack||"";throw Tn("Exception was thrown by user callback.",a),i},Math.floor(0))}},G1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wr=function(r,i){const a=setTimeout(r,i);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(i,a){this.appCheckProvider=a,this.appName=i.name,h1(i)&&i.settings.appCheckToken&&(this.serverAppAppCheckToken=i.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(u=>this.appCheck=u)}getToken(i){if(this.serverAppAppCheckToken){if(i)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(i):new Promise((a,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(a,u):a(null)},0)})}addTokenChangeListener(i){this.appCheckProvider?.get().then(a=>a.addTokenListener(i))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(i,a,u){this.appName_=i,this.firebaseOptions_=a,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(f=>this.auth_=f)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(a=>a&&a.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(a,u):a(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(a=>a.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(a=>a.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?i+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?i+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':i+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(i)}}class $u{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}$u.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="5",tv="v",ev="s",nv="r",iv="f",sv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,av="ls",ov="p",Ff="ac",rv="websocket",lv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(i,a,u,f,m=!1,p="",b=!1,T=!1,E=null){this.secure=a,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=m,this.persistenceKey=p,this.includeNamespaceInQueryParams=b,this.isUsingEmulator=T,this.emulatorOptions=E,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oa.get("host:"+i)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Oa.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){const i=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${i}${this.host}/${a}`}}function j1(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function cv(r,i,a){Q(typeof i=="string","typeof type must == string"),Q(typeof a=="object","typeof params must == object");let u;if(i===rv)u=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(i===lv)u=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+i);j1(r)&&(a.ns=r.namespace);const f=[];return cn(a,(m,p)=>{f.push(m+"="+p)}),u+f.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.counters_={}}incrementCounter(i,a=1){ji(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=a}get(){return q0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df={},zf={};function hd(r){const i=r.toString();return Df[i]||(Df[i]=new X1),Df[i]}function Q1(r,i){const a=r.toString();return zf[a]||(zf[a]=i()),zf[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,a){this.closeAfterResponse=i,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,a){for(this.pendingResponses[i]=a;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<u.length;++f)u[f]&&pl(()=>{this.onMessage_(u[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="start",K1="close",W1="pLPCommand",J1="pRTLPCB",hv="id",fv="pw",dv="ser",$1="cb",tS="seg",eS="ts",nS="d",iS="dframe",_v=1870,mv=30,sS=_v-mv,aS=25e3,oS=3e4;class xo{constructor(i,a,u,f,m,p,b){this.connId=i,this.repoInfo=a,this.applicationId=u,this.appCheckToken=f,this.authToken=m,this.transportSessionId=p,this.lastSessionId=b,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ml(i),this.stats_=hd(a),this.urlFn=T=>(this.appCheckToken&&(T[Ff]=this.appCheckToken),cv(a,lv,T))}open(i,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new F1(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oS)),P1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fd((...m)=>{const[p,b,T,E,N]=m;if(this.incrementIncomingBytes_(m),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,p===eg)this.id=b,this.password=T;else if(p===K1)b?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(b,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+p)},(...m)=>{const[p,b]=m;this.incrementIncomingBytes_(m),this.myPacketOrderer.handleResponse(p,b)},()=>{this.onClosed_()},this.urlFn);const u={};u[eg]="t",u[dv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[$1]=this.scriptTagHolder.uniqueCallbackIdentifier),u[tv]=cd,this.transportSessionId&&(u[ev]=this.transportSessionId),this.lastSessionId&&(u[av]=this.lastSessionId),this.applicationId&&(u[ov]=this.applicationId),this.appCheckToken&&(u[Ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&sv.test(location.hostname)&&(u[nv]=iv);const f=this.urlFn(u);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xo.forceAllow_=!0}static forceDisallow(){xo.forceDisallow_=!0}static isAvailable(){return xo.forceAllow_?!0:!xo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!B1()&&!k1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const a=be(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const u=zg(a),f=Jg(u,sS);for(let m=0;m<f.length;m++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[m]),this.curSegmentNum++}addDisconnectPingFrame(i,a){this.myDisconnFrame=document.createElement("iframe");const u={};u[iS]="t",u[hv]=i,u[fv]=a,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const a=be(i).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class fd{constructor(i,a,u,f){this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=R1(),window[W1+this.uniqueCallbackIdentifier]=i,window[J1+this.uniqueCallbackIdentifier]=a,this.myIFrame=fd.createIFrame_();let m="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(m='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+m+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(b){je("frame writing exception"),b.stack&&je(b.stack),je(b)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",document.body){document.body.appendChild(i);try{i.contentWindow.document||je("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,a){for(this.myID=i,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i[hv]=this.myID,i[fv]=this.myPW,i[dv]=this.currentSerial;let a=this.urlFn(i),u="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mv+u.length<=_v;){const p=this.pendingSegs.shift();u=u+"&"+tS+f+"="+p.seg+"&"+eS+f+"="+p.ts+"&"+nS+f+"="+p.d,f++}return a=a+u,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(i,a,u){this.pendingSegs.push({seg:i,ts:a,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,a){this.outstandingRequests.add(a);const u=()=>{this.outstandingRequests.delete(a),this.newRequest_()},f=setTimeout(u,Math.floor(aS)),m=()=>{clearTimeout(f),u()};this.addTag(i,m)}addTag(i,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const f=u.readyState;(!f||f==="loaded"||f==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),a())},u.onerror=()=>{je("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=16384,lS=45e3;let ac=null;typeof MozWebSocket<"u"?ac=MozWebSocket:typeof WebSocket<"u"&&(ac=WebSocket);class Xn{constructor(i,a,u,f,m,p,b){this.connId=i,this.applicationId=u,this.appCheckToken=f,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ml(this.connId),this.stats_=hd(a),this.connURL=Xn.connectionURL_(a,p,b,f,u),this.nodeAdmin=a.nodeAdmin}static connectionURL_(i,a,u,f,m){const p={};return p[tv]=cd,typeof location<"u"&&location.hostname&&sv.test(location.hostname)&&(p[nv]=iv),a&&(p[ev]=a),u&&(p[av]=u),f&&(p[Ff]=f),m&&(p[ov]=m),cv(i,rv,p)}open(i,a){this.onDisconnect=a,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oa.set("previous_websocket_failure",!0);try{let u;ib(),this.mySock=new ac(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){Xn.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(a);u&&u.length>1&&parseFloat(u[1])<4.4&&(i=!0)}return!i&&ac!==null&&!Xn.forceDisallow_}static previouslyFailed(){return Oa.isInMemoryStorage||Oa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oa.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const u=el(a);this.onMessage(u)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if(Q(this.frames===null,"We already have a frame buffer"),i.length<=6){const a=Number(i);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(this.mySock===null)return;const a=i.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const u=this.extractFrameCount_(a);u!==null&&this.appendFrame_(u)}}send(i){this.resetKeepAlive();const a=be(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const u=Jg(a,rS);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lS))}sendString_(i){try{this.mySock.send(i)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xn.responsesRequiredToBeHealthy=2;Xn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static get ALL_TRANSPORTS(){return[xo,Xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(i){this.initTransports_(i)}initTransports_(i){const a=Xn&&Xn.isAvailable();let u=a&&!Xn.previouslyFailed();if(i.webSocketOnly&&(a||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Xn];else{const f=this.transports_=[];for(const m of sl.ALL_TRANSPORTS)m&&m.isAvailable()&&f.push(m);sl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}sl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=6e4,cS=5e3,hS=10*1024,fS=100*1024,Pf="t",ng="d",dS="s",ig="r",_S="e",sg="o",ag="a",og="n",rg="p",mS="h";class pS{constructor(i,a,u,f,m,p,b,T,E,N){this.id=i,this.repoInfo_=a,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=m,this.onMessage_=p,this.onReady_=b,this.onDisconnect_=T,this.onKill_=E,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ml("c:"+this.id+":"),this.transportManager_=new sl(a),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,u)},Math.floor(0));const f=i.healthyTimeout||0;f>0&&(this.healthyTimeout_=Wr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return a=>{i===this.conn_?this.onConnectionLost_(a):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return a=>{this.state_!==2&&(i===this.rx_?this.onPrimaryMessageReceived_(a):i===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(i){const a={t:"d",d:i};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if(Pf in i){const a=i[Pf];a===ag?this.upgradeIfSecondaryHealthy_():a===ig?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===sg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const a=Yr("t",i),u=Yr("d",i);if(a==="c")this.onSecondaryControl_(u);else if(a==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ag,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:og,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const a=Yr("t",i),u=Yr("d",i);a==="c"?this.onControl_(u):a==="d"&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const a=Yr(Pf,i);if(ng in i){const u=i[ng];if(a===mS){const f={...u};this.repoInfo_.isUsingEmulator&&(f.h=this.repoInfo_.host),this.onHandshake_(f)}else if(a===og){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===dS?this.onConnectionShutdown_(u):a===ig?this.onReset_(u):a===_S?Qf("Server Error: "+u):a===sg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qf("Unknown control packet command: "+a)}}onHandshake_(i){const a=i.ts,u=i.v,f=i.h;this.sessionId=i.s,this.repoInfo_.host=f,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),cd!==u&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,u),Wr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uS))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,a){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rg,d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,!i&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(i)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{put(i,a,u,f){}merge(i,a,u,f){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,a,u){}onDisconnectMerge(i,a,u){}onDisconnectCancel(i,a){}reportStats(i){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(i){this.allowedEvents_=i,this.listeners_={},Q(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...a){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let f=0;f<u.length;f++)u[f].callback.apply(u[f].context,a)}}on(i,a,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:a,context:u});const f=this.getInitialEvent(i);f&&a.apply(u,f)}off(i,a,u){this.validateEventType_(i);const f=this.listeners_[i]||[];for(let m=0;m<f.length;m++)if(f[m].callback===a&&(!u||u===f[m].context)){f.splice(m,1);return}}validateEventType_(i){Q(this.allowedEvents_.find(a=>a===i),"Unknown event: "+i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends gv{static getInstance(){return new oc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(i){return Q(i==="online","Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=32,ug=768;class Vt{constructor(i,a){if(a===void 0){this.pieces_=i.split("/");let u=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=a}toString(){let i="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(i+="/"+this.pieces_[a]);return i||"/"}}function Pt(){return new Vt("")}function Ot(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function js(r){return r.pieces_.length-r.pieceNum_}function Jt(r){let i=r.pieceNum_;return i<r.pieces_.length&&i++,new Vt(r.pieces_,i)}function vv(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function gS(r){let i="";for(let a=r.pieceNum_;a<r.pieces_.length;a++)r.pieces_[a]!==""&&(i+="/"+encodeURIComponent(String(r.pieces_[a])));return i||"/"}function yv(r,i=0){return r.pieces_.slice(r.pieceNum_+i)}function bv(r){if(r.pieceNum_>=r.pieces_.length)return null;const i=[];for(let a=r.pieceNum_;a<r.pieces_.length-1;a++)i.push(r.pieces_[a]);return new Vt(i,0)}function Se(r,i){const a=[];for(let u=r.pieceNum_;u<r.pieces_.length;u++)a.push(r.pieces_[u]);if(i instanceof Vt)for(let u=i.pieceNum_;u<i.pieces_.length;u++)a.push(i.pieces_[u]);else{const u=i.split("/");for(let f=0;f<u.length;f++)u[f].length>0&&a.push(u[f])}return new Vt(a,0)}function Mt(r){return r.pieceNum_>=r.pieces_.length}function tn(r,i){const a=Ot(r),u=Ot(i);if(a===null)return i;if(a===u)return tn(Jt(r),Jt(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+r+")")}function Sv(r,i){if(js(r)!==js(i))return!1;for(let a=r.pieceNum_,u=i.pieceNum_;a<=r.pieces_.length;a++,u++)if(r.pieces_[a]!==i.pieces_[u])return!1;return!0}function Qn(r,i){let a=r.pieceNum_,u=i.pieceNum_;if(js(r)>js(i))return!1;for(;a<r.pieces_.length;){if(r.pieces_[a]!==i.pieces_[u])return!1;++a,++u}return!0}class vS{constructor(i,a){this.errorPrefix_=a,this.parts_=yv(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=vc(this.parts_[u]);Ev(this)}}function yS(r,i){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(i),r.byteLength_+=vc(i),Ev(r)}function bS(r){const i=r.parts_.pop();r.byteLength_-=vc(i),r.parts_.length>0&&(r.byteLength_-=1)}function Ev(r){if(r.byteLength_>ug)throw new Error(r.errorPrefix_+"has a key path longer than "+ug+" bytes ("+r.byteLength_+").");if(r.parts_.length>lg)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lg+") or object contains a cycle "+Ma(r))}function Ma(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends gv{static getInstance(){return new dd}constructor(){super(["visible"]);let i,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}getInitialEvent(i){return Q(i==="visible","Unknown event type: "+i),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=1e3,SS=300*1e3,cg=30*1e3,ES=1.3,TS=3e4,CS="server_kill",hg=3;class Gi extends pv{constructor(i,a,u,f,m,p,b,T){if(super(),this.repoInfo_=i,this.applicationId_=a,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=m,this.authTokenProvider_=p,this.appCheckTokenProvider_=b,this.authOverride_=T,this.id=Gi.nextPersistentConnectionId_++,this.log_=ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vr,this.maxReconnectDelay_=SS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dd.getInstance().on("visible",this.onVisible_,this),i.host.indexOf("fblocal")===-1&&oc.getInstance().on("online",this.onOnline_,this)}sendRequest(i,a,u){const f=++this.requestNumber_,m={r:f,a:i,b:a};this.log_(be(m)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),u&&(this.requestCBHash_[f]=u)}get(i){this.initConnection_();const a=new od,f={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:p=>{const b=p.d;p.s==="ok"?a.resolve(b):a.reject(b)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const m=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(m),a.promise}listen(i,a,u,f){this.initConnection_();const m=i._queryIdentifier,p=i._path.toString();this.log_("Listen called for "+p+" "+m),this.listens.has(p)||this.listens.set(p,new Map),Q(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(p).has(m),"listen() called twice for same path/queryId.");const b={onComplete:f,hashFn:a,query:i,tag:u};this.listens.get(p).set(m,b),this.connected_&&this.sendListen_(b)}sendGet_(i){const a=this.outstandingGets_[i];this.sendRequest("g",a.request,u=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(u)})}sendListen_(i){const a=i.query,u=a._path.toString(),f=a._queryIdentifier;this.log_("Listen on "+u+" for "+f);const m={p:u},p="q";i.tag&&(m.q=a._queryObject,m.t=i.tag),m.h=i.hashFn(),this.sendRequest(p,m,b=>{const T=b.d,E=b.s;Gi.warnOnListenWarnings_(T,a),(this.listens.get(u)&&this.listens.get(u).get(f))===i&&(this.log_("listen response",b),E!=="ok"&&this.removeListen_(u,f),i.onComplete&&i.onComplete(E,T))})}static warnOnListenWarnings_(i,a){if(i&&typeof i=="object"&&ji(i,"w")){const u=No(i,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+a._queryParams.getIndex().toString()+'"',m=a._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&i.length===40||cb(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cg)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,a=ub(i)?"auth":"gauth",u={cred:i};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(a,u,f=>{const m=f.s,p=f.d||"error";this.authToken_===i&&(m==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const a=i.s,u=i.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,u)})}unlisten(i,a){const u=i._path.toString(),f=i._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),Q(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,i._queryObject,a)}sendUnlisten_(i,a,u,f){this.log_("Unlisten on "+i+" for "+a);const m={p:i},p="n";f&&(m.q=u,m.t=f),this.sendRequest(p,m)}onDisconnectPut(i,a,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,a,u):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:a,onComplete:u})}onDisconnectMerge(i,a,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,a,u):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:a,onComplete:u})}onDisconnectCancel(i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,a):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(i,a,u,f){const m={p:a,d:u};this.log_("onDisconnect "+i,m),this.sendRequest(i,m,p=>{f&&setTimeout(()=>{f(p.s,p.d)},Math.floor(0))})}put(i,a,u,f){this.putInternal("p",i,a,u,f)}merge(i,a,u,f){this.putInternal("m",i,a,u,f)}putInternal(i,a,u,f,m){this.initConnection_();const p={p:a,d:u};m!==void 0&&(p.h=m),this.outstandingPuts_.push({action:i,request:p,onComplete:f}),this.outstandingPutCount_++;const b=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(b):this.log_("Buffering put: "+a)}sendPut_(i){const a=this.outstandingPuts_[i].action,u=this.outstandingPuts_[i].request,f=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(a,u,m=>{this.log_(a+" response",m),delete this.outstandingPuts_[i],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),f&&f(m.s,m.d)})}reportStats(i){if(this.connected_){const a={c:i};this.log_("reportStats",a),this.sendRequest("s",a,u=>{if(u.s!=="ok"){const m=u.d;this.log_("reportStats","Error sending stats: "+m)}})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+be(i));const a=i.r,u=this.requestCBHash_[a];u&&(delete this.requestCBHash_[a],u(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,a){this.log_("handleServerMessage",i,a),i==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):i==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):i==="c"?this.onListenRevoked_(a.p,a.q):i==="ac"?this.onAuthRevoked_(a.s,a.d):i==="apc"?this.onAppCheckRevoked_(a.s,a.d):i==="sd"?this.onSecurityDebugPacket_(a):Qf("Unrecognized action received from server: "+be(i)+`
Are you using the latest client?`)}onReady_(i,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(i),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TS&&(this.reconnectDelay_=Vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const i=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-i);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ES)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const i=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),f=this.id+":"+Gi.nextConnectionId_++,m=this.lastSessionId;let p=!1,b=null;const T=function(){b?b.close():(p=!0,u())},E=function(A){Q(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(A)};this.realtime_={close:T,sendRequest:E};const N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[A,O]=await Promise.all([this.authTokenProvider_.getToken(N),this.appCheckTokenProvider_.getToken(N)]);p?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=A&&A.accessToken,this.appCheckToken_=O&&O.token,b=new pS(f,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,i,a,u,V=>{Tn(V+" ("+this.repoInfo_.toString()+")"),this.interrupt(CS)},m))}catch(A){this.log_("Failed to get token: "+A),p||(this.repoInfo_.nodeAdmin&&Tn(A),T())}}}interrupt(i){je("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){je("Resuming connection for reason: "+i),delete this.interruptReasons_[i],Hp(this.interruptReasons_)&&(this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const a=i-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const a=this.outstandingPuts_[i];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(i,a){let u;a?u=a.map(m=>ud(m)).join("$"):u="default";const f=this.removeListen_(i,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(i,a){const u=new Vt(i).toString();let f;if(this.listens.has(u)){const m=this.listens.get(u);f=m.get(a),m.delete(a),m.size===0&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(i,a){je("Auth token revoked: "+i+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(i==="invalid_token"||i==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hg&&(this.reconnectDelay_=cg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,a){je("App check token revoked: "+i+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(i==="invalid_token"||i==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const a of i.values())this.sendListen_(a);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let a="js";i["sdk."+a+"."+Qg.replace(/\./g,"-")]=1,kg()?i["framework.cordova"]=1:nb()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=oc.getInstance().currentlyOnline();return Hp(this.interruptReasons_)&&i}}Gi.nextPersistentConnectionId_=0;Gi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(i,a){this.name=i,this.node=a}static Wrap(i,a){return new wt(i,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,a){const u=new wt(Ro,i),f=new wt(Ro,a);return this.compare(u,f)!==0}minPost(){return wt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class Tv extends yc{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(i){Wu=i}compare(i,a){return Io(i.name,a.name)}isDefinedOn(i){throw Po("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,a){return!1}minPost(){return wt.MIN}maxPost(){return new wt(La,Wu)}makePost(i,a){return Q(typeof i=="string","KeyIndex indexValue must always be a string."),new wt(i,Wu)}toString(){return".key"}}const Lo=new Tv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(i,a,u,f,m=null){this.isReverse_=f,this.resultGenerator_=m,this.nodeStack_=[];let p=1;for(;!i.isEmpty();)if(i=i,p=a?u(i.key,a):1,f&&(p*=-1),p<0)this.isReverse_?i=i.left:i=i.right;else if(p===0){this.nodeStack_.push(i);break}else this.nodeStack_.push(i),this.isReverse_?i=i.right:i=i.left}getNext(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(i.key,i.value):a={key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}class Le{constructor(i,a,u,f,m){this.key=i,this.value=a,this.color=u??Le.RED,this.left=f??un.EMPTY_NODE,this.right=m??un.EMPTY_NODE}copy(i,a,u,f,m){return new Le(i??this.key,a??this.value,u??this.color,f??this.left,m??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,a,u){let f=this;const m=u(i,f.key);return m<0?f=f.copy(null,null,null,f.left.insert(i,a,u),null):m===0?f=f.copy(null,a,null,null,null):f=f.copy(null,null,null,null,f.right.insert(i,a,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return un.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,a){let u,f;if(u=this,a(i,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(i,a),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),a(i,u.key)===0){if(u.right.isEmpty())return un.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(i,a))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,a)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class wS{copy(i,a,u,f,m){return this}insert(i,a,u){return new Le(i,a,null)}remove(i,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class un{constructor(i,a=un.EMPTY_NODE){this.comparator_=i,this.root_=a}insert(i,a){return new un(this.comparator_,this.root_.insert(i,a,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(i){return new un(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(i){let a,u=this.root_;for(;!u.isEmpty();){if(a=this.comparator_(i,u.key),a===0)return u.value;a<0?u=u.left:a>0&&(u=u.right)}return null}getPredecessorKey(i){let a,u=this.root_,f=null;for(;!u.isEmpty();)if(a=this.comparator_(i,u.key),a===0){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else a<0?u=u.left:a>0&&(f=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Ju(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,a){return new Ju(this.root_,i,this.comparator_,!1,a)}getReverseIteratorFrom(i,a){return new Ju(this.root_,i,this.comparator_,!0,a)}getReverseIterator(i){return new Ju(this.root_,null,this.comparator_,!0,i)}}un.EMPTY_NODE=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r,i){return Io(r.name,i.name)}function _d(r,i){return Io(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf;function AS(r){Kf=r}const Cv=function(r){return typeof r=="number"?"number:"+$g(r):"string:"+r},wv=function(r){if(r.isLeafNode()){const i=r.val();Q(typeof i=="string"||typeof i=="number"||typeof i=="object"&&ji(i,".sv"),"Priority must be a string or number.")}else Q(r===Kf||r.isEmpty(),"priority of unexpected type.");Q(r===Kf||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg;class Oe{static set __childrenNodeConstructor(i){fg=i}static get __childrenNodeConstructor(){return fg}constructor(i,a=Oe.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=a,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new Oe(this.value_,i)}getImmediateChild(i){return i===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return Mt(i)?this:Ot(i)===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,a){return null}updateImmediateChild(i,a){return i===".priority"?this.updatePriority(a):a.isEmpty()&&i!==".priority"?this:Oe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,a).updatePriority(this.priorityNode_)}updateChild(i,a){const u=Ot(i);return u===null?a:a.isEmpty()&&u!==".priority"?this:(Q(u!==".priority"||js(i)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,Oe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(i),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,a){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Cv(this.priorityNode_.val())+":");const a=typeof this.value_;i+=a+":",a==="number"?i+=$g(this.value_):i+=this.value_,this.lazyHash_=Kg(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===Oe.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof Oe.__childrenNodeConstructor?-1:(Q(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const a=typeof i.value_,u=typeof this.value_,f=Oe.VALUE_TYPE_ORDER.indexOf(a),m=Oe.VALUE_TYPE_ORDER.indexOf(u);return Q(f>=0,"Unknown leaf type: "+a),Q(m>=0,"Unknown leaf type: "+u),f===m?u==="object"?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:m-f}withIndex(){return this}isIndexed(){return!0}equals(i){if(i===this)return!0;if(i.isLeafNode()){const a=i;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}Oe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv,Av;function MS(r){xv=r}function OS(r){Av=r}class LS extends yc{compare(i,a){const u=i.node.getPriority(),f=a.node.getPriority(),m=u.compareTo(f);return m===0?Io(i.name,a.name):m}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,a){return!i.getPriority().equals(a.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(La,new Oe("[PRIORITY-POST]",Av))}makePost(i,a){const u=xv(i);return new wt(a,new Oe("[PRIORITY-POST]",u))}toString(){return".priority"}}const ce=new LS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=Math.log(2);class RS{constructor(i){const a=m=>parseInt(Math.log(m)/NS,10),u=m=>parseInt(Array(m+1).join("1"),2);this.count=a(i+1),this.current_=this.count-1;const f=u(this.count);this.bits_=i+1&f}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const rc=function(r,i,a,u){r.sort(i);const f=function(T,E){const N=E-T;let A,O;if(N===0)return null;if(N===1)return A=r[T],O=a?a(A):A,new Le(O,A.node,Le.BLACK,null,null);{const V=parseInt(N/2,10)+T,K=f(T,V),et=f(V+1,E);return A=r[V],O=a?a(A):A,new Le(O,A.node,Le.BLACK,K,et)}},m=function(T){let E=null,N=null,A=r.length;const O=function(K,et){const yt=A-K,$t=A;A-=K;const ot=f(yt+1,$t),ct=r[yt],kt=a?a(ct):ct;V(new Le(kt,ct.node,et,null,ot))},V=function(K){E?(E.left=K,E=K):(N=K,E=K)};for(let K=0;K<T.count;++K){const et=T.nextBitIsOne(),yt=Math.pow(2,T.count-(K+1));et?O(yt,Le.BLACK):(O(yt,Le.BLACK),O(yt,Le.RED))}return N},p=new RS(r.length),b=m(p);return new un(u||i,b)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const wo={};class qi{static get Default(){return Q(wo&&ce,"ChildrenNode.ts has not been loaded"),If=If||new qi({".priority":wo},{".priority":ce}),If}constructor(i,a){this.indexes_=i,this.indexSet_=a}get(i){const a=No(this.indexes_,i);if(!a)throw new Error("No index defined for "+i);return a instanceof un?a:null}hasIndex(i){return ji(this.indexSet_,i.toString())}addIndex(i,a){Q(i!==Lo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let f=!1;const m=a.getIterator(wt.Wrap);let p=m.getNext();for(;p;)f=f||i.isDefinedOn(p.node),u.push(p),p=m.getNext();let b;f?b=rc(u,i.getCompare()):b=wo;const T=i.toString(),E={...this.indexSet_};E[T]=i;const N={...this.indexes_};return N[T]=b,new qi(N,E)}addToIndexes(i,a){const u=ec(this.indexes_,(f,m)=>{const p=No(this.indexSet_,m);if(Q(p,"Missing index implementation for "+m),f===wo)if(p.isDefinedOn(i.node)){const b=[],T=a.getIterator(wt.Wrap);let E=T.getNext();for(;E;)E.name!==i.name&&b.push(E),E=T.getNext();return b.push(i),rc(b,p.getCompare())}else return wo;else{const b=a.get(i.name);let T=f;return b&&(T=T.remove(new wt(i.name,b))),T.insert(i,i.node)}});return new qi(u,this.indexSet_)}removeFromIndexes(i,a){const u=ec(this.indexes_,f=>{if(f===wo)return f;{const m=a.get(i.name);return m?f.remove(new wt(i.name,m)):f}});return new qi(u,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr;class dt{static get EMPTY_NODE(){return jr||(jr=new dt(new un(_d),null,qi.Default))}constructor(i,a,u){this.children_=i,this.priorityNode_=a,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&wv(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jr}updatePriority(i){return this.children_.isEmpty()?this:new dt(this.children_,i,this.indexMap_)}getImmediateChild(i){if(i===".priority")return this.getPriority();{const a=this.children_.get(i);return a===null?jr:a}}getChild(i){const a=Ot(i);return a===null?this:this.getImmediateChild(a).getChild(Jt(i))}hasChild(i){return this.children_.get(i)!==null}updateImmediateChild(i,a){if(Q(a,"We should always be passing snapshot nodes"),i===".priority")return this.updatePriority(a);{const u=new wt(i,a);let f,m;a.isEmpty()?(f=this.children_.remove(i),m=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(i,a),m=this.indexMap_.addToIndexes(u,this.children_));const p=f.isEmpty()?jr:this.priorityNode_;return new dt(f,p,m)}}updateChild(i,a){const u=Ot(i);if(u===null)return a;{Q(Ot(i)!==".priority"||js(i)===1,".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(Jt(i),a);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const a={};let u=0,f=0,m=!0;if(this.forEachChild(ce,(p,b)=>{a[p]=b.val(i),u++,m&&dt.INTEGER_REGEXP_.test(p)?f=Math.max(f,Number(p)):m=!1}),!i&&m&&f<2*u){const p=[];for(const b in a)p[b]=a[b];return p}else return i&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let i="";this.getPriority().isEmpty()||(i+="priority:"+Cv(this.getPriority().val())+":"),this.forEachChild(ce,(a,u)=>{const f=u.hash();f!==""&&(i+=":"+a+":"+f)}),this.lazyHash_=i===""?"":Kg(i)}return this.lazyHash_}getPredecessorChildName(i,a,u){const f=this.resolveIndex_(u);if(f){const m=f.getPredecessorKey(new wt(i,a));return m?m.name:null}else return this.children_.getPredecessorKey(i)}getFirstChildName(i){const a=this.resolveIndex_(i);if(a){const u=a.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(i){const a=this.getFirstChildName(i);return a?new wt(a,this.children_.get(a)):null}getLastChildName(i){const a=this.resolveIndex_(i);if(a){const u=a.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(i){const a=this.getLastChildName(i);return a?new wt(a,this.children_.get(a)):null}forEachChild(i,a){const u=this.resolveIndex_(i);return u?u.inorderTraversal(f=>a(f.name,f.node)):this.children_.inorderTraversal(a)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,a){const u=this.resolveIndex_(a);if(u)return u.getIteratorFrom(i,f=>f);{const f=this.children_.getIteratorFrom(i.name,wt.Wrap);let m=f.peek();for(;m!=null&&a.compare(m,i)<0;)f.getNext(),m=f.peek();return f}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,a){const u=this.resolveIndex_(a);if(u)return u.getReverseIteratorFrom(i,f=>f);{const f=this.children_.getReverseIteratorFrom(i.name,wt.Wrap);let m=f.peek();for(;m!=null&&a.compare(m,i)>0;)f.getNext(),m=f.peek();return f}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===gl?-1:0}withIndex(i){if(i===Lo||this.indexMap_.hasIndex(i))return this;{const a=this.indexMap_.addIndex(i,this.children_);return new dt(this.children_,this.priorityNode_,a)}}isIndexed(i){return i===Lo||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const a=i;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const u=this.getIterator(ce),f=a.getIterator(ce);let m=u.getNext(),p=f.getNext();for(;m&&p;){if(m.name!==p.name||!m.node.equals(p.node))return!1;m=u.getNext(),p=f.getNext()}return m===null&&p===null}else return!1;else return!1}}resolveIndex_(i){return i===Lo?null:this.indexMap_.get(i.toString())}}dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class DS extends dt{constructor(){super(new un(_d),dt.EMPTY_NODE,qi.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return dt.EMPTY_NODE}isEmpty(){return!1}}const gl=new DS;Object.defineProperties(wt,{MIN:{value:new wt(Ro,dt.EMPTY_NODE)},MAX:{value:new wt(La,gl)}});Tv.__EMPTY_NODE=dt.EMPTY_NODE;Oe.__childrenNodeConstructor=dt;AS(gl);OS(gl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=!0;function ke(r,i=null){if(r===null)return dt.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(i=r[".priority"]),Q(i===null||typeof i=="string"||typeof i=="number"||typeof i=="object"&&".sv"in i,"Invalid priority type found: "+typeof i),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const a=r;return new Oe(a,ke(i))}if(!(r instanceof Array)&&zS){const a=[];let u=!1;if(cn(r,(p,b)=>{if(p.substring(0,1)!=="."){const T=ke(b);T.isEmpty()||(u=u||!T.getPriority().isEmpty(),a.push(new wt(p,T)))}}),a.length===0)return dt.EMPTY_NODE;const m=rc(a,xS,p=>p.name,_d);if(u){const p=rc(a,ce.getCompare());return new dt(m,ke(i),new qi({".priority":p},{".priority":ce}))}else return new dt(m,ke(i),qi.Default)}else{let a=dt.EMPTY_NODE;return cn(r,(u,f)=>{if(ji(r,u)&&u.substring(0,1)!=="."){const m=ke(f);(m.isLeafNode()||!m.isEmpty())&&(a=a.updateImmediateChild(u,m))}}),a.updatePriority(ke(i))}}MS(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends yc{constructor(i){super(),this.indexPath_=i,Q(!Mt(i)&&Ot(i)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,a){const u=this.extractChild(i.node),f=this.extractChild(a.node),m=u.compareTo(f);return m===0?Io(i.name,a.name):m}makePost(i,a){const u=ke(i),f=dt.EMPTY_NODE.updateChild(this.indexPath_,u);return new wt(a,f)}maxPost(){const i=dt.EMPTY_NODE.updateChild(this.indexPath_,gl);return new wt(La,i)}toString(){return yv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends yc{compare(i,a){const u=i.node.compareTo(a.node);return u===0?Io(i.name,a.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,a){return!i.equals(a)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(i,a){const u=ke(i);return new wt(a,u)}toString(){return".value"}}const BS=new IS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){return{type:"value",snapshotNode:r}}function Do(r,i){return{type:"child_added",snapshotNode:i,childName:r}}function al(r,i){return{type:"child_removed",snapshotNode:i,childName:r}}function ol(r,i,a){return{type:"child_changed",snapshotNode:i,childName:r,oldSnap:a}}function kS(r,i){return{type:"child_moved",snapshotNode:i,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(i){this.index_=i}updateChild(i,a,u,f,m,p){Q(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const b=i.getImmediateChild(a);return b.getChild(f).equals(u.getChild(f))&&b.isEmpty()===u.isEmpty()||(p!=null&&(u.isEmpty()?i.hasChild(a)?p.trackChildChange(al(a,b)):Q(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):b.isEmpty()?p.trackChildChange(Do(a,u)):p.trackChildChange(ol(a,u,b))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(a,u).withIndex(this.index_)}updateFullNode(i,a,u){return u!=null&&(i.isLeafNode()||i.forEachChild(ce,(f,m)=>{a.hasChild(f)||u.trackChildChange(al(f,m))}),a.isLeafNode()||a.forEachChild(ce,(f,m)=>{if(i.hasChild(f)){const p=i.getImmediateChild(f);p.equals(m)||u.trackChildChange(ol(f,m,p))}else u.trackChildChange(Do(f,m))})),a.withIndex(this.index_)}updatePriority(i,a){return i.isEmpty()?dt.EMPTY_NODE:i.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(i){this.indexedFilter_=new md(i.getIndex()),this.index_=i.getIndex(),this.startPost_=rl.getStartPost_(i),this.endPost_=rl.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return a&&u}updateChild(i,a,u,f,m,p){return this.matches(new wt(a,u))||(u=dt.EMPTY_NODE),this.indexedFilter_.updateChild(i,a,u,f,m,p)}updateFullNode(i,a,u){a.isLeafNode()&&(a=dt.EMPTY_NODE);let f=a.withIndex(this.index_);f=f.updatePriority(dt.EMPTY_NODE);const m=this;return a.forEachChild(ce,(p,b)=>{m.matches(new wt(p,b))||(f=f.updateImmediateChild(p,dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,f,u)}updatePriority(i,a){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const a=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),a)}else return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const a=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),a)}else return i.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(i){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=a=>{const u=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new rl(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,a,u,f,m,p){return this.rangedFilter_.matches(new wt(a,u))||(u=dt.EMPTY_NODE),i.getImmediateChild(a).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,a,u,f,m,p):this.fullLimitUpdateChild_(i,a,u,m,p)}updateFullNode(i,a,u){let f;if(a.isLeafNode()||a.isEmpty())f=dt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){f=dt.EMPTY_NODE.withIndex(this.index_);let m;this.reverse_?m=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):m=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;m.hasNext()&&p<this.limit_;){const b=m.getNext();if(this.withinDirectionalStart(b))if(this.withinDirectionalEnd(b))f=f.updateImmediateChild(b.name,b.node),p++;else break;else continue}}else{f=a.withIndex(this.index_),f=f.updatePriority(dt.EMPTY_NODE);let m;this.reverse_?m=f.getReverseIterator(this.index_):m=f.getIterator(this.index_);let p=0;for(;m.hasNext();){const b=m.getNext();p<this.limit_&&this.withinDirectionalStart(b)&&this.withinDirectionalEnd(b)?p++:f=f.updateImmediateChild(b.name,dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,f,u)}updatePriority(i,a){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,a,u,f,m){let p;if(this.reverse_){const A=this.index_.getCompare();p=(O,V)=>A(V,O)}else p=this.index_.getCompare();const b=i;Q(b.numChildren()===this.limit_,"");const T=new wt(a,u),E=this.reverse_?b.getFirstChild(this.index_):b.getLastChild(this.index_),N=this.rangedFilter_.matches(T);if(b.hasChild(a)){const A=b.getImmediateChild(a);let O=f.getChildAfterChild(this.index_,E,this.reverse_);for(;O!=null&&(O.name===a||b.hasChild(O.name));)O=f.getChildAfterChild(this.index_,O,this.reverse_);const V=O==null?1:p(O,T);if(N&&!u.isEmpty()&&V>=0)return m?.trackChildChange(ol(a,u,A)),b.updateImmediateChild(a,u);{m?.trackChildChange(al(a,A));const et=b.updateImmediateChild(a,dt.EMPTY_NODE);return O!=null&&this.rangedFilter_.matches(O)?(m?.trackChildChange(Do(O.name,O.node)),et.updateImmediateChild(O.name,O.node)):et}}else return u.isEmpty()?i:N&&p(E,T)>=0?(m!=null&&(m.trackChildChange(al(E.name,E.node)),m.trackChildChange(Do(a,u))),b.updateImmediateChild(a,u).updateImmediateChild(E.name,dt.EMPTY_NODE)):i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ro}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:La}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const i=new pd;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function HS(r){return r.loadsAllData()?new md(r.getIndex()):r.hasLimit()?new US(r):new rl(r)}function dg(r){const i={};if(r.isDefault())return i;let a;if(r.index_===ce?a="$priority":r.index_===BS?a="$value":r.index_===Lo?a="$key":(Q(r.index_ instanceof PS,"Unrecognized index type!"),a=r.index_.toString()),i.orderBy=be(a),r.startSet_){const u=r.startAfterSet_?"startAfter":"startAt";i[u]=be(r.indexStartValue_),r.startNameSet_&&(i[u]+=","+be(r.indexStartName_))}if(r.endSet_){const u=r.endBeforeSet_?"endBefore":"endAt";i[u]=be(r.indexEndValue_),r.endNameSet_&&(i[u]+=","+be(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?i.limitToFirst=r.limit_:i.limitToLast=r.limit_),i}function _g(r){const i={};if(r.startSet_&&(i.sp=r.indexStartValue_,r.startNameSet_&&(i.sn=r.indexStartName_),i.sin=!r.startAfterSet_),r.endSet_&&(i.ep=r.indexEndValue_,r.endNameSet_&&(i.en=r.indexEndName_),i.ein=!r.endBeforeSet_),r.limitSet_){i.l=r.limit_;let a=r.viewFrom_;a===""&&(r.isViewFromLeft()?a="l":a="r"),i.vf=a}return r.index_!==ce&&(i.i=r.index_.toString()),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends pv{reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,a){return a!==void 0?"tag$"+a:(Q(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}constructor(i,a,u,f){super(),this.repoInfo_=i,this.onDataUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.log_=ml("p:rest:"),this.listens_={}}listen(i,a,u,f){const m=i._path.toString();this.log_("Listen called for "+m+" "+i._queryIdentifier);const p=lc.getListenId_(i,u),b={};this.listens_[p]=b;const T=dg(i._queryParams);this.restRequest_(m+".json",T,(E,N)=>{let A=N;if(E===404&&(A=null,E=null),E===null&&this.onDataUpdate_(m,A,!1,u),No(this.listens_,p)===b){let O;E?E===401?O="permission_denied":O="rest_error:"+E:O="ok",f(O,null)}})}unlisten(i,a){const u=lc.getListenId_(i,a);delete this.listens_[u]}get(i){const a=dg(i._queryParams),u=i._path.toString(),f=new od;return this.restRequest_(u+".json",a,(m,p)=>{let b=p;m===404&&(b=null,m=null),m===null?(this.onDataUpdate_(u,b,!1,null),f.resolve(b)):f.reject(new Error(b))}),f.promise}refreshAuthToken(i){}restRequest_(i,a={},u){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([f,m])=>{f&&f.accessToken&&(a.auth=f.accessToken),m&&m.token&&(a.ac=m.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+hb(a);this.log_("Sending REST request for "+p);const b=new XMLHttpRequest;b.onreadystatechange=()=>{if(u&&b.readyState===4){this.log_("REST Response for "+p+" received. status:",b.status,"response:",b.responseText);let T=null;if(b.status>=200&&b.status<300){try{T=el(b.responseText)}catch{Tn("Failed to parse JSON response for "+p+": "+b.responseText)}u(null,T)}else b.status!==401&&b.status!==404&&Tn("Got unsuccessful REST response for "+p+" Status: "+b.status),u(b.status);u=null}},b.open("GET",p,!0),b.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.rootNode_=dt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,a){this.rootNode_=this.rootNode_.updateChild(i,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){return{value:null,children:new Map}}function Ov(r,i,a){if(Mt(i))r.value=a,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(i,a);else{const u=Ot(i);r.children.has(u)||r.children.set(u,uc());const f=r.children.get(u);i=Jt(i),Ov(f,i,a)}}function Wf(r,i,a){r.value!==null?a(i,r.value):qS(r,(u,f)=>{const m=new Vt(i.toString()+"/"+u);Wf(f,m,a)})}function qS(r,i){r.children.forEach((a,u)=>{i(u,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),a={...i};return this.last_&&cn(this.last_,(u,f)=>{a[u]=a[u]-f}),this.last_=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=10*1e3,YS=30*1e3,VS=300*1e3;class jS{constructor(i,a){this.server_=a,this.statsToReport_={},this.statsListener_=new GS(i);const u=mg+(YS-mg)*Math.random();Wr(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),a={};let u=!1;cn(i,(f,m)=>{m>0&&ji(this.statsToReport_,f)&&(a[f]=m,u=!0)}),u&&this.server_.reportStats(a),Wr(this.reportStats_.bind(this),Math.floor(Math.random()*2*VS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fn||(Fn={}));function Lv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vd(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(i,a,u){this.path=i,this.affectedTree=a,this.revert=u,this.type=Fn.ACK_USER_WRITE,this.source=Lv()}operationForChild(i){if(Mt(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Vt(i));return new cc(Pt(),a,this.revert)}}else return Q(Ot(this.path)===i,"operationForChild called for unrelated child."),new cc(Jt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(i,a){this.source=i,this.path=a,this.type=Fn.LISTEN_COMPLETE}operationForChild(i){return Mt(this.path)?new ll(this.source,Pt()):new ll(this.source,Jt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(i,a,u){this.source=i,this.path=a,this.snap=u,this.type=Fn.OVERWRITE}operationForChild(i){return Mt(this.path)?new Na(this.source,Pt(),this.snap.getImmediateChild(i)):new Na(this.source,Jt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(i,a,u){this.source=i,this.path=a,this.children=u,this.type=Fn.MERGE}operationForChild(i){if(Mt(this.path)){const a=this.children.subtree(new Vt(i));return a.isEmpty()?null:a.value?new Na(this.source,Pt(),a.value):new ul(this.source,Pt(),a)}else return Q(Ot(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new ul(this.source,Jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(i,a,u){this.node_=i,this.fullyInitialized_=a,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Mt(i))return this.isFullyInitialized()&&!this.filtered_;const a=Ot(i);return this.isCompleteForChild(a)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function QS(r,i,a,u){const f=[],m=[];return i.forEach(p=>{p.type==="child_changed"&&r.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&m.push(kS(p.childName,p.snapshotNode))}),Xr(r,f,"child_removed",i,u,a),Xr(r,f,"child_added",i,u,a),Xr(r,f,"child_moved",m,u,a),Xr(r,f,"child_changed",i,u,a),Xr(r,f,"value",i,u,a),f}function Xr(r,i,a,u,f,m){const p=u.filter(b=>b.type===a);p.sort((b,T)=>KS(r,b,T)),p.forEach(b=>{const T=FS(r,b,m);f.forEach(E=>{E.respondsTo(b.type)&&i.push(E.createEvent(T,r.query_))})})}function FS(r,i,a){return i.type==="value"||i.type==="child_removed"||(i.prevName=a.getPredecessorChildName(i.childName,i.snapshotNode,r.index_)),i}function KS(r,i,a){if(i.childName==null||a.childName==null)throw Po("Should only compare child_ events.");const u=new wt(i.childName,i.snapshotNode),f=new wt(a.childName,a.snapshotNode);return r.index_.compare(u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r,i){return{eventCache:r,serverCache:i}}function Jr(r,i,a,u){return bc(new Xs(i,a,u),r.serverCache)}function Nv(r,i,a,u){return bc(r.eventCache,new Xs(i,a,u))}function hc(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Ra(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;const WS=()=>(Bf||(Bf=new un(I1)),Bf);class te{static fromObject(i){let a=new te(null);return cn(i,(u,f)=>{a=a.set(new Vt(u),f)}),a}constructor(i,a=WS()){this.value=i,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,a){if(this.value!=null&&a(this.value))return{path:Pt(),value:this.value};if(Mt(i))return null;{const u=Ot(i),f=this.children.get(u);if(f!==null){const m=f.findRootMostMatchingPathAndValue(Jt(i),a);return m!=null?{path:Se(new Vt(u),m.path),value:m.value}:null}else return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Mt(i))return this;{const a=Ot(i),u=this.children.get(a);return u!==null?u.subtree(Jt(i)):new te(null)}}set(i,a){if(Mt(i))return new te(a,this.children);{const u=Ot(i),m=(this.children.get(u)||new te(null)).set(Jt(i),a),p=this.children.insert(u,m);return new te(this.value,p)}}remove(i){if(Mt(i))return this.children.isEmpty()?new te(null):new te(null,this.children);{const a=Ot(i),u=this.children.get(a);if(u){const f=u.remove(Jt(i));let m;return f.isEmpty()?m=this.children.remove(a):m=this.children.insert(a,f),this.value===null&&m.isEmpty()?new te(null):new te(this.value,m)}else return this}}get(i){if(Mt(i))return this.value;{const a=Ot(i),u=this.children.get(a);return u?u.get(Jt(i)):null}}setTree(i,a){if(Mt(i))return a;{const u=Ot(i),m=(this.children.get(u)||new te(null)).setTree(Jt(i),a);let p;return m.isEmpty()?p=this.children.remove(u):p=this.children.insert(u,m),new te(this.value,p)}}fold(i){return this.fold_(Pt(),i)}fold_(i,a){const u={};return this.children.inorderTraversal((f,m)=>{u[f]=m.fold_(Se(i,f),a)}),a(i,this.value,u)}findOnPath(i,a){return this.findOnPath_(i,Pt(),a)}findOnPath_(i,a,u){const f=this.value?u(a,this.value):!1;if(f)return f;if(Mt(i))return null;{const m=Ot(i),p=this.children.get(m);return p?p.findOnPath_(Jt(i),Se(a,m),u):null}}foreachOnPath(i,a){return this.foreachOnPath_(i,Pt(),a)}foreachOnPath_(i,a,u){if(Mt(i))return this;{this.value&&u(a,this.value);const f=Ot(i),m=this.children.get(f);return m?m.foreachOnPath_(Jt(i),Se(a,f),u):new te(null)}}foreach(i){this.foreach_(Pt(),i)}foreach_(i,a){this.children.inorderTraversal((u,f)=>{f.foreach_(Se(i,u),a)}),this.value&&a(i,this.value)}foreachChild(i){this.children.inorderTraversal((a,u)=>{u.value&&i(a,u.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(i){this.writeTree_=i}static empty(){return new Kn(new te(null))}}function $r(r,i,a){if(Mt(i))return new Kn(new te(a));{const u=r.writeTree_.findRootMostValueAndPath(i);if(u!=null){const f=u.path;let m=u.value;const p=tn(f,i);return m=m.updateChild(p,a),new Kn(r.writeTree_.set(f,m))}else{const f=new te(a),m=r.writeTree_.setTree(i,f);return new Kn(m)}}}function pg(r,i,a){let u=r;return cn(a,(f,m)=>{u=$r(u,Se(i,f),m)}),u}function gg(r,i){if(Mt(i))return Kn.empty();{const a=r.writeTree_.setTree(i,new te(null));return new Kn(a)}}function Jf(r,i){return Da(r,i)!=null}function Da(r,i){const a=r.writeTree_.findRootMostValueAndPath(i);return a!=null?r.writeTree_.get(a.path).getChild(tn(a.path,i)):null}function vg(r){const i=[],a=r.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(ce,(u,f)=>{i.push(new wt(u,f))}):r.writeTree_.children.inorderTraversal((u,f)=>{f.value!=null&&i.push(new wt(u,f.value))}),i}function Ys(r,i){if(Mt(i))return r;{const a=Da(r,i);return a!=null?new Kn(new te(a)):new Kn(r.writeTree_.subtree(i))}}function $f(r){return r.writeTree_.isEmpty()}function zo(r,i){return Rv(Pt(),r.writeTree_,i)}function Rv(r,i,a){if(i.value!=null)return a.updateChild(r,i.value);{let u=null;return i.children.inorderTraversal((f,m)=>{f===".priority"?(Q(m.value!==null,"Priority writes must always be leaf nodes"),u=m.value):a=Rv(Se(r,f),m,a)}),!a.getChild(r).isEmpty()&&u!==null&&(a=a.updateChild(Se(r,".priority"),u)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r,i){return Iv(i,r)}function JS(r,i,a,u,f){Q(u>r.lastWriteId,"Stacking an older write on top of newer ones"),f===void 0&&(f=!0),r.allWrites.push({path:i,snap:a,writeId:u,visible:f}),f&&(r.visibleWrites=$r(r.visibleWrites,i,a)),r.lastWriteId=u}function $S(r,i){for(let a=0;a<r.allWrites.length;a++){const u=r.allWrites[a];if(u.writeId===i)return u}return null}function tE(r,i){const a=r.allWrites.findIndex(b=>b.writeId===i);Q(a>=0,"removeWrite called with nonexistent writeId.");const u=r.allWrites[a];r.allWrites.splice(a,1);let f=u.visible,m=!1,p=r.allWrites.length-1;for(;f&&p>=0;){const b=r.allWrites[p];b.visible&&(p>=a&&eE(b,u.path)?f=!1:Qn(u.path,b.path)&&(m=!0)),p--}if(f){if(m)return nE(r),!0;if(u.snap)r.visibleWrites=gg(r.visibleWrites,u.path);else{const b=u.children;cn(b,T=>{r.visibleWrites=gg(r.visibleWrites,Se(u.path,T))})}return!0}else return!1}function eE(r,i){if(r.snap)return Qn(r.path,i);for(const a in r.children)if(r.children.hasOwnProperty(a)&&Qn(Se(r.path,a),i))return!0;return!1}function nE(r){r.visibleWrites=Dv(r.allWrites,iE,Pt()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function iE(r){return r.visible}function Dv(r,i,a){let u=Kn.empty();for(let f=0;f<r.length;++f){const m=r[f];if(i(m)){const p=m.path;let b;if(m.snap)Qn(a,p)?(b=tn(a,p),u=$r(u,b,m.snap)):Qn(p,a)&&(b=tn(p,a),u=$r(u,Pt(),m.snap.getChild(b)));else if(m.children){if(Qn(a,p))b=tn(a,p),u=pg(u,b,m.children);else if(Qn(p,a))if(b=tn(p,a),Mt(b))u=pg(u,Pt(),m.children);else{const T=No(m.children,Ot(b));if(T){const E=T.getChild(Jt(b));u=$r(u,Pt(),E)}}}else throw Po("WriteRecord should have .snap or .children")}}return u}function zv(r,i,a,u,f){if(!u&&!f){const m=Da(r.visibleWrites,i);if(m!=null)return m;{const p=Ys(r.visibleWrites,i);if($f(p))return a;if(a==null&&!Jf(p,Pt()))return null;{const b=a||dt.EMPTY_NODE;return zo(p,b)}}}else{const m=Ys(r.visibleWrites,i);if(!f&&$f(m))return a;if(!f&&a==null&&!Jf(m,Pt()))return null;{const p=function(E){return(E.visible||f)&&(!u||!~u.indexOf(E.writeId))&&(Qn(E.path,i)||Qn(i,E.path))},b=Dv(r.allWrites,p,i),T=a||dt.EMPTY_NODE;return zo(b,T)}}}function sE(r,i,a){let u=dt.EMPTY_NODE;const f=Da(r.visibleWrites,i);if(f)return f.isLeafNode()||f.forEachChild(ce,(m,p)=>{u=u.updateImmediateChild(m,p)}),u;if(a){const m=Ys(r.visibleWrites,i);return a.forEachChild(ce,(p,b)=>{const T=zo(Ys(m,new Vt(p)),b);u=u.updateImmediateChild(p,T)}),vg(m).forEach(p=>{u=u.updateImmediateChild(p.name,p.node)}),u}else{const m=Ys(r.visibleWrites,i);return vg(m).forEach(p=>{u=u.updateImmediateChild(p.name,p.node)}),u}}function aE(r,i,a,u,f){Q(u||f,"Either existingEventSnap or existingServerSnap must exist");const m=Se(i,a);if(Jf(r.visibleWrites,m))return null;{const p=Ys(r.visibleWrites,m);return $f(p)?f.getChild(a):zo(p,f.getChild(a))}}function oE(r,i,a,u){const f=Se(i,a),m=Da(r.visibleWrites,f);if(m!=null)return m;if(u.isCompleteForChild(a)){const p=Ys(r.visibleWrites,f);return zo(p,u.getNode().getImmediateChild(a))}else return null}function rE(r,i){return Da(r.visibleWrites,i)}function lE(r,i,a,u,f,m,p){let b;const T=Ys(r.visibleWrites,i),E=Da(T,Pt());if(E!=null)b=E;else if(a!=null)b=zo(T,a);else return[];if(b=b.withIndex(p),!b.isEmpty()&&!b.isLeafNode()){const N=[],A=p.getCompare(),O=m?b.getReverseIteratorFrom(u,p):b.getIteratorFrom(u,p);let V=O.getNext();for(;V&&N.length<f;)A(V,u)!==0&&N.push(V),V=O.getNext();return N}else return[]}function uE(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}function fc(r,i,a,u){return zv(r.writeTree,r.treePath,i,a,u)}function yd(r,i){return sE(r.writeTree,r.treePath,i)}function yg(r,i,a,u){return aE(r.writeTree,r.treePath,i,a,u)}function dc(r,i){return rE(r.writeTree,Se(r.treePath,i))}function cE(r,i,a,u,f,m){return lE(r.writeTree,r.treePath,i,a,u,f,m)}function bd(r,i,a){return oE(r.writeTree,r.treePath,i,a)}function Pv(r,i){return Iv(Se(r.treePath,i),r.writeTree)}function Iv(r,i){return{treePath:r,writeTree:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.changeMap=new Map}trackChildChange(i){const a=i.type,u=i.childName;Q(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),Q(u!==".priority","Only non-priority child changes can be tracked.");const f=this.changeMap.get(u);if(f){const m=f.type;if(a==="child_added"&&m==="child_removed")this.changeMap.set(u,ol(u,i.snapshotNode,f.snapshotNode));else if(a==="child_removed"&&m==="child_added")this.changeMap.delete(u);else if(a==="child_removed"&&m==="child_changed")this.changeMap.set(u,al(u,f.oldSnap));else if(a==="child_changed"&&m==="child_added")this.changeMap.set(u,Do(u,i.snapshotNode));else if(a==="child_changed"&&m==="child_changed")this.changeMap.set(u,ol(u,i.snapshotNode,f.oldSnap));else throw Po("Illegal combination of changes: "+i+" occurred after "+f)}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{getCompleteChild(i){return null}getChildAfterChild(i,a,u){return null}}const Bv=new fE;class Sd{constructor(i,a,u=null){this.writes_=i,this.viewCache_=a,this.optCompleteServerCache_=u}getCompleteChild(i){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(i))return a.getNode().getImmediateChild(i);{const u=this.optCompleteServerCache_!=null?new Xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bd(this.writes_,i,u)}}getChildAfterChild(i,a,u){const f=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ra(this.viewCache_),m=cE(this.writes_,f,a,1,u,i);return m.length===0?null:m[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r){return{filter:r}}function _E(r,i){Q(i.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Q(i.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function mE(r,i,a,u,f){const m=new hE;let p,b;if(a.type===Fn.OVERWRITE){const E=a;E.source.fromUser?p=td(r,i,E.path,E.snap,u,f,m):(Q(E.source.fromServer,"Unknown source."),b=E.source.tagged||i.serverCache.isFiltered()&&!Mt(E.path),p=_c(r,i,E.path,E.snap,u,f,b,m))}else if(a.type===Fn.MERGE){const E=a;E.source.fromUser?p=gE(r,i,E.path,E.children,u,f,m):(Q(E.source.fromServer,"Unknown source."),b=E.source.tagged||i.serverCache.isFiltered(),p=ed(r,i,E.path,E.children,u,f,b,m))}else if(a.type===Fn.ACK_USER_WRITE){const E=a;E.revert?p=bE(r,i,E.path,u,f,m):p=vE(r,i,E.path,E.affectedTree,u,f,m)}else if(a.type===Fn.LISTEN_COMPLETE)p=yE(r,i,a.path,u,m);else throw Po("Unknown operation type: "+a.type);const T=m.getChanges();return pE(i,p,T),{viewCache:p,changes:T}}function pE(r,i,a){const u=i.eventCache;if(u.isFullyInitialized()){const f=u.getNode().isLeafNode()||u.getNode().isEmpty(),m=hc(r);(a.length>0||!r.eventCache.isFullyInitialized()||f&&!u.getNode().equals(m)||!u.getNode().getPriority().equals(m.getPriority()))&&a.push(Mv(hc(i)))}}function kv(r,i,a,u,f,m){const p=i.eventCache;if(dc(u,a)!=null)return i;{let b,T;if(Mt(a))if(Q(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const E=Ra(i),N=E instanceof dt?E:dt.EMPTY_NODE,A=yd(u,N);b=r.filter.updateFullNode(i.eventCache.getNode(),A,m)}else{const E=fc(u,Ra(i));b=r.filter.updateFullNode(i.eventCache.getNode(),E,m)}else{const E=Ot(a);if(E===".priority"){Q(js(a)===1,"Can't have a priority with additional path components");const N=p.getNode();T=i.serverCache.getNode();const A=yg(u,a,N,T);A!=null?b=r.filter.updatePriority(N,A):b=p.getNode()}else{const N=Jt(a);let A;if(p.isCompleteForChild(E)){T=i.serverCache.getNode();const O=yg(u,a,p.getNode(),T);O!=null?A=p.getNode().getImmediateChild(E).updateChild(N,O):A=p.getNode().getImmediateChild(E)}else A=bd(u,E,i.serverCache);A!=null?b=r.filter.updateChild(p.getNode(),E,A,N,f,m):b=p.getNode()}}return Jr(i,b,p.isFullyInitialized()||Mt(a),r.filter.filtersNodes())}}function _c(r,i,a,u,f,m,p,b){const T=i.serverCache;let E;const N=p?r.filter:r.filter.getIndexedFilter();if(Mt(a))E=N.updateFullNode(T.getNode(),u,null);else if(N.filtersNodes()&&!T.isFiltered()){const V=T.getNode().updateChild(a,u);E=N.updateFullNode(T.getNode(),V,null)}else{const V=Ot(a);if(!T.isCompleteForPath(a)&&js(a)>1)return i;const K=Jt(a),yt=T.getNode().getImmediateChild(V).updateChild(K,u);V===".priority"?E=N.updatePriority(T.getNode(),yt):E=N.updateChild(T.getNode(),V,yt,K,Bv,null)}const A=Nv(i,E,T.isFullyInitialized()||Mt(a),N.filtersNodes()),O=new Sd(f,A,m);return kv(r,A,a,f,O,b)}function td(r,i,a,u,f,m,p){const b=i.eventCache;let T,E;const N=new Sd(f,i,m);if(Mt(a))E=r.filter.updateFullNode(i.eventCache.getNode(),u,p),T=Jr(i,E,!0,r.filter.filtersNodes());else{const A=Ot(a);if(A===".priority")E=r.filter.updatePriority(i.eventCache.getNode(),u),T=Jr(i,E,b.isFullyInitialized(),b.isFiltered());else{const O=Jt(a),V=b.getNode().getImmediateChild(A);let K;if(Mt(O))K=u;else{const et=N.getCompleteChild(A);et!=null?vv(O)===".priority"&&et.getChild(bv(O)).isEmpty()?K=et:K=et.updateChild(O,u):K=dt.EMPTY_NODE}if(V.equals(K))T=i;else{const et=r.filter.updateChild(b.getNode(),A,K,O,N,p);T=Jr(i,et,b.isFullyInitialized(),r.filter.filtersNodes())}}}return T}function bg(r,i){return r.eventCache.isCompleteForChild(i)}function gE(r,i,a,u,f,m,p){let b=i;return u.foreach((T,E)=>{const N=Se(a,T);bg(i,Ot(N))&&(b=td(r,b,N,E,f,m,p))}),u.foreach((T,E)=>{const N=Se(a,T);bg(i,Ot(N))||(b=td(r,b,N,E,f,m,p))}),b}function Sg(r,i,a){return a.foreach((u,f)=>{i=i.updateChild(u,f)}),i}function ed(r,i,a,u,f,m,p,b){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let T=i,E;Mt(a)?E=u:E=new te(null).setTree(a,u);const N=i.serverCache.getNode();return E.children.inorderTraversal((A,O)=>{if(N.hasChild(A)){const V=i.serverCache.getNode().getImmediateChild(A),K=Sg(r,V,O);T=_c(r,T,new Vt(A),K,f,m,p,b)}}),E.children.inorderTraversal((A,O)=>{const V=!i.serverCache.isCompleteForChild(A)&&O.value===null;if(!N.hasChild(A)&&!V){const K=i.serverCache.getNode().getImmediateChild(A),et=Sg(r,K,O);T=_c(r,T,new Vt(A),et,f,m,p,b)}}),T}function vE(r,i,a,u,f,m,p){if(dc(f,a)!=null)return i;const b=i.serverCache.isFiltered(),T=i.serverCache;if(u.value!=null){if(Mt(a)&&T.isFullyInitialized()||T.isCompleteForPath(a))return _c(r,i,a,T.getNode().getChild(a),f,m,b,p);if(Mt(a)){let E=new te(null);return T.getNode().forEachChild(Lo,(N,A)=>{E=E.set(new Vt(N),A)}),ed(r,i,a,E,f,m,b,p)}else return i}else{let E=new te(null);return u.foreach((N,A)=>{const O=Se(a,N);T.isCompleteForPath(O)&&(E=E.set(N,T.getNode().getChild(O)))}),ed(r,i,a,E,f,m,b,p)}}function yE(r,i,a,u,f){const m=i.serverCache,p=Nv(i,m.getNode(),m.isFullyInitialized()||Mt(a),m.isFiltered());return kv(r,p,a,u,Bv,f)}function bE(r,i,a,u,f,m){let p;if(dc(u,a)!=null)return i;{const b=new Sd(u,i,f),T=i.eventCache.getNode();let E;if(Mt(a)||Ot(a)===".priority"){let N;if(i.serverCache.isFullyInitialized())N=fc(u,Ra(i));else{const A=i.serverCache.getNode();Q(A instanceof dt,"serverChildren would be complete if leaf node"),N=yd(u,A)}N=N,E=r.filter.updateFullNode(T,N,m)}else{const N=Ot(a);let A=bd(u,N,i.serverCache);A==null&&i.serverCache.isCompleteForChild(N)&&(A=T.getImmediateChild(N)),A!=null?E=r.filter.updateChild(T,N,A,Jt(a),b,m):i.eventCache.getNode().hasChild(N)?E=r.filter.updateChild(T,N,dt.EMPTY_NODE,Jt(a),b,m):E=T,E.isEmpty()&&i.serverCache.isFullyInitialized()&&(p=fc(u,Ra(i)),p.isLeafNode()&&(E=r.filter.updateFullNode(E,p,m)))}return p=i.serverCache.isFullyInitialized()||dc(u,Pt())!=null,Jr(i,E,p,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(i,a){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,f=new md(u.getIndex()),m=HS(u);this.processor_=dE(m);const p=a.serverCache,b=a.eventCache,T=f.updateFullNode(dt.EMPTY_NODE,p.getNode(),null),E=m.updateFullNode(dt.EMPTY_NODE,b.getNode(),null),N=new Xs(T,p.isFullyInitialized(),f.filtersNodes()),A=new Xs(E,b.isFullyInitialized(),m.filtersNodes());this.viewCache_=bc(A,N),this.eventGenerator_=new XS(this.query_)}get query(){return this.query_}}function EE(r){return r.viewCache_.serverCache.getNode()}function TE(r){return hc(r.viewCache_)}function CE(r,i){const a=Ra(r.viewCache_);return a&&(r.query._queryParams.loadsAllData()||!Mt(i)&&!a.getImmediateChild(Ot(i)).isEmpty())?a.getChild(i):null}function Eg(r){return r.eventRegistrations_.length===0}function wE(r,i){r.eventRegistrations_.push(i)}function Tg(r,i,a){const u=[];if(a){Q(i==null,"A cancel should cancel all event registrations.");const f=r.query._path;r.eventRegistrations_.forEach(m=>{const p=m.createCancelEvent(a,f);p&&u.push(p)})}if(i){let f=[];for(let m=0;m<r.eventRegistrations_.length;++m){const p=r.eventRegistrations_[m];if(!p.matches(i))f.push(p);else if(i.hasAnyCallback()){f=f.concat(r.eventRegistrations_.slice(m+1));break}}r.eventRegistrations_=f}else r.eventRegistrations_=[];return u}function Cg(r,i,a,u){i.type===Fn.MERGE&&i.source.queryId!==null&&(Q(Ra(r.viewCache_),"We should always have a full cache before handling merges"),Q(hc(r.viewCache_),"Missing event cache, even though we have a server cache"));const f=r.viewCache_,m=mE(r.processor_,f,i,a,u);return _E(r.processor_,m.viewCache),Q(m.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=m.viewCache,Uv(r,m.changes,m.viewCache.eventCache.getNode(),null)}function xE(r,i){const a=r.viewCache_.eventCache,u=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ce,(m,p)=>{u.push(Do(m,p))}),a.isFullyInitialized()&&u.push(Mv(a.getNode())),Uv(r,u,a.getNode(),i)}function Uv(r,i,a,u){const f=u?[u]:r.eventRegistrations_;return QS(r.eventGenerator_,i,a,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;class Hv{constructor(){this.views=new Map}}function AE(r){Q(!mc,"__referenceConstructor has already been defined"),mc=r}function ME(){return Q(mc,"Reference.ts has not been loaded"),mc}function OE(r){return r.views.size===0}function Ed(r,i,a,u){const f=i.source.queryId;if(f!==null){const m=r.views.get(f);return Q(m!=null,"SyncTree gave us an op for an invalid query."),Cg(m,i,a,u)}else{let m=[];for(const p of r.views.values())m=m.concat(Cg(p,i,a,u));return m}}function Zv(r,i,a,u,f){const m=i._queryIdentifier,p=r.views.get(m);if(!p){let b=fc(a,f?u:null),T=!1;b?T=!0:u instanceof dt?(b=yd(a,u),T=!1):(b=dt.EMPTY_NODE,T=!1);const E=bc(new Xs(b,T,!1),new Xs(u,f,!1));return new SE(i,E)}return p}function LE(r,i,a,u,f,m){const p=Zv(r,i,u,f,m);return r.views.has(i._queryIdentifier)||r.views.set(i._queryIdentifier,p),wE(p,a),xE(p,a)}function NE(r,i,a,u){const f=i._queryIdentifier,m=[];let p=[];const b=Qs(r);if(f==="default")for(const[T,E]of r.views.entries())p=p.concat(Tg(E,a,u)),Eg(E)&&(r.views.delete(T),E.query._queryParams.loadsAllData()||m.push(E.query));else{const T=r.views.get(f);T&&(p=p.concat(Tg(T,a,u)),Eg(T)&&(r.views.delete(f),T.query._queryParams.loadsAllData()||m.push(T.query)))}return b&&!Qs(r)&&m.push(new(ME())(i._repo,i._path)),{removed:m,events:p}}function qv(r){const i=[];for(const a of r.views.values())a.query._queryParams.loadsAllData()||i.push(a);return i}function Vs(r,i){let a=null;for(const u of r.views.values())a=a||CE(u,i);return a}function Gv(r,i){if(i._queryParams.loadsAllData())return Ec(r);{const u=i._queryIdentifier;return r.views.get(u)}}function Yv(r,i){return Gv(r,i)!=null}function Qs(r){return Ec(r)!=null}function Ec(r){for(const i of r.views.values())if(i.query._queryParams.loadsAllData())return i;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;function RE(r){Q(!pc,"__referenceConstructor has already been defined"),pc=r}function DE(){return Q(pc,"Reference.ts has not been loaded"),pc}let zE=1;class wg{constructor(i){this.listenProvider_=i,this.syncPointTree_=new te(null),this.pendingWriteTree_=uE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function PE(r,i,a,u,f){return JS(r.pendingWriteTree_,i,a,u,f),f?yl(r,new Na(Lv(),i,a)):[]}function Ao(r,i,a=!1){const u=$S(r.pendingWriteTree_,i);if(tE(r.pendingWriteTree_,i)){let m=new te(null);return u.snap!=null?m=m.set(Pt(),!0):cn(u.children,p=>{m=m.set(new Vt(p),!0)}),yl(r,new cc(u.path,m,a))}else return[]}function vl(r,i,a){return yl(r,new Na(gd(),i,a))}function IE(r,i,a){const u=te.fromObject(a);return yl(r,new ul(gd(),i,u))}function BE(r,i){return yl(r,new ll(gd(),i))}function kE(r,i,a){const u=Td(r,a);if(u){const f=Cd(u),m=f.path,p=f.queryId,b=tn(m,i),T=new ll(vd(p),b);return wd(r,m,T)}else return[]}function Vv(r,i,a,u,f=!1){const m=i._path,p=r.syncPointTree_.get(m);let b=[];if(p&&(i._queryIdentifier==="default"||Yv(p,i))){const T=NE(p,i,a,u);OE(p)&&(r.syncPointTree_=r.syncPointTree_.remove(m));const E=T.removed;if(b=T.events,!f){const N=E.findIndex(O=>O._queryParams.loadsAllData())!==-1,A=r.syncPointTree_.findOnPath(m,(O,V)=>Qs(V));if(N&&!A){const O=r.syncPointTree_.subtree(m);if(!O.isEmpty()){const V=qE(O);for(let K=0;K<V.length;++K){const et=V[K],yt=et.query,$t=Kv(r,et);r.listenProvider_.startListening(tl(yt),cl(r,yt),$t.hashFn,$t.onComplete)}}}!A&&E.length>0&&!u&&(N?r.listenProvider_.stopListening(tl(i),null):E.forEach(O=>{const V=r.queryToTagMap.get(Tc(O));r.listenProvider_.stopListening(tl(O),V)}))}GE(r,E)}return b}function jv(r,i,a,u){const f=Td(r,u);if(f!=null){const m=Cd(f),p=m.path,b=m.queryId,T=tn(p,i),E=new Na(vd(b),T,a);return wd(r,p,E)}else return[]}function UE(r,i,a,u){const f=Td(r,u);if(f){const m=Cd(f),p=m.path,b=m.queryId,T=tn(p,i),E=te.fromObject(a),N=new ul(vd(b),T,E);return wd(r,p,N)}else return[]}function HE(r,i,a,u=!1){const f=i._path;let m=null,p=!1;r.syncPointTree_.foreachOnPath(f,(O,V)=>{const K=tn(O,f);m=m||Vs(V,K),p=p||Qs(V)});let b=r.syncPointTree_.get(f);b?(p=p||Qs(b),m=m||Vs(b,Pt())):(b=new Hv,r.syncPointTree_=r.syncPointTree_.set(f,b));let T;m!=null?T=!0:(T=!1,m=dt.EMPTY_NODE,r.syncPointTree_.subtree(f).foreachChild((V,K)=>{const et=Vs(K,Pt());et&&(m=m.updateImmediateChild(V,et))}));const E=Yv(b,i);if(!E&&!i._queryParams.loadsAllData()){const O=Tc(i);Q(!r.queryToTagMap.has(O),"View does not exist, but we have a tag");const V=YE();r.queryToTagMap.set(O,V),r.tagToQueryMap.set(V,O)}const N=Sc(r.pendingWriteTree_,f);let A=LE(b,i,a,N,m,T);if(!E&&!p&&!u){const O=Gv(b,i);A=A.concat(VE(r,i,O))}return A}function Xv(r,i,a){const f=r.pendingWriteTree_,m=r.syncPointTree_.findOnPath(i,(p,b)=>{const T=tn(p,i),E=Vs(b,T);if(E)return E});return zv(f,i,m,a,!0)}function ZE(r,i){const a=i._path;let u=null;r.syncPointTree_.foreachOnPath(a,(E,N)=>{const A=tn(E,a);u=u||Vs(N,A)});let f=r.syncPointTree_.get(a);f?u=u||Vs(f,Pt()):(f=new Hv,r.syncPointTree_=r.syncPointTree_.set(a,f));const m=u!=null,p=m?new Xs(u,!0,!1):null,b=Sc(r.pendingWriteTree_,i._path),T=Zv(f,i,b,m?p.getNode():dt.EMPTY_NODE,m);return TE(T)}function yl(r,i){return Qv(i,r.syncPointTree_,null,Sc(r.pendingWriteTree_,Pt()))}function Qv(r,i,a,u){if(Mt(r.path))return Fv(r,i,a,u);{const f=i.get(Pt());a==null&&f!=null&&(a=Vs(f,Pt()));let m=[];const p=Ot(r.path),b=r.operationForChild(p),T=i.children.get(p);if(T&&b){const E=a?a.getImmediateChild(p):null,N=Pv(u,p);m=m.concat(Qv(b,T,E,N))}return f&&(m=m.concat(Ed(f,r,u,a))),m}}function Fv(r,i,a,u){const f=i.get(Pt());a==null&&f!=null&&(a=Vs(f,Pt()));let m=[];return i.children.inorderTraversal((p,b)=>{const T=a?a.getImmediateChild(p):null,E=Pv(u,p),N=r.operationForChild(p);N&&(m=m.concat(Fv(N,b,T,E)))}),f&&(m=m.concat(Ed(f,r,u,a))),m}function Kv(r,i){const a=i.query,u=cl(r,a);return{hashFn:()=>(EE(i)||dt.EMPTY_NODE).hash(),onComplete:f=>{if(f==="ok")return u?kE(r,a._path,u):BE(r,a._path);{const m=U1(f,a);return Vv(r,a,null,m)}}}}function cl(r,i){const a=Tc(i);return r.queryToTagMap.get(a)}function Tc(r){return r._path.toString()+"$"+r._queryIdentifier}function Td(r,i){return r.tagToQueryMap.get(i)}function Cd(r){const i=r.indexOf("$");return Q(i!==-1&&i<r.length-1,"Bad queryKey."),{queryId:r.substr(i+1),path:new Vt(r.substr(0,i))}}function wd(r,i,a){const u=r.syncPointTree_.get(i);Q(u,"Missing sync point for query tag that we're tracking");const f=Sc(r.pendingWriteTree_,i);return Ed(u,a,f,null)}function qE(r){return r.fold((i,a,u)=>{if(a&&Qs(a))return[Ec(a)];{let f=[];return a&&(f=qv(a)),cn(u,(m,p)=>{f=f.concat(p)}),f}})}function tl(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(DE())(r._repo,r._path):r}function GE(r,i){for(let a=0;a<i.length;++a){const u=i[a];if(!u._queryParams.loadsAllData()){const f=Tc(u),m=r.queryToTagMap.get(f);r.queryToTagMap.delete(f),r.tagToQueryMap.delete(m)}}}function YE(){return zE++}function VE(r,i,a){const u=i._path,f=cl(r,i),m=Kv(r,a),p=r.listenProvider_.startListening(tl(i),f,m.hashFn,m.onComplete),b=r.syncPointTree_.subtree(u);if(f)Q(!Qs(b.value),"If we're adding a query, it shouldn't be shadowed");else{const T=b.fold((E,N,A)=>{if(!Mt(E)&&N&&Qs(N))return[Ec(N).query];{let O=[];return N&&(O=O.concat(qv(N).map(V=>V.query))),cn(A,(V,K)=>{O=O.concat(K)}),O}});for(let E=0;E<T.length;++E){const N=T[E];r.listenProvider_.stopListening(tl(N),cl(r,N))}}return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(i){this.node_=i}getImmediateChild(i){const a=this.node_.getImmediateChild(i);return new xd(a)}node(){return this.node_}}class Ad{constructor(i,a){this.syncTree_=i,this.path_=a}getImmediateChild(i){const a=Se(this.path_,i);return new Ad(this.syncTree_,a)}node(){return Xv(this.syncTree_,this.path_)}}const jE=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},xg=function(r,i,a){if(!r||typeof r!="object")return r;if(Q(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return XE(r[".sv"],i,a);if(typeof r[".sv"]=="object")return QE(r[".sv"],i);Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},XE=function(r,i,a){switch(r){case"timestamp":return a.timestamp;default:Q(!1,"Unexpected server value: "+r)}},QE=function(r,i,a){r.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const u=r.increment;typeof u!="number"&&Q(!1,"Unexpected increment value: "+u);const f=i.node();if(Q(f!==null&&typeof f<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;const p=f.getValue();return typeof p!="number"?u:p+u},FE=function(r,i,a,u){return Md(i,new Ad(a,r),u)},KE=function(r,i,a){return Md(r,new xd(i),a)};function Md(r,i,a){const u=r.getPriority().val(),f=xg(u,i.getImmediateChild(".priority"),a);let m;if(r.isLeafNode()){const p=r,b=xg(p.getValue(),i,a);return b!==p.getValue()||f!==p.getPriority().val()?new Oe(b,ke(f)):r}else{const p=r;return m=p,f!==p.getPriority().val()&&(m=m.updatePriority(new Oe(f))),p.forEachChild(ce,(b,T)=>{const E=Md(T,i.getImmediateChild(b),a);E!==T&&(m=m.updateImmediateChild(b,E))}),m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(i="",a=null,u={children:{},childCount:0}){this.name=i,this.parent=a,this.node=u}}function Ld(r,i){let a=i instanceof Vt?i:new Vt(i),u=r,f=Ot(a);for(;f!==null;){const m=No(u.node.children,f)||{children:{},childCount:0};u=new Od(f,u,m),a=Jt(a),f=Ot(a)}return u}function Bo(r){return r.node.value}function Wv(r,i){r.node.value=i,nd(r)}function Jv(r){return r.node.childCount>0}function WE(r){return Bo(r)===void 0&&!Jv(r)}function Cc(r,i){cn(r.node.children,(a,u)=>{i(new Od(a,r,u))})}function $v(r,i,a,u){a&&i(r),Cc(r,f=>{$v(f,i,!0)})}function JE(r,i,a){let u=r.parent;for(;u!==null;){if(i(u))return!0;u=u.parent}return!1}function bl(r){return new Vt(r.parent===null?r.name:bl(r.parent)+"/"+r.name)}function nd(r){r.parent!==null&&$E(r.parent,r.name,r)}function $E(r,i,a){const u=WE(a),f=ji(r.node.children,i);u&&f?(delete r.node.children[i],r.node.childCount--,nd(r)):!u&&!f&&(r.node.children[i]=a.node,r.node.childCount++,nd(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=/[\[\].#$\/\u0000-\u001F\u007F]/,eT=/[\[\].#$\u0000-\u001F\u007F]/,kf=10*1024*1024,ty=function(r){return typeof r=="string"&&r.length!==0&&!tT.test(r)},ey=function(r){return typeof r=="string"&&r.length!==0&&!eT.test(r)},nT=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ey(r)},ny=function(r,i,a){const u=a instanceof Vt?new vS(a,r):a;if(i===void 0)throw new Error(r+"contains undefined "+Ma(u));if(typeof i=="function")throw new Error(r+"contains a function "+Ma(u)+" with contents = "+i.toString());if(Wg(i))throw new Error(r+"contains "+i.toString()+" "+Ma(u));if(typeof i=="string"&&i.length>kf/3&&vc(i)>kf)throw new Error(r+"contains a string greater than "+kf+" utf8 bytes "+Ma(u)+" ('"+i.substring(0,50)+"...')");if(i&&typeof i=="object"){let f=!1,m=!1;if(cn(i,(p,b)=>{if(p===".value")f=!0;else if(p!==".priority"&&p!==".sv"&&(m=!0,!ty(p)))throw new Error(r+" contains an invalid key ("+p+") "+Ma(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yS(u,p),ny(r,b,u),bS(u)}),f&&m)throw new Error(r+' contains ".value" child '+Ma(u)+" in addition to actual children.")}},iy=function(r,i,a,u){if(!ey(a))throw new Error(Zg(r,i)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iT=function(r,i,a,u){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),iy(r,i,a)},sT=function(r,i){const a=i.path.toString();if(typeof i.repoInfo.host!="string"||i.repoInfo.host.length===0||!ty(i.repoInfo.namespace)&&i.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!nT(a))throw new Error(Zg(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oT(r,i){let a=null;for(let u=0;u<i.length;u++){const f=i[u],m=f.getPath();a!==null&&!Sv(m,a.path)&&(r.eventLists_.push(a),a=null),a===null&&(a={events:[],path:m}),a.events.push(f)}a&&r.eventLists_.push(a)}function Fs(r,i,a){oT(r,a),rT(r,u=>Qn(u,i)||Qn(i,u))}function rT(r,i){r.recursionDepth_++;let a=!0;for(let u=0;u<r.eventLists_.length;u++){const f=r.eventLists_[u];if(f){const m=f.path;i(m)?(lT(r.eventLists_[u]),r.eventLists_[u]=null):a=!1}}a&&(r.eventLists_=[]),r.recursionDepth_--}function lT(r){for(let i=0;i<r.events.length;i++){const a=r.events[i];if(a!==null){r.events[i]=null;const u=a.getEventRunner();Kr&&je("event: "+a.toString()),pl(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="repo_interrupt",cT=25;class hT{constructor(i,a,u,f){this.repoInfo_=i,this.forceRestClient_=a,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uc(),this.transactionQueueTree_=new Od,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fT(r,i,a){if(r.stats_=hd(r.repoInfo_),r.forceRestClient_||G1())r.server_=new lc(r.repoInfo_,(u,f,m,p)=>{Ag(r,u,f,m,p)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Mg(r,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}r.persistentConnection_=new Gi(r.repoInfo_,i,(u,f,m,p)=>{Ag(r,u,f,m,p)},u=>{Mg(r,u)},u=>{_T(r,u)},r.authTokenProvider_,r.appCheckProvider_,a),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(u=>{r.server_.refreshAuthToken(u)}),r.appCheckProvider_.addTokenChangeListener(u=>{r.server_.refreshAppCheckToken(u.token)}),r.statsReporter_=Q1(r.repoInfo_,()=>new jS(r.stats_,r.server_)),r.infoData_=new ZS,r.infoSyncTree_=new wg({startListening:(u,f,m,p)=>{let b=[];const T=r.infoData_.getNode(u._path);return T.isEmpty()||(b=vl(r.infoSyncTree_,u._path,T),setTimeout(()=>{p("ok")},0)),b},stopListening:()=>{}}),Nd(r,"connected",!1),r.serverSyncTree_=new wg({startListening:(u,f,m,p)=>(r.server_.listen(u,m,f,(b,T)=>{const E=p(b,T);Fs(r.eventQueue_,u._path,E)}),[]),stopListening:(u,f)=>{r.server_.unlisten(u,f)}})}function dT(r){const a=r.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function sy(r){return jE({timestamp:dT(r)})}function Ag(r,i,a,u,f){r.dataUpdateCount++;const m=new Vt(i);a=r.interceptServerDataCallback_?r.interceptServerDataCallback_(i,a):a;let p=[];if(f)if(u){const T=ec(a,E=>ke(E));p=UE(r.serverSyncTree_,m,T,f)}else{const T=ke(a);p=jv(r.serverSyncTree_,m,T,f)}else if(u){const T=ec(a,E=>ke(E));p=IE(r.serverSyncTree_,m,T)}else{const T=ke(a);p=vl(r.serverSyncTree_,m,T)}let b=m;p.length>0&&(b=zd(r,m)),Fs(r.eventQueue_,b,p)}function Mg(r,i){Nd(r,"connected",i),i===!1&&gT(r)}function _T(r,i){cn(i,(a,u)=>{Nd(r,a,u)})}function Nd(r,i,a){const u=new Vt("/.info/"+i),f=ke(a);r.infoData_.updateSnapshot(u,f);const m=vl(r.infoSyncTree_,u,f);Fs(r.eventQueue_,u,m)}function mT(r){return r.nextWriteId_++}function pT(r,i,a){const u=ZE(r.serverSyncTree_,i);return u!=null?Promise.resolve(u):r.server_.get(i).then(f=>{const m=ke(f).withIndex(i._queryParams.getIndex());HE(r.serverSyncTree_,i,a,!0);let p;if(i._queryParams.loadsAllData())p=vl(r.serverSyncTree_,i._path,m);else{const b=cl(r.serverSyncTree_,i);p=jv(r.serverSyncTree_,i._path,m,b)}return Fs(r.eventQueue_,i._path,p),Vv(r.serverSyncTree_,i,a,null,!0),m},f=>(Rd(r,"get for query "+be(i)+" failed: "+f),Promise.reject(new Error(f))))}function gT(r){Rd(r,"onDisconnectEvents");const i=sy(r),a=uc();Wf(r.onDisconnect_,Pt(),(f,m)=>{const p=FE(f,m,r.serverSyncTree_,i);Ov(a,f,p)});let u=[];Wf(a,Pt(),(f,m)=>{u=u.concat(vl(r.serverSyncTree_,f,m));const p=ST(r,f);zd(r,p)}),r.onDisconnect_=uc(),Fs(r.eventQueue_,Pt(),u)}function vT(r){r.persistentConnection_&&r.persistentConnection_.interrupt(uT)}function Rd(r,...i){let a="";r.persistentConnection_&&(a=r.persistentConnection_.id+":"),je(a,...i)}function ay(r,i,a){return Xv(r.serverSyncTree_,i,a)||dt.EMPTY_NODE}function Dd(r,i=r.transactionQueueTree_){if(i||wc(r,i),Bo(i)){const a=ry(r,i);Q(a.length>0,"Sending zero length transaction queue"),a.every(f=>f.status===0)&&yT(r,bl(i),a)}else Jv(i)&&Cc(i,a=>{Dd(r,a)})}function yT(r,i,a){const u=a.map(E=>E.currentWriteId),f=ay(r,i,u);let m=f;const p=f.hash();for(let E=0;E<a.length;E++){const N=a[E];Q(N.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const A=tn(i,N.path);m=m.updateChild(A,N.currentOutputSnapshotRaw)}const b=m.val(!0),T=i;r.server_.put(T.toString(),b,E=>{Rd(r,"transaction put response",{path:T.toString(),status:E});let N=[];if(E==="ok"){const A=[];for(let O=0;O<a.length;O++)a[O].status=2,N=N.concat(Ao(r.serverSyncTree_,a[O].currentWriteId)),a[O].onComplete&&A.push(()=>a[O].onComplete(null,!0,a[O].currentOutputSnapshotResolved)),a[O].unwatcher();wc(r,Ld(r.transactionQueueTree_,i)),Dd(r,r.transactionQueueTree_),Fs(r.eventQueue_,i,N);for(let O=0;O<A.length;O++)pl(A[O])}else{if(E==="datastale")for(let A=0;A<a.length;A++)a[A].status===3?a[A].status=4:a[A].status=0;else{Tn("transaction at "+T.toString()+" failed: "+E);for(let A=0;A<a.length;A++)a[A].status=4,a[A].abortReason=E}zd(r,i)}},p)}function zd(r,i){const a=oy(r,i),u=bl(a),f=ry(r,a);return bT(r,f,u),u}function bT(r,i,a){if(i.length===0)return;const u=[];let f=[];const p=i.filter(b=>b.status===0).map(b=>b.currentWriteId);for(let b=0;b<i.length;b++){const T=i[b],E=tn(a,T.path);let N=!1,A;if(Q(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),T.status===4)N=!0,A=T.abortReason,f=f.concat(Ao(r.serverSyncTree_,T.currentWriteId,!0));else if(T.status===0)if(T.retryCount>=cT)N=!0,A="maxretry",f=f.concat(Ao(r.serverSyncTree_,T.currentWriteId,!0));else{const O=ay(r,T.path,p);T.currentInputSnapshot=O;const V=i[b].update(O.val());if(V!==void 0){ny("transaction failed: Data returned ",V,T.path);let K=ke(V);typeof V=="object"&&V!=null&&ji(V,".priority")||(K=K.updatePriority(O.getPriority()));const yt=T.currentWriteId,$t=sy(r),ot=KE(K,O,$t);T.currentOutputSnapshotRaw=K,T.currentOutputSnapshotResolved=ot,T.currentWriteId=mT(r),p.splice(p.indexOf(yt),1),f=f.concat(PE(r.serverSyncTree_,T.path,ot,T.currentWriteId,T.applyLocally)),f=f.concat(Ao(r.serverSyncTree_,yt,!0))}else N=!0,A="nodata",f=f.concat(Ao(r.serverSyncTree_,T.currentWriteId,!0))}Fs(r.eventQueue_,a,f),f=[],N&&(i[b].status=2,(function(O){setTimeout(O,Math.floor(0))})(i[b].unwatcher),i[b].onComplete&&(A==="nodata"?u.push(()=>i[b].onComplete(null,!1,i[b].currentInputSnapshot)):u.push(()=>i[b].onComplete(new Error(A),!1,null))))}wc(r,r.transactionQueueTree_);for(let b=0;b<u.length;b++)pl(u[b]);Dd(r,r.transactionQueueTree_)}function oy(r,i){let a,u=r.transactionQueueTree_;for(a=Ot(i);a!==null&&Bo(u)===void 0;)u=Ld(u,a),i=Jt(i),a=Ot(i);return u}function ry(r,i){const a=[];return ly(r,i,a),a.sort((u,f)=>u.order-f.order),a}function ly(r,i,a){const u=Bo(i);if(u)for(let f=0;f<u.length;f++)a.push(u[f]);Cc(i,f=>{ly(r,f,a)})}function wc(r,i){const a=Bo(i);if(a){let u=0;for(let f=0;f<a.length;f++)a[f].status!==2&&(a[u]=a[f],u++);a.length=u,Wv(i,a.length>0?a:void 0)}Cc(i,u=>{wc(r,u)})}function ST(r,i){const a=bl(oy(r,i)),u=Ld(r.transactionQueueTree_,i);return JE(u,f=>{Uf(r,f)}),Uf(r,u),$v(u,f=>{Uf(r,f)}),a}function Uf(r,i){const a=Bo(i);if(a){const u=[];let f=[],m=-1;for(let p=0;p<a.length;p++)a[p].status===3||(a[p].status===1?(Q(m===p-1,"All SENT items should be at beginning of queue."),m=p,a[p].status=3,a[p].abortReason="set"):(Q(a[p].status===0,"Unexpected transaction status in abort"),a[p].unwatcher(),f=f.concat(Ao(r.serverSyncTree_,a[p].currentWriteId,!0)),a[p].onComplete&&u.push(a[p].onComplete.bind(null,new Error("set"),!1,null))));m===-1?Wv(i,void 0):a.length=m+1,Fs(r.eventQueue_,bl(i),f);for(let p=0;p<u.length;p++)pl(u[p])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){let i="";const a=r.split("/");for(let u=0;u<a.length;u++)if(a[u].length>0){let f=a[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch{}i+="/"+f}return i}function TT(r){const i={};r.charAt(0)==="?"&&(r=r.substring(1));for(const a of r.split("&")){if(a.length===0)continue;const u=a.split("=");u.length===2?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Tn(`Invalid query segment '${a}' in query '${r}'`)}return i}const Og=function(r,i){const a=CT(r),u=a.namespace;a.domain==="firebase.com"&&Vi(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&a.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||z1();const f=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new uv(a.host,a.secure,u,f,i,"",u!==a.subdomain),path:new Vt(a.pathString)}},CT=function(r){let i="",a="",u="",f="",m="",p=!0,b="https",T=443;if(typeof r=="string"){let E=r.indexOf("//");E>=0&&(b=r.substring(0,E-1),r=r.substring(E+2));let N=r.indexOf("/");N===-1&&(N=r.length);let A=r.indexOf("?");A===-1&&(A=r.length),i=r.substring(0,Math.min(N,A)),N<A&&(f=ET(r.substring(N,A)));const O=TT(r.substring(Math.min(r.length,A)));E=i.indexOf(":"),E>=0?(p=b==="https"||b==="wss",T=parseInt(i.substring(E+1),10)):E=i.length;const V=i.slice(0,E);if(V.toLowerCase()==="localhost")a="localhost";else if(V.split(".").length<=2)a=V;else{const K=i.indexOf(".");u=i.substring(0,K).toLowerCase(),a=i.substring(K+1),m=u}"ns"in O&&(m=O.ns)}return{host:i,port:T,domain:a,subdomain:u,secure:p,scheme:b,pathString:f,namespace:m}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(i,a,u,f){this.eventType=i,this.eventRegistration=a,this.snapshot=u,this.prevName=f}getPath(){const i=this.snapshot.ref;return this.eventType==="value"?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class xT{constructor(i,a,u){this.eventRegistration=i,this.error=a,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(i,a){this.snapshotCallback=i,this.cancelCallback=a}onValue(i,a){this.snapshotCallback.call(null,i,a)}onCancel(i){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(i,a,u,f){this._repo=i,this._path=a,this._queryParams=u,this._orderByCalled=f}get key(){return Mt(this._path)?null:vv(this._path)}get ref(){return new Xi(this._repo,this._path)}get _queryIdentifier(){const i=_g(this._queryParams),a=ud(i);return a==="{}"?"default":a}get _queryObject(){return _g(this._queryParams)}isEqual(i){if(i=dl(i),!(i instanceof Pd))return!1;const a=this._repo===i._repo,u=Sv(this._path,i._path),f=this._queryIdentifier===i._queryIdentifier;return a&&u&&f}toJSON(){return this.toString()}toString(){return this._repo.toString()+gS(this._path)}}class Xi extends Pd{constructor(i,a){super(i,a,new pd,!1)}get parent(){const i=bv(this._path);return i===null?null:new Xi(this._repo,i)}get root(){let i=this;for(;i.parent!==null;)i=i.parent;return i}}class hl{constructor(i,a,u){this._node=i,this.ref=a,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const a=new Vt(i),u=gc(this.ref,i);return new hl(this._node.getChild(a),u,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,f)=>i(new hl(f,gc(this.ref,u),ce)))}hasChild(i){const a=new Vt(i);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MT(r,i){return r=dl(r),r._checkNotDeleted("ref"),i!==void 0?gc(r._root,i):r._root}function gc(r,i){return r=dl(r),Ot(r._path)===null?iT("child","path",i):iy("child","path",i),new Xi(r._repo,Se(r._path,i))}function OT(r){r=dl(r);const i=new AT(()=>{}),a=new Id(i);return pT(r._repo,r,a).then(u=>new hl(u,new Xi(r._repo,r._path),r._queryParams.getIndex()))}class Id{constructor(i){this.callbackContext=i}respondsTo(i){return i==="value"}createEvent(i,a){const u=a._queryParams.getIndex();return new wT("value",this,new hl(i.snapshotNode,new Xi(a._repo,a._path),u))}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,a){return this.callbackContext.hasCancelCallback?new xT(this,i,a):null}matches(i){return i instanceof Id?!i.callbackContext||!this.callbackContext?!0:i.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}AE(Xi);RE(Xi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FIREBASE_DATABASE_EMULATOR_HOST",id={};let NT=!1;function RT(r,i,a,u){const f=i.lastIndexOf(":"),m=i.substring(0,f),p=rd(m);r.repoInfo_=new uv(i,p,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,a),u&&(r.authTokenProvider_=u)}function DT(r,i,a,u,f){let m=u||r.options.databaseURL;m===void 0&&(r.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",r.options.projectId),m=`${r.options.projectId}-default-rtdb.firebaseio.com`);let p=Og(m,f),b=p.repoInfo,T;typeof process<"u"&&Kp&&(T=Kp[LT]),T?(m=`http://${T}?ns=${b.namespace}`,p=Og(m,f),b=p.repoInfo):p.repoInfo.secure;const E=new V1(r.name,r.options,i);sT("Invalid Firebase Database URL",p),Mt(p.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const N=PT(b,r,E,new Y1(r,a));return new IT(N,r)}function zT(r,i){const a=id[i];(!a||a[r.key]!==r)&&Vi(`Database ${i}(${r.repoInfo_}) has already been deleted.`),vT(r),delete a[r.key]}function PT(r,i,a,u){let f=id[i.name];f||(f={},id[i.name]=f);let m=f[r.toURLString()];return m&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),m=new hT(r,NT,a,u),f[r.toURLString()]=m,m}class IT{constructor(i,a){this._repoInternal=i,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xi(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){this._rootInternal===null&&Vi("Cannot call "+i+" on a deleted database.")}}function BT(r=m1(),i){const a=c1(r,"database").getImmediate({identifier:i});if(!a._instanceStarted){const u=F0("database");u&&kT(a,...u)}return a}function kT(r,i,a,u={}){r=dl(r),r._checkNotDeleted("useEmulator");const f=`${i}:${a}`,m=r._repoInternal;if(r._instanceStarted){if(f===r._repoInternal.repoInfo_.host&&nc(u,m.repoInfo_.emulatorOptions))return;Vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let p;if(m.repoInfo_.nodeAdmin)u.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new $u($u.OWNER);else if(u.mockUserToken){const b=typeof u.mockUserToken=="string"?u.mockUserToken:W0(u.mockUserToken,r.app.options.projectId);p=new $u(b)}rd(i)&&(K0(i),tb("Database",!0)),RT(m,f,u,p)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){M1(_1),sc(new nl("database",(i,{instanceIdentifier:a})=>{const u=i.getProvider("app").getImmediate(),f=i.getProvider("auth-internal"),m=i.getProvider("app-check-internal");return DT(u,f,m,a)},"PUBLIC").setMultipleInstances(!0)),Mo(Wp,Jp,r),Mo(Wp,Jp,"esm2020")}Gi.prototype.simpleListen=function(r,i){this.sendRequest("q",{p:r},i)};Gi.prototype.echo=function(r,i){this.sendRequest("echo",{d:r},i)};UT();const HT={apiKey:"AIzaSyAxxocdjMi0CkRYSwNlfa2chCE653Cqat8",authDomain:"yatai-now-test01.firebaseapp.com",databaseURL:"https://yatai-now-test01-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"yatai-now-test01",storageBucket:"yatai-now-test01.firebasestorage.app",messagingSenderId:"585308141782",appId:"1:585308141782:web:4c1c1cbe228720dca2b177"},ZT=Vg(HT),qT=BT(ZT);async function uy(r){const i=await OT(gc(MT(qT),r));return i.exists()?Object.values(i.val()):[]}function GT({onShowOrganizerLogin:r,onShowVendorLogin:i,onBack:a}){const[u,f]=gt.useState([]),[m,p]=gt.useState(null),[b,T]=gt.useState({scale:1,position:{x:0,y:0}}),[E,N]=gt.useState(!1),A=gt.useRef({x:0,y:0}),O=gt.useRef(null);gt.useEffect(()=>{(async()=>{const kt=await uy("sohosai-2025");kt&&f(kt)})()},[]);const V=gt.useCallback(ot=>{ot.preventDefault();const ct=O.current?.getBoundingClientRect();if(!ct)return;const kt=ot.clientX-ct.left,bt=ot.clientY-ct.top,he=1-ot.deltaY*.01;T(re=>{const _e=Math.max(1,Math.min(re.scale*he,5)),Ue=(kt-re.position.x)/re.scale,Pn=(bt-re.position.y)/re.scale,jt=kt-Ue*_e,It=bt-Pn*_e;return{scale:_e,position:{x:jt,y:It}}})},[]);gt.useEffect(()=>{const ot=O.current;return ot?.addEventListener("wheel",V,{passive:!1}),()=>{ot?.removeEventListener("wheel",V)}},[V]);const K=(ot,ct)=>{ot.stopPropagation(),p(ct)},et=(ot,ct)=>{N(!0),A.current={x:ot-b.position.x,y:ct-b.position.y},p(null)},yt=(ot,ct)=>{if(!E)return;const kt=ot-A.current.x,bt=ct-A.current.y;T(he=>({...he,position:{x:kt,y:bt}}))},$t=()=>N(!1);return ut.jsxs("div",{className:"screen main-screen",children:[ut.jsxs("header",{className:"main-header",children:[ut.jsx("button",{className:"btn-back",onClick:a,children:"< 戻る"}),ut.jsxs("div",{className:"header-right-buttons",children:[ut.jsx("button",{className:"btn-header",onClick:r,children:"主催者はこちら"}),ut.jsx("button",{className:"btn-header",onClick:i,children:"出店者はこちら"})]})]}),ut.jsx("div",{ref:O,className:"map-area",onMouseDown:ot=>et(ot.clientX,ot.clientY),onMouseMove:ot=>yt(ot.clientX,ot.clientY),onMouseUp:$t,onMouseLeave:$t,onTouchStart:ot=>et(ot.touches[0].clientX,ot.touches[0].clientY),onTouchMove:ot=>yt(ot.touches[0].clientX,ot.touches[0].clientY),onTouchEnd:$t,style:{cursor:E?"grabbing":"grab"},children:ut.jsxs("div",{className:"map-content",style:{transform:`translate(${b.position.x}px, ${b.position.y}px) scale(${b.scale})`},children:[ut.jsx("img",{src:"https://res.cloudinary.com/dkmhcpr7i/image/upload/v1758176187/tsukubamap_id01.jpg",alt:"会場マップ",className:"map-image",draggable:"false"}),u.map((ot,ct)=>ut.jsx("button",{className:`map-pin ${m===ot?"selected":""}`,style:{left:`${ot.pinX}%`,top:`${ot.pinY}%`},onClick:kt=>K(kt,ot),"aria-label":`Pin ${ot.text}`},ct))]})}),m&&ut.jsx("footer",{className:"info-footer",children:ut.jsx("p",{children:m.text})})]})}function YT({onBack:r,onLoginSuccess:i}){const a=u=>{u.preventDefault(),console.log("Organizer login attempt"),i()};return ut.jsxs("div",{className:"screen login-screen",children:[ut.jsx("header",{className:"login-header",children:ut.jsx("button",{className:"btn-back",onClick:r,children:"< 戻る"})}),ut.jsxs("div",{className:"login-container",children:[ut.jsx("h2",{children:"主催者ログインページ"}),ut.jsxs("form",{className:"login-form",onSubmit:a,children:[ut.jsx("input",{className:"login-input",type:"text",placeholder:"ログインID"}),ut.jsx("input",{className:"login-input",type:"password",placeholder:"パスワード"}),ut.jsx("button",{className:"btn",type:"submit",children:"ログイン"})]})]})]})}function VT({onBack:r,onLoginSuccess:i}){const[a,u]=gt.useState(""),[f,m]=gt.useState(""),[p,b]=gt.useState(""),T=E=>{E.preventDefault(),a==="yatai"&&f==="now"?(console.log("Vendor login successful"),b(""),i()):b("ログインIDまたはパスワードが違います")};return ut.jsxs("div",{className:"screen login-screen",children:[ut.jsx("header",{className:"login-header",children:ut.jsx("button",{className:"btn-back",onClick:r,children:"< 戻る"})}),ut.jsxs("div",{className:"login-container",children:[ut.jsx("h2",{children:"出店者ログインページ"}),ut.jsxs("form",{className:"login-form",onSubmit:T,children:[ut.jsx("input",{className:"login-input",type:"text",placeholder:"ログインID",value:a,onChange:E=>u(E.target.value)}),ut.jsx("input",{className:"login-input",type:"password",placeholder:"パスワード",value:f,onChange:E=>m(E.target.value)}),p&&ut.jsx("p",{className:"login-error",children:p}),ut.jsx("button",{className:"btn",type:"submit",children:"ログイン"})]})]})]})}function cy(r,i){const a=gt.useRef(i);gt.useEffect(function(){i!==a.current&&r.attributionControl!=null&&(a.current!=null&&r.attributionControl.removeAttribution(a.current),i!=null&&r.attributionControl.addAttribution(i)),a.current=i},[r,i])}var jT=Ng();const XT=1;function QT(r){return Object.freeze({__version:XT,map:r})}function FT(r,i){return Object.freeze({...r,...i})}const Bd=gt.createContext(null);function hy(){const r=gt.use(Bd);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function KT(r){function i(a,u){const{instance:f,context:m}=r(a).current;gt.useImperativeHandle(u,()=>f);const{children:p}=a;return p==null?null:Zf.createElement(Bd,{value:m},p)}return gt.forwardRef(i)}function WT(r){function i(a,u){const[f,m]=gt.useState(!1),{instance:p}=r(a,m).current;gt.useImperativeHandle(u,()=>p),gt.useEffect(function(){f&&p.update()},[p,f,a.children]);const b=p._contentNode;return b?jT.createPortal(a.children,b):null}return gt.forwardRef(i)}function JT(r){function i(a,u){const{instance:f}=r(a).current;return gt.useImperativeHandle(u,()=>f),null}return gt.forwardRef(i)}function fy(r,i){const a=gt.useRef(void 0);gt.useEffect(function(){return i!=null&&r.instance.on(i),a.current=i,function(){a.current!=null&&r.instance.off(a.current),a.current=null}},[r,i])}function kd(r,i){const a=r.pane??i.pane;return a?{...r,pane:a}:r}function $T(r,i){return function(u,f){const m=hy(),p=r(kd(u,m),m);return cy(m.map,u.attribution),fy(p.current,u.eventHandlers),i(p.current,m,u,f),p}}var Qr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tC=Qr.exports,Lg;function eC(){return Lg||(Lg=1,(function(r,i){(function(a,u){u(i)})(tC,(function(a){var u="1.9.4";function f(n){var o,c,_,g;for(c=1,_=arguments.length;c<_;c++){g=arguments[c];for(o in g)n[o]=g[o]}return n}var m=Object.create||(function(){function n(){}return function(o){return n.prototype=o,new n}})();function p(n,o){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var _=c.call(arguments,2);return function(){return n.apply(o,_.length?_.concat(c.call(arguments)):arguments)}}var b=0;function T(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function E(n,o,c){var _,g,y,w;return w=function(){_=!1,g&&(y.apply(c,g),g=!1)},y=function(){_?g=arguments:(n.apply(c,arguments),setTimeout(w,o),_=!0)},y}function N(n,o,c){var _=o[1],g=o[0],y=_-g;return n===_&&c?n:((n-g)%y+y)%y+g}function A(){return!1}function O(n,o){if(o===!1)return n;var c=Math.pow(10,o===void 0?6:o);return Math.round(n*c)/c}function V(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function K(n){return V(n).split(/\s+/)}function et(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?m(n.options):{});for(var c in o)n.options[c]=o[c];return n.options}function yt(n,o,c){var _=[];for(var g in n)_.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!o||o.indexOf("?")===-1?"?":"&")+_.join("&")}var $t=/\{ *([\w_ -]+) *\}/g;function ot(n,o){return n.replace($t,function(c,_){var g=o[_];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(o)),g})}var ct=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function kt(n,o){for(var c=0;c<n.length;c++)if(n[c]===o)return c;return-1}var bt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var re=0;function _e(n){var o=+new Date,c=Math.max(0,16-(o-re));return re=o+c,window.setTimeout(n,c)}var Ue=window.requestAnimationFrame||he("RequestAnimationFrame")||_e,Pn=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function jt(n,o,c){if(c&&Ue===_e)n.call(o);else return Ue.call(window,p(n,o))}function It(n){n&&Pn.call(window,n)}var hi={__proto__:null,extend:f,create:m,bind:p,get lastId(){return b},stamp:T,throttle:E,wrapNum:N,falseFn:A,formatNum:O,trim:V,splitWords:K,setOptions:et,getParamString:yt,template:ot,isArray:ct,indexOf:kt,emptyImageUrl:bt,requestFn:Ue,cancelFn:Pn,requestAnimFrame:jt,cancelAnimFrame:It};function Ne(){}Ne.extend=function(n){var o=function(){et(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=o.__super__=this.prototype,_=m(c);_.constructor=o,o.prototype=_;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(o[g]=this[g]);return n.statics&&f(o,n.statics),n.includes&&(Ee(n.includes),f.apply(null,[_].concat(n.includes))),f(_,n),delete _.statics,delete _.includes,_.options&&(_.options=c.options?m(c.options):{},f(_.options,n.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,w=_._initHooks.length;y<w;y++)_._initHooks[y].call(this)}},o},Ne.include=function(n){var o=this.prototype.options;return f(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},Ne.mergeOptions=function(n){return f(this.prototype.options,n),this},Ne.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Ee(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=ct(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(n,o,c){if(typeof n=="object")for(var _ in n)this._on(_,n[_],o);else{n=K(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],o,c)}return this},off:function(n,o,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var _ in n)this._off(_,n[_],o);else{n=K(n);for(var g=arguments.length===1,y=0,w=n.length;y<w;y++)g?this._off(n[y]):this._off(n[y],o,c)}return this},_on:function(n,o,c,_){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,c)===!1){c===this&&(c=void 0);var g={fn:o,ctx:c};_&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,o,c){var _,g,y;if(this._events&&(_=this._events[n],!!_)){if(arguments.length===1){if(this._firingCount)for(g=0,y=_.length;g<y;g++)_[g].fn=A;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var w=this._listens(n,o,c);if(w!==!1){var D=_[w];this._firingCount&&(D.fn=A,this._events[n]=_=_.slice()),_.splice(w,1)}}},fire:function(n,o,c){if(!this.listens(n,c))return this;var _=f({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,w=g.length;y<w;y++){var D=g[y],k=D.fn;D.once&&this.off(n,k,D.ctx),k.call(D.ctx||this,_)}this._firingCount--}}return c&&this._propagateEvent(_),this},listens:function(n,o,c,_){typeof n!="string"&&console.warn('"string" type argument expected');var g=o;typeof o!="function"&&(_=!!o,g=void 0,c=void 0);var y=this._events&&this._events[n];if(y&&y.length&&this._listens(n,g,c)!==!1)return!0;if(_){for(var w in this._eventParents)if(this._eventParents[w].listens(n,o,c,_))return!0}return!1},_listens:function(n,o,c){if(!this._events)return!1;var _=this._events[n]||[];if(!o)return!!_.length;c===this&&(c=void 0);for(var g=0,y=_.length;g<y;g++)if(_[g].fn===o&&_[g].ctx===c)return g;return!1},once:function(n,o,c){if(typeof n=="object")for(var _ in n)this._on(_,n[_],o,!0);else{n=K(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],o,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[T(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[T(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,f({layer:n.target,propagatedFrom:n.target},n),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var J=Ne.extend(U);function j(n,o,c){this.x=c?Math.round(n):n,this.y=c?Math.round(o):o}var Bt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(n){return this.clone()._add(C(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(C(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new j(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new j(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Bt(this.x),this.y=Bt(this.y),this},distanceTo:function(n){n=C(n);var o=n.x-this.x,c=n.y-this.y;return Math.sqrt(o*o+c*c)},equals:function(n){return n=C(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=C(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function C(n,o,c){return n instanceof j?n:ct(n)?new j(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new j(n.x,n.y):new j(n,o,c)}function H(n,o){if(n)for(var c=o?[n,o]:n,_=0,g=c.length;_<g;_++)this.extend(c[_])}H.prototype={extend:function(n){var o,c;if(!n)return this;if(n instanceof j||typeof n[0]=="number"||"x"in n)o=c=C(n);else if(n=F(n),o=n.min,c=n.max,!o||!c)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=c.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return C(this.min.x,this.max.y)},getTopRight:function(){return C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,c;return typeof n[0]=="number"||n instanceof j?n=C(n):n=F(n),n instanceof H?(o=n.min,c=n.max):o=c=n,o.x>=this.min.x&&c.x<=this.max.x&&o.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=F(n);var o=this.min,c=this.max,_=n.min,g=n.max,y=g.x>=o.x&&_.x<=c.x,w=g.y>=o.y&&_.y<=c.y;return y&&w},overlaps:function(n){n=F(n);var o=this.min,c=this.max,_=n.min,g=n.max,y=g.x>o.x&&_.x<c.x,w=g.y>o.y&&_.y<c.y;return y&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,c=this.max,_=Math.abs(o.x-c.x)*n,g=Math.abs(o.y-c.y)*n;return F(C(o.x-_,o.y-g),C(c.x+_,c.y+g))},equals:function(n){return n?(n=F(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function F(n,o){return!n||n instanceof H?n:new H(n,o)}function X(n,o){if(n)for(var c=o?[n,o]:n,_=0,g=c.length;_<g;_++)this.extend(c[_])}X.prototype={extend:function(n){var o=this._southWest,c=this._northEast,_,g;if(n instanceof st)_=n,g=n;else if(n instanceof X){if(_=n._southWest,g=n._northEast,!_||!g)return this}else return n?this.extend(W(n)||tt(n)):this;return!o&&!c?(this._southWest=new st(_.lat,_.lng),this._northEast=new st(g.lat,g.lng)):(o.lat=Math.min(_.lat,o.lat),o.lng=Math.min(_.lng,o.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var o=this._southWest,c=this._northEast,_=Math.abs(o.lat-c.lat)*n,g=Math.abs(o.lng-c.lng)*n;return new X(new st(o.lat-_,o.lng-g),new st(c.lat+_,c.lng+g))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof st||"lat"in n?n=W(n):n=tt(n);var o=this._southWest,c=this._northEast,_,g;return n instanceof X?(_=n.getSouthWest(),g=n.getNorthEast()):_=g=n,_.lat>=o.lat&&g.lat<=c.lat&&_.lng>=o.lng&&g.lng<=c.lng},intersects:function(n){n=tt(n);var o=this._southWest,c=this._northEast,_=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>=o.lat&&_.lat<=c.lat,w=g.lng>=o.lng&&_.lng<=c.lng;return y&&w},overlaps:function(n){n=tt(n);var o=this._southWest,c=this._northEast,_=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>o.lat&&_.lat<c.lat,w=g.lng>o.lng&&_.lng<c.lng;return y&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=tt(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(n,o){return n instanceof X?n:new X(n,o)}function st(n,o,c){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,c!==void 0&&(this.alt=+c)}st.prototype={equals:function(n,o){if(!n)return!1;n=W(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+O(this.lat,n)+", "+O(this.lng,n)+")"},distanceTo:function(n){return Rt.distance(this,W(n))},wrap:function(){return Rt.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,c=o/Math.cos(Math.PI/180*this.lat);return tt([this.lat-o,this.lng-c],[this.lat+o,this.lng+c])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function W(n,o,c){return n instanceof st?n:ct(n)&&typeof n[0]!="object"?n.length===3?new st(n[0],n[1],n[2]):n.length===2?new st(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new st(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new st(n,o,c)}var ie={latLngToPoint:function(n,o){var c=this.projection.project(n),_=this.scale(o);return this.transformation._transform(c,_)},pointToLatLng:function(n,o){var c=this.scale(o),_=this.transformation.untransform(n,c);return this.projection.unproject(_)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,c=this.scale(n),_=this.transformation.transform(o.min,c),g=this.transformation.transform(o.max,c);return new H(_,g)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?N(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?N(n.lat,this.wrapLat,!0):n.lat,_=n.alt;return new st(c,o,_)},wrapLatLngBounds:function(n){var o=n.getCenter(),c=this.wrapLatLng(o),_=o.lat-c.lat,g=o.lng-c.lng;if(_===0&&g===0)return n;var y=n.getSouthWest(),w=n.getNorthEast(),D=new st(y.lat-_,y.lng-g),k=new st(w.lat-_,w.lng-g);return new X(D,k)}},Rt=f({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var c=Math.PI/180,_=n.lat*c,g=o.lat*c,y=Math.sin((o.lat-n.lat)*c/2),w=Math.sin((o.lng-n.lng)*c/2),D=y*y+Math.cos(_)*Math.cos(g)*w*w,k=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*k}}),In=6378137,Ks={R:In,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,c=this.MAX_LATITUDE,_=Math.max(Math.min(c,n.lat),-c),g=Math.sin(_*o);return new j(this.R*n.lng*o,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var o=180/Math.PI;return new st((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:(function(){var n=In*Math.PI;return new H([-n,-n],[n,n])})()};function Qi(n,o,c,_){if(ct(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=c,this._d=_}Qi.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new j((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function fi(n,o,c,_){return new Qi(n,o,c,_)}var Ws=f({},Rt,{code:"EPSG:3857",projection:Ks,transformation:(function(){var n=.5/(Math.PI*Ks.R);return fi(n,.5,-n,.5)})()}),ko=f({},Ws,{code:"EPSG:900913"});function Sl(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function El(n,o){var c="",_,g,y,w,D,k;for(_=0,y=n.length;_<y;_++){for(D=n[_],g=0,w=D.length;g<w;g++)k=D[g],c+=(g?"L":"M")+k.x+" "+k.y;c+=o?rt.svg?"z":"x":""}return c||"M0 0"}var en=document.documentElement.style,za="ActiveXObject"in window,Tl=za&&!document.addEventListener,Uo="msLaunchUri"in navigator&&!("documentMode"in document),Fi=nn("webkit"),Cl=nn("android"),Ho=nn("android 2")||nn("android 3"),Ac=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mc=Cl&&nn("Google")&&Ac<537&&!("AudioNode"in window),di=!!window.opera,He=!Uo&&nn("chrome"),Bn=nn("gecko")&&!Fi&&!di&&!za,Xe=!He&&nn("safari"),wl=nn("phantom"),xl="OTransition"in en,Oc=navigator.platform.indexOf("Win")===0,Js=za&&"transition"in en,Ki="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ho,Wn="MozPerspective"in en,Pa=!window.L_DISABLE_3D&&(Js||Ki||Wn)&&!xl&&!wl,kn=typeof orientation<"u"||nn("mobile"),Lc=kn&&Fi,Al=kn&&Ki,Zo=!window.PointerEvent&&window.MSPointerEvent,Ia=!!(window.PointerEvent||Zo),Wi="ontouchstart"in window||!!window.TouchEvent,Nc=!window.L_NO_TOUCH&&(Wi||Ia),Ml=kn&&di,Ol=kn&&Bn,qo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Go=(function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",A,o),window.removeEventListener("testPassiveEventSupport",A,o)}catch{}return n})(),Ll=(function(){return!!document.createElement("canvas").getContext})(),Yo=!!(document.createElementNS&&Sl("svg").createSVGRect),Jn=!!Yo&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Te=!Yo&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),Ze=navigator.platform.indexOf("Mac")===0,Ji=navigator.platform.indexOf("Linux")===0;function nn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var rt={ie:za,ielt9:Tl,edge:Uo,webkit:Fi,android:Cl,android23:Ho,androidStock:Mc,opera:di,chrome:He,gecko:Bn,safari:Xe,phantom:wl,opera12:xl,win:Oc,ie3d:Js,webkit3d:Ki,gecko3d:Wn,any3d:Pa,mobile:kn,mobileWebkit:Lc,mobileWebkit3d:Al,msPointer:Zo,pointer:Ia,touch:Nc,touchNative:Wi,mobileOpera:Ml,mobileGecko:Ol,retina:qo,passiveEvents:Go,canvas:Ll,svg:Yo,vml:Te,inlineSvg:Jn,mac:Ze,linux:Ji},Nl=rt.msPointer?"MSPointerDown":"pointerdown",Vo=rt.msPointer?"MSPointerMove":"pointermove",$i=rt.msPointer?"MSPointerUp":"pointerup",Ba=rt.msPointer?"MSPointerCancel":"pointercancel",$n={touchstart:Nl,touchmove:Vo,touchend:$i,touchcancel:Ba},_i={touchstart:zl,touchmove:$s,touchend:$s,touchcancel:$s},Cn={},mi=!1;function me(n,o,c){return o==="touchstart"&&Rc(),_i[o]?(c=_i[o].bind(this,c),n.addEventListener($n[o],c,!1),c):(console.warn("wrong event specified:",o),A)}function Rl(n,o,c){if(!$n[o]){console.warn("wrong event specified:",o);return}n.removeEventListener($n[o],c,!1)}function Dl(n){Cn[n.pointerId]=n}function pi(n){Cn[n.pointerId]&&(Cn[n.pointerId]=n)}function gi(n){delete Cn[n.pointerId]}function Rc(){mi||(document.addEventListener(Nl,Dl,!0),document.addEventListener(Vo,pi,!0),document.addEventListener($i,gi,!0),document.addEventListener(Ba,gi,!0),mi=!0)}function $s(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var c in Cn)o.touches.push(Cn[c]);o.changedTouches=[o],n(o)}}function zl(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&le(o),$s(n,o)}function Dc(n){var o={},c,_;for(_ in n)c=n[_],o[_]=c&&c.bind?c.bind(n):c;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var ka=200;function Ua(n,o){n.addEventListener("dblclick",o);var c=0,_;function g(y){if(y.detail!==1){_=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var w=Qo(y);if(!(w.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!w.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var D=Date.now();D-c<=ka?(_++,_===2&&o(Dc(y))):_=1,c=D}}}return n.addEventListener("click",g),{dblclick:o,simDblclick:g}}function Un(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var ta=is(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ts=is(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vi=ts==="webkitTransition"||ts==="OTransition"?ts+"End":"transitionend";function Ha(n){return typeof n=="string"?document.getElementById(n):n}function yi(n,o){var c=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!c||c==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(n,null);c=_?_[o]:null}return c==="auto"?null:c}function Lt(n,o,c){var _=document.createElement(n);return _.className=o||"",c&&c.appendChild(_),_}function Xt(n){var o=n.parentNode;o&&o.removeChild(n)}function Re(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function bi(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function es(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function ns(n,o){if(n.classList!==void 0)return n.classList.contains(o);var c=De(n);return c.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(c)}function vt(n,o){if(n.classList!==void 0)for(var c=K(o),_=0,g=c.length;_<g;_++)n.classList.add(c[_]);else if(!ns(n,o)){var y=De(n);jo(n,(y?y+" ":"")+o)}}function Qt(n,o){n.classList!==void 0?n.classList.remove(o):jo(n,V((" "+De(n)+" ").replace(" "+o+" "," ")))}function jo(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function De(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function qe(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&Pl(n,o)}function Pl(n,o){var c=!1,_="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(_)}catch{if(o===1)return}o=Math.round(o*100),c?(c.Enabled=o!==100,c.Opacity=o):n.style.filter+=" progid:"+_+"(opacity="+o+")"}function is(n){for(var o=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in o)return n[c];return!1}function sn(n,o,c){var _=o||new j(0,0);n.style[ta]=(rt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(c?" scale("+c+")":"")}function se(n,o){n._leaflet_pos=o,rt.any3d?sn(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function ti(n){return n._leaflet_pos||new j(0,0)}var wn,ea,Za;if("onselectstart"in document)wn=function(){pt(window,"selectstart",le)},ea=function(){Dt(window,"selectstart",le)};else{var ss=is(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(ss){var n=document.documentElement.style;Za=n[ss],n[ss]="none"}},ea=function(){ss&&(document.documentElement.style[ss]=Za,Za=void 0)}}function na(){pt(window,"dragstart",le)}function Xo(){Dt(window,"dragstart",le)}var qa,as;function ia(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(os(),qa=n,as=n.style.outlineStyle,n.style.outlineStyle="none",pt(window,"keydown",os))}function os(){qa&&(qa.style.outlineStyle=as,qa=void 0,as=void 0,Dt(window,"keydown",os))}function Si(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ei(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var Il={__proto__:null,TRANSFORM:ta,TRANSITION:ts,TRANSITION_END:vi,get:Ha,getStyle:yi,create:Lt,remove:Xt,empty:Re,toFront:bi,toBack:es,hasClass:ns,addClass:vt,removeClass:Qt,setClass:jo,getClass:De,setOpacity:qe,testProp:is,setTransform:sn,setPosition:se,getPosition:ti,get disableTextSelection(){return wn},get enableTextSelection(){return ea},disableImageDrag:na,enableImageDrag:Xo,preventOutline:ia,restoreOutline:os,getSizedParentNode:Si,getScale:ei};function pt(n,o,c,_){if(o&&typeof o=="object")for(var g in o)Ei(n,g,o[g],c);else{o=K(o);for(var y=0,w=o.length;y<w;y++)Ei(n,o[y],c,_)}return this}var hn="_leaflet_events";function Dt(n,o,c,_){if(arguments.length===1)xn(n),delete n[hn];else if(o&&typeof o=="object")for(var g in o)An(n,g,o[g],c);else if(o=K(o),arguments.length===2)xn(n,function(D){return kt(o,D)!==-1});else for(var y=0,w=o.length;y<w;y++)An(n,o[y],c,_);return this}function xn(n,o){for(var c in n[hn]){var _=c.split(/\d/)[0];(!o||o(_))&&An(n,_,null,null,c)}}var sa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(n,o,c,_){var g=o+T(c)+(_?"_"+T(_):"");if(n[hn]&&n[hn][g])return this;var y=function(D){return c.call(_||n,D||window.event)},w=y;!rt.touchNative&&rt.pointer&&o.indexOf("touch")===0?y=me(n,o,y):rt.touch&&o==="dblclick"?y=Ua(n,y):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(sa[o]||o,y,rt.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(y=function(D){D=D||window.event,Ci(n,D)&&w(D)},n.addEventListener(sa[o],y,!1)):n.addEventListener(o,w,!1):n.attachEvent("on"+o,y),n[hn]=n[hn]||{},n[hn][g]=y}function An(n,o,c,_,g){g=g||o+T(c)+(_?"_"+T(_):"");var y=n[hn]&&n[hn][g];if(!y)return this;!rt.touchNative&&rt.pointer&&o.indexOf("touch")===0?Rl(n,o,y):rt.touch&&o==="dblclick"?Un(n,y):"removeEventListener"in n?n.removeEventListener(sa[o]||o,y,!1):n.detachEvent("on"+o,y),n[hn][g]=null}function Hn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function rs(n){return Ei(n,"wheel",Hn),this}function ls(n){return pt(n,"mousedown touchstart dblclick contextmenu",Hn),n._leaflet_disable_click=!0,this}function le(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Mn(n){return le(n),Hn(n),this}function Qo(n){if(n.composedPath)return n.composedPath();for(var o=[],c=n.target;c;)o.push(c),c=c.parentNode;return o}function ze(n,o){if(!o)return new j(n.clientX,n.clientY);var c=ei(o),_=c.boundingClientRect;return new j((n.clientX-_.left)/c.x-o.clientLeft,(n.clientY-_.top)/c.y-o.clientTop)}var Ti=rt.linux&&rt.chrome?window.devicePixelRatio:rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function aa(n){return rt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Ti:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Ci(n,o){var c=o.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var zc={__proto__:null,on:pt,off:Dt,stopPropagation:Hn,disableScrollPropagation:rs,disableClickPropagation:ls,preventDefault:le,stop:Mn,getPropagationPath:Qo,getMousePosition:ze,getWheelDelta:aa,isExternalTarget:Ci,addListener:pt,removeListener:Dt},Ga=J.extend({run:function(n,o,c,_){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ti(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=jt(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,c=this._duration*1e3;o<c?this._runFrame(this._easeOut(o/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var c=this._startPos.add(this._offset.multiplyBy(n));o&&c._round(),se(this._el,c),this.fire("step")},_complete:function(){It(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Tt=J.extend({options:{crs:Ws,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=et(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(W(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ts&&rt.any3d&&!rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pt(this._proxy,vi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,c){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(W(n),o,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=f({animate:c.animate},c.zoom),c.pan=f({animate:c.animate,duration:c.duration},c.pan));var _=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,c.zoom):this._tryAnimatedPan(n,c.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,c){var _=this.getZoomScale(o),g=this.getSize().divideBy(2),y=n instanceof j?n:this.latLngToContainerPoint(n),w=y.subtract(g).multiplyBy(1-1/_),D=this.containerPointToLatLng(g.add(w));return this.setView(D,o,{zoom:c})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():tt(n);var c=C(o.paddingTopLeft||o.padding||[0,0]),_=C(o.paddingBottomRight||o.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(_));if(g=typeof o.maxZoom=="number"?Math.min(o.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var y=_.subtract(c).divideBy(2),w=this.project(n.getSouthWest(),g),D=this.project(n.getNorthEast(),g),k=this.unproject(w.add(D).divideBy(2).add(y),g);return{center:k,zoom:g}},fitBounds:function(n,o){if(n=tt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,o);return this.setView(c.center,c.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=C(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ga,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){vt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,c){if(c=c||{},c.animate===!1||!rt.any3d)return this.setView(n,o,c);this._stop();var _=this.project(this.getCenter()),g=this.project(n),y=this.getSize(),w=this._zoom;n=W(n),o=o===void 0?w:o;var D=Math.max(y.x,y.y),k=D*this.getZoomScale(w,o),Y=g.distanceTo(_)||1,$=1.42,nt=$*$;function at(ee){var Nn=ee?-1:1,Gn=ee?k:D,oi=k*k-D*D+Nn*nt*nt*Y*Y,Yn=2*Gn*nt*Y,va=oi/Yn,no=Math.sqrt(va*va+1)-va,ya=no<1e-9?-18:Math.log(no);return ya}function mt(ee){return(Math.exp(ee)-Math.exp(-ee))/2}function Ft(ee){return(Math.exp(ee)+Math.exp(-ee))/2}function ae(ee){return mt(ee)/Ft(ee)}var we=at(0);function an(ee){return D*(Ft(we)/Ft(we+$*ee))}function eu(ee){return D*(Ft(we)*ae(we+$*ee)-mt(we))/nt}function nu(ee){return 1-Math.pow(1-ee,1.5)}var ga=Date.now(),bs=(at(1)-we)/$,iu=c.duration?1e3*c.duration:1e3*bs*.8;function Ss(){var ee=(Date.now()-ga)/iu,Nn=nu(ee)*bs;ee<=1?(this._flyToFrame=jt(Ss,this),this._move(this.unproject(_.add(g.subtract(_).multiplyBy(eu(Nn)/Y)),w),this.getScaleZoom(D/an(Nn),w),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Ss.call(this),this},flyToBounds:function(n,o){var c=this._getBoundsCenterZoom(n,o);return this.flyTo(c.center,c.zoom,o)},setMaxBounds:function(n){return n=tt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var c=this.getCenter(),_=this._limitCenter(c,this._zoom,tt(n));return c.equals(_)||this.panTo(_,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var c=C(o.paddingTopLeft||o.padding||[0,0]),_=C(o.paddingBottomRight||o.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(n),w=this.getPixelBounds(),D=F([w.min.add(c),w.max.subtract(_)]),k=D.getSize();if(!D.contains(y)){this._enforcingBounds=!0;var Y=y.subtract(D.getCenter()),$=D.extend(y).getSize().subtract(k);g.x+=Y.x<0?-$.x:$.x,g.y+=Y.y<0?-$.y:$.y,this.panTo(this.unproject(g),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=f({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),_=o.divideBy(2).round(),g=c.divideBy(2).round(),y=_.subtract(g);return!y.x&&!y.y?this:(n.animate&&n.pan?this.panBy(y):(n.pan&&this._rawPanBy(y),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=f({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,c,n):navigator.geolocation.getCurrentPosition(o,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,c=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,c=n.coords.longitude,_=new st(o,c),g=_.toBounds(n.coords.accuracy*2),y=this._locateOptions;if(y.setView){var w=this.getBoundsZoom(g);this.setView(_,y.maxZoom?Math.min(w,y.maxZoom):w)}var D={latlng:_,bounds:g,timestamp:n.timestamp};for(var k in n.coords)typeof n.coords[k]=="number"&&(D[k]=n.coords[k]);this.fire("locationfound",D)}},addHandler:function(n,o){if(!o)return this;var c=this[n]=new o(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(It(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Xt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),_=Lt("div",c,o||this._mapPane);return n&&(this._panes[n]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new X(o,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,c){n=tt(n),c=C(c||[0,0]);var _=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),w=n.getNorthWest(),D=n.getSouthEast(),k=this.getSize().subtract(c),Y=F(this.project(D,_),this.project(w,_)).getSize(),$=rt.any3d?this.options.zoomSnap:1,nt=k.x/Y.x,at=k.y/Y.y,mt=o?Math.max(nt,at):Math.min(nt,at);return _=this.getScaleZoom(mt,_),$&&(_=Math.round(_/($/100))*($/100),_=o?Math.ceil(_/$)*$:Math.floor(_/$)*$),Math.max(g,Math.min(y,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var c=this._getTopLeftPoint(n,o);return new H(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var c=this.options.crs;return o=o===void 0?this._zoom:o,c.scale(n)/c.scale(o)},getScaleZoom:function(n,o){var c=this.options.crs;o=o===void 0?this._zoom:o;var _=c.zoom(n*c.scale(o));return isNaN(_)?1/0:_},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(W(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(C(n),o)},layerPointToLatLng:function(n){var o=C(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(W(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(W(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(tt(n))},distance:function(n,o){return this.options.crs.distance(W(n),W(o))},containerPointToLayerPoint:function(n){return C(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return C(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint(C(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(n)))},mouseEventToContainerPoint:function(n){return ze(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=Ha(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pt(o,"scroll",this._onScroll,this),this._containerId=T(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&rt.any3d,vt(n,"leaflet-container"+(rt.touch?" leaflet-touch":"")+(rt.retina?" leaflet-retina":"")+(rt.ielt9?" leaflet-oldie":"")+(rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=yi(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),se(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vt(n.markerPane,"leaflet-zoom-hide"),vt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,c){se(this._mapPane,new j(0,0));var _=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var g=this._zoom!==o;this._moveStart(g,c)._move(n,o)._moveEnd(g),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,c,_){o===void 0&&(o=this._zoom);var g=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),_?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return It(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){se(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[T(this._container)]=this;var o=n?Dt:pt;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),rt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){It(this._resizeRequest),this._resizeRequest=jt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var c=[],_,g=o==="mouseout"||o==="mouseover",y=n.target||n.srcElement,w=!1;y;){if(_=this._targets[T(y)],_&&(o==="click"||o==="preclick")&&this._draggableMoved(_)){w=!0;break}if(_&&_.listens(o,!0)&&(g&&!Ci(y,n)||(c.push(_),g))||y===this._container)break;y=y.parentNode}return!c.length&&!w&&!g&&this.listens(o,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var c=n.type;c==="mousedown"&&ia(o),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,c){if(n.type==="click"){var _=f({},n);_.type="preclick",this._fireDOMEvent(_,_.type,c)}var g=this._findEventTargets(n,o);if(c){for(var y=[],w=0;w<c.length;w++)c[w].listens(o,!0)&&y.push(c[w]);g=y.concat(g)}if(g.length){o==="contextmenu"&&le(n);var D=g[0],k={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var Y=D.getLatLng&&(!D._radius||D._radius<=10);k.containerPoint=Y?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=Y?D.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(w=0;w<g.length;w++)if(g[w].fire(o,k,!0),k.originalEvent._stopped||g[w].options.bubblingMouseEvents===!1&&kt(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return ti(this._mapPane)||new j(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var c=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var c=this.getSize()._divideBy(2);return this.project(n,o)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,c){var _=this._getNewPixelOrigin(c,o);return this.project(n,o)._subtract(_)},_latLngBoundsToNewLayerBounds:function(n,o,c){var _=this._getNewPixelOrigin(c,o);return F([this.project(n.getSouthWest(),o)._subtract(_),this.project(n.getNorthWest(),o)._subtract(_),this.project(n.getSouthEast(),o)._subtract(_),this.project(n.getNorthEast(),o)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,c){if(!c)return n;var _=this.project(n,o),g=this.getSize().divideBy(2),y=new H(_.subtract(g),_.add(g)),w=this._getBoundsOffset(y,c,o);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?n:this.unproject(_.add(w),o)},_limitOffset:function(n,o){if(!o)return n;var c=this.getPixelBounds(),_=new H(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(_,o))},_getBoundsOffset:function(n,o,c){var _=F(this.project(o.getNorthEast(),c),this.project(o.getSouthWest(),c)),g=_.min.subtract(n.min),y=_.max.subtract(n.max),w=this._rebound(g.x,-y.x),D=this._rebound(g.y,-y.y);return new j(w,D)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),c=this.getMaxZoom(),_=rt.any3d?this.options.zoomSnap:1;return _&&(n=Math.round(n/_)*_),Math.max(o,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var c=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,o),!0)},_createAnimProxy:function(){var n=this._proxy=Lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var c=ta,_=this._proxy.style[c];sn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),_===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();sn(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(o),g=this._getCenterOffset(n)._divideBy(1-1/_);return c.animate!==!0&&!this.getSize().contains(g)?!1:(jt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,c,_){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oa(n,o){return new Tt(n,o)}var Ge=Ne.extend({options:{position:"topright"},initialize:function(n){et(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),c=this.getPosition(),_=n._controlCorners[c];return vt(o,"leaflet-control"),c.indexOf("bottom")!==-1?_.insertBefore(o,_.firstChild):_.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),us=function(n){return new Ge(n)};Tt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",c=this._controlContainer=Lt("div",o+"control-container",this._container);function _(g,y){var w=o+g+" "+o+y;n[g+y]=Lt("div",w,c)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Xt(this._controlCorners[n]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bl=Ge.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,c,_){return c<_?-1:_<c?1:0}},initialize:function(n,o,c){et(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in n)this._addLayer(n[_],_);for(_ in o)this._addLayer(o[_],_,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Ge.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(T(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=Lt("div",n),c=this.options.collapsed;o.setAttribute("aria-haspopup",!0),ls(o),rs(o);var _=this._section=Lt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),pt(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Lt("a",n+"-toggle",o);g.href="#",g.title="Layers",g.setAttribute("role","button"),pt(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){le(y),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Lt("div",n+"-base",_),this._separator=Lt("div",n+"-separator",_),this._overlaysList=Lt("div",n+"-overlays",_),o.appendChild(_)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&T(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(_,g){return this.options.sortFunction(_.layer,g.layer,_.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Re(this._baseLayersList),Re(this._overlaysList),this._layerControlInputs=[];var n,o,c,_,g=0;for(c=0;c<this._layers.length;c++)_=this._layers[c],this._addItem(_),o=o||_.overlay,n=n||!_.overlay,g+=_.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(T(n.target)),c=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,o)},_createRadioElement:function(n,o){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=c,_.firstChild},_addItem:function(n){var o=document.createElement("label"),c=this._map.hasLayer(n.layer),_;n.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=c):_=this._createRadioElement("leaflet-base-layers_"+T(this),c),this._layerControlInputs.push(_),_.layerId=T(n.layer),pt(_,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var y=document.createElement("span");o.appendChild(y),y.appendChild(_),y.appendChild(g);var w=n.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,c,_=[],g=[];this._handlingClick=!0;for(var y=n.length-1;y>=0;y--)o=n[y],c=this._getLayer(o.layerId).layer,o.checked?_.push(c):o.checked||g.push(c);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<_.length;y++)this._map.hasLayer(_[y])||this._map.addLayer(_[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,c,_=this._map.getZoom(),g=n.length-1;g>=0;g--)o=n[g],c=this._getLayer(o.layerId).layer,o.disabled=c.options.minZoom!==void 0&&_<c.options.minZoom||c.options.maxZoom!==void 0&&_>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,pt(n,"click",le),this.expand();var o=this;setTimeout(function(){Dt(n,"click",le),o._preventClick=!1})}}),Pc=function(n,o,c){return new Bl(n,o,c)},Fo=Ge.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",c=Lt("div",o+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,o+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,o+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,c,_,g){var y=Lt("a",c,_);return y.innerHTML=n,y.href="#",y.title=o,y.setAttribute("role","button"),y.setAttribute("aria-label",o),ls(y),pt(y,"click",Mn),pt(y,"click",g,this),pt(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";Qt(this._zoomInButton,o),Qt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(vt(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(vt(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fo,this.addControl(this.zoomControl))});var Ko=function(n){return new Fo(n)},kl=Ge.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",c=Lt("div",o),_=this.options;return this._addScales(_,o+"-line",c),n.on(_.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,c){n.metric&&(this._mScale=Lt("div",o,c)),n.imperial&&(this._iScale=Lt("div",o,c))},_update:function(){var n=this._map,o=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),c=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,c,o/n)},_updateImperial:function(n){var o=n*3.2808399,c,_,g;o>5280?(c=o/5280,_=this._getRoundNum(c),this._updateScale(this._iScale,_+" mi",_/c)):(g=this._getRoundNum(o),this._updateScale(this._iScale,g+" ft",g/o))},_updateScale:function(n,o,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),c=n/o;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,o*c}}),Ic=function(n){return new kl(n)},Bc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wo=Ge.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(rt.inlineSvg?Bc+" ":"")+"Leaflet</a>"},initialize:function(n){et(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Lt("div","leaflet-control-attribution"),ls(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new Wo().addTo(this)});var kc=function(n){return new Wo(n)};Ge.Layers=Bl,Ge.Zoom=Fo,Ge.Scale=kl,Ge.Attribution=Wo,us.layers=Pc,us.zoom=Ko,us.scale=Ic,us.attribution=kc;var fn=Ne.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fn.addTo=function(n,o){return n.addHandler(o,this),this};var Uc={Events:U},Ul=rt.touch?"touchstart mousedown":"mousedown",ni=J.extend({options:{clickTolerance:3},initialize:function(n,o,c,_){et(this,_),this._element=n,this._dragStartTarget=o||n,this._preventOutline=c},enable:function(){this._enabled||(pt(this._dragStartTarget,Ul,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,Ul,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ns(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ni._dragging=this,this._preventOutline&&ia(this._element),na(),wn(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,c=Si(this._element);this._startPoint=new j(o.clientX,o.clientY),this._startPos=ti(this._element),this._parentScale=ei(c);var _=n.type==="mousedown";pt(document,_?"mousemove":"touchmove",this._onMove,this),pt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,c=new j(o.clientX,o.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,le(n),this._moved||(this.fire("dragstart"),this._moved=!0,vt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),se(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Qt(document.body,"leaflet-dragging"),this._lastTarget&&(Qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Xo(),ea();var o=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Hl(n,o,c){var _,g=[1,4,2,8],y,w,D,k,Y,$,nt,at;for(y=0,$=n.length;y<$;y++)n[y]._code=wi(n[y],o);for(D=0;D<4;D++){for(nt=g[D],_=[],y=0,$=n.length,w=$-1;y<$;w=y++)k=n[y],Y=n[w],k._code&nt?Y._code&nt||(at=Va(Y,k,nt,o,c),at._code=wi(at,o),_.push(at)):(Y._code&nt&&(at=Va(Y,k,nt,o,c),at._code=wi(at,o),_.push(at)),_.push(k));n=_}return n}function Ya(n,o){var c,_,g,y,w,D,k,Y,$;if(!n||n.length===0)throw new Error("latlngs not passed");Ce(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var nt=W([0,0]),at=tt(n),mt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());mt<1700&&(nt=Jo(n));var Ft=n.length,ae=[];for(c=0;c<Ft;c++){var we=W(n[c]);ae.push(o.project(W([we.lat-nt.lat,we.lng-nt.lng])))}for(D=k=Y=0,c=0,_=Ft-1;c<Ft;_=c++)g=ae[c],y=ae[_],w=g.y*y.x-y.y*g.x,k+=(g.x+y.x)*w,Y+=(g.y+y.y)*w,D+=w*3;D===0?$=ae[0]:$=[k/D,Y/D];var an=o.unproject(C($));return W([an.lat+nt.lat,an.lng+nt.lng])}function Jo(n){for(var o=0,c=0,_=0,g=0;g<n.length;g++){var y=W(n[g]);o+=y.lat,c+=y.lng,_++}return W([o/_,c/_])}var Hc={__proto__:null,clipPolygon:Hl,polygonCenter:Ya,centroid:Jo};function Zl(n,o){if(!o||!n.length)return n.slice();var c=o*o;return n=Gc(n,c),n=qc(n,c),n}function $o(n,o,c){return Math.sqrt(xi(n,o,c,!0))}function Zc(n,o,c){return xi(n,o,c)}function qc(n,o){var c=n.length,_=typeof Uint8Array<"u"?Uint8Array:Array,g=new _(c);g[0]=g[c-1]=1,tr(n,g,o,0,c-1);var y,w=[];for(y=0;y<c;y++)g[y]&&w.push(n[y]);return w}function tr(n,o,c,_,g){var y=0,w,D,k;for(D=_+1;D<=g-1;D++)k=xi(n[D],n[_],n[g],!0),k>y&&(w=D,y=k);y>c&&(o[w]=1,tr(n,o,c,_,w),tr(n,o,c,w,g))}function Gc(n,o){for(var c=[n[0]],_=1,g=0,y=n.length;_<y;_++)Yc(n[_],n[g])>o&&(c.push(n[_]),g=_);return g<y-1&&c.push(n[y-1]),c}var ql;function Gl(n,o,c,_,g){var y=_?ql:wi(n,c),w=wi(o,c),D,k,Y;for(ql=w;;){if(!(y|w))return[n,o];if(y&w)return!1;D=y||w,k=Va(n,o,D,c,g),Y=wi(k,c),D===y?(n=k,y=Y):(o=k,w=Y)}}function Va(n,o,c,_,g){var y=o.x-n.x,w=o.y-n.y,D=_.min,k=_.max,Y,$;return c&8?(Y=n.x+y*(k.y-n.y)/w,$=k.y):c&4?(Y=n.x+y*(D.y-n.y)/w,$=D.y):c&2?(Y=k.x,$=n.y+w*(k.x-n.x)/y):c&1&&(Y=D.x,$=n.y+w*(D.x-n.x)/y),new j(Y,$,g)}function wi(n,o){var c=0;return n.x<o.min.x?c|=1:n.x>o.max.x&&(c|=2),n.y<o.min.y?c|=4:n.y>o.max.y&&(c|=8),c}function Yc(n,o){var c=o.x-n.x,_=o.y-n.y;return c*c+_*_}function xi(n,o,c,_){var g=o.x,y=o.y,w=c.x-g,D=c.y-y,k=w*w+D*D,Y;return k>0&&(Y=((n.x-g)*w+(n.y-y)*D)/k,Y>1?(g=c.x,y=c.y):Y>0&&(g+=w*Y,y+=D*Y)),w=n.x-g,D=n.y-y,_?w*w+D*D:new j(g,y)}function Ce(n){return!ct(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Yl(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ce(n)}function er(n,o){var c,_,g,y,w,D,k,Y;if(!n||n.length===0)throw new Error("latlngs not passed");Ce(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var $=W([0,0]),nt=tt(n),at=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());at<1700&&($=Jo(n));var mt=n.length,Ft=[];for(c=0;c<mt;c++){var ae=W(n[c]);Ft.push(o.project(W([ae.lat-$.lat,ae.lng-$.lng])))}for(c=0,_=0;c<mt-1;c++)_+=Ft[c].distanceTo(Ft[c+1])/2;if(_===0)Y=Ft[0];else for(c=0,y=0;c<mt-1;c++)if(w=Ft[c],D=Ft[c+1],g=w.distanceTo(D),y+=g,y>_){k=(y-_)/g,Y=[D.x-k*(D.x-w.x),D.y-k*(D.y-w.y)];break}var we=o.unproject(C(Y));return W([we.lat+$.lat,we.lng+$.lng])}var Vl={__proto__:null,simplify:Zl,pointToSegmentDistance:$o,closestPointOnSegment:Zc,clipSegment:Gl,_getEdgeIntersection:Va,_getBitCode:wi,_sqClosestPointOnSegment:xi,isFlat:Ce,_flat:Yl,polylineCenter:er},ja={project:function(n){return new j(n.lng,n.lat)},unproject:function(n){return new st(n.y,n.x)},bounds:new H([-180,-90],[180,90])},Xa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,c=this.R,_=n.lat*o,g=this.R_MINOR/c,y=Math.sqrt(1-g*g),w=y*Math.sin(_),D=Math.tan(Math.PI/4-_/2)/Math.pow((1-w)/(1+w),y/2);return _=-c*Math.log(Math.max(D,1e-10)),new j(n.lng*o*c,_)},unproject:function(n){for(var o=180/Math.PI,c=this.R,_=this.R_MINOR/c,g=Math.sqrt(1-_*_),y=Math.exp(-n.y/c),w=Math.PI/2-2*Math.atan(y),D=0,k=.1,Y;D<15&&Math.abs(k)>1e-7;D++)Y=g*Math.sin(w),Y=Math.pow((1-Y)/(1+Y),g/2),k=Math.PI/2-2*Math.atan(y*Y)-w,w+=k;return new st(w*o,n.x*o/c)}},jl={__proto__:null,LonLat:ja,Mercator:Xa,SphericalMercator:Ks},cs=f({},Rt,{code:"EPSG:3395",projection:Xa,transformation:(function(){var n=.5/(Math.PI*Xa.R);return fi(n,.5,-n,.5)})()}),Xl=f({},Rt,{code:"EPSG:4326",projection:ja,transformation:fi(1/180,1,-1/180,.5)}),Vc=f({},ie,{projection:ja,transformation:fi(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var c=o.lng-n.lng,_=o.lat-n.lat;return Math.sqrt(c*c+_*_)},infinite:!0});ie.Earth=Rt,ie.EPSG3395=cs,ie.EPSG3857=Ws,ie.EPSG900913=ko,ie.EPSG4326=Xl,ie.Simple=Vc;var dn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[T(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[T(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var c=this.getEvents();o.on(c,this),this.once("remove",function(){o.off(c,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=T(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=T(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return T(n)in this._layers},eachLayer:function(n,o){for(var c in this._layers)n.call(o,this._layers[c]);return this},_addLayers:function(n){n=n?ct(n)?n:[n]:[];for(var o=0,c=n.length;o<c;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[T(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=T(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,c=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var g=this._zoomBoundLayers[_].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),o=g.maxZoom===void 0?o:Math.max(o,g.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=dn.extend({initialize:function(n,o){et(this,o),this._layers={};var c,_;if(n)for(c=0,_=n.length;c<_;c++)this.addLayer(n[c])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),c,_;for(c in this._layers)_=this._layers[c],_[n]&&_[n].apply(_,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var c in this._layers)n.call(o,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return T(n)}}),Ql=function(n,o){return new Ai(n,o)},Qe=Ai.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Ai.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Ai.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new X;for(var o in this._layers){var c=this._layers[o];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),ra=function(n,o){return new Qe(n,o)},hs=Ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){et(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(c,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(_,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(n,o){var c=this.options,_=c[o+"Size"];typeof _=="number"&&(_=[_,_]);var g=C(_),y=C(o==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(c.className||""),y&&(n.style.marginLeft=-y.x+"px",n.style.marginTop=-y.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return rt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Qa(n){return new hs(n)}var fs=hs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof fs.imagePath!="string"&&(fs.imagePath=this._detectIconPath()),(this.options.imagePath||fs.imagePath)+hs.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(c,_,g){var y=_.exec(c);return y&&y[g]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Lt("div","leaflet-default-icon-path",document.body),o=yi(n,"background-image")||yi(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),nr=fn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ni(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,c=o._map,_=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=ti(o._icon),w=c.getPixelBounds(),D=c.getPixelOrigin(),k=F(w.min._subtract(D).add(g),w.max._subtract(D).subtract(g));if(!k.contains(y)){var Y=C((Math.max(k.max.x,y.x)-k.max.x)/(w.max.x-k.max.x)-(Math.min(k.min.x,y.x)-k.min.x)/(w.min.x-k.min.x),(Math.max(k.max.y,y.y)-k.max.y)/(w.max.y-k.max.y)-(Math.min(k.min.y,y.y)-k.min.y)/(w.min.y-k.min.y)).multiplyBy(_);c.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),se(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=jt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(It(this._panRequest),this._panRequest=jt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,c=o._shadow,_=ti(o._icon),g=o._map.layerPointToLatLng(_);c&&se(c,_),o._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){It(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ds=dn.extend({options:{icon:new fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){et(this,o),this._latlng=W(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=W(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),_=!1;c!==this._icon&&(this._icon&&this._removeIcon(),_=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),vt(c,o),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(vt(g,o),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&se(this._icon,n),this._shadow&&se(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nr)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nr(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&qe(this._icon,n),this._shadow&&qe(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,c=o.iconSize?C(o.iconSize):C(0,0),_=o.iconAnchor?C(o.iconAnchor):C(0,0);n.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:c.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ir(n,o){return new ds(n,o)}var Zn=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return et(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),la=Zn.extend({options:{fill:!0,radius:10},initialize:function(n,o){et(this,o),this._latlng=W(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=W(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return Zn.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,c=this._clickTolerance(),_=[n+c,o+c];this._pxBounds=new H(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fl(n,o){return new la(n,o)}var sr=la.extend({initialize:function(n,o,c){if(typeof o=="number"&&(o=f({},c,{radius:o})),et(this,o),this._latlng=W(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Zn.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,c=this._map,_=c.options.crs;if(_.distance===Rt.distance){var g=Math.PI/180,y=this._mRadius/Rt.R/g,w=c.project([o+y,n]),D=c.project([o-y,n]),k=w.add(D).divideBy(2),Y=c.unproject(k).lat,$=Math.acos((Math.cos(y*g)-Math.sin(o*g)*Math.sin(Y*g))/(Math.cos(o*g)*Math.cos(Y*g)))/g;(isNaN($)||$===0)&&($=y/Math.cos(Math.PI/180*o)),this._point=k.subtract(c.getPixelOrigin()),this._radius=isNaN($)?0:k.x-c.project([Y,n-$]).x,this._radiusY=k.y-w.y}else{var nt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(nt).x}this._updateBounds()}});function jc(n,o,c){return new sr(n,o,c)}var qn=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){et(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,c=null,_=xi,g,y,w=0,D=this._parts.length;w<D;w++)for(var k=this._parts[w],Y=1,$=k.length;Y<$;Y++){g=k[Y-1],y=k[Y];var nt=_(n,g,y,!0);nt<o&&(o=nt,c=_(n,g,y))}return c&&(c.distance=Math.sqrt(o)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return er(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=W(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new X,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ce(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],c=Ce(n),_=0,g=n.length;_<g;_++)c?(o[_]=W(n[_]),this._bounds.extend(o[_])):o[_]=this._convertLatLngs(n[_]);return o},_project:function(){var n=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new j(n,n);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,c){var _=n[0]instanceof st,g=n.length,y,w;if(_){for(w=[],y=0;y<g;y++)w[y]=this._map.latLngToLayerPoint(n[y]),c.extend(w[y]);o.push(w)}else for(y=0;y<g;y++)this._projectLatlngs(n[y],o,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,c,_,g,y,w,D,k;for(c=0,g=0,y=this._rings.length;c<y;c++)for(k=this._rings[c],_=0,w=k.length;_<w-1;_++)D=Gl(k[_],k[_+1],n,_,!0),D&&(o[g]=o[g]||[],o[g].push(D[0]),(D[1]!==k[_+1]||_===w-2)&&(o[g].push(D[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,c=0,_=n.length;c<_;c++)n[c]=Zl(n[c],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var c,_,g,y,w,D,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,y=this._parts.length;c<y;c++)for(D=this._parts[c],_=0,w=D.length,g=w-1;_<w;g=_++)if(!(!o&&_===0)&&$o(n,D[g],D[_])<=k)return!0;return!1}});function Xc(n,o){return new qn(n,o)}qn._flat=Yl;var _s=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=qn.prototype._convertLatLngs.call(this,n),c=o.length;return c>=2&&o[0]instanceof st&&o[0].equals(o[c-1])&&o.pop(),o},_setLatLngs:function(n){qn.prototype._setLatLngs.call(this,n),Ce(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ce(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,c=new j(o,o);if(n=new H(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,g=this._rings.length,y;_<g;_++)y=Hl(this._rings[_],n,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,c,_,g,y,w,D,k,Y;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(y=0,k=this._parts.length;y<k;y++)for(c=this._parts[y],w=0,Y=c.length,D=Y-1;w<Y;D=w++)_=c[w],g=c[D],_.y>n.y!=g.y>n.y&&n.x<(g.x-_.x)*(n.y-_.y)/(g.y-_.y)+_.x&&(o=!o);return o||qn.prototype._containsPoint.call(this,n,!0)}});function Fe(n,o){return new _s(n,o)}var Ke=Qe.extend({initialize:function(n,o){et(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=ct(n)?n:n.features,c,_,g;if(o){for(c=0,_=o.length;c<_;c++)g=o[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(n))return this;var w=ua(n,y);return w?(w.feature=ms(n),w.defaultOptions=w.options,this.resetStyle(w),y.onEachFeature&&y.onEachFeature(n,w),this.addLayer(w)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=f({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function ua(n,o){var c=n.type==="Feature"?n.geometry:n,_=c?c.coordinates:null,g=[],y=o&&o.pointToLayer,w=o&&o.coordsToLatLng||Fa,D,k,Y,$;if(!_&&!c)return null;switch(c.type){case"Point":return D=w(_),ar(y,n,D,o);case"MultiPoint":for(Y=0,$=_.length;Y<$;Y++)D=w(_[Y]),g.push(ar(y,n,D,o));return new Qe(g);case"LineString":case"MultiLineString":return k=ca(_,c.type==="LineString"?0:1,w),new qn(k,o);case"Polygon":case"MultiPolygon":return k=ca(_,c.type==="Polygon"?1:2,w),new _s(k,o);case"GeometryCollection":for(Y=0,$=c.geometries.length;Y<$;Y++){var nt=ua({geometry:c.geometries[Y],type:"Feature",properties:n.properties},o);nt&&g.push(nt)}return new Qe(g);case"FeatureCollection":for(Y=0,$=c.features.length;Y<$;Y++){var at=ua(c.features[Y],o);at&&g.push(at)}return new Qe(g);default:throw new Error("Invalid GeoJSON object.")}}function ar(n,o,c,_){return n?n(o,c):new ds(c,_&&_.markersInheritOptions&&_)}function Fa(n){return new st(n[1],n[0],n[2])}function ca(n,o,c){for(var _=[],g=0,y=n.length,w;g<y;g++)w=o?ca(n[g],o-1,c):(c||Fa)(n[g]),_.push(w);return _}function ha(n,o){return n=W(n),n.alt!==void 0?[O(n.lng,o),O(n.lat,o),O(n.alt,o)]:[O(n.lng,o),O(n.lat,o)]}function Ka(n,o,c,_){for(var g=[],y=0,w=n.length;y<w;y++)g.push(o?Ka(n[y],Ce(n[y])?0:o-1,c,_):ha(n[y],_));return!o&&c&&g.length>0&&g.push(g[0].slice()),g}function _n(n,o){return n.feature?f({},n.feature,{geometry:o}):ms(o)}function ms(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Mi={toGeoJSON:function(n){return _n(this,{type:"Point",coordinates:ha(this.getLatLng(),n)})}};ds.include(Mi),sr.include(Mi),la.include(Mi),qn.include({toGeoJSON:function(n){var o=!Ce(this._latlngs),c=Ka(this._latlngs,o?1:0,!1,n);return _n(this,{type:(o?"Multi":"")+"LineString",coordinates:c})}}),_s.include({toGeoJSON:function(n){var o=!Ce(this._latlngs),c=o&&!Ce(this._latlngs[0]),_=Ka(this._latlngs,c?2:o?1:0,!0,n);return o||(_=[_]),_n(this,{type:(c?"Multi":"")+"Polygon",coordinates:_})}}),Ai.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(c){o.push(c.toGeoJSON(n).geometry.coordinates)}),_n(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var c=o==="GeometryCollection",_=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(n);if(c)_.push(y.geometry);else{var w=ms(y);w.type==="FeatureCollection"?_.push.apply(_,w.features):_.push(w)}}}),c?_n(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Wa(n,o){return new Ke(n,o)}var Kl=Wa,On=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,c){this._url=n,this._bounds=tt(o),et(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&es(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=tt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:Lt("img");if(vt(o,"leaflet-image-layer"),this._zoomAnimated&&vt(o,"leaflet-zoom-animated"),this.options.className&&vt(o,this.options.className),o.onselectstart=A,o.onmousemove=A,o.onload=p(this.fire,this,"load"),o.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;sn(this._image,c,o)},_reset:function(){var n=this._image,o=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=o.getSize();se(n,o.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),ps=function(n,o,c){return new On(n,o,c)},Ja=On.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:Lt("video");if(vt(o,"leaflet-image-layer"),this._zoomAnimated&&vt(o,"leaflet-zoom-animated"),this.options.className&&vt(o,this.options.className),o.onselectstart=A,o.onmousemove=A,o.onloadeddata=p(this.fire,this,"load"),n){for(var c=o.getElementsByTagName("source"),_=[],g=0;g<c.length;g++)_.push(c[g].src);this._url=c.length>0?_:[o.src];return}ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var w=Lt("source");w.src=this._url[y],o.appendChild(w)}}});function Wl(n,o,c){return new Ja(n,o,c)}var ii=On.extend({_initImage:function(){var n=this._image=this._url;vt(n,"leaflet-image-layer"),this._zoomAnimated&&vt(n,"leaflet-zoom-animated"),this.options.className&&vt(n,this.options.className),n.onselectstart=A,n.onmousemove=A}});function Jl(n,o,c){return new ii(n,o,c)}var mn=dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof st||ct(n))?(this._latlng=W(n),et(this,o)):(et(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&qe(this._container,1),this.bringToFront(),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(qe(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(Qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=W(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&es(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof Qe){o=null;var c=this._source._layers;for(var _ in c)if(c[_]._map){o=c[_];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=C(this.options.offset),c=this._getAnchor();this._zoomAnimated?se(this._container,n.add(c)):o=o.add(n).add(c);var _=this._containerBottom=-o.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=_+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Tt.include({_initOverlay:function(n,o,c,_){var g=o;return g instanceof n||(g=new n(_).setContent(o)),c&&g.setLatLng(c),g}}),dn.include({_initOverlay:function(n,o,c,_){var g=c;return g instanceof n?(et(g,_),g._source=this):(g=o&&!_?o:new n(_,this),g.setContent(c)),g}});var fa=mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,mn.prototype.openOn.call(this,n)},onAdd:function(n){mn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",Hn))},onRemove:function(n){mn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",Hn))},getEvents:function(){var n=mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=Lt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Lt("div",n+"-content-wrapper",o);if(this._contentNode=Lt("div",n+"-content",c),ls(o),rs(this._contentNode),pt(o,"contextmenu",Hn),this._tipContainer=Lt("div",n+"-tip-container",o),this._tip=Lt("div",n+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Lt("a",n+"-close-button",o);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',pt(_,"click",function(g){le(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),o.width=c+1+"px",o.whiteSpace="",o.height="";var _=n.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&_>g?(o.height=g+"px",vt(n,y)):Qt(n,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();se(this._container,o.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(yi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+o,_=this._containerWidth,g=new j(this._containerLeft,-c-this._containerBottom);g._add(ti(this._container));var y=n.layerPointToContainerPoint(g),w=C(this.options.autoPanPadding),D=C(this.options.autoPanPaddingTopLeft||w),k=C(this.options.autoPanPaddingBottomRight||w),Y=n.getSize(),$=0,nt=0;y.x+_+k.x>Y.x&&($=y.x+_-Y.x+k.x),y.x-$-D.x<0&&($=y.x-D.x),y.y+c+k.y>Y.y&&(nt=y.y+c-Y.y+k.y),y.y-nt-D.y<0&&(nt=y.y-D.y),($||nt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([$,nt]))}},_getAnchor:function(){return C(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qc=function(n,o){return new fa(n,o)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(n,o,c){return this._initOverlay(fa,n,o,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),dn.include({bindPopup:function(n,o){return this._popup=this._initOverlay(fa,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Qe||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Mn(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof Zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var $a=mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){mn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){mn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=mn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lt("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,c,_=this._map,g=this._container,y=_.latLngToContainerPoint(_.getCenter()),w=_.layerPointToContainerPoint(n),D=this.options.direction,k=g.offsetWidth,Y=g.offsetHeight,$=C(this.options.offset),nt=this._getAnchor();D==="top"?(o=k/2,c=Y):D==="bottom"?(o=k/2,c=0):D==="center"?(o=k/2,c=Y/2):D==="right"?(o=0,c=Y/2):D==="left"?(o=k,c=Y/2):w.x<y.x?(D="right",o=0,c=Y/2):(D="left",o=k+($.x+nt.x)*2,c=Y/2),n=n.subtract(C(o,c,!0)).add($).add(nt),Qt(g,"leaflet-tooltip-right"),Qt(g,"leaflet-tooltip-left"),Qt(g,"leaflet-tooltip-top"),Qt(g,"leaflet-tooltip-bottom"),vt(g,"leaflet-tooltip-"+D),se(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&qe(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return C(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fc=function(n,o){return new $a(n,o)};Tt.include({openTooltip:function(n,o,c){return this._initOverlay($a,n,o,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),dn.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($a,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[o](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Qe||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(pt(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),pt(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,c,_;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),_=this._map.containerPointToLayerPoint(c),o=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(o)}});var or=hs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Re(o),o.appendChild(c.html)):o.innerHTML=c.html!==!1?c.html:"",c.bgPos){var _=C(c.bgPos);o.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function $l(n){return new or(n)}hs.Default=fs;var Oi=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){et(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Xt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof j?n:new j(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,c=-n(-1/0,1/0),_=0,g=o.length,y;_<g;_++)y=o[_].style.zIndex,o[_]!==this._container&&y&&(c=n(c,+y));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rt.ielt9){qe(this._container,this.options.opacity);var n=+new Date,o=!1,c=!1;for(var _ in this._tiles){var g=this._tiles[_];if(!(!g.current||!g.loaded)){var y=Math.min(1,(n-g.loaded)/200);qe(g.el,y),y<1?o=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),o&&(It(this._fadeFrame),this._fadeFrame=jt(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=o-Math.abs(n-c),this._onUpdateLevel(c)):(Xt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var _=this._levels[n],g=this._map;return _||(_=this._levels[n]={},_.el=Lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=o,_.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),_.zoom=n,this._setZoomTransform(_,g.getCenter(),g.getZoom()),A(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var n,o,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var _=o.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Xt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,c,_){var g=Math.floor(n/2),y=Math.floor(o/2),w=c-1,D=new j(+g,+y);D.z=+w;var k=this._tileCoordsToKey(D),Y=this._tiles[k];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),w>_?this._retainParent(g,y,w,_):!1)},_retainChildren:function(n,o,c,_){for(var g=2*n;g<2*n+2;g++)for(var y=2*o;y<2*o+2;y++){var w=new j(g,y);w.z=c+1;var D=this._tileCoordsToKey(w),k=this._tiles[D];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);c+1<_&&this._retainChildren(g,y,c+1,_)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,c,_){var g=Math.round(o);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!_||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,o)},_setZoomTransform:function(n,o,c){var _=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(o,c)).round();rt.any3d?sn(n.el,g,_):se(n.el,g)},_resetGrid:function(){var n=this._map,o=n.options.crs,c=this._tileSize=this.getTileSize(),_=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],_).x/c.x),Math.ceil(n.project([0,o.wrapLng[1]],_).x/c.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],_).y/c.x),Math.ceil(n.project([o.wrapLat[1],0],_).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,c=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),_=o.getZoomScale(c,this._tileZoom),g=o.project(n,this._tileZoom).floor(),y=o.getSize().divideBy(_*2);return new H(g.subtract(y),g.add(y))},_update:function(n){var o=this._map;if(o){var c=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(_),y=g.getCenter(),w=[],D=this.options.keepBuffer,k=new H(g.getBottomLeft().subtract([D,-D]),g.getTopRight().add([D,-D]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var $=this._tiles[Y].coords;($.z!==this._tileZoom||!k.contains(new j($.x,$.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var nt=g.min.y;nt<=g.max.y;nt++)for(var at=g.min.x;at<=g.max.x;at++){var mt=new j(at,nt);if(mt.z=this._tileZoom,!!this._isValidTile(mt)){var Ft=this._tiles[this._tileCoordsToKey(mt)];Ft?Ft.current=!0:w.push(mt)}}if(w.sort(function(we,an){return we.distanceTo(y)-an.distanceTo(y)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ae=document.createDocumentFragment();for(at=0;at<w.length;at++)this._addTile(w[at],ae);this._level.el.appendChild(ae)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var c=this._globalTileRange;if(!o.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!o.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(n);return tt(this.options.bounds).overlaps(_)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,c=this.getTileSize(),_=n.scaleBy(c),g=_.add(c),y=o.unproject(_,n.z),w=o.unproject(g,n.z);return[y,w]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),c=new X(o[0],o[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),c=new j(+o[0],+o[1]);return c.z=+o[2],c},_removeTile:function(n){var o=this._tiles[n];o&&(Xt(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){vt(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=A,n.onmousemove=A,rt.ielt9&&this.options.opacity<1&&qe(n,this.options.opacity)},_addTile:function(n,o){var c=this._getTilePos(n),_=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&jt(p(this._tileReady,this,n,null,g)),se(g,c),this._tiles[_]={el:g,coords:n,current:!0},o.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,o,c){o&&this.fire("tileerror",{error:o,tile:c,coords:n});var _=this._tileCoordsToKey(n);c=this._tiles[_],c&&(c.loaded=+new Date,this._map._fadeAnimated?(qe(c.el,0),It(this._fadeFrame),this._fadeFrame=jt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),o||(vt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rt.ielt9||!this._map._fadeAnimated?jt(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new j(this._wrapX?N(n.x,this._wrapX):n.x,this._wrapY?N(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new H(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function pn(n){return new Oi(n)}var Li=Oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=et(this,o),o.detectRetina&&rt.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var c=document.createElement("img");return pt(c,"load",p(this._tileOnLoad,this,o,c)),pt(c,"error",p(this._tileOnError,this,o,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var o={r:rt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=c),o["-y"]=c}return ot(this._url,f(o,this.options))},_tileOnLoad:function(n,o){rt.ielt9?setTimeout(p(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,c){var _=this.options.errorTileUrl;_&&o.getAttribute("src")!==_&&(o.src=_),n(c,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,c=this.options.zoomReverse,_=this.options.zoomOffset;return c&&(n=o-n),n+_},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=A,o.onerror=A,!o.complete)){o.src=bt;var c=this._tiles[n].coords;Xt(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:c})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",bt),Oi.prototype._removeTile.call(this,n)},_tileReady:function(n,o,c){if(!(!this._map||c&&c.getAttribute("src")===bt))return Oi.prototype._tileReady.call(this,n,o,c)}});function We(n,o){return new Li(n,o)}var Je=Li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var c=f({},this.defaultWmsParams);for(var _ in o)_ in this.options||(c[_]=o[_]);o=et(this,o);var g=o.detectRetina&&rt.retina?2:1,y=this.getTileSize();c.width=y.x*g,c.height=y.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Li.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),c=this._crs,_=F(c.project(o[0]),c.project(o[1])),g=_.min,y=_.max,w=(this._wmsVersion>=1.3&&this._crs===Xl?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),D=Li.prototype.getTileUrl.call(this,n);return D+yt(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(n,o){return f(this.wmsParams,n),o||this.redraw(),this}});function gs(n,o){return new Je(n,o)}Li.WMS=Je,We.wms=gs;var gn=dn.extend({options:{padding:.1},initialize:function(n){et(this,n),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var c=this._map.getZoomScale(o,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,o),y=_.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,o));rt.any3d?sn(this._container,y,c):se(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),c=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new H(c,c.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),da=gn.extend({options:{tolerance:0},getEvents:function(){var n=gn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");pt(n,"mousemove",this._onMouseMove,this),pt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){It(this._redrawRequest),delete this._ctx,Xt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var n=this._bounds,o=this._container,c=n.getSize(),_=rt.retina?2:1;se(o,n.min),o.width=_*c.x,o.height=_*c.y,o.style.width=c.x+"px",o.style.height=c.y+"px",rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[T(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,c=o.next,_=o.prev;c?c.prev=_:this._drawLast=_,_?_.next=c:this._drawFirst=c,delete n._order,delete this._layers[T(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),c=[],_,g;for(g=0;g<o.length;g++){if(_=Number(o[g]),isNaN(_))return;c.push(_)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||jt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var c=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)n=_.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var c,_,g,y,w=n._parts,D=w.length,k=this._ctx;if(D){for(k.beginPath(),c=0;c<D;c++){for(_=0,g=w[c].length;_<g;_++)y=w[c][_],k[_?"lineTo":"moveTo"](y.x,y.y);o&&k.closePath()}this._fillStroke(k,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,c=this._ctx,_=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||_)/_;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(o.x,o.y/g,_,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,o){var c=o.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),c,_,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(_=c);this._fireEvent(_?[_]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(Qt(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var c,_,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(o)&&(_=c);_!==this._hoveredLayer&&(this._handleMouseOut(n),_&&(vt(this._container,"leaflet-interactive"),this._fireEvent([_],n,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,c){this._map._fireDOMEvent(o,c||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var c=o.next,_=o.prev;if(c)c.prev=_;else return;_?_.next=c:c&&(this._drawFirst=c),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var c=o.next,_=o.prev;if(_)_.next=c;else return;c?c.prev=_:_&&(this._drawLast=_),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function _a(n){return rt.canvas?new da(n):null}var Ni=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vs={_initContainer:function(){this._container=Lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=Ni("shape");vt(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=Ni("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[T(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;Xt(o),n.removeInteractiveTarget(o),delete this._layers[T(n)]},_updateStyle:function(n){var o=n._stroke,c=n._fill,_=n.options,g=n._container;g.stroked=!!_.stroke,g.filled=!!_.fill,_.stroke?(o||(o=n._stroke=Ni("stroke")),g.appendChild(o),o.weight=_.weight+"px",o.color=_.color,o.opacity=_.opacity,_.dashArray?o.dashStyle=ct(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=_.lineCap.replace("butt","flat"),o.joinstyle=_.lineJoin):o&&(g.removeChild(o),n._stroke=null),_.fill?(c||(c=n._fill=Ni("fill")),g.appendChild(c),c.color=_.fillColor||_.color,c.opacity=_.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),c=Math.round(n._radius),_=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+c+","+_+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){bi(n._container)},_bringToBack:function(n){es(n._container)}},ma=rt.vml?Ni:Sl,si=gn.extend({_initContainer:function(){this._container=ma("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ma("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var n=this._bounds,o=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,c.setAttribute("width",o.x),c.setAttribute("height",o.y)),se(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=ma("path");n.options.className&&vt(o,n.options.className),n.options.interactive&&vt(o,"leaflet-interactive"),this._updateStyle(n),this._layers[T(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Xt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[T(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,c=n.options;o&&(c.stroke?(o.setAttribute("stroke",c.color),o.setAttribute("stroke-opacity",c.opacity),o.setAttribute("stroke-width",c.weight),o.setAttribute("stroke-linecap",c.lineCap),o.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?o.setAttribute("stroke-dasharray",c.dashArray):o.removeAttribute("stroke-dasharray"),c.dashOffset?o.setAttribute("stroke-dashoffset",c.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),c.fill?(o.setAttribute("fill",c.fillColor||c.color),o.setAttribute("fill-opacity",c.fillOpacity),o.setAttribute("fill-rule",c.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,El(n._parts,o))},_updateCircle:function(n){var o=n._point,c=Math.max(Math.round(n._radius),1),_=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+_+" 0 1,0 ",y=n._empty()?"M0 0":"M"+(o.x-c)+","+o.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,y)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){bi(n._path)},_bringToBack:function(n){es(n._path)}});rt.vml&&si.include(vs);function Ri(n){return rt.svg||rt.vml?new si(n):null}Tt.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&_a(n)||Ri(n)}});var tu=_s.extend({initialize:function(n,o){_s.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=tt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function $e(n,o){return new tu(n,o)}si.create=ma,si.pointsToPath=El,Ke.geometryToLayer=ua,Ke.coordsToLatLng=Fa,Ke.coordsToLatLngs=ca,Ke.latLngToCoords=ha,Ke.latLngsToCoords=Ka,Ke.getFeature=_n,Ke.asFeature=ms,Tt.mergeOptions({boxZoom:!0});var to=fn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),na(),this._startPoint=this._map.mouseEventToContainerPoint(n),pt(document,{contextmenu:Mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Lt("div","leaflet-zoom-box",this._container),vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new H(this._point,this._startPoint),c=o.getSize();se(this._box,o.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Xt(this._box),Qt(this._container,"leaflet-crosshair")),ea(),Xo(),Dt(document,{contextmenu:Mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var o=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tt.addInitHook("addHandler","boxZoom",to),Tt.mergeOptions({doubleClickZoom:!0});var Ln=fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,c=o.getZoom(),_=o.options.zoomDelta,g=n.originalEvent.shiftKey?c-_:c+_;o.options.doubleClickZoom==="center"?o.setZoom(g):o.setZoomAround(n.containerPoint,g)}});Tt.addInitHook("addHandler","doubleClickZoom",Ln),Tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rr=fn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ni(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qt(this._map._container,"leaflet-grab"),Qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=tt(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),c=this._initialWorldOffset,_=this._draggable._newPos.x,g=(_-o+c)%n+o-c,y=(_+o+c)%n-o-c,w=Math.abs(g+c)<Math.abs(y+c)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(n){var o=this._map,c=o.options,_=!c.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),_)o.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,w=c.easeLinearity,D=g.multiplyBy(w/y),k=D.distanceTo([0,0]),Y=Math.min(c.inertiaMaxSpeed,k),$=D.multiplyBy(Y/k),nt=Y/(c.inertiaDeceleration*w),at=$.multiplyBy(-nt/2).round();!at.x&&!at.y?o.fire("moveend"):(at=o._limitOffset(at,o.options.maxBounds),jt(function(){o.panBy(at,{duration:nt,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",rr),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pa=fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),pt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,c=n.scrollTop||o.scrollTop,_=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(_,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},c=this.keyCodes,_,g;for(_=0,g=c.left.length;_<g;_++)o[c.left[_]]=[-1*n,0];for(_=0,g=c.right.length;_<g;_++)o[c.right[_]]=[n,0];for(_=0,g=c.down.length;_<g;_++)o[c.down[_]]=[0,n];for(_=0,g=c.up.length;_<g;_++)o[c.up[_]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},c=this.keyCodes,_,g;for(_=0,g=c.zoomIn.length;_<g;_++)o[c.zoomIn[_]]=n;for(_=0,g=c.zoomOut.length;_<g;_++)o[c.zoomOut[_]]=-n},_addHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,c=this._map,_;if(o in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(_=this._panKeys[o],n.shiftKey&&(_=C(_).multiplyBy(3)),c.options.maxBounds&&(_=c._limitOffset(C(_),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(_)));c.panTo(g)}else c.panBy(_)}else if(o in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Mn(n)}}});Tt.addInitHook("addHandler","keyboard",pa),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ai=fn.extend({addHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=aa(n),c=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var _=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),Mn(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,y=c?Math.ceil(g/c)*c:g,w=n._limitZoom(o+(this._delta>0?y:-y))-o;this._delta=0,this._startTime=null,w&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+w):n.setZoomAround(this._lastMousePos,o+w))}});Tt.addInitHook("addHandler","scrollWheelZoom",ai);var lr=600;Tt.mergeOptions({tapHold:rt.touchNative&&rt.safari&&rt.mobile,tapTolerance:15});var eo=fn.extend({addHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new j(o.clientX,o.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(pt(document,"touchend",le),pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),lr),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Dt(document,"touchend",le),Dt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new j(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});c._simulated=!0,o.target.dispatchEvent(c)}});Tt.addInitHook("addHandler","tapHold",eo),Tt.mergeOptions({touchZoom:rt.touch,bounceAtZoomLimits:!0});var Di=fn.extend({addHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var c=o.mouseEventToContainerPoint(n.touches[0]),_=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(c.add(_)._divideBy(2))),this._startDist=c.distanceTo(_),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),le(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,c=o.mouseEventToContainerPoint(n.touches[0]),_=o.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(_)/this._startDist;if(this._zoom=o.getScaleZoom(g,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&g<1||this._zoom>o.getMaxZoom()&&g>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=c._add(_)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),It(this._animRequest);var w=p(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=jt(w,this,!0),le(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,It(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",Di),Tt.BoxZoom=to,Tt.DoubleClickZoom=Ln,Tt.Drag=rr,Tt.Keyboard=pa,Tt.ScrollWheelZoom=ai,Tt.TapHold=eo,Tt.TouchZoom=Di,a.Bounds=H,a.Browser=rt,a.CRS=ie,a.Canvas=da,a.Circle=sr,a.CircleMarker=la,a.Class=Ne,a.Control=Ge,a.DivIcon=or,a.DivOverlay=mn,a.DomEvent=zc,a.DomUtil=Il,a.Draggable=ni,a.Evented=J,a.FeatureGroup=Qe,a.GeoJSON=Ke,a.GridLayer=Oi,a.Handler=fn,a.Icon=hs,a.ImageOverlay=On,a.LatLng=st,a.LatLngBounds=X,a.Layer=dn,a.LayerGroup=Ai,a.LineUtil=Vl,a.Map=Tt,a.Marker=ds,a.Mixin=Uc,a.Path=Zn,a.Point=j,a.PolyUtil=Hc,a.Polygon=_s,a.Polyline=qn,a.Popup=fa,a.PosAnimation=Ga,a.Projection=jl,a.Rectangle=tu,a.Renderer=gn,a.SVG=si,a.SVGOverlay=ii,a.TileLayer=Li,a.Tooltip=$a,a.Transformation=Qi,a.Util=hi,a.VideoOverlay=Ja,a.bind=p,a.bounds=F,a.canvas=_a,a.circle=jc,a.circleMarker=Fl,a.control=us,a.divIcon=$l,a.extend=f,a.featureGroup=ra,a.geoJSON=Wa,a.geoJson=Kl,a.gridLayer=pn,a.icon=Qa,a.imageOverlay=ps,a.latLng=W,a.latLngBounds=tt,a.layerGroup=Ql,a.map=oa,a.marker=ir,a.point=C,a.polygon=Fe,a.polyline=Xc,a.popup=Qc,a.rectangle=$e,a.setOptions=et,a.stamp=T,a.svg=Ri,a.svgOverlay=Jl,a.tileLayer=We,a.tooltip=Fc,a.transformation=fi,a.version=u,a.videoOverlay=Wl;var ys=window.L;a.noConflict=function(){return window.L=ys,this},window.L=a}))})(Qr,Qr.exports)),Qr.exports}var xc=eC();function Ud(r,i,a){return Object.freeze({instance:r,context:i,container:a})}function Hd(r,i){return i==null?function(u,f){const m=gt.useRef(void 0);return m.current||(m.current=r(u,f)),m}:function(u,f){const m=gt.useRef(void 0);m.current||(m.current=r(u,f));const p=gt.useRef(u),{instance:b}=m.current;return gt.useEffect(function(){p.current!==u&&(i(b,u,p.current),p.current=u)},[b,u,i]),m}}function nC(r,i){gt.useEffect(function(){return(i.layerContainer??i.map).addLayer(r.instance),function(){i.layerContainer?.removeLayer(r.instance),i.map.removeLayer(r.instance)}},[i,r])}function dy(r){return function(a){const u=hy(),f=r(kd(a,u),u);return cy(u.map,a.attribution),fy(f.current,a.eventHandlers),nC(f.current,u),f}}function iC(r,i){const a=Hd(r,i),u=dy(a);return KT(u)}function sC(r,i){const a=Hd(r),u=$T(a,i);return WT(u)}function aC(r,i){const a=Hd(r,i),u=dy(a);return JT(u)}function oC(r,i,a){const{opacity:u,zIndex:f}=i;u!=null&&u!==a.opacity&&r.setOpacity(u),f!=null&&f!==a.zIndex&&r.setZIndex(f)}function rC({bounds:r,boundsOptions:i,center:a,children:u,className:f,id:m,placeholder:p,style:b,whenReady:T,zoom:E,...N},A){const[O]=gt.useState({className:f,id:m,style:b}),[V,K]=gt.useState(null),et=gt.useRef(void 0);gt.useImperativeHandle(A,()=>V?.map??null,[V]);const yt=gt.useCallback(ot=>{if(ot!==null&&!et.current){const ct=new xc.Map(ot,N);et.current=ct,a!=null&&E!=null?ct.setView(a,E):r!=null&&ct.fitBounds(r,i),T!=null&&ct.whenReady(T),K(QT(ct))}},[]);gt.useEffect(()=>()=>{V?.map.remove()},[V]);const $t=V?Zf.createElement(Bd,{value:V},u):p??null;return Zf.createElement("div",{...O,ref:yt},$t)}const lC=gt.forwardRef(rC),uC=iC(function({position:i,...a},u){const f=new xc.Marker(i,a);return Ud(f,FT(u,{overlayContainer:f}))},function(i,a,u){a.position!==u.position&&i.setLatLng(a.position),a.icon!=null&&a.icon!==u.icon&&i.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==u.zIndexOffset&&i.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==u.opacity&&i.setOpacity(a.opacity),i.dragging!=null&&a.draggable!==u.draggable&&(a.draggable===!0?i.dragging.enable():i.dragging.disable())}),cC=sC(function(i,a){const u=new xc.Popup(i,a.overlayContainer);return Ud(u,a)},function(i,a,{position:u},f){gt.useEffect(function(){const{instance:p}=i;function b(E){E.popup===p&&(p.update(),f(!0))}function T(E){E.popup===p&&f(!1)}return a.map.on({popupopen:b,popupclose:T}),a.overlayContainer==null?(u!=null&&p.setLatLng(u),p.openOn(a.map)):a.overlayContainer.bindPopup(p),function(){a.map.off({popupopen:b,popupclose:T}),a.overlayContainer?.unbindPopup(),a.map.removeLayer(p)}},[i,a,f,u])}),hC=aC(function({url:i,...a},u){const f=new xc.TileLayer(i,kd(a,u));return Ud(f,u)},function(i,a,u){oC(i,a,u);const{url:f}=a;f!=null&&f!==u.url&&i.setUrl(f)});let Hf=[];function fC({onBack:r,onShowOrganizerLogin:i,onShowVendorLogin:a}){const[u,f]=gt.useState([]);return gt.useEffect(()=>{async function m(){Hf=await uy("0"),f(Hf)}m()},[]),ut.jsxs("div",{className:"leafmap-screen",children:[ut.jsxs("header",{className:"leafmap-header",children:[ut.jsx("button",{className:"btn-back",onClick:r,children:"< 戻る"}),ut.jsxs("div",{className:"header-right-buttons",children:[ut.jsx("button",{className:"btn-header",onClick:i,children:"主催者はこちら"}),ut.jsx("button",{className:"btn-header",onClick:a,children:"出店者はこちら"})]})]}),ut.jsxs(lC,{center:[36.110251,140.102381],zoom:16,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[ut.jsx(hC,{attribution:'© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Hf.map(m=>ut.jsx(uC,{position:[m.lat,m.lng],children:ut.jsxs(cC,{children:[ut.jsx("strong",{children:m.name}),ut.jsx("br",{}),m.description]})},m.name))]})]})}function dC(){const[r,i]=gt.useState("event_select"),a=()=>i("event_select"),u=()=>i("leafmap"),f=()=>i("organizer_login"),m=()=>i("vender_login"),p=()=>i("vender_upload"),b=()=>{switch(r){case"main":return ut.jsx(GT,{onBack:a,onShowOrganizerLogin:f,onShowVendorLogin:m});case"organizer_login":return ut.jsx(YT,{onBack:u,onLoginSuccess:u});case"vender_login":return ut.jsx(VT,{onBack:u,onLoginSuccess:p});case"leafmap":return ut.jsx(fC,{onBack:a,onShowOrganizerLogin:f,onShowVendorLogin:m});case"event_select":default:return ut.jsx(k0,{onNavigateToMap:u})}};return ut.jsx(ut.Fragment,{children:b()})}B0.createRoot(document.getElementById("root")).render(ut.jsx(gt.StrictMode,{children:ut.jsx(dC,{})}));
