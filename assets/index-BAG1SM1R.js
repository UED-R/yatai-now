(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function hg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uf={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Eb(){if($p)return Kr;$p=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:m,ref:c!==void 0?c:null,props:d}}return Kr.Fragment=n,Kr.jsx=s,Kr.jsxs=s,Kr}var tv;function Cb(){return tv||(tv=1,Uf.exports=Eb()),Uf.exports}var tt=Cb(),If={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function wb(){if(ev)return St;ev=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,j={};function it(x,Z,F){this.props=x,this.context=Z,this.refs=j,this.updater=F||H}it.prototype.isReactComponent={},it.prototype.setState=function(x,Z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Z,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Tt(){}Tt.prototype=it.prototype;function yt(x,Z,F){this.props=x,this.context=Z,this.refs=j,this.updater=F||H}var at=yt.prototype=new Tt;at.constructor=yt,q(at,it.prototype),at.isPureReactComponent=!0;var It=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Wt=Object.prototype.hasOwnProperty;function Qt(x,Z,F,Q,et,rt){return F=rt.ref,{$$typeof:a,type:x,key:Z,ref:F!==void 0?F:null,props:rt}}function ae(x,Z){return Qt(x.type,Z,void 0,void 0,void 0,x.props)}function ue(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function xe(x){var Z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return Z[F]})}var Pt=/\/+/g;function Nt(x,Z){return typeof x=="object"&&x!==null&&x.key!=null?xe(""+x.key):Z.toString(36)}function an(){}function ve(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(an,an):(x.status="pending",x.then(function(Z){x.status==="pending"&&(x.status="fulfilled",x.value=Z)},function(Z){x.status==="pending"&&(x.status="rejected",x.reason=Z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ce(x,Z,F,Q,et){var rt=typeof x;(rt==="undefined"||rt==="boolean")&&(x=null);var $=!1;if(x===null)$=!0;else switch(rt){case"bigint":case"string":case"number":$=!0;break;case"object":switch(x.$$typeof){case a:case n:$=!0;break;case C:return $=x._init,ce($(x._payload),Z,F,Q,et)}}if($)return et=et(x),$=Q===""?"."+Nt(x,0):Q,It(et)?(F="",$!=null&&(F=$.replace(Pt,"$&/")+"/"),ce(et,Z,F,"",function(on){return on})):et!=null&&(ue(et)&&(et=ae(et,F+(et.key==null||x&&x.key===et.key?"":(""+et.key).replace(Pt,"$&/")+"/")+$)),Z.push(et)),1;$=0;var ie=Q===""?".":Q+":";if(It(x))for(var Lt=0;Lt<x.length;Lt++)Q=x[Lt],rt=ie+Nt(Q,Lt),$+=ce(Q,Z,F,rt,et);else if(Lt=A(x),typeof Lt=="function")for(x=Lt.call(x),Lt=0;!(Q=x.next()).done;)Q=Q.value,rt=ie+Nt(Q,Lt++),$+=ce(Q,Z,F,rt,et);else if(rt==="object"){if(typeof x.then=="function")return ce(ve(x),Z,F,Q,et);throw Z=String(x),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return $}function I(x,Z,F){if(x==null)return x;var Q=[],et=0;return ce(x,Q,"","",function(rt){return Z.call(F,rt,et++)}),Q}function J(x){if(x._status===-1){var Z=x._result;Z=Z(),Z.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=Z)}if(x._status===1)return x._result.default;throw x._result}var W=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Bt(){}return St.Children={map:I,forEach:function(x,Z,F){I(x,function(){Z.apply(this,arguments)},F)},count:function(x){var Z=0;return I(x,function(){Z++}),Z},toArray:function(x){return I(x,function(Z){return Z})||[]},only:function(x){if(!ue(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},St.Component=it,St.Fragment=s,St.Profiler=c,St.PureComponent=yt,St.StrictMode=r,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ft.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cloneElement=function(x,Z,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=q({},x.props),et=x.key,rt=void 0;if(Z!=null)for($ in Z.ref!==void 0&&(rt=void 0),Z.key!==void 0&&(et=""+Z.key),Z)!Wt.call(Z,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&Z.ref===void 0||(Q[$]=Z[$]);var $=arguments.length-2;if($===1)Q.children=F;else if(1<$){for(var ie=Array($),Lt=0;Lt<$;Lt++)ie[Lt]=arguments[Lt+2];Q.children=ie}return Qt(x.type,et,void 0,void 0,rt,Q)},St.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},St.createElement=function(x,Z,F){var Q,et={},rt=null;if(Z!=null)for(Q in Z.key!==void 0&&(rt=""+Z.key),Z)Wt.call(Z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(et[Q]=Z[Q]);var $=arguments.length-2;if($===1)et.children=F;else if(1<$){for(var ie=Array($),Lt=0;Lt<$;Lt++)ie[Lt]=arguments[Lt+2];et.children=ie}if(x&&x.defaultProps)for(Q in $=x.defaultProps,$)et[Q]===void 0&&(et[Q]=$[Q]);return Qt(x,rt,void 0,void 0,null,et)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:g,render:x}},St.isValidElement=ue,St.lazy=function(x){return{$$typeof:C,_payload:{_status:-1,_result:x},_init:J}},St.memo=function(x,Z){return{$$typeof:S,type:x,compare:Z===void 0?null:Z}},St.startTransition=function(x){var Z=ft.T,F={};ft.T=F;try{var Q=x(),et=ft.S;et!==null&&et(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Bt,W)}catch(rt){W(rt)}finally{ft.T=Z}},St.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},St.use=function(x){return ft.H.use(x)},St.useActionState=function(x,Z,F){return ft.H.useActionState(x,Z,F)},St.useCallback=function(x,Z){return ft.H.useCallback(x,Z)},St.useContext=function(x){return ft.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,Z){return ft.H.useDeferredValue(x,Z)},St.useEffect=function(x,Z,F){var Q=ft.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(x,Z)},St.useId=function(){return ft.H.useId()},St.useImperativeHandle=function(x,Z,F){return ft.H.useImperativeHandle(x,Z,F)},St.useInsertionEffect=function(x,Z){return ft.H.useInsertionEffect(x,Z)},St.useLayoutEffect=function(x,Z){return ft.H.useLayoutEffect(x,Z)},St.useMemo=function(x,Z){return ft.H.useMemo(x,Z)},St.useOptimistic=function(x,Z){return ft.H.useOptimistic(x,Z)},St.useReducer=function(x,Z,F){return ft.H.useReducer(x,Z,F)},St.useRef=function(x){return ft.H.useRef(x)},St.useState=function(x){return ft.H.useState(x)},St.useSyncExternalStore=function(x,Z,F){return ft.H.useSyncExternalStore(x,Z,F)},St.useTransition=function(){return ft.H.useTransition()},St.version="19.1.1",St}var nv;function wd(){return nv||(nv=1,If.exports=wb()),If.exports}var gt=wd();const yi=hg(gt);var Zf={exports:{}},Jr={},Yf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function Ab(){return iv||(iv=1,(function(a){function n(I,J){var W=I.length;I.push(J);t:for(;0<W;){var Bt=W-1>>>1,x=I[Bt];if(0<c(x,J))I[Bt]=J,I[W]=x,W=Bt;else break t}}function s(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var J=I[0],W=I.pop();if(W!==J){I[0]=W;t:for(var Bt=0,x=I.length,Z=x>>>1;Bt<Z;){var F=2*(Bt+1)-1,Q=I[F],et=F+1,rt=I[et];if(0>c(Q,W))et<x&&0>c(rt,Q)?(I[Bt]=rt,I[et]=W,Bt=et):(I[Bt]=Q,I[F]=W,Bt=F);else if(et<x&&0>c(rt,W))I[Bt]=rt,I[et]=W,Bt=et;else break t}}return J}function c(I,J){var W=I.sortIndex-J.sortIndex;return W!==0?W:I.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var y=[],S=[],C=1,w=null,A=3,H=!1,q=!1,j=!1,it=!1,Tt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function It(I){for(var J=s(S);J!==null;){if(J.callback===null)r(S);else if(J.startTime<=I)r(S),J.sortIndex=J.expirationTime,n(y,J);else break;J=s(S)}}function ft(I){if(j=!1,It(I),!q)if(s(y)!==null)q=!0,Wt||(Wt=!0,Nt());else{var J=s(S);J!==null&&ce(ft,J.startTime-I)}}var Wt=!1,Qt=-1,ae=5,ue=-1;function xe(){return it?!0:!(a.unstable_now()-ue<ae)}function Pt(){if(it=!1,Wt){var I=a.unstable_now();ue=I;var J=!0;try{t:{q=!1,j&&(j=!1,yt(Qt),Qt=-1),H=!0;var W=A;try{e:{for(It(I),w=s(y);w!==null&&!(w.expirationTime>I&&xe());){var Bt=w.callback;if(typeof Bt=="function"){w.callback=null,A=w.priorityLevel;var x=Bt(w.expirationTime<=I);if(I=a.unstable_now(),typeof x=="function"){w.callback=x,It(I),J=!0;break e}w===s(y)&&r(y),It(I)}else r(y);w=s(y)}if(w!==null)J=!0;else{var Z=s(S);Z!==null&&ce(ft,Z.startTime-I),J=!1}}break t}finally{w=null,A=W,H=!1}J=void 0}}finally{J?Nt():Wt=!1}}}var Nt;if(typeof at=="function")Nt=function(){at(Pt)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,ve=an.port2;an.port1.onmessage=Pt,Nt=function(){ve.postMessage(null)}}else Nt=function(){Tt(Pt,0)};function ce(I,J){Qt=Tt(function(){I(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(I){switch(A){case 1:case 2:case 3:var J=3;break;default:J=A}var W=A;A=J;try{return I()}finally{A=W}},a.unstable_requestPaint=function(){it=!0},a.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=A;A=I;try{return J()}finally{A=W}},a.unstable_scheduleCallback=function(I,J,W){var Bt=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Bt+W:Bt):W=Bt,I){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,I={id:C++,callback:J,priorityLevel:I,startTime:W,expirationTime:x,sortIndex:-1},W>Bt?(I.sortIndex=W,n(S,I),s(y)===null&&I===s(S)&&(j?(yt(Qt),Qt=-1):j=!0,ce(ft,W-Bt))):(I.sortIndex=x,n(y,I),q||H||(q=!0,Wt||(Wt=!0,Nt()))),I},a.unstable_shouldYield=xe,a.unstable_wrapCallback=function(I){var J=A;return function(){var W=A;A=J;try{return I.apply(this,arguments)}finally{A=W}}}})(qf)),qf}var sv;function xb(){return sv||(sv=1,Yf.exports=Ab()),Yf.exports}var Gf={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Mb(){if(av)return We;av=1;var a=wd();function n(y){var S="https://react.dev/errors/"+y;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)S+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,S,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:S,implementation:C}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,S){if(y==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(y,S){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(n(299));return d(y,S,null,C)},We.flushSync=function(y){var S=m.T,C=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=S,r.p=C,r.d.f()}},We.preconnect=function(y,S){typeof y=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,r.d.C(y,S))},We.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},We.preinit=function(y,S){if(typeof y=="string"&&S&&typeof S.as=="string"){var C=S.as,w=g(C,S.crossOrigin),A=typeof S.integrity=="string"?S.integrity:void 0,H=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;C==="style"?r.d.S(y,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:H}):C==="script"&&r.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:H,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},We.preinitModule=function(y,S){if(typeof y=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var C=g(S.as,S.crossOrigin);r.d.M(y,{crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&r.d.M(y)},We.preload=function(y,S){if(typeof y=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var C=S.as,w=g(C,S.crossOrigin);r.d.L(y,C,{crossOrigin:w,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},We.preloadModule=function(y,S){if(typeof y=="string")if(S){var C=g(S.as,S.crossOrigin);r.d.m(y,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else r.d.m(y)},We.requestFormReset=function(y){r.d.r(y)},We.unstable_batchedUpdates=function(y,S){return y(S)},We.useFormState=function(y,S,C){return m.H.useFormState(y,S,C)},We.useFormStatus=function(){return m.H.useHostTransitionStatus()},We.version="19.1.1",We}var ov;function fg(){if(ov)return Gf.exports;ov=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Gf.exports=Mb(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function Ob(){if(rv)return Jr;rv=1;var a=xb(),n=wd(),s=fg();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,o=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(o=e.return),t=e.return;while(t)}return e.tag===3?o:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(r(188))}function y(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(r(188));return e!==t?null:t}for(var o=t,u=e;;){var f=o.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===o)return g(f),t;if(_===u)return g(f),e;_=_.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=_;else{for(var b=!1,E=f.child;E;){if(E===o){b=!0,o=f,u=_;break}if(E===u){b=!0,u=f,o=_;break}E=E.sibling}if(!b){for(E=_.child;E;){if(E===o){b=!0,o=_,u=f;break}if(E===u){b=!0,u=_,o=f;break}E=E.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:e}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S(t),e!==null)return e;t=t.sibling}return null}var C=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),yt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Wt=Symbol.for("react.suspense_list"),Qt=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Pt=Symbol.iterator;function Nt(t){return t===null||typeof t!="object"?null:(t=Pt&&t[Pt]||t["@@iterator"],typeof t=="function"?t:null)}var an=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===an?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case it:return"Profiler";case j:return"StrictMode";case ft:return"Suspense";case Wt:return"SuspenseList";case ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case at:return(t.displayName||"Context")+".Provider";case yt:return(t._context.displayName||"Context")+".Consumer";case It:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qt:return e=t.displayName||null,e!==null?e:ve(t.type)||"Memo";case ae:e=t._payload,t=t._init;try{return ve(t(e))}catch{}}return null}var ce=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Bt=[],x=-1;function Z(t){return{current:t}}function F(t){0>x||(t.current=Bt[x],Bt[x]=null,x--)}function Q(t,e){x++,Bt[x]=t.current,t.current=e}var et=Z(null),rt=Z(null),$=Z(null),ie=Z(null);function Lt(t,e){switch(Q($,e),Q(rt,t),Q(et,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=xp(e),t=Mp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(et),Q(et,t)}function on(){F(et),F(rt),F($)}function si(t){t.memoizedState!==null&&Q(ie,t);var e=et.current,o=Mp(e,t.type);e!==o&&(Q(rt,t),Q(et,o))}function Zn(t){rt.current===t&&(F(et),F(rt)),ie.current===t&&(F(ie),Vr._currentValue=W)}var Yn=Object.prototype.hasOwnProperty,bi=a.unstable_scheduleCallback,jo=a.unstable_cancelCallback,zl=a.unstable_shouldYield,Pl=a.unstable_requestPaint,rn=a.unstable_now,qa=a.unstable_getCurrentPriorityLevel,Bl=a.unstable_ImmediatePriority,Wo=a.unstable_UserBlockingPriority,ns=a.unstable_NormalPriority,kl=a.unstable_LowPriority,Qo=a.unstable_IdlePriority,qc=a.log,Gc=a.unstable_setDisableYieldValue,Si=null,qe=null;function qn(t){if(typeof qc=="function"&&Gc(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Si,t)}catch{}}var Fe=Math.clz32?Math.clz32:Xc,Hl=Math.log,Ul=Math.LN2;function Xc(t){return t>>>=0,t===0?32:31-(Hl(t)/Ul|0)|0}var oa=256,is=4194304;function ai(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ga(t,e,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,_=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~_,u!==0?f=ai(u):(b&=E,b!==0?f=ai(b):o||(o=E&~t,o!==0&&(f=ai(o))))):(E=u&~_,E!==0?f=ai(E):b!==0?f=ai(b):o||(o=u&~t,o!==0&&(f=ai(o)))),f===0?0:e!==0&&e!==f&&(e&_)===0&&(_=f&-f,o=e&-e,_>=o||_===32&&(o&4194048)!==0)?e:f}function Gn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Vc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Il(){var t=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),t}function Fo(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function Xa(t){for(var e=[],o=0;31>o;o++)e.push(t);return e}function ss(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,e,o,u,f,_){var b=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,P=t.hiddenUpdates;for(o=b&~o;0<o;){var Y=31-Fe(o),X=1<<Y;E[Y]=0,O[Y]=-1;var B=P[Y];if(B!==null)for(P[Y]=null,Y=0;Y<B.length;Y++){var k=B[Y];k!==null&&(k.lane&=-536870913)}o&=~X}u!==0&&Zl(t,u,0),_!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=_&~(b&~e))}function Zl(t,e,o){t.pendingLanes|=e,t.suspendedLanes&=~e;var u=31-Fe(e);t.entangledLanes|=e,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function Yl(t,e){var o=t.entangledLanes|=e;for(t=t.entanglements;o;){var u=31-Fe(o),f=1<<u;f&e|t[u]&e&&(t[u]|=e),o&=~f}}function Ko(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ql(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:jp(t.type))}function $o(t,e){var o=J.p;try{return J.p=t,e()}finally{J.p=o}}var oi=Math.random().toString(36).slice(2),Me="__reactFiber$"+oi,Ge="__reactProps$"+oi,as="__reactContainer$"+oi,ln="__reactEvents$"+oi,ut="__reactListeners$"+oi,Gl="__reactHandles$"+oi,tr="__reactResources$"+oi,os="__reactMarker$"+oi;function Va(t){delete t[Me],delete t[Ge],delete t[ln],delete t[ut],delete t[Gl]}function ri(t){var e=t[Me];if(e)return e;for(var o=t.parentNode;o;){if(e=o[as]||o[Me]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(t=Dp(t);t!==null;){if(o=t[Me])return o;t=Dp(t)}return e}t=o,o=t.parentNode}return null}function Ti(t){if(t=t[Me]||t[as]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function On(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Ei(t){var e=t[tr];return e||(e=t[tr]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function be(t){t[os]=!0}var Xl=new Set,Vl={};function Ci(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for(Vl[t]=e,t=0;t<e.length;t++)Xl.add(e[t])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ra={},jl={};function Qc(t){return Yn.call(jl,t)?!0:Yn.call(ra,t)?!1:Wc.test(t)?jl[t]=!0:(ra[t]=!0,!1)}function ja(t,e,o){if(Qc(e))if(o===null)t.removeAttribute(e);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var u=e.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+o)}}function Wa(t,e,o){if(o===null)t.removeAttribute(e);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+o)}}function Xn(t,e,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(e,o,""+u)}}var la,rs;function Ai(t){if(la===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);la=e&&e[1]||"",rs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+rs}var Qa=!1;function xi(t,e){if(!t||Qa)return"";Qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(e){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var B=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){B=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){B=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),b=_[0],E=_[1];if(b&&E){var O=b.split(`
`),P=E.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===P.length)for(u=O.length-1,f=P.length-1;1<=u&&0<=f&&O[u]!==P[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==P[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==P[f]){var Y=`
`+O[u].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=u&&0<=f);break}}}finally{Qa=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Ai(o):""}function Rt(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return xi(t.type,!1);case 11:return xi(t.type.render,!1);case 1:return xi(t.type,!0);case 31:return Ai("Activity");default:return""}}function Ft(t){try{var e="";do e+=Rt(t),t=t.return;while(t);return e}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Be(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ls(t){var e=Mi(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),u=""+t[e];if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,_=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,_.call(this,b)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function us(t){t._valueTracker||(t._valueTracker=ls(t))}function bt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var o=e.getValue(),u="";return t&&(u=Mi(t)?t.checked?"true":"false":t.value),t=u,t!==o?(e.setValue(t),!0):!1}function Kt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var er=/[\n"\\]/g;function ke(t){return t.replace(er,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Xe(t,e,o,u,f,_,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),e!=null?b==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Be(e)):t.value!==""+Be(e)&&(t.value=""+Be(e)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),e!=null?cs(t,b,Be(e)):o!=null?cs(t,b,Be(o)):u!=null&&t.removeAttribute("value"),f==null&&_!=null&&(t.defaultChecked=!!_),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Be(E):t.removeAttribute("name")}function Wl(t,e,o,u,f,_,b,E){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),e!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||e!=null))return;o=o!=null?""+Be(o):"",e=e!=null?""+Be(e):o,E||e===t.value||(t.value=e),t.defaultValue=e}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function cs(t,e,o){e==="number"&&Kt(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function un(t,e,o,u){if(t=t.options,e){e={};for(var f=0;f<o.length;f++)e["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=e.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Be(o),e=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function he(t,e,o){if(e!=null&&(e=""+Be(e),e!==t.value&&(t.value=e),o==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=o!=null?""+Be(o):""}function li(t,e,o,u){if(e==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),e=o}o=Be(e),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Nn(t,e){if(e){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=e;return}}t.textContent=e}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(t,e,o){var u=e.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":u?t.setProperty(e,o):typeof o!="number"||o===0||ua.has(e)?e==="float"?t.cssFloat=o:t[e]=(""+o).trim():t[e]=o+"px"}function hs(t,e,o){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||e!=null&&e.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in e)u=e[f],e.hasOwnProperty(f)&&o[f]!==u&&Fa(t,f,u)}else for(var _ in e)e.hasOwnProperty(_)&&Fa(t,_,e[_])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ka=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fs(t){return Ka.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ha=null;function ds(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,ui=null;function Ql(t){var e=Ti(t);if(e&&(t=e.stateNode)){var o=t[Ge]||null;t:switch(t=e.stateNode,e.type){case"input":if(Xe(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),e=o.name,o.type==="radio"&&e!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ke(""+e)+'"][type="radio"]'),e=0;e<o.length;e++){var u=o[e];if(u!==t&&u.form===t.form){var f=u[Ge]||null;if(!f)throw Error(r(90));Xe(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<o.length;e++)u=o[e],u.form===t.form&&bt(u)}break t;case"textarea":he(t,o.value,o.defaultValue);break t;case"select":e=o.value,e!=null&&un(t,!!o.multiple,e,!1)}}}var vt=!1;function pn(t,e,o){if(vt)return t(e,o);vt=!0;try{var u=t(e);return u}finally{if(vt=!1,(Oi!==null||ui!==null)&&(qu(),Oi&&(e=Oi,t=ui,ui=Oi=null,Ql(e),t)))for(e=0;e<t.length;e++)Ql(t[e])}}function kt(t,e){var o=t.stateNode;if(o===null)return null;var u=o[Ge]||null;if(u===null)return null;o=u[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,e,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Ln)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{fa=!1}var Dn=null,Vn=null,_s=null;function ms(){if(_s)return _s;var t,e=Vn,o=e.length,u,f="value"in Dn?Dn.value:Dn.textContent,_=f.length;for(t=0;t<o&&e[t]===f[t];t++);var b=o-t;for(u=1;u<=b&&e[o-u]===f[_-u];u++);return _s=f.slice(t,1<u?1-u:void 0)}function _e(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rn(){return!0}function ir(){return!1}function He(t){function e(o,u,f,_,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(_):_[E]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rn:ir,this.isPropagationStopped=ir,this}return C(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rn)},persist:function(){},isPersistent:Rn}),e}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=He(Li),Di=C({},Li,{view:0,detail:0}),Fc=He(Di),Ja,Ct,_a,Ve=C({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Ja=t.screenX-_a.screenX,Ct=t.screenY-_a.screenY):Ct=Ja=0,_a=t),Ja)},movementY:function(t){return"movementY"in t?t.movementY:Ct}}),ps=He(Ve),Fl=C({},Ve,{dataTransfer:0}),Kc=He(Fl),sr=C({},Di,{relatedTarget:0}),ar=He(sr),Kl=C({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=He(Kl),$c=C({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),or=He($c),th=C({},Li,{data:0}),vn=He(th),eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ci[t])?!!e[t]:!1}function $a(){return $l}var rr=C({},Di,{key:function(t){if(t.key){var e=eh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_e(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(t){return t.type==="keypress"?_e(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_e(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nh=He(rr),tu=C({},Ve,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=He(tu),ih=C({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),sh=He(ih),ur=C({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=He(ur),eu=C({},Ve,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nu=He(eu),to=C({},Li,{newState:0,oldState:0}),Ri=He(to),oh=[9,13,27,32],zi=Ln&&"CompositionEvent"in window,Oe=null;Ln&&"documentMode"in document&&(Oe=document.documentMode);var iu=Ln&&"TextEvent"in window&&!Oe,cr=Ln&&(!zi||Oe&&8<Oe&&11>=Oe),su=" ",eo=!1;function no(t,e){switch(t){case"keyup":return oh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function ou(t,e){switch(t){case"compositionend":return au(e);case"keypress":return e.which!==32?null:(eo=!0,su);case"textInput":return t=e.data,t===su&&eo?null:t;default:return null}}function rh(t,e){if(vs)return t==="compositionend"||!zi&&no(t,e)?(t=ms(),_s=Vn=Dn=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cr&&e.locale!=="ko"?null:e.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gn[t.type]:e==="textarea"}function ru(t,e,o,u){Oi?ui?ui.push(u):ui=[u]:Oi=u,e=Qu(e,"onChange"),0<e.length&&(o=new da("onChange","change",null,o,u),t.push({event:o,listeners:e}))}var Ke=null,ma=null;function gs(t){Tp(t,0)}function io(t){var e=On(t);if(bt(e))return t}function ys(t,e){if(t==="change")return e}var hr=!1;if(Ln){var bs;if(Ln){var fr="oninput"in document;if(!fr){var jn=document.createElement("div");jn.setAttribute("oninput","return;"),fr=typeof jn.oninput=="function"}bs=fr}else bs=!1;hr=bs&&(!document.documentMode||9<document.documentMode)}function pa(){Ke&&(Ke.detachEvent("onpropertychange",lu),ma=Ke=null)}function lu(t){if(t.propertyName==="value"&&io(ma)){var e=[];ru(e,ma,t,ds(t)),pn(gs,e)}}function dr(t,e,o){t==="focusin"?(pa(),Ke=e,ma=o,Ke.attachEvent("onpropertychange",lu)):t==="focusout"&&pa()}function lh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(ma)}function Wn(t,e){if(t==="click")return io(e)}function uh(t,e){if(t==="input"||t==="change")return io(e)}function Ss(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:Ss;function $e(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var o=Object.keys(t),u=Object.keys(e);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Yn.call(e,f)||!Je(t[f],e[f]))return!1}return!0}function va(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _r(t,e){var o=va(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=e&&u>=e)return{node:o,offset:e-t};t=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=va(o)}}function so(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?so(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ga(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Kt(t.document);e instanceof t.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)t=e.contentWindow;else break;e=Kt(t.document)}return e}function ya(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ao=Ln&&"documentMode"in document&&11>=document.documentMode,yn=null,Ts=null,Bi=null,oo=!1;function uu(t,e,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;oo||yn==null||yn!==Kt(u)||(u=yn,"selectionStart"in u&&ya(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bi&&$e(Bi,u)||(Bi=u,u=Qu(Ts,"onSelect"),0<u.length&&(e=new da("onSelect","select",null,e,o),t.push({event:e,listeners:u}),e.target=yn)))}function zn(t,e){var o={};return o[t.toLowerCase()]=e.toLowerCase(),o["Webkit"+t]="webkit"+e,o["Moz"+t]="moz"+e,o}var Es={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},ro={},cu={};Ln&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function hi(t){if(ro[t])return ro[t];if(!Es[t])return t;var e=Es[t],o;for(o in e)if(e.hasOwnProperty(o)&&o in cu)return ro[t]=e[o];return t}var hu=hi("animationend"),bn=hi("animationiteration"),ba=hi("animationstart"),ch=hi("transitionrun"),lo=hi("transitionstart"),hh=hi("transitioncancel"),mr=hi("transitionend"),fu=new Map,ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ki.push("scrollEnd");function Sn(t,e){fu.set(t,e),Ci(e,[t])}var Hi=new WeakMap;function tn(t,e){if(typeof t=="object"&&t!==null){var o=Hi.get(t);return o!==void 0?o:(e={value:t,source:e,stack:Ft(e)},Hi.set(t,e),e)}return{value:t,source:e,stack:Ft(e)}}var en=[],Cs=0,Tn=0;function Sa(){for(var t=Cs,e=Tn=Cs=0;e<t;){var o=en[e];en[e++]=null;var u=en[e];en[e++]=null;var f=en[e];en[e++]=null;var _=en[e];if(en[e++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}_!==0&&Ea(o,f,_)}}function Ta(t,e,o,u){en[Cs++]=t,en[Cs++]=e,en[Cs++]=o,en[Cs++]=u,Tn|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ui(t,e,o,u){return Ta(t,e,o,u),fi(t)}function ws(t,e){return Ta(t,null,null,e),fi(t)}function Ea(t,e,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,_=t.return;_!==null;)_.childLanes|=o,u=_.alternate,u!==null&&(u.childLanes|=o),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(f=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,f&&e!==null&&(f=31-Fe(o),t=_.hiddenUpdates,u=t[f],u===null?t[f]=[e]:u.push(e),e.lane=o|536870912),_):null}function fi(t){if(50<Hr)throw Hr=0,uf=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ii={};function du(t,e,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,o,u){return new du(t,e,o,u)}function uo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,e){var o=t.alternate;return o===null?(o=nn(t.tag,e,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=e,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,e=t.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function pr(t,e){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,e=o.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ca(t,e,o,u,f,_){var b=0;if(u=t,typeof t=="function")uo(t)&&(b=1);else if(typeof t=="string")b=cb(t,o,et.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ue:return t=nn(31,o,e,f),t.elementType=ue,t.lanes=_,t;case q:return di(o.children,f,_,e);case j:b=8,f|=24;break;case it:return t=nn(12,o,e,f|2),t.elementType=it,t.lanes=_,t;case ft:return t=nn(13,o,e,f),t.elementType=ft,t.lanes=_,t;case Wt:return t=nn(19,o,e,f),t.elementType=Wt,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case at:b=10;break t;case yt:b=9;break t;case It:b=11;break t;case Qt:b=14;break t;case ae:b=16,u=null;break t}b=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return e=nn(b,o,e,f),e.elementType=t,e.type=u,e.lanes=_,e}function di(t,e,o,u){return t=nn(7,t,u,e),t.lanes=o,t}function vr(t,e,o){return t=nn(6,t,null,e),t.lanes=o,t}function co(t,e,o){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=o,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Zi=[],As=0,i=null,l=0,h=[],p=0,v=null,T=1,M="";function R(t,e){Zi[As++]=l,Zi[As++]=i,i=t,l=e}function U(t,e,o){h[p++]=T,h[p++]=M,h[p++]=v,v=t;var u=T;t=M;var f=32-Fe(u)-1;u&=~(1<<f),o+=1;var _=32-Fe(e)+f;if(30<_){var b=f-f%5;_=(u&(1<<b)-1).toString(32),u>>=b,f-=b,T=1<<32-Fe(e)+f|o<<f|u,M=_+t}else T=1<<_|o<<f|u,M=t}function V(t){t.return!==null&&(R(t,1),U(t,1,0))}function nt(t){for(;t===i;)i=Zi[--As],Zi[As]=null,l=Zi[--As],Zi[As]=null;for(;t===v;)v=h[--p],h[p]=null,M=h[--p],h[p]=null,T=h[--p],h[p]=null}var st=null,lt=null,pt=!1,Jt=null,fe=!1,Ne=Error(r(519));function cn(t){var e=Error(r(418,""));throw Ms(tn(e,t)),Ne}function _u(t){var e=t.stateNode,o=t.type,u=t.memoizedProps;switch(e[Me]=t,e[Ge]=u,o){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(o=0;o<Ir.length;o++)Mt(Ir[o],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Wl(e,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),us(e);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),li(e,u.value,u.defaultValue,u.children),us(e)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||e.textContent===""+o||u.suppressHydrationWarning===!0||Ap(e.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),u.onScroll!=null&&Mt("scroll",e),u.onScrollEnd!=null&&Mt("scrollend",e),u.onClick!=null&&(e.onclick=Fu),e=!0):e=!1,e||cn(t)}function mu(t){for(st=t.return;st;)switch(st.tag){case 5:case 13:fe=!1;return;case 27:case 3:fe=!0;return;default:st=st.return}}function wa(t){if(t!==st)return!1;if(!pt)return mu(t),pt=!0,!1;var e=t.tag,o;if((o=e!==3&&e!==27)&&((o=e===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||wf(t.type,t.memoizedProps)),o=!o),o&&lt&&cn(t),mu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(e===0){lt=Jn(t.nextSibling);break t}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++;t=t.nextSibling}lt=null}}else e===27?(e=lt,qs(t.type)?(t=Of,Of=null,lt=t):lt=e):lt=st?Jn(t.stateNode.nextSibling):null;return!0}function xs(){lt=st=null,pt=!1}function pu(){var t=Jt;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Jt=null),t}function Ms(t){Jt===null?Jt=[t]:Jt.push(t)}var oe=Z(null),Bn=null,Qn=null;function _i(t,e,o){Q(oe,e._currentValue),e._currentValue=o}function Fn(t){t._currentValue=oe.current,F(oe)}function Aa(t,e,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,u!==null&&(u.childLanes|=e)):u!==null&&(u.childLanes&e)!==e&&(u.childLanes|=e),t===o)break;t=t.return}}function ho(t,e,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var _=f.dependencies;if(_!==null){var b=f.child;_=_.firstContext;t:for(;_!==null;){var E=_;_=f;for(var O=0;O<e.length;O++)if(E.context===e[O]){_.lanes|=o,E=_.alternate,E!==null&&(E.lanes|=o),Aa(_.return,o,t),u||(b=null);break t}_=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,_=b.alternate,_!==null&&(_.lanes|=o),Aa(b,o,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function xa(t,e,o,u){t=null;for(var f=e,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var E=f.type;Je(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===ie.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Vr):t=[Vr])}f=f.return}t!==null&&ho(e,t,o,u),e.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!Je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){Bn=t,Qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return f_(Bn,t)}function gu(t,e){return Bn===null&&Ma(t),f_(t,e)}function f_(t,e){var o=e._currentValue;if(e={context:e,memoizedValue:o,next:null},Qn===null){if(t===null)throw Error(r(308));Qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Qn=Qn.next=e;return o}var u0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){e.aborted=!0,t.forEach(function(o){return o()})}},c0=a.unstable_scheduleCallback,h0=a.unstable_NormalPriority,Ee={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new u0,data:new Map,refCount:0}}function gr(t){t.refCount--,t.refCount===0&&c0(h0,function(){t.controller.abort()})}var yr=null,dh=0,fo=0,_o=null;function f0(t,e){if(yr===null){var o=yr=[];dh=0,fo=pf(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dh++,e.then(d_,d_),e}function d_(){if(--dh===0&&yr!==null){_o!==null&&(_o.status="fulfilled");var t=yr;yr=null,fo=0,_o=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function d0(t,e){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=e;for(var f=0;f<o.length;f++)(0,o[f])(e)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var __=I.S;I.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&f0(t,e),__!==null&&__(t,e)};var Oa=Z(null);function _h(){var t=Oa.current;return t!==null?t:$t.pooledCache}function yu(t,e){e===null?Q(Oa,Oa.current):Q(Oa,e.pool)}function m_(){var t=_h();return t===null?null:{parent:Ee._currentValue,pool:t}}var br=Error(r(460)),p_=Error(r(474)),bu=Error(r(542)),mh={then:function(){}};function v_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Su(){}function g_(t,e,o){switch(o=t[o],o===void 0?t.push(e):o!==e&&(e.then(Su,Su),e=o),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,b_(t),t;default:if(typeof e.status=="string")e.then(Su,Su);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(u){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=u}},function(u){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=u}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,b_(t),t}throw Sr=e,br}}var Sr=null;function y_(){if(Sr===null)throw Error(r(459));var t=Sr;return Sr=null,t}function b_(t){if(t===br||t===bu)throw Error(r(483))}var Os=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Zt&2)!==0){var f=u.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),u.pending=e,e=fi(t),Ea(t,null,o),e}return Ta(t,u,e,o),fi(t)}function Tr(t,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194048)!==0)){var u=e.lanes;u&=t.pendingLanes,o|=u,e.lanes=o,Yl(t,o)}}function gh(t,e){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?f=_=b:_=_.next=b,o=o.next}while(o!==null);_===null?f=_=e:_=_.next=e}else f=_=e;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=e:t.next=e,o.lastBaseUpdate=e}var yh=!1;function Er(){if(yh){var t=_o;if(t!==null)throw t}}function Cr(t,e,o,u){yh=!1;var f=t.updateQueue;Os=!1;var _=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,P=O.next;O.next=null,b===null?_=P:b.next=P,b=O;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==b&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=O))}if(_!==null){var X=f.baseState;b=0,Y=P=O=null,E=_;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(zt&B)===B:(u&B)===B){B!==0&&B===fo&&(yh=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ht=E;B=e;var Xt=o;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){X=mt.call(Xt,X,B);break t}X=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,B=typeof mt=="function"?mt.call(Xt,X,B):mt,B==null)break t;X=C({},X,B);break t;case 2:Os=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=f.callbacks,k===null?f.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=k,O=X):Y=Y.next=k,b|=B;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);Y===null&&(O=X),f.baseState=O,f.firstBaseUpdate=P,f.lastBaseUpdate=Y,_===null&&(f.shared.lanes=0),Us|=b,t.lanes=b,t.memoizedState=X}}function S_(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function T_(t,e){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)S_(o[t],e)}var mo=Z(null),Tu=Z(0);function E_(t,e){t=Wi,Q(Tu,t),Q(mo,e),Wi=t|e.baseLanes}function bh(){Q(Tu,Wi),Q(mo,mo.current)}function Sh(){Wi=Tu.current,F(mo),F(Tu)}var Ds=0,Et=null,qt=null,Se=null,Eu=!1,po=!1,Na=!1,Cu=0,wr=0,vo=null,_0=0;function ge(){throw Error(r(321))}function Th(t,e){if(e===null)return!1;for(var o=0;o<e.length&&o<t.length;o++)if(!Je(t[o],e[o]))return!1;return!0}function Eh(t,e,o,u,f,_){return Ds=_,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?om:rm,Na=!1,_=o(u,f),Na=!1,po&&(_=w_(e,o,u,f)),C_(t),_}function C_(t){I.H=Nu;var e=qt!==null&&qt.next!==null;if(Ds=0,Se=qt=Et=null,Eu=!1,wr=0,vo=null,e)throw Error(r(300));t===null||Le||(t=t.dependencies,t!==null&&vu(t)&&(Le=!0))}function w_(t,e,o,u){Et=t;var f=0;do{if(po&&(vo=null),wr=0,po=!1,25<=f)throw Error(r(301));if(f+=1,Se=qt=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}I.H=S0,_=e(o,u)}while(po);return _}function m0(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?Ar(e):e,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(Et.flags|=1024),e}function Ch(){var t=Cu!==0;return Cu=0,t}function wh(t,e,o){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o}function Ah(t){if(Eu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Eu=!1}Ds=0,Se=qt=Et=null,po=!1,wr=Cu=0,vo=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Et.memoizedState=Se=t:Se=Se.next=t,Se}function Te(){if(qt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Se===null?Et.memoizedState:Se.next;if(e!==null)Se=e,qt=t;else{if(t===null)throw Et.alternate===null?Error(r(467)):Error(r(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Se===null?Et.memoizedState=Se=t:Se=Se.next=t}return Se}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ar(t){var e=wr;return wr+=1,vo===null&&(vo=[]),t=g_(vo,t,e),e=Et,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?om:rm),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ar(t);if(t.$$typeof===at)return je(t)}throw Error(r(438,String(t)))}function Mh(t){var e=null,o=Et.updateQueue;if(o!==null&&(e=o.memoCache),e==null){var u=Et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(e={data:u.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),o===null&&(o=xh(),Et.updateQueue=o),o.memoCache=e,o=e.data[e.index],o===void 0)for(o=e.data[e.index]=Array(t),u=0;u<t;u++)o[u]=xe;return e.index++,o}function Yi(t,e){return typeof e=="function"?e(t):e}function Au(t){var e=Te();return Oh(e,qt,t)}function Oh(t,e,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=t.baseQueue,_=u.pending;if(_!==null){if(f!==null){var b=f.next;f.next=_.next,_.next=b}e.baseQueue=f=_,u.pending=null}if(_=t.baseState,f===null)t.memoizedState=_;else{e=f.next;var E=b=null,O=null,P=e,Y=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(zt&X)===X:(Ds&X)===X){var B=P.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===fo&&(Y=!0);else if((Ds&B)===B){P=P.next,B===fo&&(Y=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(E=O=X,b=_):O=O.next=X,Et.lanes|=B,Us|=B;X=P.action,Na&&o(_,X),_=P.hasEagerState?P.eagerState:o(_,X)}else B={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(E=O=B,b=_):O=O.next=B,Et.lanes|=X,Us|=X;P=P.next}while(P!==null&&P!==e);if(O===null?b=_:O.next=E,!Je(_,t.memoizedState)&&(Le=!0,Y&&(o=_o,o!==null)))throw o;t.memoizedState=_,t.baseState=b,t.baseQueue=O,u.lastRenderedState=_}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Nh(t){var e=Te(),o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,_=e.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do _=t(_,b.action),b=b.next;while(b!==f);Je(_,e.memoizedState)||(Le=!0),e.memoizedState=_,e.baseQueue===null&&(e.baseState=_),o.lastRenderedState=_}return[_,u]}function A_(t,e,o){var u=Et,f=Te(),_=pt;if(_){if(o===void 0)throw Error(r(407));o=o()}else o=e();var b=!Je((qt||f).memoizedState,o);b&&(f.memoizedState=o,Le=!0),f=f.queue;var E=O_.bind(null,u,f,t);if(xr(2048,8,E,[t]),f.getSnapshot!==e||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,go(9,xu(),M_.bind(null,u,f,o,e),null),$t===null)throw Error(r(349));_||(Ds&124)!==0||x_(u,e,o)}return o}function x_(t,e,o){t.flags|=16384,t={getSnapshot:e,value:o},e=Et.updateQueue,e===null?(e=xh(),Et.updateQueue=e,e.stores=[t]):(o=e.stores,o===null?e.stores=[t]:o.push(t))}function M_(t,e,o,u){e.value=o,e.getSnapshot=u,N_(e)&&L_(t)}function O_(t,e,o){return o(function(){N_(e)&&L_(t)})}function N_(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!Je(t,o)}catch{return!0}}function L_(t){var e=ws(t,2);e!==null&&xn(e,t,2)}function Lh(t){var e=hn();if(typeof t=="function"){var o=t;if(t=o(),Na){qn(!0);try{o()}finally{qn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e}function D_(t,e,o,u){return t.baseState=o,Oh(t,qt,typeof u=="function"?u:Yi)}function p0(t,e,o,u,f){if(Ou(t))throw Error(r(485));if(t=e.action,t!==null){var _={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};I.T!==null?o(!0):_.isTransition=!1,u(_),o=e.pending,o===null?(_.next=e.pending=_,R_(e,_)):(_.next=o.next,e.pending=o.next=_)}}function R_(t,e){var o=e.action,u=e.payload,f=t.state;if(e.isTransition){var _=I.T,b={};I.T=b;try{var E=o(f,u),O=I.S;O!==null&&O(b,E),z_(t,e,E)}catch(P){Dh(t,e,P)}finally{I.T=_}}else try{_=o(f,u),z_(t,e,_)}catch(P){Dh(t,e,P)}}function z_(t,e,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){P_(t,e,u)},function(u){return Dh(t,e,u)}):P_(t,e,o)}function P_(t,e,o){e.status="fulfilled",e.value=o,B_(e),t.state=o,e=t.pending,e!==null&&(o=e.next,o===e?t.pending=null:(o=o.next,e.next=o,R_(t,o)))}function Dh(t,e,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do e.status="rejected",e.reason=o,B_(e),e=e.next;while(e!==u)}t.action=null}function B_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function k_(t,e){return e}function H_(t,e){if(pt){var o=$t.formState;if(o!==null){t:{var u=Et;if(pt){if(lt){e:{for(var f=lt,_=fe;f.nodeType!==8;){if(!_){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){lt=Jn(f.nextSibling),u=f.data==="F!";break t}}cn(u)}u=!1}u&&(e=o[0])}}return o=hn(),o.memoizedState=o.baseState=e,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:e},o.queue=u,o=im.bind(null,Et,u),u.dispatch=o,u=Lh(!1),_=kh.bind(null,Et,!1,u.queue),u=hn(),f={state:e,dispatch:null,action:t,pending:null},u.queue=f,o=p0.bind(null,Et,f,_,o),f.dispatch=o,u.memoizedState=t,[e,o,!1]}function U_(t){var e=Te();return I_(e,qt,t)}function I_(t,e,o){if(e=Oh(t,e,k_)[0],t=Au(Yi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var u=Ar(e)}catch(b){throw b===br?bu:b}else u=e;e=Te();var f=e.queue,_=f.dispatch;return o!==e.memoizedState&&(Et.flags|=2048,go(9,xu(),v0.bind(null,f,o),null)),[u,_,t]}function v0(t,e){t.action=e}function Z_(t){var e=Te(),o=qt;if(o!==null)return I_(e,o,t);Te(),e=e.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=t,[e,u,!1]}function go(t,e,o,u){return t={tag:t,create:o,deps:u,inst:e,next:null},e=Et.updateQueue,e===null&&(e=xh(),Et.updateQueue=e),o=e.lastEffect,o===null?e.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,e.lastEffect=t),t}function xu(){return{destroy:void 0,resource:void 0}}function Y_(){return Te().memoizedState}function Mu(t,e,o,u){var f=hn();u=u===void 0?null:u,Et.flags|=t,f.memoizedState=go(1|e,xu(),o,u)}function xr(t,e,o,u){var f=Te();u=u===void 0?null:u;var _=f.memoizedState.inst;qt!==null&&u!==null&&Th(u,qt.memoizedState.deps)?f.memoizedState=go(e,_,o,u):(Et.flags|=t,f.memoizedState=go(1|e,_,o,u))}function q_(t,e){Mu(8390656,8,t,e)}function G_(t,e){xr(2048,8,t,e)}function X_(t,e){return xr(4,2,t,e)}function V_(t,e){return xr(4,4,t,e)}function j_(t,e){if(typeof e=="function"){t=t();var o=e(t);return function(){typeof o=="function"?o():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W_(t,e,o){o=o!=null?o.concat([t]):null,xr(4,4,j_.bind(null,e,t),o)}function Rh(){}function Q_(t,e){var o=Te();e=e===void 0?null:e;var u=o.memoizedState;return e!==null&&Th(e,u[1])?u[0]:(o.memoizedState=[t,e],t)}function F_(t,e){var o=Te();e=e===void 0?null:e;var u=o.memoizedState;if(e!==null&&Th(e,u[1]))return u[0];if(u=t(),Na){qn(!0);try{t()}finally{qn(!1)}}return o.memoizedState=[u,e],u}function zh(t,e,o){return o===void 0||(Ds&1073741824)!==0?t.memoizedState=e:(t.memoizedState=o,t=$m(),Et.lanes|=t,Us|=t,o)}function K_(t,e,o,u){return Je(o,e)?o:mo.current!==null?(t=zh(t,o,u),Je(t,e)||(Le=!0),t):(Ds&42)===0?(Le=!0,t.memoizedState=o):(t=$m(),Et.lanes|=t,Us|=t,e)}function J_(t,e,o,u,f){var _=J.p;J.p=_!==0&&8>_?_:8;var b=I.T,E={};I.T=E,kh(t,!1,e,o);try{var O=f(),P=I.S;if(P!==null&&P(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=d0(O,u);Mr(t,e,Y,An(t))}else Mr(t,e,u,An(t))}catch(X){Mr(t,e,{then:function(){},status:"rejected",reason:X},An())}finally{J.p=_,I.T=b}}function g0(){}function Ph(t,e,o,u){if(t.tag!==5)throw Error(r(476));var f=$_(t).queue;J_(t,f,e,W,o===null?g0:function(){return tm(t),o(u)})}function $_(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:W},next:null};var o={};return e.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function tm(t){var e=$_(t).next.queue;Mr(t,e,{},An())}function Bh(){return je(Vr)}function em(){return Te().memoizedState}function nm(){return Te().memoizedState}function y0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var o=An();t=Ns(o);var u=Ls(e,t,o);u!==null&&(xn(u,e,o),Tr(u,e,o)),e={cache:fh()},t.payload=e;return}e=e.return}}function b0(t,e,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ou(t)?sm(e,o):(o=Ui(t,e,o,u),o!==null&&(xn(o,t,u),am(o,e,u)))}function im(t,e,o){var u=An();Mr(t,e,o,u)}function Mr(t,e,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))sm(e,f);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=e.lastRenderedReducer,_!==null))try{var b=e.lastRenderedState,E=_(b,o);if(f.hasEagerState=!0,f.eagerState=E,Je(E,b))return Ta(t,e,f,0),$t===null&&Sa(),!1}catch{}finally{}if(o=Ui(t,e,f,u),o!==null)return xn(o,t,u),am(o,e,u),!0}return!1}function kh(t,e,o,u){if(u={lane:2,revertLane:pf(),action:u,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(e)throw Error(r(479))}else e=Ui(t,o,u,2),e!==null&&xn(e,t,2)}function Ou(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function sm(t,e){po=Eu=!0;var o=t.pending;o===null?e.next=e:(e.next=o.next,o.next=e),t.pending=e}function am(t,e,o){if((o&4194048)!==0){var u=e.lanes;u&=t.pendingLanes,o|=u,e.lanes=o,Yl(t,o)}}var Nu={readContext:je,use:wu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},om={readContext:je,use:wu,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:je,useEffect:q_,useImperativeHandle:function(t,e,o){o=o!=null?o.concat([t]):null,Mu(4194308,4,j_.bind(null,e,t),o)},useLayoutEffect:function(t,e){return Mu(4194308,4,t,e)},useInsertionEffect:function(t,e){Mu(4,2,t,e)},useMemo:function(t,e){var o=hn();e=e===void 0?null:e;var u=t();if(Na){qn(!0);try{t()}finally{qn(!1)}}return o.memoizedState=[u,e],u},useReducer:function(t,e,o){var u=hn();if(o!==void 0){var f=o(e);if(Na){qn(!0);try{o(e)}finally{qn(!1)}}}else f=e;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=b0.bind(null,Et,t),[u.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:function(t){t=Lh(t);var e=t.queue,o=im.bind(null,Et,e);return e.dispatch=o,[t.memoizedState,o]},useDebugValue:Rh,useDeferredValue:function(t,e){var o=hn();return zh(o,t,e)},useTransition:function(){var t=Lh(!1);return t=J_.bind(null,Et,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,o){var u=Et,f=hn();if(pt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=e(),$t===null)throw Error(r(349));(zt&124)!==0||x_(u,e,o)}f.memoizedState=o;var _={value:o,getSnapshot:e};return f.queue=_,q_(O_.bind(null,u,_,t),[t]),u.flags|=2048,go(9,xu(),M_.bind(null,u,_,o,e),null),o},useId:function(){var t=hn(),e=$t.identifierPrefix;if(pt){var o=M,u=T;o=(u&~(1<<32-Fe(u)-1)).toString(32)+o,e=""+e+"R"+o,o=Cu++,0<o&&(e+="H"+o.toString(32)),e+=""}else o=_0++,e=""+e+"r"+o.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Bh,useFormState:H_,useActionState:H_,useOptimistic:function(t){var e=hn();e.memoizedState=e.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=o,e=kh.bind(null,Et,!0,o),o.dispatch=e,[t,e]},useMemoCache:Mh,useCacheRefresh:function(){return hn().memoizedState=y0.bind(null,Et)}},rm={readContext:je,use:wu,useCallback:Q_,useContext:je,useEffect:G_,useImperativeHandle:W_,useInsertionEffect:X_,useLayoutEffect:V_,useMemo:F_,useReducer:Au,useRef:Y_,useState:function(){return Au(Yi)},useDebugValue:Rh,useDeferredValue:function(t,e){var o=Te();return K_(o,qt.memoizedState,t,e)},useTransition:function(){var t=Au(Yi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Ar(t),e]},useSyncExternalStore:A_,useId:em,useHostTransitionStatus:Bh,useFormState:U_,useActionState:U_,useOptimistic:function(t,e){var o=Te();return D_(o,qt,t,e)},useMemoCache:Mh,useCacheRefresh:nm},S0={readContext:je,use:wu,useCallback:Q_,useContext:je,useEffect:G_,useImperativeHandle:W_,useInsertionEffect:X_,useLayoutEffect:V_,useMemo:F_,useReducer:Nh,useRef:Y_,useState:function(){return Nh(Yi)},useDebugValue:Rh,useDeferredValue:function(t,e){var o=Te();return qt===null?zh(o,t,e):K_(o,qt.memoizedState,t,e)},useTransition:function(){var t=Nh(Yi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Ar(t),e]},useSyncExternalStore:A_,useId:em,useHostTransitionStatus:Bh,useFormState:Z_,useActionState:Z_,useOptimistic:function(t,e){var o=Te();return qt!==null?D_(o,qt,t,e):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:nm},yo=null,Or=0;function Lu(t){var e=Or;return Or+=1,yo===null&&(yo=[]),g_(yo,t,e)}function Nr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Du(t,e){throw e.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function lm(t){var e=t._init;return e(t._payload)}function um(t){function e(D,N){if(t){var z=D.deletions;z===null?(D.deletions=[N],D.flags|=16):z.push(N)}}function o(D,N){if(!t)return null;for(;N!==null;)e(D,N),N=N.sibling;return null}function u(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function f(D,N){return D=Pn(D,N),D.index=0,D.sibling=null,D}function _(D,N,z){return D.index=z,t?(z=D.alternate,z!==null?(z=z.index,z<N?(D.flags|=67108866,N):z):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function b(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function E(D,N,z,G){return N===null||N.tag!==6?(N=vr(z,D.mode,G),N.return=D,N):(N=f(N,z),N.return=D,N)}function O(D,N,z,G){var ot=z.type;return ot===q?Y(D,N,z.props.children,G,z.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ae&&lm(ot)===N.type)?(N=f(N,z.props),Nr(N,z),N.return=D,N):(N=Ca(z.type,z.key,z.props,null,D.mode,G),Nr(N,z),N.return=D,N)}function P(D,N,z,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=co(z,D.mode,G),N.return=D,N):(N=f(N,z.children||[]),N.return=D,N)}function Y(D,N,z,G,ot){return N===null||N.tag!==7?(N=di(z,D.mode,G,ot),N.return=D,N):(N=f(N,z),N.return=D,N)}function X(D,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vr(""+N,D.mode,z),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return z=Ca(N.type,N.key,N.props,null,D.mode,z),Nr(z,N),z.return=D,z;case H:return N=co(N,D.mode,z),N.return=D,N;case ae:var G=N._init;return N=G(N._payload),X(D,N,z)}if(ce(N)||Nt(N))return N=di(N,D.mode,z,null),N.return=D,N;if(typeof N.then=="function")return X(D,Lu(N),z);if(N.$$typeof===at)return X(D,gu(D,N),z);Du(D,N)}return null}function B(D,N,z,G){var ot=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ot!==null?null:E(D,N,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ot?O(D,N,z,G):null;case H:return z.key===ot?P(D,N,z,G):null;case ae:return ot=z._init,z=ot(z._payload),B(D,N,z,G)}if(ce(z)||Nt(z))return ot!==null?null:Y(D,N,z,G,null);if(typeof z.then=="function")return B(D,N,Lu(z),G);if(z.$$typeof===at)return B(D,N,gu(D,z),G);Du(D,z)}return null}function k(D,N,z,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(z)||null,E(N,D,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return D=D.get(G.key===null?z:G.key)||null,O(N,D,G,ot);case H:return D=D.get(G.key===null?z:G.key)||null,P(N,D,G,ot);case ae:var wt=G._init;return G=wt(G._payload),k(D,N,z,G,ot)}if(ce(G)||Nt(G))return D=D.get(z)||null,Y(N,D,G,ot,null);if(typeof G.then=="function")return k(D,N,z,Lu(G),ot);if(G.$$typeof===at)return k(D,N,z,gu(N,G),ot);Du(N,G)}return null}function mt(D,N,z,G){for(var ot=null,wt=null,ct=N,dt=N=0,Re=null;ct!==null&&dt<z.length;dt++){ct.index>dt?(Re=ct,ct=null):Re=ct.sibling;var Ht=B(D,ct,z[dt],G);if(Ht===null){ct===null&&(ct=Re);break}t&&ct&&Ht.alternate===null&&e(D,ct),N=_(Ht,N,dt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht,ct=Re}if(dt===z.length)return o(D,ct),pt&&R(D,dt),ot;if(ct===null){for(;dt<z.length;dt++)ct=X(D,z[dt],G),ct!==null&&(N=_(ct,N,dt),wt===null?ot=ct:wt.sibling=ct,wt=ct);return pt&&R(D,dt),ot}for(ct=u(ct);dt<z.length;dt++)Re=k(ct,D,dt,z[dt],G),Re!==null&&(t&&Re.alternate!==null&&ct.delete(Re.key===null?dt:Re.key),N=_(Re,N,dt),wt===null?ot=Re:wt.sibling=Re,wt=Re);return t&&ct.forEach(function(Ws){return e(D,Ws)}),pt&&R(D,dt),ot}function ht(D,N,z,G){if(z==null)throw Error(r(151));for(var ot=null,wt=null,ct=N,dt=N=0,Re=null,Ht=z.next();ct!==null&&!Ht.done;dt++,Ht=z.next()){ct.index>dt?(Re=ct,ct=null):Re=ct.sibling;var Ws=B(D,ct,Ht.value,G);if(Ws===null){ct===null&&(ct=Re);break}t&&ct&&Ws.alternate===null&&e(D,ct),N=_(Ws,N,dt),wt===null?ot=Ws:wt.sibling=Ws,wt=Ws,ct=Re}if(Ht.done)return o(D,ct),pt&&R(D,dt),ot;if(ct===null){for(;!Ht.done;dt++,Ht=z.next())Ht=X(D,Ht.value,G),Ht!==null&&(N=_(Ht,N,dt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht);return pt&&R(D,dt),ot}for(ct=u(ct);!Ht.done;dt++,Ht=z.next())Ht=k(ct,D,dt,Ht.value,G),Ht!==null&&(t&&Ht.alternate!==null&&ct.delete(Ht.key===null?dt:Ht.key),N=_(Ht,N,dt),wt===null?ot=Ht:wt.sibling=Ht,wt=Ht);return t&&ct.forEach(function(Tb){return e(D,Tb)}),pt&&R(D,dt),ot}function Xt(D,N,z,G){if(typeof z=="object"&&z!==null&&z.type===q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var ot=z.key;N!==null;){if(N.key===ot){if(ot=z.type,ot===q){if(N.tag===7){o(D,N.sibling),G=f(N,z.props.children),G.return=D,D=G;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ae&&lm(ot)===N.type){o(D,N.sibling),G=f(N,z.props),Nr(G,z),G.return=D,D=G;break t}o(D,N);break}else e(D,N);N=N.sibling}z.type===q?(G=di(z.props.children,D.mode,G,z.key),G.return=D,D=G):(G=Ca(z.type,z.key,z.props,null,D.mode,G),Nr(G,z),G.return=D,D=G)}return b(D);case H:t:{for(ot=z.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(D,N.sibling),G=f(N,z.children||[]),G.return=D,D=G;break t}else{o(D,N);break}else e(D,N);N=N.sibling}G=co(z,D.mode,G),G.return=D,D=G}return b(D);case ae:return ot=z._init,z=ot(z._payload),Xt(D,N,z,G)}if(ce(z))return mt(D,N,z,G);if(Nt(z)){if(ot=Nt(z),typeof ot!="function")throw Error(r(150));return z=ot.call(z),ht(D,N,z,G)}if(typeof z.then=="function")return Xt(D,N,Lu(z),G);if(z.$$typeof===at)return Xt(D,N,gu(D,z),G);Du(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(o(D,N.sibling),G=f(N,z),G.return=D,D=G):(o(D,N),G=vr(z,D.mode,G),G.return=D,D=G),b(D)):o(D,N)}return function(D,N,z,G){try{Or=0;var ot=Xt(D,N,z,G);return yo=null,ot}catch(ct){if(ct===br||ct===bu)throw ct;var wt=nn(29,ct,null,D.mode);return wt.lanes=G,wt.return=D,wt}finally{}}}var bo=um(!0),cm=um(!1),kn=Z(null),mi=null;function Rs(t){var e=t.alternate;Q(Ce,Ce.current&1),Q(kn,t),mi===null&&(e===null||mo.current!==null||e.memoizedState!==null)&&(mi=t)}function hm(t){if(t.tag===22){if(Q(Ce,Ce.current),Q(kn,t),mi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(mi=t)}}else zs()}function zs(){Q(Ce,Ce.current),Q(kn,kn.current)}function qi(t){F(kn),mi===t&&(mi=null),F(Ce)}var Ce=Z(0);function Ru(t){for(var e=t;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Mf(o)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Hh(t,e,o,u){e=t.memoizedState,o=o(u,e),o=o==null?e:C({},e,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Uh={enqueueSetState:function(t,e,o){t=t._reactInternals;var u=An(),f=Ns(u);f.payload=e,o!=null&&(f.callback=o),e=Ls(t,f,u),e!==null&&(xn(e,t,u),Tr(e,t,u))},enqueueReplaceState:function(t,e,o){t=t._reactInternals;var u=An(),f=Ns(u);f.tag=1,f.payload=e,o!=null&&(f.callback=o),e=Ls(t,f,u),e!==null&&(xn(e,t,u),Tr(e,t,u))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var o=An(),u=Ns(o);u.tag=2,e!=null&&(u.callback=e),e=Ls(t,u,o),e!==null&&(xn(e,t,o),Tr(e,t,o))}};function fm(t,e,o,u,f,_,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,_,b):e.prototype&&e.prototype.isPureReactComponent?!$e(o,u)||!$e(f,_):!0}function dm(t,e,o,u){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,u),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,u),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function La(t,e){var o=e;if("ref"in e){o={};for(var u in e)u!=="ref"&&(o[u]=e[u])}if(t=t.defaultProps){o===e&&(o=C({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _m(t){zu(t)}function mm(t){console.error(t)}function pm(t){zu(t)}function Pu(t,e){try{var o=t.onUncaughtError;o(e.value,{componentStack:e.stack})}catch(u){setTimeout(function(){throw u})}}function vm(t,e,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ih(t,e,o){return o=Ns(o),o.tag=3,o.payload={element:null},o.callback=function(){Pu(t,e)},o}function gm(t){return t=Ns(t),t.tag=3,t}function ym(t,e,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;t.payload=function(){return f(_)},t.callback=function(){vm(e,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){vm(e,o,u),typeof f!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function T0(t,e,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(e=o.alternate,e!==null&&xa(e,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return mi===null?hf():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===mh?o.flags|=16384:(e=o.updateQueue,e===null?o.updateQueue=new Set([u]):e.add(u),df(t,u,f)),!1;case 22:return o.flags|=65536,u===mh?o.flags|=16384:(e=o.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=e):(o=e.retryQueue,o===null?e.retryQueue=new Set([u]):o.add(u)),df(t,u,f)),!1}throw Error(r(435,o.tag))}return df(t,u,f),hf(),!1}if(pt)return e=kn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,u!==Ne&&(t=Error(r(422),{cause:u}),Ms(tn(t,o)))):(u!==Ne&&(e=Error(r(423),{cause:u}),Ms(tn(e,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=tn(u,o),f=Ih(t.stateNode,u,f),gh(t,f),me!==4&&(me=2)),!1;var _=Error(r(520),{cause:u});if(_=tn(_,o),kr===null?kr=[_]:kr.push(_),me!==4&&(me=2),e===null)return!0;u=tn(u,o),o=e;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=Ih(o.stateNode,u,t),gh(o,t),!1;case 1:if(e=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Is===null||!Is.has(_))))return o.flags|=65536,f&=-f,o.lanes|=f,f=gm(f),ym(f,t,o,u),gh(o,f),!1}o=o.return}while(o!==null);return!1}var bm=Error(r(461)),Le=!1;function Ue(t,e,o,u){e.child=t===null?cm(e,null,o,u):bo(e,t.child,o,u)}function Sm(t,e,o,u,f){o=o.render;var _=e.ref;if("ref"in u){var b={};for(var E in u)E!=="ref"&&(b[E]=u[E])}else b=u;return Ma(e),u=Eh(t,e,o,b,_,f),E=Ch(),t!==null&&!Le?(wh(t,e,f),Gi(t,e,f)):(pt&&E&&V(e),e.flags|=1,Ue(t,e,u,f),e.child)}function Tm(t,e,o,u,f){if(t===null){var _=o.type;return typeof _=="function"&&!uo(_)&&_.defaultProps===void 0&&o.compare===null?(e.tag=15,e.type=_,Em(t,e,_,u,f)):(t=Ca(o.type,null,u,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(_=t.child,!Wh(t,f)){var b=_.memoizedProps;if(o=o.compare,o=o!==null?o:$e,o(b,u)&&t.ref===e.ref)return Gi(t,e,f)}return e.flags|=1,t=Pn(_,u),t.ref=e.ref,t.return=e,e.child=t}function Em(t,e,o,u,f){if(t!==null){var _=t.memoizedProps;if($e(_,u)&&t.ref===e.ref)if(Le=!1,e.pendingProps=u=_,Wh(t,f))(t.flags&131072)!==0&&(Le=!0);else return e.lanes=t.lanes,Gi(t,e,f)}return Zh(t,e,o,u,f)}function Cm(t,e,o){var u=e.pendingProps,f=u.children,_=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((e.flags&128)!==0){if(u=_!==null?_.baseLanes|o:o,t!==null){for(f=e.child=t.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;e.childLanes=_&~u}else e.childLanes=0,e.child=null;return wm(t,e,u,o)}if((o&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(e,_!==null?_.cachePool:null),_!==null?E_(e,_):bh(),hm(e);else return e.lanes=e.childLanes=536870912,wm(t,e,_!==null?_.baseLanes|o:o,o)}else _!==null?(yu(e,_.cachePool),E_(e,_),zs(),e.memoizedState=null):(t!==null&&yu(e,null),bh(),zs());return Ue(t,e,f,o),e.child}function wm(t,e,o,u){var f=_h();return f=f===null?null:{parent:Ee._currentValue,pool:f},e.memoizedState={baseLanes:o,cachePool:f},t!==null&&yu(e,null),bh(),hm(e),t!==null&&xa(t,e,u,!0),null}function Bu(t,e){var o=e.ref;if(o===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(e.flags|=4194816)}}function Zh(t,e,o,u,f){return Ma(e),o=Eh(t,e,o,u,void 0,f),u=Ch(),t!==null&&!Le?(wh(t,e,f),Gi(t,e,f)):(pt&&u&&V(e),e.flags|=1,Ue(t,e,o,f),e.child)}function Am(t,e,o,u,f,_){return Ma(e),e.updateQueue=null,o=w_(e,u,o,f),C_(t),u=Ch(),t!==null&&!Le?(wh(t,e,_),Gi(t,e,_)):(pt&&u&&V(e),e.flags|=1,Ue(t,e,o,_),e.child)}function xm(t,e,o,u,f){if(Ma(e),e.stateNode===null){var _=Ii,b=o.contextType;typeof b=="object"&&b!==null&&(_=je(b)),_=new o(u,_),e.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Uh,e.stateNode=_,_._reactInternals=e,_=e.stateNode,_.props=u,_.state=e.memoizedState,_.refs={},ph(e),b=o.contextType,_.context=typeof b=="object"&&b!==null?je(b):Ii,_.state=e.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Hh(e,o,b,u),_.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&Uh.enqueueReplaceState(_,_.state,null),Cr(e,u,_,f),Er(),_.state=e.memoizedState),typeof _.componentDidMount=="function"&&(e.flags|=4194308),u=!0}else if(t===null){_=e.stateNode;var E=e.memoizedProps,O=La(o,E);_.props=O;var P=_.context,Y=o.contextType;b=Ii,typeof Y=="object"&&Y!==null&&(b=je(Y));var X=o.getDerivedStateFromProps;Y=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E||P!==b)&&dm(e,_,u,b),Os=!1;var B=e.memoizedState;_.state=B,Cr(e,u,_,f),Er(),P=e.memoizedState,E||B!==P||Os?(typeof X=="function"&&(Hh(e,o,X,u),P=e.memoizedState),(O=Os||fm(e,o,O,u,B,P,b))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(e.flags|=4194308)):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=u,e.memoizedState=P),_.props=u,_.state=P,_.context=b,u=O):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),u=!1)}else{_=e.stateNode,vh(t,e),b=e.memoizedProps,Y=La(o,b),_.props=Y,X=e.pendingProps,B=_.context,P=o.contextType,O=Ii,typeof P=="object"&&P!==null&&(O=je(P)),E=o.getDerivedStateFromProps,(P=typeof E=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==X||B!==O)&&dm(e,_,u,O),Os=!1,B=e.memoizedState,_.state=B,Cr(e,u,_,f),Er();var k=e.memoizedState;b!==X||B!==k||Os||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof E=="function"&&(Hh(e,o,E,u),k=e.memoizedState),(Y=Os||fm(e,o,Y,u,B,k,O)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(P||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,k,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,k,O)),typeof _.componentDidUpdate=="function"&&(e.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=u,e.memoizedState=k),_.props=u,_.state=k,_.context=O,u=Y):(typeof _.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),u=!1)}return _=u,Bu(t,e),u=(e.flags&128)!==0,_||u?(_=e.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:_.render(),e.flags|=1,t!==null&&u?(e.child=bo(e,t.child,null,f),e.child=bo(e,null,o,f)):Ue(t,e,o,f),e.memoizedState=_.state,t=e.child):t=Gi(t,e,f),t}function Mm(t,e,o,u){return xs(),e.flags|=256,Ue(t,e,o,u),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:m_()}}function Gh(t,e,o){return t=t!==null?t.childLanes&~o:0,e&&(t|=Hn),t}function Om(t,e,o){var u=e.pendingProps,f=!1,_=(e.flags&128)!==0,b;if((b=_)||(b=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),b&&(f=!0,e.flags&=-129),b=(e.flags&32)!==0,e.flags&=-33,t===null){if(pt){if(f?Rs(e):zs(),pt){var E=lt,O;if(O=E){t:{for(O=E,E=fe;O.nodeType!==8;){if(!E){E=null;break t}if(O=Jn(O.nextSibling),O===null){E=null;break t}}E=O}E!==null?(e.memoizedState={dehydrated:E,treeContext:v!==null?{id:T,overflow:M}:null,retryLane:536870912,hydrationErrors:null},O=nn(18,null,null,0),O.stateNode=E,O.return=e,e.child=O,st=e,lt=null,O=!0):O=!1}O||cn(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Mf(E)?e.lanes=32:e.lanes=536870912,null;qi(e)}return E=u.children,u=u.fallback,f?(zs(),f=e.mode,E=ku({mode:"hidden",children:E},f),u=di(u,f,o,null),E.return=e,u.return=e,E.sibling=u,e.child=E,f=e.child,f.memoizedState=qh(o),f.childLanes=Gh(t,b,o),e.memoizedState=Yh,u):(Rs(e),Xh(e,E))}if(O=t.memoizedState,O!==null&&(E=O.dehydrated,E!==null)){if(_)e.flags&256?(Rs(e),e.flags&=-257,e=Vh(t,e,o)):e.memoizedState!==null?(zs(),e.child=t.child,e.flags|=128,e=null):(zs(),f=u.fallback,E=e.mode,u=ku({mode:"visible",children:u.children},E),f=di(f,E,o,null),f.flags|=2,u.return=e,f.return=e,u.sibling=f,e.child=u,bo(e,t.child,null,o),u=e.child,u.memoizedState=qh(o),u.childLanes=Gh(t,b,o),e.memoizedState=Yh,e=f);else if(Rs(e),Mf(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var P=b.dgst;b=P,u=Error(r(419)),u.stack="",u.digest=b,Ms({value:u,source:null,stack:null}),e=Vh(t,e,o)}else if(Le||xa(t,e,o,!1),b=(o&t.childLanes)!==0,Le||b){if(b=$t,b!==null&&(u=o&-o,u=(u&42)!==0?1:Ko(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,ws(t,u),xn(b,t,u),bm;E.data==="$?"||hf(),e=Vh(t,e,o)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,lt=Jn(E.nextSibling),st=e,pt=!0,Jt=null,fe=!1,t!==null&&(h[p++]=T,h[p++]=M,h[p++]=v,T=t.id,M=t.overflow,v=e),e=Xh(e,u.children),e.flags|=4096);return e}return f?(zs(),f=u.fallback,E=e.mode,O=t.child,P=O.sibling,u=Pn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,P!==null?f=Pn(P,f):(f=di(f,E,o,null),f.flags|=2),f.return=e,u.return=e,u.sibling=f,e.child=u,u=f,f=e.child,E=t.child.memoizedState,E===null?E=qh(o):(O=E.cachePool,O!==null?(P=Ee._currentValue,O=O.parent!==P?{parent:P,pool:P}:O):O=m_(),E={baseLanes:E.baseLanes|o,cachePool:O}),f.memoizedState=E,f.childLanes=Gh(t,b,o),e.memoizedState=Yh,u):(Rs(e),o=t.child,t=o.sibling,o=Pn(o,{mode:"visible",children:u.children}),o.return=e,o.sibling=null,t!==null&&(b=e.deletions,b===null?(e.deletions=[t],e.flags|=16):b.push(t)),e.child=o,e.memoizedState=null,o)}function Xh(t,e){return e=ku({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ku(t,e){return t=nn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vh(t,e,o){return bo(e,t.child,null,o),t=Xh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nm(t,e,o){t.lanes|=e;var u=t.alternate;u!==null&&(u.lanes|=e),Aa(t.return,e,o)}function jh(t,e,o,u,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(_.isBackwards=e,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f)}function Lm(t,e,o){var u=e.pendingProps,f=u.revealOrder,_=u.tail;if(Ue(t,e,u.children,o),u=Ce.current,(u&2)!==0)u=u&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nm(t,o,e);else if(t.tag===19)Nm(t,o,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(Q(Ce,u),f){case"forwards":for(o=e.child,f=null;o!==null;)t=o.alternate,t!==null&&Ru(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=e.child,e.child=null):(f=o.sibling,o.sibling=null),jh(e,!1,f,o,_);break;case"backwards":for(o=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Ru(t)===null){e.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}jh(e,!0,o,null,_);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(t,e,o){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,(o&e.childLanes)===0)if(t!==null){if(xa(t,e,o,!1),(o&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,o=Pn(t,t.pendingProps),e.child=o,o.return=e;t.sibling!==null;)t=t.sibling,o=o.sibling=Pn(t,t.pendingProps),o.return=e;o.sibling=null}return e.child}function Wh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function E0(t,e,o){switch(e.tag){case 3:Lt(e,e.stateNode.containerInfo),_i(e,Ee,t.memoizedState.cache),xs();break;case 27:case 5:si(e);break;case 4:Lt(e,e.stateNode.containerInfo);break;case 10:_i(e,e.type,e.memoizedProps.value);break;case 13:var u=e.memoizedState;if(u!==null)return u.dehydrated!==null?(Rs(e),e.flags|=128,null):(o&e.child.childLanes)!==0?Om(t,e,o):(Rs(e),t=Gi(t,e,o),t!==null?t.sibling:null);Rs(e);break;case 19:var f=(t.flags&128)!==0;if(u=(o&e.childLanes)!==0,u||(xa(t,e,o,!1),u=(o&e.childLanes)!==0),f){if(u)return Lm(t,e,o);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Ce,Ce.current),u)break;return null;case 22:case 23:return e.lanes=0,Cm(t,e,o);case 24:_i(e,Ee,t.memoizedState.cache)}return Gi(t,e,o)}function Dm(t,e,o){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!Wh(t,o)&&(e.flags&128)===0)return Le=!1,E0(t,e,o);Le=(t.flags&131072)!==0}else Le=!1,pt&&(e.flags&1048576)!==0&&U(e,l,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var u=e.elementType,f=u._init;if(u=f(u._payload),e.type=u,typeof u=="function")uo(u)?(t=La(u,t),e.tag=1,e=xm(null,e,u,t,o)):(e.tag=0,e=Zh(null,e,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===It){e.tag=11,e=Sm(null,e,u,t,o);break t}else if(f===Qt){e.tag=14,e=Tm(null,e,u,t,o);break t}}throw e=ve(u)||u,Error(r(306,e,""))}}return e;case 0:return Zh(t,e,e.type,e.pendingProps,o);case 1:return u=e.type,f=La(u,e.pendingProps),xm(t,e,u,f,o);case 3:t:{if(Lt(e,e.stateNode.containerInfo),t===null)throw Error(r(387));u=e.pendingProps;var _=e.memoizedState;f=_.element,vh(t,e),Cr(e,u,null,o);var b=e.memoizedState;if(u=b.cache,_i(e,Ee,u),u!==_.cache&&ho(e,[Ee],o,!0),Er(),u=b.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:b.cache},e.updateQueue.baseState=_,e.memoizedState=_,e.flags&256){e=Mm(t,e,u,o);break t}else if(u!==f){f=tn(Error(r(424)),e),Ms(f),e=Mm(t,e,u,o);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Jn(t.firstChild),st=e,pt=!0,Jt=null,fe=!0,o=cm(e,null,u,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xs(),u===f){e=Gi(t,e,o);break t}Ue(t,e,u,o)}e=e.child}return e;case 26:return Bu(t,e),t===null?(o=Bp(e.type,null,e.pendingProps,null))?e.memoizedState=o:pt||(o=e.type,t=e.pendingProps,u=Ku($.current).createElement(o),u[Me]=e,u[Ge]=t,Ze(u,o,t),be(u),e.stateNode=u):e.memoizedState=Bp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return si(e),t===null&&pt&&(u=e.stateNode=Rp(e.type,e.pendingProps,$.current),st=e,fe=!0,f=lt,qs(e.type)?(Of=f,lt=Jn(u.firstChild)):lt=f),Ue(t,e,e.pendingProps.children,o),Bu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pt&&((f=u=lt)&&(u=K0(u,e.type,e.pendingProps,fe),u!==null?(e.stateNode=u,st=e,lt=Jn(u.firstChild),fe=!1,f=!0):f=!1),f||cn(e)),si(e),f=e.type,_=e.pendingProps,b=t!==null?t.memoizedProps:null,u=_.children,wf(f,_)?u=null:b!==null&&wf(f,b)&&(e.flags|=32),e.memoizedState!==null&&(f=Eh(t,e,m0,null,null,o),Vr._currentValue=f),Bu(t,e),Ue(t,e,u,o),e.child;case 6:return t===null&&pt&&((t=o=lt)&&(o=J0(o,e.pendingProps,fe),o!==null?(e.stateNode=o,st=e,lt=null,t=!0):t=!1),t||cn(e)),null;case 13:return Om(t,e,o);case 4:return Lt(e,e.stateNode.containerInfo),u=e.pendingProps,t===null?e.child=bo(e,null,u,o):Ue(t,e,u,o),e.child;case 11:return Sm(t,e,e.type,e.pendingProps,o);case 7:return Ue(t,e,e.pendingProps,o),e.child;case 8:return Ue(t,e,e.pendingProps.children,o),e.child;case 12:return Ue(t,e,e.pendingProps.children,o),e.child;case 10:return u=e.pendingProps,_i(e,e.type,u.value),Ue(t,e,u.children,o),e.child;case 9:return f=e.type._context,u=e.pendingProps.children,Ma(e),f=je(f),u=u(f),e.flags|=1,Ue(t,e,u,o),e.child;case 14:return Tm(t,e,e.type,e.pendingProps,o);case 15:return Em(t,e,e.type,e.pendingProps,o);case 19:return Lm(t,e,o);case 31:return u=e.pendingProps,o=e.mode,u={mode:u.mode,children:u.children},t===null?(o=ku(u,o),o.ref=e.ref,e.child=o,o.return=e,e=o):(o=Pn(t.child,u),o.ref=e.ref,e.child=o,o.return=e,e=o),e;case 22:return Cm(t,e,o);case 24:return Ma(e),u=je(Ee),t===null?(f=_h(),f===null&&(f=$t,_=fh(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=o),f=_),e.memoizedState={parent:u,cache:f},ph(e),_i(e,Ee,f)):((t.lanes&o)!==0&&(vh(t,e),Cr(e,null,null,o),Er()),f=t.memoizedState,_=e.memoizedState,f.parent!==u?(f={parent:u,cache:u},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),_i(e,Ee,u)):(u=_.cache,_i(e,Ee,u),u!==f.cache&&ho(e,[Ee],o,!0))),Ue(t,e,e.pendingProps.children,o),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Xi(t){t.flags|=4}function Rm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zp(e)){if(e=kn.current,e!==null&&((zt&4194048)===zt?mi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||e!==mi))throw Sr=mh,p_;t.flags|=8192}}function Hu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fo():536870912,t.lanes|=e,Co|=e)}function Lr(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(e)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,e}function C0(t,e,o){var u=e.pendingProps;switch(nt(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return o=e.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),e.memoizedState.cache!==u&&(e.flags|=2048),Fn(Ee),on(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(wa(e)?Xi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,pu())),de(e),null;case 26:return o=e.memoizedState,t===null?(Xi(e),o!==null?(de(e),Rm(e,o)):(de(e),e.flags&=-16777217)):o?o!==t.memoizedState?(Xi(e),de(e),Rm(e,o)):(de(e),e.flags&=-16777217):(t.memoizedProps!==u&&Xi(e),de(e),e.flags&=-16777217),null;case 27:Zn(e),o=$.current;var f=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(!u){if(e.stateNode===null)throw Error(r(166));return de(e),null}t=et.current,wa(e)?_u(e):(t=Rp(f,u,o),e.stateNode=t,Xi(e))}return de(e),null;case 5:if(Zn(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(!u){if(e.stateNode===null)throw Error(r(166));return de(e),null}if(t=et.current,wa(e))_u(e);else{switch(f=Ku($.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[Me]=e,t[Ge]=u;t:for(f=e.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}e.stateNode=t;t:switch(Ze(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Xi(e)}}return de(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==u&&Xi(e);else{if(typeof u!="string"&&e.stateNode===null)throw Error(r(166));if(t=$.current,wa(e)){if(t=e.stateNode,o=e.memoizedProps,u=null,f=st,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Me]=e,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ap(t.nodeValue,o)),t||cn(e)}else t=Ku(t).createTextNode(u),t[Me]=e,e.stateNode=t}return de(e),null;case 13:if(u=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=wa(e),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Me]=e}else xs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),f=!1}else f=pu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(qi(e),e):(qi(e),null)}if(qi(e),(e.flags&128)!==0)return e.lanes=o,e;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=e.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)}return o!==t&&o&&(e.child.flags|=8192),Hu(e,e.updateQueue),de(e),null;case 4:return on(),t===null&&bf(e.stateNode.containerInfo),de(e),null;case 10:return Fn(e.type),de(e),null;case 19:if(F(Ce),f=e.memoizedState,f===null)return de(e),null;if(u=(e.flags&128)!==0,_=f.rendering,_===null)if(u)Lr(f,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(_=Ru(t),_!==null){for(e.flags|=128,Lr(f,!1),t=_.updateQueue,e.updateQueue=t,Hu(e,t),e.subtreeFlags=0,t=o,o=e.child;o!==null;)pr(o,t),o=o.sibling;return Q(Ce,Ce.current&1|2),e.child}t=t.sibling}f.tail!==null&&rn()>Zu&&(e.flags|=128,u=!0,Lr(f,!1),e.lanes=4194304)}else{if(!u)if(t=Ru(_),t!==null){if(e.flags|=128,u=!0,t=t.updateQueue,e.updateQueue=t,Hu(e,t),Lr(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!pt)return de(e),null}else 2*rn()-f.renderingStartTime>Zu&&o!==536870912&&(e.flags|=128,u=!0,Lr(f,!1),e.lanes=4194304);f.isBackwards?(_.sibling=e.child,e.child=_):(t=f.last,t!==null?t.sibling=_:e.child=_,f.last=_)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=rn(),e.sibling=null,t=Ce.current,Q(Ce,u?t&1|2:t&1),e):(de(e),null);case 22:case 23:return qi(e),Sh(),u=e.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(e.flags|=8192):u&&(e.flags|=8192),u?(o&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),o=e.updateQueue,o!==null&&Hu(e,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),u!==o&&(e.flags|=2048),t!==null&&F(Oa),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Fn(Ee),de(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function w0(t,e){switch(nt(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fn(Ee),on(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zn(e),null;case 13:if(qi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(Ce),null;case 4:return on(),null;case 10:return Fn(e.type),null;case 22:case 23:return qi(e),Sh(),t!==null&&F(Oa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fn(Ee),null;case 25:return null;default:return null}}function zm(t,e){switch(nt(e),e.tag){case 3:Fn(Ee),on();break;case 26:case 27:case 5:Zn(e);break;case 4:on();break;case 13:qi(e);break;case 19:F(Ce);break;case 10:Fn(e.type);break;case 22:case 23:qi(e),Sh(),t!==null&&F(Oa);break;case 24:Fn(Ee)}}function Dr(t,e){try{var o=e.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var _=o.create,b=o.inst;u=_(),b.destroy=u}o=o.next}while(o!==f)}}catch(E){Vt(e,e.return,E)}}function Ps(t,e,o){try{var u=e.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&t)===t){var b=u.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=e;var O=o,P=E;try{P()}catch(Y){Vt(f,O,Y)}}}u=u.next}while(u!==_)}}catch(Y){Vt(e,e.return,Y)}}function Pm(t){var e=t.updateQueue;if(e!==null){var o=t.stateNode;try{T_(e,o)}catch(u){Vt(t,t.return,u)}}}function Bm(t,e,o){o.props=La(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Vt(t,e,u)}}function Rr(t,e){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){Vt(t,e,f)}}function pi(t,e){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Vt(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Vt(t,e,f)}else o.current=null}function km(t){var e=t.type,o=t.memoizedProps,u=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Vt(t,t.return,f)}}function Qh(t,e,o){try{var u=t.stateNode;V0(u,t.type,o,e),u[Ge]=e}catch(f){Vt(t,t.return,f)}}function Hm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,e,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,e):(e=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,e.appendChild(t),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Fu));else if(u!==4&&(u===27&&qs(t.type)&&(o=t.stateNode,e=null),t=t.child,t!==null))for(Kh(t,e,o),t=t.sibling;t!==null;)Kh(t,e,o),t=t.sibling}function Uu(t,e,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?o.insertBefore(t,e):o.appendChild(t);else if(u!==4&&(u===27&&qs(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Uu(t,e,o),t=t.sibling;t!==null;)Uu(t,e,o),t=t.sibling}function Um(t){var e=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);Ze(e,u,o),e[Me]=t,e[Ge]=o}catch(_){Vt(t,t.return,_)}}var Vi=!1,ye=!1,Jh=!1,Im=typeof WeakSet=="function"?WeakSet:Set,De=null;function A0(t,e){if(t=t.containerInfo,Ef=ic,t=ga(t),ya(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var b=0,E=-1,O=-1,P=0,Y=0,X=t,B=null;e:for(;;){for(var k;X!==o||f!==0&&X.nodeType!==3||(E=b+f),X!==_||u!==0&&X.nodeType!==3||(O=b+u),X.nodeType===3&&(b+=X.nodeValue.length),(k=X.firstChild)!==null;)B=X,X=k;for(;;){if(X===t)break e;if(B===o&&++P===f&&(E=b),B===_&&++Y===u&&(O=b),(k=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=k}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cf={focusedElem:t,selectionRange:o},ic=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,_=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,o=e,f=_.memoizedProps,_=_.memoizedState,u=o.stateNode;try{var mt=La(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(mt,_),u.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Vt(o,o.return,ht)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,o=t.nodeType,o===9)xf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function Zm(t,e,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(t,o),u&4&&Dr(5,o);break;case 1:if(Bs(t,o),u&4)if(t=o.stateNode,e===null)try{t.componentDidMount()}catch(b){Vt(o,o.return,b)}else{var f=La(o.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Vt(o,o.return,b)}}u&64&&Pm(o),u&512&&Rr(o,o.return);break;case 3:if(Bs(t,o),u&64&&(t=o.updateQueue,t!==null)){if(e=null,o.child!==null)switch(o.child.tag){case 27:case 5:e=o.child.stateNode;break;case 1:e=o.child.stateNode}try{T_(t,e)}catch(b){Vt(o,o.return,b)}}break;case 27:e===null&&u&4&&Um(o);case 26:case 5:Bs(t,o),e===null&&u&4&&km(o),u&512&&Rr(o,o.return);break;case 12:Bs(t,o);break;case 13:Bs(t,o),u&4&&Gm(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=P0.bind(null,o),$0(t,o))));break;case 22:if(u=o.memoizedState!==null||Vi,!u){e=e!==null&&e.memoizedState!==null||ye,f=Vi;var _=ye;Vi=u,(ye=e)&&!_?ks(t,o,(o.subtreeFlags&8772)!==0):Bs(t,o),Vi=f,ye=_}break;case 30:break;default:Bs(t,o)}}function Ym(t){var e=t.alternate;e!==null&&(t.alternate=null,Ym(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Va(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,fn=!1;function ji(t,e,o){for(o=o.child;o!==null;)qm(t,e,o),o=o.sibling}function qm(t,e,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Si,o)}catch{}switch(o.tag){case 26:ye||pi(o,e),ji(t,e,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||pi(o,e);var u=re,f=fn;qs(o.type)&&(re=o.stateNode,fn=!1),ji(t,e,o),Yr(o.stateNode),re=u,fn=f;break;case 5:ye||pi(o,e);case 6:if(u=re,f=fn,re=null,ji(t,e,o),re=u,fn=f,re!==null)if(fn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(_){Vt(o,e,_)}else try{re.removeChild(o.stateNode)}catch(_){Vt(o,e,_)}break;case 18:re!==null&&(fn?(t=re,Lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Fr(t)):Lp(re,o.stateNode));break;case 4:u=re,f=fn,re=o.stateNode.containerInfo,fn=!0,ji(t,e,o),re=u,fn=f;break;case 0:case 11:case 14:case 15:ye||Ps(2,o,e),ye||Ps(4,o,e),ji(t,e,o);break;case 1:ye||(pi(o,e),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Bm(o,e,u)),ji(t,e,o);break;case 21:ji(t,e,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,ji(t,e,o),ye=u;break;default:ji(t,e,o)}}function Gm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fr(t)}catch(o){Vt(e,e.return,o)}}function x0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Im),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Im),e;default:throw Error(r(435,t.tag))}}function $h(t,e){var o=x0(t);e.forEach(function(u){var f=B0.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function En(t,e){var o=e.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],_=t,b=e,E=b;t:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){re=E.stateNode,fn=!1;break t}break;case 5:re=E.stateNode,fn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(re===null)throw Error(r(160));qm(_,b,f),re=null,fn=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Xm(e,t),e=e.sibling}var Kn=null;function Xm(t,e){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(e,t),Cn(t),u&4&&(Ps(3,t,t.return),Dr(3,t),Ps(5,t,t.return));break;case 1:En(e,t),Cn(t),u&512&&(ye||o===null||pi(o,o.return)),u&64&&Vi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Kn;if(En(e,t),Cn(t),u&512&&(ye||o===null||pi(o,o.return)),u&4){var _=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){t:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[os]||_[Me]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),Ze(_,u,o),_[Me]=t,be(_),u=_;break t;case"link":var b=Up("link","href",f).get(u+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(_=b[E],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break e}}_=f.createElement(u),Ze(_,u,o),f.head.appendChild(_);break;case"meta":if(b=Up("meta","content",f).get(u+(o.content||""))){for(E=0;E<b.length;E++)if(_=b[E],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break e}}_=f.createElement(u),Ze(_,u,o),f.head.appendChild(_);break;default:throw Error(r(468,u))}_[Me]=t,be(_),u=_}t.stateNode=u}else Ip(f,t.type,t.stateNode);else t.stateNode=Hp(f,u,t.memoizedProps);else _!==u?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,u===null?Ip(f,t.type,t.stateNode):Hp(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,o.memoizedProps)}break;case 27:En(e,t),Cn(t),u&512&&(ye||o===null||pi(o,o.return)),o!==null&&u&4&&Qh(t,t.memoizedProps,o.memoizedProps);break;case 5:if(En(e,t),Cn(t),u&512&&(ye||o===null||pi(o,o.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(k){Vt(t,t.return,k)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,Qh(t,f,o!==null?o.memoizedProps:f)),u&1024&&(Jh=!0);break;case 6:if(En(e,t),Cn(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(k){Vt(t,t.return,k)}}break;case 3:if(tc=null,f=Kn,Kn=Ju(e.containerInfo),En(e,t),Kn=f,Cn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fr(e.containerInfo)}catch(k){Vt(t,t.return,k)}Jh&&(Jh=!1,Vm(t));break;case 4:u=Kn,Kn=Ju(t.stateNode.containerInfo),En(e,t),Cn(t),Kn=u;break;case 12:En(e,t),Cn(t);break;case 13:En(e,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(of=rn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,$h(t,u)));break;case 22:f=t.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,P=Vi,Y=ye;if(Vi=P||f,ye=Y||O,En(e,t),ye=Y,Vi=P,Cn(t),u&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(o===null||O||Vi||ye||Da(t)),o=null,e=t;;){if(e.tag===5||e.tag===26){if(o===null){O=o=e;try{if(_=O.stateNode,f)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=O.stateNode;var X=O.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Vt(O,O.return,k)}}}else if(e.tag===6){if(o===null){O=e;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(k){Vt(O,O.return,k)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;o===e&&(o=null),e=e.return}o===e&&(o=null),e.sibling.return=e.return,e=e.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,$h(t,o))));break;case 19:En(e,t),Cn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,$h(t,u)));break;case 30:break;case 21:break;default:En(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{for(var o,u=t.return;u!==null;){if(Hm(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,_=Fh(t);Uu(t,_,f);break;case 5:var b=o.stateNode;o.flags&32&&(Nn(b,""),o.flags&=-33);var E=Fh(t);Uu(t,E,b);break;case 3:case 4:var O=o.stateNode.containerInfo,P=Fh(t);Kh(t,P,O);break;default:throw Error(r(161))}}catch(Y){Vt(t,t.return,Y)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Vm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Bs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zm(t,e.alternate,e),e=e.sibling}function Da(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ps(4,e,e.return),Da(e);break;case 1:pi(e,e.return);var o=e.stateNode;typeof o.componentWillUnmount=="function"&&Bm(e,e.return,o),Da(e);break;case 27:Yr(e.stateNode);case 26:case 5:pi(e,e.return),Da(e);break;case 22:e.memoizedState===null&&Da(e);break;case 30:Da(e);break;default:Da(e)}t=t.sibling}}function ks(t,e,o){for(o=o&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var u=e.alternate,f=t,_=e,b=_.flags;switch(_.tag){case 0:case 11:case 15:ks(f,_,o),Dr(4,_);break;case 1:if(ks(f,_,o),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Vt(u,u.return,P)}if(u=_,f=u.updateQueue,f!==null){var E=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)S_(O[f],E)}catch(P){Vt(u,u.return,P)}}o&&b&64&&Pm(_),Rr(_,_.return);break;case 27:Um(_);case 26:case 5:ks(f,_,o),o&&u===null&&b&4&&km(_),Rr(_,_.return);break;case 12:ks(f,_,o);break;case 13:ks(f,_,o),o&&b&4&&Gm(f,_);break;case 22:_.memoizedState===null&&ks(f,_,o),Rr(_,_.return);break;case 30:break;default:ks(f,_,o)}e=e.sibling}}function tf(t,e){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&gr(o))}function ef(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gr(t))}function vi(t,e,o,u){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jm(t,e,o,u),e=e.sibling}function jm(t,e,o,u){var f=e.flags;switch(e.tag){case 0:case 11:case 15:vi(t,e,o,u),f&2048&&Dr(9,e);break;case 1:vi(t,e,o,u);break;case 3:vi(t,e,o,u),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gr(t)));break;case 12:if(f&2048){vi(t,e,o,u),t=e.stateNode;try{var _=e.memoizedProps,b=_.id,E=_.onPostCommit;typeof E=="function"&&E(b,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Vt(e,e.return,O)}}else vi(t,e,o,u);break;case 13:vi(t,e,o,u);break;case 23:break;case 22:_=e.stateNode,b=e.alternate,e.memoizedState!==null?_._visibility&2?vi(t,e,o,u):zr(t,e):_._visibility&2?vi(t,e,o,u):(_._visibility|=2,So(t,e,o,u,(e.subtreeFlags&10256)!==0)),f&2048&&tf(b,e);break;case 24:vi(t,e,o,u),f&2048&&ef(e.alternate,e);break;default:vi(t,e,o,u)}}function So(t,e,o,u,f){for(f=f&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var _=t,b=e,E=o,O=u,P=b.flags;switch(b.tag){case 0:case 11:case 15:So(_,b,E,O,f),Dr(8,b);break;case 23:break;case 22:var Y=b.stateNode;b.memoizedState!==null?Y._visibility&2?So(_,b,E,O,f):zr(_,b):(Y._visibility|=2,So(_,b,E,O,f)),f&&P&2048&&tf(b.alternate,b);break;case 24:So(_,b,E,O,f),f&&P&2048&&ef(b.alternate,b);break;default:So(_,b,E,O,f)}e=e.sibling}}function zr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var o=t,u=e,f=u.flags;switch(u.tag){case 22:zr(o,u),f&2048&&tf(u.alternate,u);break;case 24:zr(o,u),f&2048&&ef(u.alternate,u);break;default:zr(o,u)}e=e.sibling}}var Pr=8192;function To(t){if(t.subtreeFlags&Pr)for(t=t.child;t!==null;)Wm(t),t=t.sibling}function Wm(t){switch(t.tag){case 26:To(t),t.flags&Pr&&t.memoizedState!==null&&fb(Kn,t.memoizedState,t.memoizedProps);break;case 5:To(t);break;case 3:case 4:var e=Kn;Kn=Ju(t.stateNode.containerInfo),To(t),Kn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Pr,Pr=16777216,To(t),Pr=e):To(t));break;default:To(t)}}function Qm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Br(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var o=0;o<e.length;o++){var u=e[o];De=u,Km(u,t)}Qm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fm(t),t=t.sibling}function Fm(t){switch(t.tag){case 0:case 11:case 15:Br(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:Br(t);break;case 12:Br(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Iu(t)):Br(t);break;default:Br(t)}}function Iu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var o=0;o<e.length;o++){var u=e[o];De=u,Km(u,t)}Qm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ps(8,e,e.return),Iu(e);break;case 22:o=e.stateNode,o._visibility&2&&(o._visibility&=-3,Iu(e));break;default:Iu(e)}t=t.sibling}}function Km(t,e){for(;De!==null;){var o=De;switch(o.tag){case 0:case 11:case 15:Ps(8,o,e);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,De=u;else t:for(o=t;De!==null;){u=De;var f=u.sibling,_=u.return;if(Ym(u),u===o){De=null;break t}if(f!==null){f.return=_,De=f;break t}De=_}}}var M0={getCacheForType:function(t){var e=je(Ee),o=e.data.get(t);return o===void 0&&(o=t(),e.data.set(t,o)),o}},O0=typeof WeakMap=="function"?WeakMap:Map,Zt=0,$t=null,xt=null,zt=0,Yt=0,wn=null,Hs=!1,Eo=!1,nf=!1,Wi=0,me=0,Us=0,Ra=0,sf=0,Hn=0,Co=0,kr=null,dn=null,af=!1,of=0,Zu=1/0,Yu=null,Is=null,Ie=0,Zs=null,wo=null,Ao=0,rf=0,lf=null,Jm=null,Hr=0,uf=null;function An(){if((Zt&2)!==0&&zt!==0)return zt&-zt;if(I.T!==null){var t=fo;return t!==0?t:pf()}return ql()}function $m(){Hn===0&&(Hn=(zt&536870912)===0||pt?Il():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Hn}function xn(t,e,o){(t===$t&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(xo(t,0),Ys(t,zt,Hn,!1)),ss(t,o),((Zt&2)===0||t!==$t)&&(t===$t&&((Zt&2)===0&&(Ra|=o),me===4&&Ys(t,zt,Hn,!1)),gi(t))}function tp(t,e,o){if((Zt&6)!==0)throw Error(r(327));var u=!o&&(e&124)===0&&(e&t.expiredLanes)===0||Gn(t,e),f=u?D0(t,e):ff(t,e,!0),_=u;do{if(f===0){Eo&&!u&&Ys(t,e,0,!1);break}else{if(o=t.current.alternate,_&&!N0(o)){f=ff(t,e,!1),_=!1;continue}if(f===2){if(_=e,t.errorRecoveryDisabledLanes&_)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){e=b;t:{var E=t;f=kr;var O=E.current.memoizedState.isDehydrated;if(O&&(xo(E,b).flags|=256),b=ff(E,b,!1),b!==2){if(nf&&!O){E.errorRecoveryDisabledLanes|=_,Ra|=_,f=4;break t}_=dn,dn=f,_!==null&&(dn===null?dn=_:dn.push.apply(dn,_))}f=b}if(_=!1,f!==2)continue}}if(f===1){xo(t,0),Ys(t,e,0,!0);break}t:{switch(u=t,_=f,_){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Ys(u,e,Hn,!Hs);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(f=of+300-rn(),10<f)){if(Ys(u,e,Hn,!Hs),Ga(u,0,!0)!==0)break t;u.timeoutHandle=Op(ep.bind(null,u,o,dn,Yu,af,e,Hn,Ra,Co,Hs,_,2,-0,0),f);break t}ep(u,o,dn,Yu,af,e,Hn,Ra,Co,Hs,_,0,-0,0)}}break}while(!0);gi(t)}function ep(t,e,o,u,f,_,b,E,O,P,Y,X,B,k){if(t.timeoutHandle=-1,X=e.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Xr={stylesheets:null,count:0,unsuspend:hb},Wm(e),X=db(),X!==null)){t.cancelPendingCommit=X(lp.bind(null,t,e,_,o,u,f,b,E,O,Y,1,B,k)),Ys(t,_,b,!P);return}lp(t,e,_,o,u,f,b,E,O)}function N0(t){for(var e=t;;){var o=e.tag;if((o===0||o===11||o===15)&&e.flags&16384&&(o=e.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],_=f.getSnapshot;f=f.value;try{if(!Je(_(),f))return!1}catch{return!1}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e,o,u){e&=~sf,e&=~Ra,t.suspendedLanes|=e,t.pingedLanes&=~e,u&&(t.warmLanes|=e),u=t.expirationTimes;for(var f=e;0<f;){var _=31-Fe(f),b=1<<_;u[_]=-1,f&=~b}o!==0&&Zl(t,o,e)}function qu(){return(Zt&6)===0?(Ur(0),!1):!0}function cf(){if(xt!==null){if(Yt===0)var t=xt.return;else t=xt,Qn=Bn=null,Ah(t),yo=null,Or=0,t=xt;for(;t!==null;)zm(t.alternate,t),t=t.return;xt=null}}function xo(t,e){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,W0(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),cf(),$t=t,xt=o=Pn(t.current,null),zt=e,Yt=0,wn=null,Hs=!1,Eo=Gn(t,e),nf=!1,Co=Hn=sf=Ra=Us=me=0,dn=kr=null,af=!1,(e&8)!==0&&(e|=e&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=e;0<u;){var f=31-Fe(u),_=1<<f;e|=t[f],u&=~_}return Wi=e,Sa(),o}function np(t,e){Et=null,I.H=Nu,e===br||e===bu?(e=y_(),Yt=3):e===p_?(e=y_(),Yt=4):Yt=e===bm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,wn=e,xt===null&&(me=1,Pu(t,tn(e,t.current)))}function ip(){var t=I.H;return I.H=Nu,t===null?Nu:t}function sp(){var t=I.A;return I.A=M0,t}function hf(){me=4,Hs||(zt&4194048)!==zt&&kn.current!==null||(Eo=!0),(Us&134217727)===0&&(Ra&134217727)===0||$t===null||Ys($t,zt,Hn,!1)}function ff(t,e,o){var u=Zt;Zt|=2;var f=ip(),_=sp();($t!==t||zt!==e)&&(Yu=null,xo(t,e)),e=!1;var b=me;t:do try{if(Yt!==0&&xt!==null){var E=xt,O=wn;switch(Yt){case 8:cf(),b=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(e=!0);var P=Yt;if(Yt=0,wn=null,Mo(t,E,O,P),o&&Eo){b=0;break t}break;default:P=Yt,Yt=0,wn=null,Mo(t,E,O,P)}}L0(),b=me;break}catch(Y){np(t,Y)}while(!0);return e&&t.shellSuspendCounter++,Qn=Bn=null,Zt=u,I.H=f,I.A=_,xt===null&&($t=null,zt=0,Sa()),b}function L0(){for(;xt!==null;)ap(xt)}function D0(t,e){var o=Zt;Zt|=2;var u=ip(),f=sp();$t!==t||zt!==e?(Yu=null,Zu=rn()+500,xo(t,e)):Eo=Gn(t,e);t:do try{if(Yt!==0&&xt!==null){e=xt;var _=wn;e:switch(Yt){case 1:Yt=0,wn=null,Mo(t,e,_,1);break;case 2:case 9:if(v_(_)){Yt=0,wn=null,op(e);break}e=function(){Yt!==2&&Yt!==9||$t!==t||(Yt=7),gi(t)},_.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:v_(_)?(Yt=0,wn=null,op(e)):(Yt=0,wn=null,Mo(t,e,_,7));break;case 5:var b=null;switch(xt.tag){case 26:b=xt.memoizedState;case 5:case 27:var E=xt;if(!b||Zp(b)){Yt=0,wn=null;var O=E.sibling;if(O!==null)xt=O;else{var P=E.return;P!==null?(xt=P,Gu(P)):xt=null}break e}}Yt=0,wn=null,Mo(t,e,_,5);break;case 6:Yt=0,wn=null,Mo(t,e,_,6);break;case 8:cf(),me=6;break t;default:throw Error(r(462))}}R0();break}catch(Y){np(t,Y)}while(!0);return Qn=Bn=null,I.H=u,I.A=f,Zt=o,xt!==null?0:($t=null,zt=0,Sa(),me)}function R0(){for(;xt!==null&&!zl();)ap(xt)}function ap(t){var e=Dm(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,e===null?Gu(t):xt=e}function op(t){var e=t,o=e.alternate;switch(e.tag){case 15:case 0:e=Am(o,e,e.pendingProps,e.type,void 0,zt);break;case 11:e=Am(o,e,e.pendingProps,e.type.render,e.ref,zt);break;case 5:Ah(e);default:zm(o,e),e=xt=pr(e,Wi),e=Dm(o,e,Wi)}t.memoizedProps=t.pendingProps,e===null?Gu(t):xt=e}function Mo(t,e,o,u){Qn=Bn=null,Ah(e),yo=null,Or=0;var f=e.return;try{if(T0(t,f,e,o,zt)){me=1,Pu(t,tn(o,t.current)),xt=null;return}}catch(_){if(f!==null)throw xt=f,_;me=1,Pu(t,tn(o,t.current)),xt=null;return}e.flags&32768?(pt||u===1?t=!0:Eo||(zt&536870912)!==0?t=!1:(Hs=t=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),rp(e,t)):Gu(e)}function Gu(t){var e=t;do{if((e.flags&32768)!==0){rp(e,Hs);return}t=e.return;var o=C0(e.alternate,e,Wi);if(o!==null){xt=o;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);me===0&&(me=5)}function rp(t,e){do{var o=w0(t.alternate,t);if(o!==null){o.flags&=32767,xt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=o}while(t!==null);me=6,xt=null}function lp(t,e,o,u,f,_,b,E,O){t.cancelPendingCommit=null;do Xu();while(Ie!==0);if((Zt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(_=e.lanes|e.childLanes,_|=Tn,jc(t,o,_,b,E,O),t===$t&&(xt=$t=null,zt=0),wo=e,Zs=t,Ao=o,rf=_,lf=f,Jm=u,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,k0(ns,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,f=J.p,J.p=2,b=Zt,Zt|=4;try{A0(t,e,o)}finally{Zt=b,J.p=f,I.T=u}}Ie=1,up(),cp(),hp()}}function up(){if(Ie===1){Ie=0;var t=Zs,e=wo,o=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var u=J.p;J.p=2;var f=Zt;Zt|=4;try{Xm(e,t);var _=Cf,b=ga(t.containerInfo),E=_.focusedElem,O=_.selectionRange;if(b!==E&&E&&E.ownerDocument&&so(E.ownerDocument.documentElement,E)){if(O!==null&&ya(E)){var P=O.start,Y=O.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var k=B.getSelection(),mt=E.textContent.length,ht=Math.min(O.start,mt),Xt=O.end===void 0?ht:Math.min(O.end,mt);!k.extend&&ht>Xt&&(b=Xt,Xt=ht,ht=b);var D=_r(E,ht),N=_r(E,Xt);if(D&&N&&(k.rangeCount!==1||k.anchorNode!==D.node||k.anchorOffset!==D.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var z=X.createRange();z.setStart(D.node,D.offset),k.removeAllRanges(),ht>Xt?(k.addRange(z),k.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),k.addRange(z))}}}}for(X=[],k=E;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var G=X[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ic=!!Ef,Cf=Ef=null}finally{Zt=f,J.p=u,I.T=o}}t.current=e,Ie=2}}function cp(){if(Ie===2){Ie=0;var t=Zs,e=wo,o=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var u=J.p;J.p=2;var f=Zt;Zt|=4;try{Zm(t,e.alternate,e)}finally{Zt=f,J.p=u,I.T=o}}Ie=3}}function hp(){if(Ie===4||Ie===3){Ie=0,Pl();var t=Zs,e=wo,o=Ao,u=Jm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ie=5:(Ie=0,wo=Zs=null,fp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Is=null),Jo(o),e=e.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}if(u!==null){e=I.T,f=J.p,J.p=2,I.T=null;try{for(var _=t.onRecoverableError,b=0;b<u.length;b++){var E=u[b];_(E.value,{componentStack:E.stack})}}finally{I.T=e,J.p=f}}(Ao&3)!==0&&Xu(),gi(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===uf?Hr++:(Hr=0,uf=t):Hr=0,Ur(0)}}function fp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,gr(e)))}function Xu(t){return up(),cp(),hp(),dp()}function dp(){if(Ie!==5)return!1;var t=Zs,e=rf;rf=0;var o=Jo(Ao),u=I.T,f=J.p;try{J.p=32>o?32:o,I.T=null,o=lf,lf=null;var _=Zs,b=Ao;if(Ie=0,wo=Zs=null,Ao=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,Fm(_.current),jm(_,_.current,b,o),Zt=E,Ur(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Si,_)}catch{}return!0}finally{J.p=f,I.T=u,fp(t,e)}}function _p(t,e,o){e=tn(o,e),e=Ih(t.stateNode,e,2),t=Ls(t,e,2),t!==null&&(ss(t,2),gi(t))}function Vt(t,e,o){if(t.tag===3)_p(t,t,o);else for(;e!==null;){if(e.tag===3){_p(e,t,o);break}else if(e.tag===1){var u=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Is===null||!Is.has(u))){t=tn(o,t),o=gm(2),u=Ls(e,o,2),u!==null&&(ym(o,u,e,t),ss(u,2),gi(u));break}}e=e.return}}function df(t,e,o){var u=t.pingCache;if(u===null){u=t.pingCache=new O0;var f=new Set;u.set(e,f)}else f=u.get(e),f===void 0&&(f=new Set,u.set(e,f));f.has(o)||(nf=!0,f.add(o),t=z0.bind(null,t,e,o),e.then(t,t))}function z0(t,e,o){var u=t.pingCache;u!==null&&u.delete(e),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,$t===t&&(zt&o)===o&&(me===4||me===3&&(zt&62914560)===zt&&300>rn()-of?(Zt&2)===0&&xo(t,0):sf|=o,Co===zt&&(Co=0)),gi(t)}function mp(t,e){e===0&&(e=Fo()),t=ws(t,e),t!==null&&(ss(t,e),gi(t))}function P0(t){var e=t.memoizedState,o=0;e!==null&&(o=e.retryLane),mp(t,o)}function B0(t,e){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(e),mp(t,o)}function k0(t,e){return bi(t,e)}var Vu=null,Oo=null,_f=!1,ju=!1,mf=!1,za=0;function gi(t){t!==Oo&&t.next===null&&(Oo===null?Vu=Oo=t:Oo=Oo.next=t),ju=!0,_f||(_f=!0,U0())}function Ur(t,e){if(!mf&&ju){mf=!0;do for(var o=!1,u=Vu;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var b=u.suspendedLanes,E=u.pingedLanes;_=(1<<31-Fe(42|t)+1)-1,_&=f&~(b&~E),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,yp(u,_))}else _=zt,_=Ga(u,u===$t?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Gn(u,_)||(o=!0,yp(u,_));u=u.next}while(o);mf=!1}}function H0(){pp()}function pp(){ju=_f=!1;var t=0;za!==0&&(j0()&&(t=za),za=0);for(var e=rn(),o=null,u=Vu;u!==null;){var f=u.next,_=vp(u,e);_===0?(u.next=null,o===null?Vu=f:o.next=f,f===null&&(Oo=o)):(o=u,(t!==0||(_&3)!==0)&&(ju=!0)),u=f}Ur(t)}function vp(t,e){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var b=31-Fe(_),E=1<<b,O=f[b];O===-1?((E&o)===0||(E&u)!==0)&&(f[b]=Vc(E,e)):O<=e&&(t.expiredLanes|=E),_&=~E}if(e=$t,o=zt,o=Ga(t,t===e?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&jo(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Gn(t,o)){if(e=o&-o,e===t.callbackPriority)return e;switch(u!==null&&jo(u),Jo(o)){case 2:case 8:o=Wo;break;case 32:o=ns;break;case 268435456:o=Qo;break;default:o=ns}return u=gp.bind(null,t),o=bi(o,u),t.callbackPriority=e,t.callbackNode=o,e}return u!==null&&u!==null&&jo(u),t.callbackPriority=2,t.callbackNode=null,2}function gp(t,e){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Xu()&&t.callbackNode!==o)return null;var u=zt;return u=Ga(t,t===$t?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(tp(t,u,e),vp(t,rn()),t.callbackNode!=null&&t.callbackNode===o?gp.bind(null,t):null)}function yp(t,e){if(Xu())return null;tp(t,e,!0)}function U0(){Q0(function(){(Zt&6)!==0?bi(Bl,H0):pp()})}function pf(){return za===0&&(za=Il()),za}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fs(""+t)}function Sp(t,e){var o=e.ownerDocument.createElement("input");return o.name=e.name,o.value=e.value,t.id&&o.setAttribute("form",t.id),e.parentNode.insertBefore(o,e),t=new FormData(t),o.parentNode.removeChild(o),t}function I0(t,e,o,u,f){if(e==="submit"&&o&&o.stateNode===f){var _=bp((f[Ge]||null).action),b=u.submitter;b&&(e=(e=b[Ge]||null)?bp(e.formAction):b.getAttribute("formAction"),e!==null&&(_=e,b=null));var E=new da("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(za!==0){var O=b?Sp(f,b):new FormData(f);Ph(o,{pending:!0,data:O,method:f.method,action:_},null,O)}}else typeof _=="function"&&(E.preventDefault(),O=b?Sp(f,b):new FormData(f),Ph(o,{pending:!0,data:O,method:f.method,action:_},_,O))},currentTarget:f}]})}}for(var vf=0;vf<ki.length;vf++){var gf=ki[vf],Z0=gf.toLowerCase(),Y0=gf[0].toUpperCase()+gf.slice(1);Sn(Z0,"on"+Y0)}Sn(hu,"onAnimationEnd"),Sn(bn,"onAnimationIteration"),Sn(ba,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(ch,"onTransitionRun"),Sn(lo,"onTransitionStart"),Sn(hh,"onTransitionCancel"),Sn(mr,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function Tp(t,e){e=(e&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;t:{var _=void 0;if(e)for(var b=u.length-1;0<=b;b--){var E=u[b],O=E.instance,P=E.currentTarget;if(E=E.listener,O!==_&&f.isPropagationStopped())break t;_=E,f.currentTarget=P;try{_(f)}catch(Y){zu(Y)}f.currentTarget=null,_=O}else for(b=0;b<u.length;b++){if(E=u[b],O=E.instance,P=E.currentTarget,E=E.listener,O!==_&&f.isPropagationStopped())break t;_=E,f.currentTarget=P;try{_(f)}catch(Y){zu(Y)}f.currentTarget=null,_=O}}}}function Mt(t,e){var o=e[ln];o===void 0&&(o=e[ln]=new Set);var u=t+"__bubble";o.has(u)||(Ep(e,t,2,!1),o.add(u))}function yf(t,e,o){var u=0;e&&(u|=4),Ep(o,t,u,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Wu]){t[Wu]=!0,Xl.forEach(function(o){o!=="selectionchange"&&(q0.has(o)||yf(o,!1,t),yf(o,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,yf("selectionchange",!1,e))}}function Ep(t,e,o,u){switch(jp(e)){case 2:var f=pb;break;case 8:f=vb;break;default:f=zf}o=f.bind(null,e,o,t),f=void 0,!fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(e,o,{capture:!0,passive:f}):t.addEventListener(e,o,!0):f!==void 0?t.addEventListener(e,o,{passive:f}):t.addEventListener(e,o,!1)}function Sf(t,e,o,u,f){var _=u;if((e&1)===0&&(e&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var E=u.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=ri(E),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=_=b;continue t}E=E.parentNode}}u=u.return}pn(function(){var P=_,Y=ds(o),X=[];t:{var B=fu.get(t);if(B!==void 0){var k=da,mt=t;switch(t){case"keypress":if(_e(o)===0)break t;case"keydown":case"keyup":k=nh;break;case"focusin":mt="focus",k=ar;break;case"focusout":mt="blur",k=ar;break;case"beforeblur":case"afterblur":k=ar;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=sh;break;case hu:case bn:case ba:k=Jc;break;case mr:k=ah;break;case"scroll":case"scrollend":k=Fc;break;case"wheel":k=nu;break;case"copy":case"cut":case"paste":k=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=lr;break;case"toggle":case"beforetoggle":k=Ri}var ht=(e&4)!==0,Xt=!ht&&(t==="scroll"||t==="scrollend"),D=ht?B!==null?B+"Capture":null:B;ht=[];for(var N=P,z;N!==null;){var G=N;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||D===null||(G=kt(N,D),G!=null&&ht.push(Zr(N,G,z))),Xt)break;N=N.return}0<ht.length&&(B=new k(B,mt,null,o,Y),X.push({event:B,listeners:ht}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&o!==ha&&(mt=o.relatedTarget||o.fromElement)&&(ri(mt)||mt[as]))break t;if((k||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,k?(mt=o.relatedTarget||o.toElement,k=P,mt=mt?ri(mt):null,mt!==null&&(Xt=d(mt),ht=mt.tag,mt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(k=null,mt=P),k!==mt)){if(ht=ps,G="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ht=lr,G="onPointerLeave",D="onPointerEnter",N="pointer"),Xt=k==null?B:On(k),z=mt==null?B:On(mt),B=new ht(G,N+"leave",k,o,Y),B.target=Xt,B.relatedTarget=z,G=null,ri(Y)===P&&(ht=new ht(D,N+"enter",mt,o,Y),ht.target=z,ht.relatedTarget=Xt,G=ht),Xt=G,k&&mt)e:{for(ht=k,D=mt,N=0,z=ht;z;z=No(z))N++;for(z=0,G=D;G;G=No(G))z++;for(;0<N-z;)ht=No(ht),N--;for(;0<z-N;)D=No(D),z--;for(;N--;){if(ht===D||D!==null&&ht===D.alternate)break e;ht=No(ht),D=No(D)}ht=null}else ht=null;k!==null&&Cp(X,B,k,ht,!1),mt!==null&&Xt!==null&&Cp(X,Xt,mt,ht,!0)}}t:{if(B=P?On(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ot=ys;else if(Pi(B))if(hr)ot=uh;else{ot=lh;var wt=dr}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ca(P.elementType)&&(ot=ys):ot=Wn;if(ot&&(ot=ot(t,P))){ru(X,ot,o,Y);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&cs(B,"number",B.value)}switch(wt=P?On(P):window,t){case"focusin":(Pi(wt)||wt.contentEditable==="true")&&(yn=wt,Ts=P,Bi=null);break;case"focusout":Bi=Ts=yn=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,uu(X,o,Y);break;case"selectionchange":if(ao)break;case"keydown":case"keyup":uu(X,o,Y)}var ct;if(zi)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else vs?no(t,o)&&(dt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(dt="onCompositionStart");dt&&(cr&&o.locale!=="ko"&&(vs||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&vs&&(ct=ms()):(Dn=Y,Vn="value"in Dn?Dn.value:Dn.textContent,vs=!0)),wt=Qu(P,dt),0<wt.length&&(dt=new vn(dt,t,null,o,Y),X.push({event:dt,listeners:wt}),ct?dt.data=ct:(ct=au(o),ct!==null&&(dt.data=ct)))),(ct=iu?ou(t,o):rh(t,o))&&(dt=Qu(P,"onBeforeInput"),0<dt.length&&(wt=new vn("onBeforeInput","beforeinput",null,o,Y),X.push({event:wt,listeners:dt}),wt.data=ct)),I0(X,t,P,o,Y)}Tp(X,e)})}function Zr(t,e,o){return{instance:t,listener:e,currentTarget:o}}function Qu(t,e){for(var o=e+"Capture",u=[];t!==null;){var f=t,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=kt(t,o),f!=null&&u.unshift(Zr(t,f,_)),f=kt(t,e),f!=null&&u.push(Zr(t,f,_))),t.tag===3)return u;t=t.return}return[]}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cp(t,e,o,u,f){for(var _=e._reactName,b=[];o!==null&&o!==u;){var E=o,O=E.alternate,P=E.stateNode;if(E=E.tag,O!==null&&O===u)break;E!==5&&E!==26&&E!==27||P===null||(O=P,f?(P=kt(o,_),P!=null&&b.unshift(Zr(o,P,O))):f||(P=kt(o,_),P!=null&&b.push(Zr(o,P,O)))),o=o.return}b.length!==0&&t.push({event:e,listeners:b})}var G0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function wp(t){return(typeof t=="string"?t:""+t).replace(G0,`
`).replace(X0,"")}function Ap(t,e){return e=wp(e),wp(t)===e}function Fu(){}function Gt(t,e,o,u,f,_){switch(o){case"children":typeof u=="string"?e==="body"||e==="textarea"&&u===""||Nn(t,u):(typeof u=="number"||typeof u=="bigint")&&e!=="body"&&Nn(t,""+u);break;case"className":Wa(t,"class",u);break;case"tabIndex":Wa(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wa(t,o,u);break;case"style":hs(t,u,_);break;case"data":if(e!=="object"){Wa(t,"data",u);break}case"src":case"href":if(u===""&&(e!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=fs(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(e!=="input"&&Gt(t,e,"name",f.name,f,null),Gt(t,e,"formEncType",f.formEncType,f,null),Gt(t,e,"formMethod",f.formMethod,f,null),Gt(t,e,"formTarget",f.formTarget,f,null)):(Gt(t,e,"encType",f.encType,f,null),Gt(t,e,"method",f.method,f,null),Gt(t,e,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=fs(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=Fu);break;case"onScroll":u!=null&&Mt("scroll",t);break;case"onScrollEnd":u!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=fs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),ja(t,"popover",u);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ja(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nr.get(o)||o,ja(t,o,u))}}function Tf(t,e,o,u,f,_){switch(o){case"style":hs(t,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Nn(t,u):(typeof u=="number"||typeof u=="bigint")&&Nn(t,""+u);break;case"onScroll":u!=null&&Mt("scroll",t);break;case"onScrollEnd":u!=null&&Mt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),e=o.slice(2,f?o.length-7:void 0),_=t[Ge]||null,_=_!=null?_[o]:null,typeof _=="function"&&t.removeEventListener(e,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(e,u,f);break t}o in t?t[o]=u:u===!0?t.setAttribute(o,""):ja(t,o,u)}}}function Ze(t,e,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var u=!1,f=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var b=o[_];if(b!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Gt(t,e,_,b,o,null)}}f&&Gt(t,e,"srcSet",o.srcSet,o,null),u&&Gt(t,e,"src",o.src,o,null);return;case"input":Mt("invalid",t);var E=_=b=f=null,O=null,P=null;for(u in o)if(o.hasOwnProperty(u)){var Y=o[u];if(Y!=null)switch(u){case"name":f=Y;break;case"type":b=Y;break;case"checked":O=Y;break;case"defaultChecked":P=Y;break;case"value":_=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,e));break;default:Gt(t,e,u,Y,o,null)}}Wl(t,_,E,O,P,b,f,!1),us(t);return;case"select":Mt("invalid",t),u=b=_=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":_=E;break;case"defaultValue":b=E;break;case"multiple":u=E;default:Gt(t,e,f,E,o,null)}e=_,o=b,t.multiple=!!u,e!=null?un(t,!!u,e,!1):o!=null&&un(t,!!u,o,!0);return;case"textarea":Mt("invalid",t),_=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":u=E;break;case"defaultValue":f=E;break;case"children":_=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Gt(t,e,b,E,o,null)}li(t,u,f,_),us(t);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Gt(t,e,O,u,o,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(u=0;u<Ir.length;u++)Mt(Ir[u],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Gt(t,e,P,u,o,null)}return;default:if(ca(e)){for(Y in o)o.hasOwnProperty(Y)&&(u=o[Y],u!==void 0&&Tf(t,e,Y,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Gt(t,e,E,u,o,null))}function V0(t,e,o,u){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,b=null,E=null,O=null,P=null,Y=null;for(k in o){var X=o[k];if(o.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":O=X;default:u.hasOwnProperty(k)||Gt(t,e,k,null,u,X)}}for(var B in u){var k=u[B];if(X=o[B],u.hasOwnProperty(B)&&(k!=null||X!=null))switch(B){case"type":_=k;break;case"name":f=k;break;case"checked":P=k;break;case"defaultChecked":Y=k;break;case"value":b=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,e));break;default:k!==X&&Gt(t,e,B,k,u,X)}}Xe(t,b,E,O,P,Y,_,f);return;case"select":k=b=E=B=null;for(_ in o)if(O=o[_],o.hasOwnProperty(_)&&O!=null)switch(_){case"value":break;case"multiple":k=O;default:u.hasOwnProperty(_)||Gt(t,e,_,null,u,O)}for(f in u)if(_=u[f],O=o[f],u.hasOwnProperty(f)&&(_!=null||O!=null))switch(f){case"value":B=_;break;case"defaultValue":E=_;break;case"multiple":b=_;default:_!==O&&Gt(t,e,f,_,u,O)}e=E,o=b,u=k,B!=null?un(t,!!o,B,!1):!!u!=!!o&&(e!=null?un(t,!!o,e,!0):un(t,!!o,o?[]:"",!1));return;case"textarea":k=B=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,e,E,null,u,f)}for(b in u)if(f=u[b],_=o[b],u.hasOwnProperty(b)&&(f!=null||_!=null))switch(b){case"value":B=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==_&&Gt(t,e,b,f,u,_)}he(t,B,k);return;case"option":for(var mt in o)if(B=o[mt],o.hasOwnProperty(mt)&&B!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Gt(t,e,mt,null,u,B)}for(O in u)if(B=u[O],k=o[O],u.hasOwnProperty(O)&&B!==k&&(B!=null||k!=null))switch(O){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,e,O,B,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in o)B=o[ht],o.hasOwnProperty(ht)&&B!=null&&!u.hasOwnProperty(ht)&&Gt(t,e,ht,null,u,B);for(P in u)if(B=u[P],k=o[P],u.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,e));break;default:Gt(t,e,P,B,u,k)}return;default:if(ca(e)){for(var Xt in o)B=o[Xt],o.hasOwnProperty(Xt)&&B!==void 0&&!u.hasOwnProperty(Xt)&&Tf(t,e,Xt,void 0,u,B);for(Y in u)B=u[Y],k=o[Y],!u.hasOwnProperty(Y)||B===k||B===void 0&&k===void 0||Tf(t,e,Y,B,u,k);return}}for(var D in o)B=o[D],o.hasOwnProperty(D)&&B!=null&&!u.hasOwnProperty(D)&&Gt(t,e,D,null,u,B);for(X in u)B=u[X],k=o[X],!u.hasOwnProperty(X)||B===k||B==null&&k==null||Gt(t,e,X,B,u,k)}var Ef=null,Cf=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Af=null;function j0(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,Q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(t){return Np.resolve(null).then(t).catch(F0)}:Op;function F0(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function Lp(t,e){var o=e,u=0,f=0;do{var _=o.nextSibling;if(t.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<u&&8>u){o=u;var b=t.ownerDocument;if(o&1&&Yr(b.documentElement),o&2&&Yr(b.body),o&4)for(o=b.head,Yr(o),b=o.firstChild;b;){var E=b.nextSibling,O=b.nodeName;b[os]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=E}}if(f===0){t.removeChild(_),Fr(e);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=_}while(o);Fr(e)}function xf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var o=e;switch(e=e.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xf(o),Va(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function K0(t,e,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[os])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function J0(t,e,o){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Jn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $0(t,e){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")e();else{var u=function(){e(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Of=null;function Dp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return t;e--}else o==="/$"&&e++}t=t.previousSibling}return null}function Rp(t,e,o){switch(e=Ku(o),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Yr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Va(t)}var Un=new Map,zp=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=J.d;J.d={f:tb,r:eb,D:nb,C:ib,L:sb,m:ab,X:rb,S:ob,M:lb};function tb(){var t=Qi.f(),e=qu();return t||e}function eb(t){var e=Ti(t);e!==null&&e.tag===5&&e.type==="form"?tm(e):Qi.r(t)}var Lo=typeof document>"u"?null:document;function Pp(t,e,o){var u=Lo;if(u&&typeof e=="string"&&e){var f=ke(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),zp.has(f)||(zp.add(f),t={rel:t,crossOrigin:o,href:e},u.querySelector(f)===null&&(e=u.createElement("link"),Ze(e,"link",t),be(e),u.head.appendChild(e)))}}function nb(t){Qi.D(t),Pp("dns-prefetch",t,null)}function ib(t,e){Qi.C(t,e),Pp("preconnect",t,e)}function sb(t,e,o){Qi.L(t,e,o);var u=Lo;if(u&&t&&e){var f='link[rel="preload"][as="'+ke(e)+'"]';e==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ke(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ke(o.imageSizes)+'"]')):f+='[href="'+ke(t)+'"]';var _=f;switch(e){case"style":_=Do(t);break;case"script":_=Ro(t)}Un.has(_)||(t=C({rel:"preload",href:e==="image"&&o&&o.imageSrcSet?void 0:t,as:e},o),Un.set(_,t),u.querySelector(f)!==null||e==="style"&&u.querySelector(qr(_))||e==="script"&&u.querySelector(Gr(_))||(e=u.createElement("link"),Ze(e,"link",t),be(e),u.head.appendChild(e)))}}function ab(t,e){Qi.m(t,e);var o=Lo;if(o&&t){var u=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+ke(u)+'"][href="'+ke(t)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ro(t)}if(!Un.has(_)&&(t=C({rel:"modulepreload",href:t},e),Un.set(_,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gr(_)))return}u=o.createElement("link"),Ze(u,"link",t),be(u),o.head.appendChild(u)}}}function ob(t,e,o){Qi.S(t,e,o);var u=Lo;if(u&&t){var f=Ei(u).hoistableStyles,_=Do(t);e=e||"default";var b=f.get(_);if(!b){var E={loading:0,preload:null};if(b=u.querySelector(qr(_)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":e},o),(o=Un.get(_))&&Nf(t,o);var O=b=u.createElement("link");be(O),Ze(O,"link",t),O._p=new Promise(function(P,Y){O.onload=P,O.onerror=Y}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,$u(b,e,u)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(_,b)}}}function rb(t,e){Qi.X(t,e);var o=Lo;if(o&&t){var u=Ei(o).hoistableScripts,f=Ro(t),_=u.get(f);_||(_=o.querySelector(Gr(f)),_||(t=C({src:t,async:!0},e),(e=Un.get(f))&&Lf(t,e),_=o.createElement("script"),be(_),Ze(_,"link",t),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function lb(t,e){Qi.M(t,e);var o=Lo;if(o&&t){var u=Ei(o).hoistableScripts,f=Ro(t),_=u.get(f);_||(_=o.querySelector(Gr(f)),_||(t=C({src:t,async:!0,type:"module"},e),(e=Un.get(f))&&Lf(t,e),_=o.createElement("script"),be(_),Ze(_,"link",t),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function Bp(t,e,o,u){var f=(f=$.current)?Ju(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(e=Do(o.href),o=Ei(f).hoistableStyles,u=o.get(e),u||(u={type:"style",instance:null,count:0,state:null},o.set(e,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Do(o.href);var _=Ei(f).hoistableStyles,b=_.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,b),(_=f.querySelector(qr(t)))&&!_._p&&(b.instance=_,b.state.loading=5),Un.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Un.set(t,o),_||ub(f,t,o,b.state))),e&&u===null)throw Error(r(528,""));return b}if(e&&u!==null)throw Error(r(529,""));return null;case"script":return e=o.async,o=o.src,typeof o=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ro(o),o=Ei(f).hoistableScripts,u=o.get(e),u||(u={type:"script",instance:null,count:0,state:null},o.set(e,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Do(t){return'href="'+ke(t)+'"'}function qr(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,e,o,u){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?u.loading=1:(e=t.createElement("link"),u.preload=e,e.addEventListener("load",function(){return u.loading|=1}),e.addEventListener("error",function(){return u.loading|=2}),Ze(e,"link",o),be(e),t.head.appendChild(e))}function Ro(t){return'[src="'+ke(t)+'"]'}function Gr(t){return"script[async]"+t}function Hp(t,e,o){if(e.count++,e.instance===null)switch(e.type){case"style":var u=t.querySelector('style[data-href~="'+ke(o.href)+'"]');if(u)return e.instance=u,be(u),u;var f=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),be(u),Ze(u,"style",f),$u(u,o.precedence,t),e.instance=u;case"stylesheet":f=Do(o.href);var _=t.querySelector(qr(f));if(_)return e.state.loading|=4,e.instance=_,be(_),_;u=kp(o),(f=Un.get(f))&&Nf(u,f),_=(t.ownerDocument||t).createElement("link"),be(_);var b=_;return b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),Ze(_,"link",u),e.state.loading|=4,$u(_,o.precedence,t),e.instance=_;case"script":return _=Ro(o.src),(f=t.querySelector(Gr(_)))?(e.instance=f,be(f),f):(u=o,(f=Un.get(_))&&(u=C({},o),Lf(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),be(f),Ze(f,"link",u),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(u=e.instance,e.state.loading|=4,$u(u,o.precedence,t));return e.instance}function $u(t,e,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,b=0;b<u.length;b++){var E=u[b];if(E.dataset.precedence===e)_=E;else if(_!==f)break}_?_.parentNode.insertBefore(t,_.nextSibling):(e=o.nodeType===9?o.head:o,e.insertBefore(t,e.firstChild))}function Nf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Lf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var tc=null;function Up(t,e,o){if(tc===null){var u=new Map,f=tc=new Map;f.set(o,u)}else f=tc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var _=o[f];if(!(_[os]||_[Me]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(e)||"";b=t+b;var E=u.get(b);E?E.push(_):u.set(b,[_])}}return u}function Ip(t,e,o){t=t.ownerDocument||t,t.head.insertBefore(o,e==="title"?t.querySelector("head > title"):null)}function cb(t,e,o){if(o===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xr=null;function hb(){}function fb(t,e,o){if(Xr===null)throw Error(r(475));var u=Xr;if(e.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var f=Do(o.href),_=t.querySelector(qr(f));if(_){t=_._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=ec.bind(u),t.then(u,u)),e.state.loading|=4,e.instance=_,be(_);return}_=t.ownerDocument||t,o=kp(o),(f=Un.get(f))&&Nf(o,f),_=_.createElement("link"),be(_);var b=_;b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),Ze(_,"link",o),e.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(u.count++,e=ec.bind(u),t.addEventListener("load",e),t.addEventListener("error",e))}}function db(){if(Xr===null)throw Error(r(475));var t=Xr;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(e){var o=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(o)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function Df(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,e.forEach(_b,t),nc=null,ec.call(t))}function _b(t,e){if(!(e.state.loading&4)){var o=nc.get(t);if(o)var u=o.get(null);else{o=new Map,nc.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var b=f[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=e.instance,b=f.getAttribute("data-precedence"),_=o.get(b)||u,_===u&&o.set(null,f),o.set(b,f),this.count++,u=ec.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Vr={$$typeof:at,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function mb(t,e,o,u,f,_,b,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.hiddenUpdates=Xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yp(t,e,o,u,f,_,b,E,O,P,Y,X){return t=new mb(t,e,o,b,E,O,P,X),e=1,_===!0&&(e|=24),_=nn(3,null,null,e),t.current=_,_.stateNode=t,e=fh(),e.refCount++,t.pooledCache=e,e.refCount++,_.memoizedState={element:u,isDehydrated:o,cache:e},ph(_),t}function qp(t){return t?(t=Ii,t):Ii}function Gp(t,e,o,u,f,_){f=qp(f),u.context===null?u.context=f:u.pendingContext=f,u=Ns(e),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Ls(t,u,e),o!==null&&(xn(o,t,e),Tr(o,t,e))}function Xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<e?o:e}}function Rf(t,e){Xp(t,e),(t=t.alternate)&&Xp(t,e)}function Vp(t){if(t.tag===13){var e=ws(t,67108864);e!==null&&xn(e,t,67108864),Rf(t,67108864)}}var ic=!0;function pb(t,e,o,u){var f=I.T;I.T=null;var _=J.p;try{J.p=2,zf(t,e,o,u)}finally{J.p=_,I.T=f}}function vb(t,e,o,u){var f=I.T;I.T=null;var _=J.p;try{J.p=8,zf(t,e,o,u)}finally{J.p=_,I.T=f}}function zf(t,e,o,u){if(ic){var f=Pf(u);if(f===null)Sf(t,e,u,sc,o),Wp(t,u);else if(yb(f,t,e,o,u))u.stopPropagation();else if(Wp(t,u),e&4&&-1<gb.indexOf(t)){for(;f!==null;){var _=Ti(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=ai(_.pendingLanes);if(b!==0){var E=_;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var O=1<<31-Fe(b);E.entanglements[1]|=O,b&=~O}gi(_),(Zt&6)===0&&(Zu=rn()+500,Ur(0))}}break;case 13:E=ws(_,2),E!==null&&xn(E,_,2),qu(),Rf(_,2)}if(_=Pf(u),_===null&&Sf(t,e,u,sc,o),_===f)break;f=_}f!==null&&u.stopPropagation()}else Sf(t,e,u,null,o)}}function Pf(t){return t=ds(t),Bf(t)}var sc=null;function Bf(t){if(sc=null,t=ri(t),t!==null){var e=d(t);if(e===null)t=null;else{var o=e.tag;if(o===13){if(t=m(e),t!==null)return t;t=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return sc=t,null}function jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Bl:return 2;case Wo:return 8;case ns:case kl:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var kf=!1,Gs=null,Xs=null,Vs=null,jr=new Map,Wr=new Map,js=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(e.pointerId)}}function Qr(t,e,o,u,f,_){return t===null||t.nativeEvent!==_?(t={blockedOn:e,domEventName:o,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},e!==null&&(e=Ti(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=u,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function yb(t,e,o,u,f){switch(e){case"focusin":return Gs=Qr(Gs,t,e,o,u,f),!0;case"dragenter":return Xs=Qr(Xs,t,e,o,u,f),!0;case"mouseover":return Vs=Qr(Vs,t,e,o,u,f),!0;case"pointerover":var _=f.pointerId;return jr.set(_,Qr(jr.get(_)||null,t,e,o,u,f)),!0;case"gotpointercapture":return _=f.pointerId,Wr.set(_,Qr(Wr.get(_)||null,t,e,o,u,f)),!0}return!1}function Qp(t){var e=ri(t.target);if(e!==null){var o=d(e);if(o!==null){if(e=o.tag,e===13){if(e=m(o),e!==null){t.blockedOn=e,$o(t.priority,function(){if(o.tag===13){var u=An();u=Ko(u);var f=ws(o,u);f!==null&&xn(f,o,u),Rf(o,u)}});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var o=Pf(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ha=u,o.target.dispatchEvent(u),ha=null}else return e=Ti(o),e!==null&&Vp(e),t.blockedOn=o,!1;e.shift()}return!0}function Fp(t,e,o){ac(t)&&o.delete(e)}function bb(){kf=!1,Gs!==null&&ac(Gs)&&(Gs=null),Xs!==null&&ac(Xs)&&(Xs=null),Vs!==null&&ac(Vs)&&(Vs=null),jr.forEach(Fp),Wr.forEach(Fp)}function oc(t,e){t.blockedOn===e&&(t.blockedOn=null,kf||(kf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bb)))}var rc=null;function Kp(t){rc!==t&&(rc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var e=0;e<t.length;e+=3){var o=t[e],u=t[e+1],f=t[e+2];if(typeof u!="function"){if(Bf(u||o)===null)continue;break}var _=Ti(o);_!==null&&(t.splice(e,3),e-=3,Ph(_,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Fr(t){function e(O){return oc(O,t)}Gs!==null&&oc(Gs,t),Xs!==null&&oc(Xs,t),Vs!==null&&oc(Vs,t),jr.forEach(e),Wr.forEach(e);for(var o=0;o<js.length;o++){var u=js[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<js.length&&(o=js[0],o.blockedOn===null);)Qp(o),o.blockedOn===null&&js.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],_=o[u+1],b=f[Ge]||null;if(typeof _=="function")b||Kp(o);else if(b){var E=null;if(_&&_.hasAttribute("formAction")){if(f=_,b=_[Ge]||null)E=b.formAction;else if(Bf(f)!==null)continue}else E=b.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),Kp(o)}}}function Hf(t){this._internalRoot=t}lc.prototype.render=Hf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var o=e.current,u=An();Gp(o,u,t,e,null,null)},lc.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gp(t.current,2,null,t,null,null),qu(),e[as]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ql();t={blockedOn:null,target:t,priority:e};for(var o=0;o<js.length&&e!==0&&e<js[o].priority;o++);js.splice(o,0,t),o===0&&Qp(t)}};var Jp=n.version;if(Jp!=="19.1.1")throw Error(r(527,Jp,"19.1.1"));J.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(e),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Sb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Si=uc.inject(Sb),qe=uc}catch{}}return Jr.createRoot=function(t,e){if(!c(t))throw Error(r(299));var o=!1,u="",f=_m,_=mm,b=pm,E=null;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(u=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(_=e.onCaughtError),e.onRecoverableError!==void 0&&(b=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=Yp(t,1,!1,null,null,o,u,f,_,b,E,null),t[as]=e.current,bf(t),new Hf(e)},Jr.hydrateRoot=function(t,e,o){if(!c(t))throw Error(r(299));var u=!1,f="",_=_m,b=mm,E=pm,O=null,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(P=o.formState)),e=Yp(t,1,!0,e,o??null,u,f,_,b,E,O,P),e.context=qp(null),o=e.current,u=An(),u=Ko(u),f=Ns(u),f.callback=null,Ls(o,f,u),o=u,e.current.lanes=o,ss(e,o),gi(e),t[as]=e.current,bf(t),new lc(e)},Jr.version="19.1.1",Jr}var lv;function Nb(){if(lv)return Zf.exports;lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Zf.exports=Ob(),Zf.exports}var Lb=Nb();function Db({onNavigate:a}){return tt.jsxs("div",{className:"screen event-select-screen",children:[tt.jsx("div",{className:"title-container",children:tt.jsx("h1",{children:""})}),tt.jsx("button",{className:"btn event-button",onClick:()=>a("map0"),children:"LeafMap (id:0)"}),tt.jsx("br",{}),tt.jsx("button",{className:"btn event-button",onClick:()=>a("map1"),children:"LeafMap (id:1)"}),tt.jsx("br",{}),tt.jsx("button",{className:"btn event-button",onClick:()=>a("debug"),children:"VectorMap (noDB)"})]})}var In=function(a,n){return Number(a.toFixed(n))},Rb=function(a,n){return n},le=function(a,n,s){s&&typeof s=="function"&&s(a,n)},zb=function(a){return-Math.cos(a*Math.PI)/2+.5},Pb=function(a){return a},Bb=function(a){return a*a},kb=function(a){return a*(2-a)},Hb=function(a){return a<.5?2*a*a:-1+(4-2*a)*a},Ub=function(a){return a*a*a},Ib=function(a){return--a*a*a+1},Zb=function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},Yb=function(a){return a*a*a*a},qb=function(a){return 1- --a*a*a*a},Gb=function(a){return a<.5?8*a*a*a*a:1-8*--a*a*a*a},Xb=function(a){return a*a*a*a*a},Vb=function(a){return 1+--a*a*a*a*a},jb=function(a){return a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a},dg={easeOut:zb,linear:Pb,easeInQuad:Bb,easeOutQuad:kb,easeInOutQuad:Hb,easeInCubic:Ub,easeOutCubic:Ib,easeInOutCubic:Zb,easeInQuart:Yb,easeOutQuart:qb,easeInOutQuart:Gb,easeInQuint:Xb,easeOutQuint:Vb,easeInOutQuint:jb},_g=function(a){typeof a=="number"&&cancelAnimationFrame(a)},$n=function(a){a.mounted&&(_g(a.animation),a.animate=!1,a.animation=null,a.velocity=null)};function mg(a,n,s,r){if(a.mounted){var c=new Date().getTime(),d=1;$n(a),a.animation=function(){if(!a.mounted)return _g(a.animation);var m=new Date().getTime()-c,g=m/s,y=dg[n],S=y(g);m>=s?(r(d),a.animation=null):a.animation&&(r(S),requestAnimationFrame(a.animation))},requestAnimationFrame(a.animation)}}function Wb(a){var n=a.scale,s=a.positionX,r=a.positionY;return!(Number.isNaN(n)||Number.isNaN(s)||Number.isNaN(r))}function sa(a,n,s,r){var c=Wb(n);if(!(!a.mounted||!c)){var d=a.setTransformState,m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY,C=n.scale-g,w=n.positionX-y,A=n.positionY-S;s===0?d(n.scale,n.positionX,n.positionY):mg(a,r,s,function(H){var q=g+C*H,j=y+w*H,it=S+A*H;d(q,j,it)})}}function Qb(a,n,s){var r=a.offsetWidth,c=a.offsetHeight,d=n.offsetWidth,m=n.offsetHeight,g=d*s,y=m*s,S=r-g,C=c-y;return{wrapperWidth:r,wrapperHeight:c,newContentWidth:g,newDiffWidth:S,newContentHeight:y,newDiffHeight:C}}var Fb=function(a,n,s,r,c,d,m){var g=a>n?s*(m?1:.5):0,y=r>c?d*(m?1:.5):0,S=a-n-g,C=g,w=r-c-y,A=y;return{minPositionX:S,maxPositionX:C,minPositionY:w,maxPositionY:A}},Ad=function(a,n){var s=a.wrapperComponent,r=a.contentComponent,c=a.setup.centerZoomedOut;if(!s||!r)throw new Error("Components are not mounted");var d=Qb(s,r,n),m=d.wrapperWidth,g=d.wrapperHeight,y=d.newContentWidth,S=d.newDiffWidth,C=d.newContentHeight,w=d.newDiffHeight,A=Fb(m,y,S,g,C,w,!!c);return A},ad=function(a,n,s,r){return r?a<n?In(n,2):a>s?In(s,2):In(a,2):In(a,2)},Ha=function(a,n){var s=Ad(a,n);return a.bounds=s,s};function Tl(a,n,s,r,c,d,m){var g=s.minPositionX,y=s.minPositionY,S=s.maxPositionX,C=s.maxPositionY,w=0,A=0;m&&(w=c,A=d);var H=ad(a,g-w,S+w,r),q=ad(n,y-A,C+A,r);return{x:H,y:q}}function Rc(a,n,s,r,c,d){var m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY,C=r-g;if(typeof n!="number"||typeof s!="number")return console.error("Mouse X and Y position were not provided!"),{x:y,y:S};var w=y-n*C,A=S-s*C,H=Tl(w,A,c,d,0,0,null);return H}function El(a,n,s,r,c){var d=c?r:0,m=n-d;return!Number.isNaN(s)&&a>=s?s:!Number.isNaN(n)&&a<=m?m:a}var uv=function(a,n){var s=a.setup.panning.excluded,r=a.isInitialized,c=a.wrapperComponent,d=n.target,m="shadowRoot"in d&&"composedPath"in n,g=m?n.composedPath().some(function(C){return C instanceof Element?c?.contains(C):!1}):c?.contains(d),y=r&&d&&g;if(!y)return!1;var S=zc(d,s);return!S},cv=function(a){var n=a.isInitialized,s=a.isPanning,r=a.setup,c=r.panning.disabled,d=n&&s&&!c;return!!d},Kb=function(a,n){var s=a.transformState,r=s.positionX,c=s.positionY;a.isPanning=!0;var d=n.clientX,m=n.clientY;a.startCoords={x:d-r,y:m-c}},Jb=function(a,n){var s=n.touches,r=a.transformState,c=r.positionX,d=r.positionY;a.isPanning=!0;var m=s.length===1;if(m){var g=s[0].clientX,y=s[0].clientY;a.startCoords={x:g-c,y:y-d}}};function $b(a){var n=a.transformState,s=n.positionX,r=n.positionY,c=n.scale,d=a.setup,m=d.disabled,g=d.limitToBounds,y=d.centerZoomedOut,S=a.wrapperComponent;if(!(m||!S||!a.bounds)){var C=a.bounds,w=C.maxPositionX,A=C.minPositionX,H=C.maxPositionY,q=C.minPositionY,j=s>w||s<A,it=r>H||r<q,Tt=s>w?S.offsetWidth:a.setup.minPositionX||0,yt=r>H?S.offsetHeight:a.setup.minPositionY||0,at=Rc(a,Tt,yt,c,a.bounds,g||y),It=at.x,ft=at.y;return{scale:c,positionX:j?It:s,positionY:it?ft:r}}}function pg(a,n,s,r,c){var d=a.setup.limitToBounds,m=a.wrapperComponent,g=a.bounds,y=a.transformState,S=y.scale,C=y.positionX,w=y.positionY;if(!(m===null||g===null||n===C&&s===w)){var A=Tl(n,s,g,d,r,c,m),H=A.x,q=A.y;a.setTransformState(S,H,q)}}var tS=function(a,n,s){var r=a.startCoords,c=a.transformState,d=a.setup.panning,m=d.lockAxisX,g=d.lockAxisY,y=c.positionX,S=c.positionY;if(!r)return{x:y,y:S};var C=n-r.x,w=s-r.y,A=m?y:C,H=g?S:w;return{x:A,y:H}},ta=function(a,n){var s=a.setup,r=a.transformState,c=r.scale,d=s.minScale,m=s.disablePadding;return n>0&&c>=d&&!m?n:0},eS=function(a){var n=a.mounted,s=a.setup,r=s.disabled,c=s.velocityAnimation,d=a.transformState.scale,m=c.disabled,g=!m||d>1||!r||n;return!!g},nS=function(a){var n=a.mounted,s=a.velocity,r=a.bounds,c=a.setup,d=c.disabled,m=c.velocityAnimation,g=a.transformState.scale,y=m.disabled,S=!y||g>1||!d||n;return!(!S||!s||!r)};function iS(a,n){var s=a.setup.velocityAnimation,r=s.equalToMove,c=s.animationTime,d=s.sensitivity;return r?c*n*d:c}function hv(a,n,s,r,c,d,m,g,y,S){if(c){if(n>m&&s>m){var C=m+(a-m)*S;return C>y?y:C<m?m:C}if(n<d&&s<d){var C=d+(a-d)*S;return C<g?g:C>d?d:C}}return r?n:ad(a,d,m,c)}function sS(a,n){var s=1;return n?Math.min(s,a.offsetWidth/window.innerWidth):s}function aS(a,n){var s=eS(a);if(s){var r=a.lastMousePosition,c=a.velocityTime,d=a.setup,m=a.wrapperComponent,g=d.velocityAnimation.equalToMove,y=Date.now();if(r&&c&&m){var S=sS(m,g),C=n.x-r.x,w=n.y-r.y,A=C/S,H=w/S,q=y-c,j=C*C+w*w,it=Math.sqrt(j)/q;a.velocity={velocityX:A,velocityY:H,total:it}}a.lastMousePosition=n,a.velocityTime=y}}function oS(a){var n=a.velocity,s=a.bounds,r=a.setup,c=a.wrapperComponent,d=nS(a);if(!(!d||!n||!s||!c)){var m=n.velocityX,g=n.velocityY,y=n.total,S=s.maxPositionX,C=s.minPositionX,w=s.maxPositionY,A=s.minPositionY,H=r.limitToBounds,q=r.alignmentAnimation,j=r.zoomAnimation,it=r.panning,Tt=it.lockAxisY,yt=it.lockAxisX,at=j.animationType,It=q.sizeX,ft=q.sizeY,Wt=q.velocityAlignmentTime,Qt=Wt,ae=iS(a,y),ue=Math.max(ae,Qt),xe=ta(a,It),Pt=ta(a,ft),Nt=xe*c.offsetWidth/100,an=Pt*c.offsetHeight/100,ve=S+Nt,ce=C-Nt,I=w+an,J=A-an,W=a.transformState,Bt=new Date().getTime();mg(a,at,ue,function(x){var Z=a.transformState,F=Z.scale,Q=Z.positionX,et=Z.positionY,rt=new Date().getTime()-Bt,$=rt/Qt,ie=dg[q.animationType],Lt=1-ie(Math.min(1,$)),on=1-x,si=Q+m*on,Zn=et+g*on,Yn=hv(si,W.positionX,Q,yt,H,C,S,ce,ve,Lt),bi=hv(Zn,W.positionY,et,Tt,H,A,w,J,I,Lt);(Q!==si||et!==Zn)&&a.setTransformState(F,Yn,bi)})}}function fv(a,n){var s=a.transformState.scale;$n(a),Ha(a,s),window.TouchEvent!==void 0&&n instanceof TouchEvent?Jb(a,n):Kb(a,n)}function xd(a,n){var s=a.transformState.scale,r=a.setup,c=r.minScale,d=r.alignmentAnimation,m=d.disabled,g=d.sizeX,y=d.sizeY,S=d.animationTime,C=d.animationType,w=m||s<c||!g&&!y;if(!w){var A=$b(a);A&&sa(a,A,n??S,C)}}function dv(a,n,s){var r=a.startCoords,c=a.setup,d=c.alignmentAnimation,m=d.sizeX,g=d.sizeY;if(r){var y=tS(a,n,s),S=y.x,C=y.y,w=ta(a,m),A=ta(a,g);aS(a,{x:S,y:C}),pg(a,S,C,w,A)}}function rS(a){if(a.isPanning){var n=a.setup.panning.velocityDisabled,s=a.velocity,r=a.wrapperComponent,c=a.contentComponent;a.isPanning=!1,a.animate=!1,a.animation=null;var d=r?.getBoundingClientRect(),m=c?.getBoundingClientRect(),g=d?.width||0,y=d?.height||0,S=m?.width||0,C=m?.height||0,w=g<S||y<C,A=!n&&s&&s?.total>.1&&w;A?oS(a):xd(a)}}function Md(a,n,s,r){var c=a.setup,d=c.minScale,m=c.maxScale,g=c.limitToBounds,y=El(In(n,2),d,m,0,!1),S=Ha(a,y),C=Rc(a,s,r,y,S,g),w=C.x,A=C.y;return{scale:y,positionX:w,positionY:A}}function vg(a,n,s){var r=a.transformState.scale,c=a.wrapperComponent,d=a.setup,m=d.minScale,g=d.limitToBounds,y=d.zoomAnimation,S=y.disabled,C=y.animationTime,w=y.animationType,A=S||r>=m;if((r>=1||g)&&xd(a),!(A||!c||!a.mounted)){var H=n||c.offsetWidth/2,q=s||c.offsetHeight/2,j=Md(a,m,H,q);j&&sa(a,j,C,w)}}var Qs=function(){return Qs=Object.assign||function(n){for(var s,r=1,c=arguments.length;r<c;r++){s=arguments[r];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},Qs.apply(this,arguments)};function _v(a,n,s){for(var r=0,c=n.length,d;r<c;r++)(d||!(r in n))&&(d||(d=Array.prototype.slice.call(n,0,r)),d[r]=n[r]);return a.concat(d||Array.prototype.slice.call(n))}var cc={scale:1,positionX:0,positionY:0},$r={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},od={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},gg=function(a){var n,s,r,c;return{previousScale:(n=a.initialScale)!==null&&n!==void 0?n:cc.scale,scale:(s=a.initialScale)!==null&&s!==void 0?s:cc.scale,positionX:(r=a.initialPositionX)!==null&&r!==void 0?r:cc.positionX,positionY:(c=a.initialPositionY)!==null&&c!==void 0?c:cc.positionY}},mv=function(a){var n=Qs({},$r);return Object.keys(a).forEach(function(s){var r=typeof a[s]<"u",c=typeof $r[s]<"u";if(c&&r){var d=Object.prototype.toString.call($r[s]),m=d==="[object Object]",g=d==="[object Array]";m?n[s]=Qs(Qs({},$r[s]),a[s]):g?n[s]=_v(_v([],$r[s],!0),a[s]):n[s]=a[s]}}),n},yg=function(a,n,s){var r=a.transformState.scale,c=a.wrapperComponent,d=a.setup,m=d.maxScale,g=d.minScale,y=d.zoomAnimation,S=d.smooth,C=y.size;if(!c)throw new Error("Wrapper is not mounted");var w=S?r*Math.exp(n*s):r+n*s,A=El(In(w,3),g,m,C,!1);return A};function bg(a,n,s,r,c){var d=a.wrapperComponent,m=a.transformState,g=m.scale,y=m.positionX,S=m.positionY;if(!d)return console.error("No WrapperComponent found");var C=d.offsetWidth,w=d.offsetHeight,A=(C/2-y)/g,H=(w/2-S)/g,q=yg(a,n,s),j=Md(a,q,A,H);if(!j)return console.error("Error during zoom event. New transformation state was not calculated.");sa(a,j,r,c)}function Sg(a,n,s,r){var c=a.setup,d=a.wrapperComponent,m=c.limitToBounds,g=gg(a.props),y=a.transformState,S=y.scale,C=y.positionX,w=y.positionY;if(d){var A=Ad(a,g.scale),H=Tl(g.positionX,g.positionY,A,m,0,0,d),q={scale:g.scale,positionX:H.x,positionY:H.y};S===g.scale&&C===g.positionX&&w===g.positionY||(r?.(),sa(a,q,n,s))}}function lS(a,n,s,r){var c=a.getBoundingClientRect(),d=n.getBoundingClientRect(),m=s.getBoundingClientRect(),g=d.x*r.scale,y=d.y*r.scale;return{x:(c.x-m.x+g)/r.scale,y:(c.y-m.y+y)/r.scale}}function uS(a,n,s){var r=a.wrapperComponent,c=a.contentComponent,d=a.transformState,m=a.setup,g=m.limitToBounds,y=m.minScale,S=m.maxScale;if(!r||!c)return d;var C=r.getBoundingClientRect(),w=n.getBoundingClientRect(),A=lS(n,r,c,d),H=A.x,q=A.y,j=w.width/d.scale,it=w.height/d.scale,Tt=r.offsetWidth/j,yt=r.offsetHeight/it,at=El(s||Math.min(Tt,yt),y,S,0,!1),It=(C.width-j*at)/2,ft=(C.height-it*at)/2,Wt=(C.left-H)*at+It,Qt=(C.top-q)*at+ft,ae=Ad(a,at),ue=Tl(Wt,Qt,ae,g,0,0,r),xe=ue.x,Pt=ue.y;return{positionX:xe,positionY:Pt,scale:at}}var cS=function(a){return function(n,s,r){n===void 0&&(n=.5),s===void 0&&(s=300),r===void 0&&(r="easeOut"),bg(a,1,n,s,r)}},hS=function(a){return function(n,s,r){n===void 0&&(n=.5),s===void 0&&(s=300),r===void 0&&(r="easeOut"),bg(a,-1,n,s,r)}},fS=function(a){return function(n,s,r,c,d){c===void 0&&(c=300),d===void 0&&(d="easeOut");var m=a.transformState,g=m.positionX,y=m.positionY,S=m.scale,C=a.wrapperComponent,w=a.contentComponent,A=a.setup.disabled;if(!(A||!C||!w)){var H={positionX:Number.isNaN(n)?g:n,positionY:Number.isNaN(s)?y:s,scale:Number.isNaN(r)?S:r};sa(a,H,c,d)}}},dS=function(a){return function(n,s){n===void 0&&(n=200),s===void 0&&(s="easeOut"),Sg(a,n,s)}},_S=function(a){return function(n,s,r){s===void 0&&(s=200),r===void 0&&(r="easeOut");var c=a.transformState,d=a.wrapperComponent,m=a.contentComponent;if(d&&m){var g=Tg(n||c.scale,d,m);sa(a,g,s,r)}}},mS=function(a){return function(n,s,r,c){r===void 0&&(r=600),c===void 0&&(c="easeOut"),$n(a);var d=a.wrapperComponent,m=typeof n=="string"?document.getElementById(n):n;if(d&&m&&d.contains(m)){var g=uS(a,m,s);sa(a,g,r,c)}}},rd=function(a){return{instance:a,zoomIn:cS(a),zoomOut:hS(a),setTransform:fS(a),resetTransform:dS(a),centerView:_S(a),zoomToElement:mS(a)}},pS=function(a){return{instance:a,state:a.transformState}},te=function(a){var n={};return Object.assign(n,pS(a)),Object.assign(n,rd(a)),n},Xf=!1;function Vf(){try{var a={get passive(){return Xf=!0,!1}};return a}catch{return Xf=!1,Xf}}var hc=".".concat(od.wrapperClass),zc=function(a,n){return n.some(function(s){return a.matches("".concat(hc," ").concat(s,", ").concat(hc," .").concat(s,", ").concat(hc," ").concat(s," *, ").concat(hc," .").concat(s," *"))})},ld=function(a){a&&clearTimeout(a)},vS=function(a,n,s){return"translate(".concat(a,"px, ").concat(n,"px) scale(").concat(s,")")},Tg=function(a,n,s){var r=s.offsetWidth*a,c=s.offsetHeight*a,d=(n.offsetWidth-r)/2,m=(n.offsetHeight-c)/2;return{scale:a,positionX:d,positionY:m}};function gS(a){return function(n){a.forEach(function(s){typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var yS=function(a,n){var s=a.setup.wheel,r=s.disabled,c=s.wheelDisabled,d=s.touchPadDisabled,m=s.excluded,g=a.isInitialized,y=a.isPanning,S=n.target,C=g&&!y&&!r&&S;if(!C||c&&!n.ctrlKey||d&&n.ctrlKey)return!1;var w=zc(S,m);return!w},bS=function(a){return a?a.deltaY<0?1:-1:0};function SS(a,n){var s=bS(a),r=Rb(n,s);return r}function Eg(a,n,s){var r=n.getBoundingClientRect(),c=0,d=0;if("clientX"in a)c=(a.clientX-r.left)/s,d=(a.clientY-r.top)/s;else{var m=a.touches[0];c=(m.clientX-r.left)/s,d=(m.clientY-r.top)/s}return(Number.isNaN(c)||Number.isNaN(d))&&console.error("No mouse or touch offset found"),{x:c,y:d}}var TS=function(a,n,s,r,c){var d=a.transformState.scale,m=a.wrapperComponent,g=a.setup,y=g.maxScale,S=g.minScale,C=g.zoomAnimation,w=g.disablePadding,A=C.size,H=C.disabled;if(!m)throw new Error("Wrapper is not mounted");var q=d+n*s,j=r?!1:!H,it=El(In(q,3),S,y,A,j&&!w);return it},ES=function(a,n){var s=a.previousWheelEvent,r=a.transformState.scale,c=a.setup,d=c.maxScale,m=c.minScale;return s?r<d||r>m||Math.sign(s.deltaY)!==Math.sign(n.deltaY)||s.deltaY>0&&s.deltaY<n.deltaY||s.deltaY<0&&s.deltaY>n.deltaY||Math.sign(s.deltaY)!==Math.sign(n.deltaY):!1},CS=function(a,n){var s=a.setup.pinch,r=s.disabled,c=s.excluded,d=a.isInitialized,m=n.target,g=d&&!r&&m;if(!g)return!1;var y=zc(m,c);return!y},wS=function(a){var n=a.setup.pinch.disabled,s=a.isInitialized,r=a.pinchStartDistance,c=s&&!n&&r;return!!c},AS=function(a,n,s){var r=s.getBoundingClientRect(),c=a.touches,d=In(c[0].clientX-r.left,5),m=In(c[0].clientY-r.top,5),g=In(c[1].clientX-r.left,5),y=In(c[1].clientY-r.top,5);return{x:(d+g)/2/n,y:(m+y)/2/n}},Cg=function(a){return Math.sqrt(Math.pow(a.touches[0].pageX-a.touches[1].pageX,2)+Math.pow(a.touches[0].pageY-a.touches[1].pageY,2))},xS=function(a,n){var s=a.pinchStartScale,r=a.pinchStartDistance,c=a.setup,d=c.maxScale,m=c.minScale,g=c.zoomAnimation,y=c.disablePadding,S=g.size,C=g.disabled;if(!s||r===null||!n)throw new Error("Pinch touches distance was not provided");if(n<0)return a.transformState.scale;var w=n/r,A=w*s;return El(In(A,2),m,d,S,!C&&!y)},MS=160,OS=100,NS=function(a,n){var s=a.props,r=s.onWheelStart,c=s.onZoomStart;a.wheelStopEventTimer||($n(a),le(te(a),n,r),le(te(a),n,c))},LS=function(a,n){var s=a.props,r=s.onWheel,c=s.onZoom,d=a.contentComponent,m=a.setup,g=a.transformState,y=g.scale,S=m.limitToBounds,C=m.centerZoomedOut,w=m.zoomAnimation,A=m.wheel,H=m.disablePadding,q=m.smooth,j=w.size,it=w.disabled,Tt=A.step,yt=A.smoothStep;if(!d)throw new Error("Component not mounted");n.preventDefault(),n.stopPropagation();var at=SS(n,null),It=q?yt*Math.abs(n.deltaY):Tt,ft=TS(a,at,It,!n.ctrlKey);if(y!==ft){var Wt=Ha(a,ft),Qt=Eg(n,d,y),ae=it||j===0||C||H,ue=S&&ae,xe=Rc(a,Qt.x,Qt.y,ft,Wt,ue),Pt=xe.x,Nt=xe.y;a.previousWheelEvent=n,a.setTransformState(ft,Pt,Nt),le(te(a),n,r),le(te(a),n,c)}},DS=function(a,n){var s=a.props,r=s.onWheelStop,c=s.onZoomStop;ld(a.wheelAnimationTimer),a.wheelAnimationTimer=setTimeout(function(){a.mounted&&(vg(a,n.x,n.y),a.wheelAnimationTimer=null)},OS);var d=ES(a,n);d&&(ld(a.wheelStopEventTimer),a.wheelStopEventTimer=setTimeout(function(){a.mounted&&(a.wheelStopEventTimer=null,le(te(a),n,r),le(te(a),n,c))},MS))},wg=function(a){for(var n=0,s=0,r=0;r<2;r+=1)n+=a.touches[r].clientX,s+=a.touches[r].clientY;var c=n/2,d=s/2;return{x:c,y:d}},RS=function(a,n){var s=Cg(n);a.pinchStartDistance=s,a.lastDistance=s,a.pinchStartScale=a.transformState.scale,a.isPanning=!1;var r=wg(n);a.pinchLastCenterX=r.x,a.pinchLastCenterY=r.y,$n(a)},zS=function(a,n){var s=a.contentComponent,r=a.pinchStartDistance,c=a.wrapperComponent,d=a.transformState.scale,m=a.setup,g=m.limitToBounds,y=m.centerZoomedOut,S=m.zoomAnimation,C=m.alignmentAnimation,w=S.disabled,A=S.size;if(!(r===null||!s)){var H=AS(n,d,s);if(!(!Number.isFinite(H.x)||!Number.isFinite(H.y))){var q=Cg(n),j=xS(a,q),it=wg(n),Tt=it.x-(a.pinchLastCenterX||0),yt=it.y-(a.pinchLastCenterY||0);if(!(j===d&&Tt===0&&yt===0)){a.pinchLastCenterX=it.x,a.pinchLastCenterY=it.y;var at=Ha(a,j),It=w||A===0||y,ft=g&&It,Wt=Rc(a,H.x,H.y,j,at,ft),Qt=Wt.x,ae=Wt.y;a.pinchMidpoint=H,a.lastDistance=q;var ue=C.sizeX,xe=C.sizeY,Pt=ta(a,ue),Nt=ta(a,xe),an=Qt+Tt,ve=ae+yt,ce=Tl(an,ve,at,g,Pt,Nt,c),I=ce.x,J=ce.y;a.setTransformState(j,I,J)}}}},PS=function(a){var n=a.pinchMidpoint;a.velocity=null,a.lastDistance=null,a.pinchMidpoint=null,a.pinchStartScale=null,a.pinchStartDistance=null,vg(a,n?.x,n?.y)},Ag=function(a,n){var s=a.props.onZoomStop,r=a.setup.doubleClick.animationTime;ld(a.doubleClickStopEventTimer),a.doubleClickStopEventTimer=setTimeout(function(){a.doubleClickStopEventTimer=null,le(te(a),n,s)},r)},BS=function(a,n){var s=a.props,r=s.onZoomStart,c=s.onZoom,d=a.setup.doubleClick,m=d.animationTime,g=d.animationType;le(te(a),n,r),Sg(a,m,g,function(){return le(te(a),n,c)}),Ag(a,n)};function kS(a,n){return a==="toggle"?n===1?1:-1:a==="zoomOut"?-1:1}function HS(a,n){var s=a.setup,r=a.doubleClickStopEventTimer,c=a.transformState,d=a.contentComponent,m=c.scale,g=a.props,y=g.onZoomStart,S=g.onZoom,C=s.doubleClick,w=C.disabled,A=C.mode,H=C.step,q=C.animationTime,j=C.animationType;if(!w&&!r){if(A==="reset")return BS(a,n);if(!d)return console.error("No ContentComponent found");var it=kS(A,a.transformState.scale),Tt=yg(a,it,H);if(m!==Tt){le(te(a),n,y);var yt=Eg(n,d,m),at=Md(a,Tt,yt.x,yt.y);if(!at)return console.error("Error during zoom event. New transformation state was not calculated.");le(te(a),n,S),sa(a,at,q,j),Ag(a,n)}}}var US=function(a,n){var s=a.isInitialized,r=a.setup,c=a.wrapperComponent,d=r.doubleClick,m=d.disabled,g=d.excluded,y=n.target,S=c?.contains(y),C=s&&y&&S&&!m;if(!C)return!1;var w=zc(y,g);return!w},IS=(function(){function a(n){var s=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){s.initializeWindowEvents()},this.unmount=function(){s.cleanupWindowEvents()},this.update=function(r){s.props=r,Ha(s,s.transformState.scale),s.setup=mv(r)},this.initializeWindowEvents=function(){var r,c,d=Vf(),m=(r=s.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,g=m?.defaultView;(c=s.wrapperComponent)===null||c===void 0||c.addEventListener("wheel",s.onWheelPanning,d),g?.addEventListener("mousedown",s.onPanningStart,d),g?.addEventListener("mousemove",s.onPanning,d),g?.addEventListener("mouseup",s.onPanningStop,d),m?.addEventListener("mouseleave",s.clearPanning,d),g?.addEventListener("keyup",s.setKeyUnPressed,d),g?.addEventListener("keydown",s.setKeyPressed,d)},this.cleanupWindowEvents=function(){var r,c,d=Vf(),m=(r=s.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,g=m?.defaultView;g?.removeEventListener("mousedown",s.onPanningStart,d),g?.removeEventListener("mousemove",s.onPanning,d),g?.removeEventListener("mouseup",s.onPanningStop,d),m?.removeEventListener("mouseleave",s.clearPanning,d),g?.removeEventListener("keyup",s.setKeyUnPressed,d),g?.removeEventListener("keydown",s.setKeyPressed,d),document.removeEventListener("mouseleave",s.clearPanning,d),$n(s),(c=s.observer)===null||c===void 0||c.disconnect()},this.handleInitializeWrapperEvents=function(r){var c=Vf();r.addEventListener("wheel",s.onWheelZoom,c),r.addEventListener("dblclick",s.onDoubleClick,c),r.addEventListener("touchstart",s.onTouchPanningStart,c),r.addEventListener("touchmove",s.onTouchPanning,c),r.addEventListener("touchend",s.onTouchPanningStop,c)},this.handleInitialize=function(r,c){var d=!1,m=s.setup.centerOnInit,g=function(y,S){for(var C=0,w=y;C<w.length;C++){var A=w[C];if(A.target===S)return!0}return!1};s.applyTransformation(),s.onInitCallbacks.forEach(function(y){y(te(s))}),s.observer=new ResizeObserver(function(y){if(g(y,r)||g(y,c))if(m&&!d){var S=c.offsetWidth,C=c.offsetHeight;(S>0||C>0)&&(d=!0,s.setCenter())}else $n(s),Ha(s,s.transformState.scale),xd(s,0)}),s.observer.observe(r),s.observer.observe(c)},this.onWheelZoom=function(r){var c=s.setup.disabled;if(!c){var d=yS(s,r);if(d){var m=s.isPressingKeys(s.setup.wheel.activationKeys);m&&(NS(s,r),LS(s,r),DS(s,r))}}},this.onWheelPanning=function(r){var c=s.setup,d=c.disabled,m=c.wheel,g=c.panning;if(!(!s.wrapperComponent||!s.contentComponent||d||!m.wheelDisabled||g.disabled||!g.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var y=s.transformState,S=y.positionX,C=y.positionY,w=S-r.deltaX,A=C-r.deltaY,H=g.lockAxisX?S:w,q=g.lockAxisY?C:A,j=s.setup.alignmentAnimation,it=j.sizeX,Tt=j.sizeY,yt=ta(s,it),at=ta(s,Tt);H===S&&q===C||pg(s,H,q,yt,at)}},this.onPanningStart=function(r){var c=s.setup.disabled,d=s.props.onPanningStart;if(!c){var m=uv(s,r);if(m){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(r.button===0&&!s.setup.panning.allowLeftClickPan||r.button===1&&!s.setup.panning.allowMiddleClickPan||r.button===2&&!s.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),$n(s),fv(s,r),le(te(s),r,d)))}}},this.onPanning=function(r){var c=s.setup.disabled,d=s.props.onPanning;if(!c){var m=cv(s);if(m){var g=s.isPressingKeys(s.setup.panning.activationKeys);g&&(r.preventDefault(),r.stopPropagation(),dv(s,r.clientX,r.clientY),le(te(s),r,d))}}},this.onPanningStop=function(r){var c=s.props.onPanningStop;s.isPanning&&(rS(s),le(te(s),r,c))},this.onPinchStart=function(r){var c=s.setup.disabled,d=s.props,m=d.onPinchingStart,g=d.onZoomStart;if(!c){var y=CS(s,r);y&&(RS(s,r),$n(s),le(te(s),r,m),le(te(s),r,g))}},this.onPinch=function(r){var c=s.setup.disabled,d=s.props,m=d.onPinching,g=d.onZoom;if(!c){var y=wS(s);y&&(r.preventDefault(),r.stopPropagation(),zS(s,r),le(te(s),r,m),le(te(s),r,g))}},this.onPinchStop=function(r){var c=s.props,d=c.onPinchingStop,m=c.onZoomStop;s.pinchStartScale&&(PS(s),le(te(s),r,d),le(te(s),r,m))},this.onTouchPanningStart=function(r){var c=s.setup.disabled,d=s.props.onPanningStart;if(!c){var m=uv(s,r);if(m){var g=s.lastTouch&&+new Date-s.lastTouch<200&&r.touches.length===1;if(!g){s.lastTouch=+new Date,$n(s);var y=r.touches,S=y.length===1,C=y.length===2;S&&($n(s),fv(s,r),le(te(s),r,d)),C&&s.onPinchStart(r)}}}},this.onTouchPanning=function(r){var c=s.setup.disabled,d=s.props.onPanning;if(s.isPanning&&r.touches.length===1){if(c)return;var m=cv(s);if(!m)return;r.preventDefault(),r.stopPropagation();var g=r.touches[0];dv(s,g.clientX,g.clientY),le(te(s),r,d)}else r.touches.length>1&&s.onPinch(r)},this.onTouchPanningStop=function(r){s.onPanningStop(r),s.onPinchStop(r)},this.onDoubleClick=function(r){var c=s.setup.disabled;if(!c){var d=US(s,r);d&&HS(s,r)}},this.clearPanning=function(r){s.isPanning&&s.onPanningStop(r)},this.setKeyPressed=function(r){s.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){s.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(c){return s.pressedKeys[c]}):!0},this.setTransformState=function(r,c,d){var m=s.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(c)&&!Number.isNaN(d)){r!==s.transformState.scale&&(s.transformState.previousScale=s.transformState.scale,s.transformState.scale=r),s.transformState.positionX=c,s.transformState.positionY=d,s.applyTransformation();var g=te(s);s.onChangeCallbacks.forEach(function(y){return y(g)}),le(g,{scale:r,positionX:c,positionY:d},m)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(s.wrapperComponent&&s.contentComponent){var r=Tg(s.transformState.scale,s.wrapperComponent,s.contentComponent);s.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,c,d){return s.props.customTransform?s.props.customTransform(r,c,d):vS(r,c,d)},this.applyTransformation=function(){if(!(!s.mounted||!s.contentComponent)){var r=s.transformState,c=r.scale,d=r.positionX,m=r.positionY,g=s.handleTransformStyles(d,m,c);s.contentComponent.style.transform=g}},this.getContext=function(){return te(s)},this.onChange=function(r){return s.onChangeCallbacks.has(r)||s.onChangeCallbacks.add(r),function(){s.onChangeCallbacks.delete(r)}},this.onInit=function(r){return s.onInitCallbacks.has(r)||s.onInitCallbacks.add(r),function(){s.onInitCallbacks.delete(r)}},this.init=function(r,c){s.cleanupWindowEvents(),s.wrapperComponent=r,s.contentComponent=c,Ha(s,s.transformState.scale),s.handleInitializeWrapperEvents(r),s.handleInitialize(r,c),s.initializeWindowEvents(),s.isInitialized=!0;var d=te(s);le(d,void 0,s.props.onInit)},this.props=n,this.setup=mv(this.props),this.transformState=gg(this.props)}return a})(),Od=yi.createContext(null),ZS=function(a,n){return typeof a=="function"?a(n):a},YS=yi.forwardRef(function(a,n){var s=gt.useRef(new IS(a)).current,r=ZS(a.children,rd(s));return gt.useImperativeHandle(n,function(){return rd(s)},[s]),gt.useEffect(function(){s.update(a)},[s,a]),yi.createElement(Od.Provider,{value:s},r)});yi.forwardRef(function(a,n){var s=gt.useRef(null),r=gt.useContext(Od);return gt.useEffect(function(){return r.onChange(function(c){if(s.current){var d=0,m=0;s.current.style.transform=r.handleTransformStyles(d,m,1/c.instance.transformState.scale)}})},[r]),yi.createElement("div",Qs({},a,{ref:gS([s,n])}))});function qS(a,n){n===void 0&&(n={});var s=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",s==="top"&&r.firstChild?r.insertBefore(c,r.firstChild):r.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}}var GS=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,pv={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};qS(GS);var XS=function(a){var n=a.children,s=a.wrapperClass,r=s===void 0?"":s,c=a.contentClass,d=c===void 0?"":c,m=a.wrapperStyle,g=a.contentStyle,y=a.wrapperProps,S=y===void 0?{}:y,C=a.contentProps,w=C===void 0?{}:C,A=gt.useContext(Od),H=A.init,q=A.cleanupWindowEvents,j=gt.useRef(null),it=gt.useRef(null);return gt.useEffect(function(){var Tt=j.current,yt=it.current;return Tt!==null&&yt!==null&&H&&H?.(Tt,yt),function(){q?.()}},[]),yi.createElement("div",Qs({},S,{ref:j,className:"".concat(od.wrapperClass," ").concat(pv.wrapper," ").concat(r),style:m}),yi.createElement("div",Qs({},w,{ref:it,className:"".concat(od.contentClass," ").concat(pv.content," ").concat(d),style:g}),n))};const VS="/yatai-now/assets/map_test2-CRDv0v-t.svg",jS="/yatai-now/assets/pin400x300-CytIBKwI.png",WS=[{id:1,x:600,y:600,name:"",description:""},{id:2,x:700,y:800,name:"",description:""}];function QS({onShowOrganizerLogin:a,onShowVendorLogin:n,onBack:s}){const[r,c]=gt.useState(null);return tt.jsxs("div",{className:"screen main-screen",children:[tt.jsxs("header",{className:"main-header",children:[tt.jsx("button",{className:"btn-back",onClick:s,children:"< "}),tt.jsxs("div",{className:"header-right-buttons",children:[tt.jsx("button",{className:"btn-header",onClick:a,children:""}),tt.jsx("button",{className:"btn-header",onClick:n,children:""})]})]}),tt.jsx(YS,{initialScale:.5,minScale:.5,maxScale:8,wheel:{step:.5},limitToBounds:!0,doubleClick:{disabled:!0},centerOnInit:!0,children:tt.jsxs(XS,{wrapperClass:"map-area",contentClass:"map-content-vector",children:[tt.jsx("div",{onClick:()=>c(null),children:tt.jsx("img",{src:VS,alt:"map",className:"map-svg"})}),WS.map(d=>tt.jsx("div",{className:"pin-box",style:{left:`${d.x}px`,top:`${d.y}px`},onClick:()=>c(d),children:tt.jsx("img",{src:jS,alt:"pin",className:"map-pin"})},d.id)),r&&tt.jsxs("div",{style:{position:"absolute",left:`${r.x+40}px`,top:`${r.y+40}px`,backgroundColor:"white"},onClick:()=>c(null),children:[tt.jsx("h3",{children:r.name}),tt.jsx("p",{children:r.description})]})]})})]})}function FS({onBack:a,onLoginSuccess:n}){const s=r=>{r.preventDefault(),console.log("Organizer login attempt"),n()};return tt.jsxs("div",{className:"screen login-screen",children:[tt.jsx("header",{className:"login-header",children:tt.jsx("button",{className:"btn-back",onClick:a,children:"< "})}),tt.jsxs("div",{className:"login-container",children:[tt.jsx("h2",{children:""}),tt.jsxs("form",{className:"login-form",onSubmit:s,children:[tt.jsx("input",{className:"login-input",type:"text",placeholder:"ID"}),tt.jsx("input",{className:"login-input",type:"password",placeholder:""}),tt.jsx("button",{className:"btn",type:"submit",children:""})]})]})]})}function KS({onBack:a,onLoginSuccess:n}){const[s,r]=gt.useState(""),[c,d]=gt.useState(""),[m,g]=gt.useState(""),y=S=>{S.preventDefault(),s==="yatai"&&c==="now"?(console.log("Vendor login successful"),g(""),n()):g("ID")};return tt.jsxs("div",{className:"screen login-screen",children:[tt.jsx("header",{className:"login-header",children:tt.jsx("button",{className:"btn-back",onClick:a,children:"< "})}),tt.jsxs("div",{className:"login-container",children:[tt.jsx("h2",{children:""}),tt.jsxs("form",{className:"login-form",onSubmit:y,children:[tt.jsx("input",{className:"login-input",type:"text",placeholder:"ID",value:s,onChange:S=>r(S.target.value)}),tt.jsx("input",{className:"login-input",type:"password",placeholder:"",value:c,onChange:S=>d(S.target.value)}),m&&tt.jsx("p",{className:"login-error",children:m}),tt.jsx("button",{className:"btn",type:"submit",children:""})]})]})]})}function xg(a,n){const s=gt.useRef(n);gt.useEffect(function(){n!==s.current&&a.attributionControl!=null&&(s.current!=null&&a.attributionControl.removeAttribution(s.current),n!=null&&a.attributionControl.addAttribution(n)),s.current=n},[a,n])}var JS=fg();const $S=1;function t1(a){return Object.freeze({__version:$S,map:a})}function e1(a,n){return Object.freeze({...a,...n})}const Nd=gt.createContext(null);function Mg(){const a=gt.use(Nd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function n1(a){function n(s,r){const{instance:c,context:d}=a(s).current;gt.useImperativeHandle(r,()=>c);const{children:m}=s;return m==null?null:yi.createElement(Nd,{value:d},m)}return gt.forwardRef(n)}function i1(a){function n(s,r){const[c,d]=gt.useState(!1),{instance:m}=a(s,d).current;gt.useImperativeHandle(r,()=>m),gt.useEffect(function(){c&&m.update()},[m,c,s.children]);const g=m._contentNode;return g?JS.createPortal(s.children,g):null}return gt.forwardRef(n)}function s1(a){function n(s,r){const{instance:c}=a(s).current;return gt.useImperativeHandle(r,()=>c),null}return gt.forwardRef(n)}function Og(a,n){const s=gt.useRef(void 0);gt.useEffect(function(){return n!=null&&a.instance.on(n),s.current=n,function(){s.current!=null&&a.instance.off(s.current),s.current=null}},[a,n])}function Ld(a,n){const s=a.pane??n.pane;return s?{...a,pane:s}:a}function a1(a,n){return function(r,c){const d=Mg(),m=a(Ld(r,d),d);return xg(d.map,r.attribution),Og(m.current,r.eventHandlers),n(m.current,d,r,c),m}}var sl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var o1=sl.exports,vv;function r1(){return vv||(vv=1,(function(a,n){(function(s,r){r(n)})(o1,(function(s){var r="1.9.4";function c(i){var l,h,p,v;for(h=1,p=arguments.length;h<p;h++){v=arguments[h];for(l in v)i[l]=v[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function m(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var p=h.call(arguments,2);return function(){return i.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var g=0;function y(i){return"_leaflet_id"in i||(i._leaflet_id=++g),i._leaflet_id}function S(i,l,h){var p,v,T,M;return M=function(){p=!1,v&&(T.apply(h,v),v=!1)},T=function(){p?v=arguments:(i.apply(h,arguments),setTimeout(M,l),p=!0)},T}function C(i,l,h){var p=l[1],v=l[0],T=p-v;return i===p&&h?i:((i-v)%T+T)%T+v}function w(){return!1}function A(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function H(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function q(i){return H(i).split(/\s+/)}function j(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function it(i,l,h){var p=[];for(var v in i)p.push(encodeURIComponent(h?v.toUpperCase():v)+"="+encodeURIComponent(i[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var Tt=/\{ *([\w_ -]+) *\}/g;function yt(i,l){return i.replace(Tt,function(h,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+h);return typeof v=="function"&&(v=v(l)),v})}var at=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function It(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Wt(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Qt=0;function ae(i){var l=+new Date,h=Math.max(0,16-(l-Qt));return Qt=l+h,window.setTimeout(i,h)}var ue=window.requestAnimationFrame||Wt("RequestAnimationFrame")||ae,xe=window.cancelAnimationFrame||Wt("CancelAnimationFrame")||Wt("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Pt(i,l,h){if(h&&ue===ae)i.call(l);else return ue.call(window,m(i,l))}function Nt(i){i&&xe.call(window,i)}var an={__proto__:null,extend:c,create:d,bind:m,get lastId(){return g},stamp:y,throttle:S,wrapNum:C,falseFn:w,formatNum:A,trim:H,splitWords:q,setOptions:j,getParamString:it,template:yt,isArray:at,indexOf:It,emptyImageUrl:ft,requestFn:ue,cancelFn:xe,requestAnimFrame:Pt,cancelAnimFrame:Nt};function ve(){}ve.extend=function(i){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=d(h);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return i.statics&&c(l,i.statics),i.includes&&(ce(i.includes),c.apply(null,[p].concat(i.includes))),c(p,i),delete p.statics,delete p.includes,p.options&&(p.options=h.options?d(h.options):{},c(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,M=p._initHooks.length;T<M;T++)p._initHooks[T].call(this)}},l},ve.include=function(i){var l=this.prototype.options;return c(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ve.mergeOptions=function(i){return c(this.prototype.options,i),this},ve.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ce(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=at(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(i,l,h){if(typeof i=="object")for(var p in i)this._on(p,i[p],l);else{i=q(i);for(var v=0,T=i.length;v<T;v++)this._on(i[v],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],l);else{i=q(i);for(var v=arguments.length===1,T=0,M=i.length;T<M;T++)v?this._off(i[T]):this._off(i[T],l,h)}return this},_on:function(i,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var v={fn:l,ctx:h};p&&(v.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(v)}},_off:function(i,l,h){var p,v,T;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,T=p.length;v<T;v++)p[v].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var M=this._listens(i,l,h);if(M!==!1){var R=p[M];this._firingCount&&(R.fn=w,this._events[i]=p=p.slice()),p.splice(M,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var p=c({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[i];if(v){this._firingCount=this._firingCount+1||1;for(var T=0,M=v.length;T<M;T++){var R=v[T],U=R.fn;R.once&&this.off(i,U,R.ctx),U.call(R.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(i,l,h,p){typeof i!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,h=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,v,h)!==!1)return!0;if(p){for(var M in this._eventParents)if(this._eventParents[M].listens(i,l,h,p))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var p=this._events[i]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var v=0,T=p.length;v<T;v++)if(p[v].fn===l&&p[v].ctx===h)return v;return!1},once:function(i,l,h){if(typeof i=="object")for(var p in i)this._on(p,i[p],l,!0);else{i=q(i);for(var v=0,T=i.length;v<T;v++)this._on(i[v],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[y(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[y(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,c({layer:i.target,propagatedFrom:i.target},i),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var J=ve.extend(I);function W(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var Bt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(i){return this.clone()._add(x(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(x(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new W(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new W(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Bt(this.x),this.y=Bt(this.y),this},distanceTo:function(i){i=x(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=x(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=x(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function x(i,l,h){return i instanceof W?i:at(i)?new W(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new W(i.x,i.y):new W(i,l,h)}function Z(i,l){if(i)for(var h=l?[i,l]:i,p=0,v=h.length;p<v;p++)this.extend(h[p])}Z.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof W||typeof i[0]=="number"||"x"in i)l=h=x(i);else if(i=F(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return x(this.min.x,this.max.y)},getTopRight:function(){return x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof W?i=x(i):i=F(i),i instanceof Z?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=F(i);var l=this.min,h=this.max,p=i.min,v=i.max,T=v.x>=l.x&&p.x<=h.x,M=v.y>=l.y&&p.y<=h.y;return T&&M},overlaps:function(i){i=F(i);var l=this.min,h=this.max,p=i.min,v=i.max,T=v.x>l.x&&p.x<h.x,M=v.y>l.y&&p.y<h.y;return T&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*i,v=Math.abs(l.y-h.y)*i;return F(x(l.x-p,l.y-v),x(h.x+p,h.y+v))},equals:function(i){return i?(i=F(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function F(i,l){return!i||i instanceof Z?i:new Z(i,l)}function Q(i,l){if(i)for(var h=l?[i,l]:i,p=0,v=h.length;p<v;p++)this.extend(h[p])}Q.prototype={extend:function(i){var l=this._southWest,h=this._northEast,p,v;if(i instanceof rt)p=i,v=i;else if(i instanceof Q){if(p=i._southWest,v=i._northEast,!p||!v)return this}else return i?this.extend($(i)||et(i)):this;return!l&&!h?(this._southWest=new rt(p.lat,p.lng),this._northEast=new rt(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(v.lat,h.lat),h.lng=Math.max(v.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*i,v=Math.abs(l.lng-h.lng)*i;return new Q(new rt(l.lat-p,l.lng-v),new rt(h.lat+p,h.lng+v))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof rt||"lat"in i?i=$(i):i=et(i);var l=this._southWest,h=this._northEast,p,v;return i instanceof Q?(p=i.getSouthWest(),v=i.getNorthEast()):p=v=i,p.lat>=l.lat&&v.lat<=h.lat&&p.lng>=l.lng&&v.lng<=h.lng},intersects:function(i){i=et(i);var l=this._southWest,h=this._northEast,p=i.getSouthWest(),v=i.getNorthEast(),T=v.lat>=l.lat&&p.lat<=h.lat,M=v.lng>=l.lng&&p.lng<=h.lng;return T&&M},overlaps:function(i){i=et(i);var l=this._southWest,h=this._northEast,p=i.getSouthWest(),v=i.getNorthEast(),T=v.lat>l.lat&&p.lat<h.lat,M=v.lng>l.lng&&p.lng<h.lng;return T&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=et(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(i,l){return i instanceof Q?i:new Q(i,l)}function rt(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}rt.prototype={equals:function(i,l){if(!i)return!1;i=$(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+A(this.lat,i)+", "+A(this.lng,i)+")"},distanceTo:function(i){return Lt.distance(this,$(i))},wrap:function(){return Lt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return et([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function $(i,l,h){return i instanceof rt?i:at(i)&&typeof i[0]!="object"?i.length===3?new rt(i[0],i[1],i[2]):i.length===2?new rt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new rt(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new rt(i,l,h)}var ie={latLngToPoint:function(i,l){var h=this.projection.project(i),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(i,l){var h=this.scale(l),p=this.transformation.untransform(i,h);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),p=this.transformation.transform(l.min,h),v=this.transformation.transform(l.max,h);return new Z(p,v)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?C(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?C(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new rt(h,l,p)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,v=l.lng-h.lng;if(p===0&&v===0)return i;var T=i.getSouthWest(),M=i.getNorthEast(),R=new rt(T.lat-p,T.lng-v),U=new rt(M.lat-p,M.lng-v);return new Q(R,U)}},Lt=c({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,p=i.lat*h,v=l.lat*h,T=Math.sin((l.lat-i.lat)*h/2),M=Math.sin((l.lng-i.lng)*h/2),R=T*T+Math.cos(p)*Math.cos(v)*M*M,U=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*U}}),on=6378137,si={R:on,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,i.lat),-h),v=Math.sin(p*l);return new W(this.R*i.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(i){var l=180/Math.PI;return new rt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=on*Math.PI;return new Z([-i,-i],[i,i])})()};function Zn(i,l,h,p){if(at(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=p}Zn.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new W((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Yn(i,l,h,p){return new Zn(i,l,h,p)}var bi=c({},Lt,{code:"EPSG:3857",projection:si,transformation:(function(){var i=.5/(Math.PI*si.R);return Yn(i,.5,-i,.5)})()}),jo=c({},bi,{code:"EPSG:900913"});function zl(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Pl(i,l){var h="",p,v,T,M,R,U;for(p=0,T=i.length;p<T;p++){for(R=i[p],v=0,M=R.length;v<M;v++)U=R[v],h+=(v?"L":"M")+U.x+" "+U.y;h+=l?ut.svg?"z":"x":""}return h||"M0 0"}var rn=document.documentElement.style,qa="ActiveXObject"in window,Bl=qa&&!document.addEventListener,Wo="msLaunchUri"in navigator&&!("documentMode"in document),ns=ln("webkit"),kl=ln("android"),Qo=ln("android 2")||ln("android 3"),qc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gc=kl&&ln("Google")&&qc<537&&!("AudioNode"in window),Si=!!window.opera,qe=!Wo&&ln("chrome"),qn=ln("gecko")&&!ns&&!Si&&!qa,Fe=!qe&&ln("safari"),Hl=ln("phantom"),Ul="OTransition"in rn,Xc=navigator.platform.indexOf("Win")===0,oa=qa&&"transition"in rn,is="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qo,ai="MozPerspective"in rn,Ga=!window.L_DISABLE_3D&&(oa||is||ai)&&!Ul&&!Hl,Gn=typeof orientation<"u"||ln("mobile"),Vc=Gn&&ns,Il=Gn&&is,Fo=!window.PointerEvent&&window.MSPointerEvent,Xa=!!(window.PointerEvent||Fo),ss="ontouchstart"in window||!!window.TouchEvent,jc=!window.L_NO_TOUCH&&(ss||Xa),Zl=Gn&&Si,Yl=Gn&&qn,Ko=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),ql=(function(){return!!document.createElement("canvas").getContext})(),$o=!!(document.createElementNS&&zl("svg").createSVGRect),oi=!!$o&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Me=!$o&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Ge=navigator.platform.indexOf("Mac")===0,as=navigator.platform.indexOf("Linux")===0;function ln(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ut={ie:qa,ielt9:Bl,edge:Wo,webkit:ns,android:kl,android23:Qo,androidStock:Gc,opera:Si,chrome:qe,gecko:qn,safari:Fe,phantom:Hl,opera12:Ul,win:Xc,ie3d:oa,webkit3d:is,gecko3d:ai,any3d:Ga,mobile:Gn,mobileWebkit:Vc,mobileWebkit3d:Il,msPointer:Fo,pointer:Xa,touch:jc,touchNative:ss,mobileOpera:Zl,mobileGecko:Yl,retina:Ko,passiveEvents:Jo,canvas:ql,svg:$o,vml:Me,inlineSvg:oi,mac:Ge,linux:as},Gl=ut.msPointer?"MSPointerDown":"pointerdown",tr=ut.msPointer?"MSPointerMove":"pointermove",os=ut.msPointer?"MSPointerUp":"pointerup",Va=ut.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:Gl,touchmove:tr,touchend:os,touchcancel:Va},Ti={touchstart:jl,touchmove:ra,touchend:ra,touchcancel:ra},On={},Ei=!1;function be(i,l,h){return l==="touchstart"&&Wc(),Ti[l]?(h=Ti[l].bind(this,h),i.addEventListener(ri[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function Xl(i,l,h){if(!ri[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(ri[l],h,!1)}function Vl(i){On[i.pointerId]=i}function Ci(i){On[i.pointerId]&&(On[i.pointerId]=i)}function wi(i){delete On[i.pointerId]}function Wc(){Ei||(document.addEventListener(Gl,Vl,!0),document.addEventListener(tr,Ci,!0),document.addEventListener(os,wi,!0),document.addEventListener(Va,wi,!0),Ei=!0)}function ra(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in On)l.touches.push(On[h]);l.changedTouches=[l],i(l)}}function jl(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_e(l),ra(i,l)}function Qc(i){var l={},h,p;for(p in i)h=i[p],l[p]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var ja=200;function Wa(i,l){i.addEventListener("dblclick",l);var h=0,p;function v(T){if(T.detail!==1){p=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var M=ir(T);if(!(M.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!M.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var R=Date.now();R-h<=ja?(p++,p===2&&l(Qc(T))):p=1,h=R}}}return i.addEventListener("click",v),{dblclick:l,simDblclick:v}}function Xn(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var la=cs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=cs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ai=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Qa(i){return typeof i=="string"?document.getElementById(i):i}function xi(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);h=p?p[l]:null}return h==="auto"?null:h}function Rt(i,l,h){var p=document.createElement(i);return p.className=l||"",h&&h.appendChild(p),p}function Ft(i){var l=i.parentNode;l&&l.removeChild(i)}function Be(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Mi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function ls(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function us(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=ke(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function bt(i,l){if(i.classList!==void 0)for(var h=q(l),p=0,v=h.length;p<v;p++)i.classList.add(h[p]);else if(!us(i,l)){var T=ke(i);er(i,(T?T+" ":"")+l)}}function Kt(i,l){i.classList!==void 0?i.classList.remove(l):er(i,H((" "+ke(i)+" ").replace(" "+l+" "," ")))}function er(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function ke(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Xe(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&Wl(i,l)}function Wl(i,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+p+"(opacity="+l+")"}function cs(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function un(i,l,h){var p=l||new W(0,0);i.style[la]=(ut.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function he(i,l){i._leaflet_pos=l,ut.any3d?un(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function li(i){return i._leaflet_pos||new W(0,0)}var Nn,ua,Fa;if("onselectstart"in document)Nn=function(){vt(window,"selectstart",_e)},ua=function(){kt(window,"selectstart",_e)};else{var hs=cs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(hs){var i=document.documentElement.style;Fa=i[hs],i[hs]="none"}},ua=function(){hs&&(document.documentElement.style[hs]=Fa,Fa=void 0)}}function ca(){vt(window,"dragstart",_e)}function nr(){kt(window,"dragstart",_e)}var Ka,fs;function ha(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ds(),Ka=i,fs=i.style.outlineStyle,i.style.outlineStyle="none",vt(window,"keydown",ds))}function ds(){Ka&&(Ka.style.outlineStyle=fs,Ka=void 0,fs=void 0,kt(window,"keydown",ds))}function Oi(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ui(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Ql={__proto__:null,TRANSFORM:la,TRANSITION:rs,TRANSITION_END:Ai,get:Qa,getStyle:xi,create:Rt,remove:Ft,empty:Be,toFront:Mi,toBack:ls,hasClass:us,addClass:bt,removeClass:Kt,setClass:er,getClass:ke,setOpacity:Xe,testProp:cs,setTransform:un,setPosition:he,getPosition:li,get disableTextSelection(){return Nn},get enableTextSelection(){return ua},disableImageDrag:ca,enableImageDrag:nr,preventOutline:ha,restoreOutline:ds,getSizedParentNode:Oi,getScale:ui};function vt(i,l,h,p){if(l&&typeof l=="object")for(var v in l)Ni(i,v,l[v],h);else{l=q(l);for(var T=0,M=l.length;T<M;T++)Ni(i,l[T],h,p)}return this}var pn="_leaflet_events";function kt(i,l,h,p){if(arguments.length===1)Ln(i),delete i[pn];else if(l&&typeof l=="object")for(var v in l)Dn(i,v,l[v],h);else if(l=q(l),arguments.length===2)Ln(i,function(R){return It(l,R)!==-1});else for(var T=0,M=l.length;T<M;T++)Dn(i,l[T],h,p);return this}function Ln(i,l){for(var h in i[pn]){var p=h.split(/\d/)[0];(!l||l(p))&&Dn(i,p,null,null,h)}}var fa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ni(i,l,h,p){var v=l+y(h)+(p?"_"+y(p):"");if(i[pn]&&i[pn][v])return this;var T=function(R){return h.call(p||i,R||window.event)},M=T;!ut.touchNative&&ut.pointer&&l.indexOf("touch")===0?T=be(i,l,T):ut.touch&&l==="dblclick"?T=Wa(i,T):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(fa[l]||l,T,ut.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(R){R=R||window.event,Di(i,R)&&M(R)},i.addEventListener(fa[l],T,!1)):i.addEventListener(l,M,!1):i.attachEvent("on"+l,T),i[pn]=i[pn]||{},i[pn][v]=T}function Dn(i,l,h,p,v){v=v||l+y(h)+(p?"_"+y(p):"");var T=i[pn]&&i[pn][v];if(!T)return this;!ut.touchNative&&ut.pointer&&l.indexOf("touch")===0?Xl(i,l,T):ut.touch&&l==="dblclick"?Xn(i,T):"removeEventListener"in i?i.removeEventListener(fa[l]||l,T,!1):i.detachEvent("on"+l,T),i[pn][v]=null}function Vn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function _s(i){return Ni(i,"wheel",Vn),this}function ms(i){return vt(i,"mousedown touchstart dblclick contextmenu",Vn),i._leaflet_disable_click=!0,this}function _e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Rn(i){return _e(i),Vn(i),this}function ir(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function He(i,l){if(!l)return new W(i.clientX,i.clientY);var h=ui(l),p=h.boundingClientRect;return new W((i.clientX-p.left)/h.x-l.clientLeft,(i.clientY-p.top)/h.y-l.clientTop)}var Li=ut.linux&&ut.chrome?window.devicePixelRatio:ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function da(i){return ut.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Li:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Di(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Fc={__proto__:null,on:vt,off:kt,stopPropagation:Vn,disableScrollPropagation:_s,disableClickPropagation:ms,preventDefault:_e,stop:Rn,getPropagationPath:ir,getMousePosition:He,getWheelDelta:da,isExternalTarget:Di,addListener:vt,removeListener:kt},Ja=J.extend({run:function(i,l,h,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=li(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),he(this._el,h),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ct=J.extend({options:{crs:bi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView($(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&ut.any3d&&!ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,Ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter($(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),T=i instanceof W?i:this.latLngToContainerPoint(i),M=T.subtract(v).multiplyBy(1-1/p),R=this.containerPointToLatLng(v.add(M));return this.setView(R,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():et(i);var h=x(l.paddingTopLeft||l.padding||[0,0]),p=x(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(i,!1,h.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:i.getCenter(),zoom:v};var T=p.subtract(h).divideBy(2),M=this.project(i.getSouthWest(),v),R=this.project(i.getNorthEast(),v),U=this.unproject(M.add(R).divideBy(2).add(T),v);return{center:U,zoom:v}},fitBounds:function(i,l){if(i=et(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=x(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ja,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){bt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!ut.any3d)return this.setView(i,l,h);this._stop();var p=this.project(this.getCenter()),v=this.project(i),T=this.getSize(),M=this._zoom;i=$(i),l=l===void 0?M:l;var R=Math.max(T.x,T.y),U=R*this.getZoomScale(M,l),V=v.distanceTo(p)||1,nt=1.42,st=nt*nt;function lt(oe){var Bn=oe?-1:1,Qn=oe?U:R,_i=U*U-R*R+Bn*st*st*V*V,Fn=2*Qn*st*V,Aa=_i/Fn,ho=Math.sqrt(Aa*Aa+1)-Aa,xa=ho<1e-9?-18:Math.log(ho);return xa}function pt(oe){return(Math.exp(oe)-Math.exp(-oe))/2}function Jt(oe){return(Math.exp(oe)+Math.exp(-oe))/2}function fe(oe){return pt(oe)/Jt(oe)}var Ne=lt(0);function cn(oe){return R*(Jt(Ne)/Jt(Ne+nt*oe))}function _u(oe){return R*(Jt(Ne)*fe(Ne+nt*oe)-pt(Ne))/st}function mu(oe){return 1-Math.pow(1-oe,1.5)}var wa=Date.now(),xs=(lt(1)-Ne)/nt,pu=h.duration?1e3*h.duration:1e3*xs*.8;function Ms(){var oe=(Date.now()-wa)/pu,Bn=mu(oe)*xs;oe<=1?(this._flyToFrame=Pt(Ms,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(_u(Bn)/V)),M),this.getScaleZoom(R/cn(Bn),M),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Ms.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=et(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,et(i));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=x(l.paddingTopLeft||l.padding||[0,0]),p=x(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),T=this.project(i),M=this.getPixelBounds(),R=F([M.min.add(h),M.max.subtract(p)]),U=R.getSize();if(!R.contains(T)){this._enforcingBounds=!0;var V=T.subtract(R.getCenter()),nt=R.extend(T).getSize().subtract(U);v.x+=V.x<0?-nt.x:nt.x,v.y+=V.y<0?-nt.y:nt.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=c({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),v=h.divideBy(2).round(),T=p.subtract(v);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=c({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=m(this._handleGeolocationResponse,this),h=m(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,p=new rt(l,h),v=p.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var M=this.getBoundsZoom(v);this.setView(p,T.maxZoom?Math.min(M,T.maxZoom):M)}var R={latlng:p,bounds:v,timestamp:i.timestamp};for(var U in i.coords)typeof i.coords[U]=="number"&&(R[U]=i.coords[U]);this.fire("locationfound",R)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ft(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=Rt("div",h,l||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new Q(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=et(i),h=x(h||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),T=this.getMaxZoom(),M=i.getNorthWest(),R=i.getSouthEast(),U=this.getSize().subtract(h),V=F(this.project(R,p),this.project(M,p)).getSize(),nt=ut.any3d?this.options.zoomSnap:1,st=U.x/V.x,lt=U.y/V.y,pt=l?Math.max(st,lt):Math.min(st,lt);return p=this.getScaleZoom(pt,p),nt&&(p=Math.round(p/(nt/100))*(nt/100),p=l?Math.ceil(p/nt)*nt:Math.floor(p/nt)*nt),Math.max(v,Math.min(T,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new Z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(i*h.scale(l));return isNaN(p)?1/0:p},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint($(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(x(i),l)},layerPointToLatLng:function(i){var l=x(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project($(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng($(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(et(i))},distance:function(i,l){return this.options.crs.distance($(i),$(l))},containerPointToLayerPoint:function(i){return x(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return x(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(x(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(i)))},mouseEventToContainerPoint:function(i){return He(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Qa(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(l,"scroll",this._onScroll,this),this._containerId=y(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ut.any3d,bt(i,"leaflet-container"+(ut.touch?" leaflet-touch":"")+(ut.retina?" leaflet-retina":"")+(ut.ielt9?" leaflet-oldie":"")+(ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xi(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),he(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(i.markerPane,"leaflet-zoom-hide"),bt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){he(this._mapPane,new W(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,h)._move(i,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?h&&h.pinch&&this.fire("zoom",h):((v||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){he(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[y(this._container)]=this;var l=i?kt:vt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ut.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],p,v=l==="mouseout"||l==="mouseover",T=i.target||i.srcElement,M=!1;T;){if(p=this._targets[y(T)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){M=!0;break}if(p&&p.listens(l,!0)&&(v&&!Di(T,i)||(h.push(p),v))||T===this._container)break;T=T.parentNode}return!h.length&&!M&&!v&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&ha(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var p=c({},i);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var v=this._findEventTargets(i,l);if(h){for(var T=[],M=0;M<h.length;M++)h[M].listens(l,!0)&&T.push(h[M]);v=T.concat(v)}if(v.length){l==="contextmenu"&&_e(i);var R=v[0],U={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var V=R.getLatLng&&(!R._radius||R._radius<=10);U.containerPoint=V?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(i),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=V?R.getLatLng():this.layerPointToLatLng(U.layerPoint)}for(M=0;M<v.length;M++)if(v[M].fire(l,U,!0),U.originalEvent._stopped||v[M].options.bubblingMouseEvents===!1&&It(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return li(this._mapPane)||new W(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,l,h){var p=this._getNewPixelOrigin(h,l);return F([this.project(i.getSouthWest(),l)._subtract(p),this.project(i.getNorthWest(),l)._subtract(p),this.project(i.getSouthEast(),l)._subtract(p),this.project(i.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var p=this.project(i,l),v=this.getSize().divideBy(2),T=new Z(p.subtract(v),p.add(v)),M=this._getBoundsOffset(T,h,l);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?i:this.unproject(p.add(M),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),p=new Z(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(i,l,h){var p=F(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),v=p.min.subtract(i.min),T=p.max.subtract(i.max),M=this._rebound(v.x,-T.x),R=this._rebound(v.y,-T.y);return new W(M,R)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),p=ut.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=la,p=this._proxy.style[h];un(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();un(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(i)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(v)?!1:(Pt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _a(i,l){return new Ct(i,l)}var Ve=ve.extend({options:{position:"topright"},initialize:function(i){j(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),p=i._controlCorners[h];return bt(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ps=function(i){return new Ve(i)};Ct.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=Rt("div",l+"control-container",this._container);function p(v,T){var M=l+v+" "+l+T;i[v+T]=Rt("div",M,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ft(this._controlCorners[i]);Ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fl=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(i,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Ve.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(y(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=Rt("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ms(l),_s(l);var p=this._section=Rt("section",i+"-list");h&&(this._map.on("click",this.collapse,this),vt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Rt("a",i+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),vt(v,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){_e(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Rt("div",i+"-base",p),this._separator=Rt("div",i+"-separator",p),this._overlaysList=Rt("div",i+"-overlays",p),l.appendChild(p)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&y(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(m(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Be(this._baseLayersList),Be(this._overlaysList),this._layerControlInputs=[];var i,l,h,p,v=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,i=i||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&v>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(y(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+y(this),h),this._layerControlInputs.push(p),p.layerId=y(i.layer),vt(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+i.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(p),T.appendChild(v);var M=i.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,p=[],v=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)l=i[T],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||v.push(h);for(T=0;T<v.length;T++)this._map.hasLayer(v[T])&&this._map.removeLayer(v[T]);for(T=0;T<p.length;T++)this._map.hasLayer(p[T])||this._map.addLayer(p[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,p=this._map.getZoom(),v=i.length-1;v>=0;v--)l=i[v],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,vt(i,"click",_e),this.expand();var l=this;setTimeout(function(){kt(i,"click",_e),l._preventClick=!1})}}),Kc=function(i,l,h){return new Fl(i,l,h)},sr=Ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=Rt("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,p,v){var T=Rt("a",h,p);return T.innerHTML=i,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ms(T),vt(T,"click",Rn),vt(T,"click",v,this),vt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Kt(this._zoomInButton,l),Kt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(bt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(bt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sr,this.addControl(this.zoomControl))});var ar=function(i){return new sr(i)},Kl=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=Rt("div",l),p=this.options;return this._addScales(p,l+"-line",h),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=Rt("div",l,h)),i.imperial&&(this._iScale=Rt("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,p,v;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Jc=function(i){return new Kl(i)},$c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',or=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ut.inlineSvg?$c+" ":"")+"Leaflet</a>"},initialize:function(i){j(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),ms(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new or().addTo(this)});var th=function(i){return new or(i)};Ve.Layers=Fl,Ve.Zoom=sr,Ve.Scale=Kl,Ve.Attribution=or,ps.layers=Kc,ps.zoom=ar,ps.scale=Jc,ps.attribution=th;var vn=ve.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vn.addTo=function(i,l){return i.addHandler(l,this),this};var eh={Events:I},Jl=ut.touch?"touchstart mousedown":"mousedown",ci=J.extend({options:{clickTolerance:3},initialize:function(i,l,h,p){j(this,p),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(vt(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ci._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,Jl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!us(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ci._dragging===this&&this.finishDrag();return}if(!(ci._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ci._dragging=this,this._preventOutline&&ha(this._element),ca(),Nn(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Oi(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=li(this._element),this._parentScale=ui(h);var p=i.type==="mousedown";vt(document,p?"mousemove":"touchmove",this._onMove,this),vt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new W(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,_e(i),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),he(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Kt(document.body,"leaflet-dragging"),this._lastTarget&&(Kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),nr(),ua();var l=this._moved&&this._moving;this._moving=!1,ci._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function $l(i,l,h){var p,v=[1,4,2,8],T,M,R,U,V,nt,st,lt;for(T=0,nt=i.length;T<nt;T++)i[T]._code=Ri(i[T],l);for(R=0;R<4;R++){for(st=v[R],p=[],T=0,nt=i.length,M=nt-1;T<nt;M=T++)U=i[T],V=i[M],U._code&st?V._code&st||(lt=to(V,U,st,l,h),lt._code=Ri(lt,l),p.push(lt)):(V._code&st&&(lt=to(V,U,st,l,h),lt._code=Ri(lt,l),p.push(lt)),p.push(U));i=p}return i}function $a(i,l){var h,p,v,T,M,R,U,V,nt;if(!i||i.length===0)throw new Error("latlngs not passed");Oe(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var st=$([0,0]),lt=et(i),pt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());pt<1700&&(st=rr(i));var Jt=i.length,fe=[];for(h=0;h<Jt;h++){var Ne=$(i[h]);fe.push(l.project($([Ne.lat-st.lat,Ne.lng-st.lng])))}for(R=U=V=0,h=0,p=Jt-1;h<Jt;p=h++)v=fe[h],T=fe[p],M=v.y*T.x-T.y*v.x,U+=(v.x+T.x)*M,V+=(v.y+T.y)*M,R+=M*3;R===0?nt=fe[0]:nt=[U/R,V/R];var cn=l.unproject(x(nt));return $([cn.lat+st.lat,cn.lng+st.lng])}function rr(i){for(var l=0,h=0,p=0,v=0;v<i.length;v++){var T=$(i[v]);l+=T.lat,h+=T.lng,p++}return $([l/p,h/p])}var nh={__proto__:null,clipPolygon:$l,polygonCenter:$a,centroid:rr};function tu(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=ah(i,h),i=sh(i,h),i}function lr(i,l,h){return Math.sqrt(zi(i,l,h,!0))}function ih(i,l,h){return zi(i,l,h)}function sh(i,l){var h=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(h);v[0]=v[h-1]=1,ur(i,v,l,0,h-1);var T,M=[];for(T=0;T<h;T++)v[T]&&M.push(i[T]);return M}function ur(i,l,h,p,v){var T=0,M,R,U;for(R=p+1;R<=v-1;R++)U=zi(i[R],i[p],i[v],!0),U>T&&(M=R,T=U);T>h&&(l[M]=1,ur(i,l,h,p,M),ur(i,l,h,M,v))}function ah(i,l){for(var h=[i[0]],p=1,v=0,T=i.length;p<T;p++)oh(i[p],i[v])>l&&(h.push(i[p]),v=p);return v<T-1&&h.push(i[T-1]),h}var eu;function nu(i,l,h,p,v){var T=p?eu:Ri(i,h),M=Ri(l,h),R,U,V;for(eu=M;;){if(!(T|M))return[i,l];if(T&M)return!1;R=T||M,U=to(i,l,R,h,v),V=Ri(U,h),R===T?(i=U,T=V):(l=U,M=V)}}function to(i,l,h,p,v){var T=l.x-i.x,M=l.y-i.y,R=p.min,U=p.max,V,nt;return h&8?(V=i.x+T*(U.y-i.y)/M,nt=U.y):h&4?(V=i.x+T*(R.y-i.y)/M,nt=R.y):h&2?(V=U.x,nt=i.y+M*(U.x-i.x)/T):h&1&&(V=R.x,nt=i.y+M*(R.x-i.x)/T),new W(V,nt,v)}function Ri(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function oh(i,l){var h=l.x-i.x,p=l.y-i.y;return h*h+p*p}function zi(i,l,h,p){var v=l.x,T=l.y,M=h.x-v,R=h.y-T,U=M*M+R*R,V;return U>0&&(V=((i.x-v)*M+(i.y-T)*R)/U,V>1?(v=h.x,T=h.y):V>0&&(v+=M*V,T+=R*V)),M=i.x-v,R=i.y-T,p?M*M+R*R:new W(v,T)}function Oe(i){return!at(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function iu(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oe(i)}function cr(i,l){var h,p,v,T,M,R,U,V;if(!i||i.length===0)throw new Error("latlngs not passed");Oe(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var nt=$([0,0]),st=et(i),lt=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());lt<1700&&(nt=rr(i));var pt=i.length,Jt=[];for(h=0;h<pt;h++){var fe=$(i[h]);Jt.push(l.project($([fe.lat-nt.lat,fe.lng-nt.lng])))}for(h=0,p=0;h<pt-1;h++)p+=Jt[h].distanceTo(Jt[h+1])/2;if(p===0)V=Jt[0];else for(h=0,T=0;h<pt-1;h++)if(M=Jt[h],R=Jt[h+1],v=M.distanceTo(R),T+=v,T>p){U=(T-p)/v,V=[R.x-U*(R.x-M.x),R.y-U*(R.y-M.y)];break}var Ne=l.unproject(x(V));return $([Ne.lat+nt.lat,Ne.lng+nt.lng])}var su={__proto__:null,simplify:tu,pointToSegmentDistance:lr,closestPointOnSegment:ih,clipSegment:nu,_getEdgeIntersection:to,_getBitCode:Ri,_sqClosestPointOnSegment:zi,isFlat:Oe,_flat:iu,polylineCenter:cr},eo={project:function(i){return new W(i.lng,i.lat)},unproject:function(i){return new rt(i.y,i.x)},bounds:new Z([-180,-90],[180,90])},no={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,p=i.lat*l,v=this.R_MINOR/h,T=Math.sqrt(1-v*v),M=T*Math.sin(p),R=Math.tan(Math.PI/4-p/2)/Math.pow((1-M)/(1+M),T/2);return p=-h*Math.log(Math.max(R,1e-10)),new W(i.lng*l*h,p)},unproject:function(i){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,v=Math.sqrt(1-p*p),T=Math.exp(-i.y/h),M=Math.PI/2-2*Math.atan(T),R=0,U=.1,V;R<15&&Math.abs(U)>1e-7;R++)V=v*Math.sin(M),V=Math.pow((1-V)/(1+V),v/2),U=Math.PI/2-2*Math.atan(T*V)-M,M+=U;return new rt(M*l,i.x*l/h)}},au={__proto__:null,LonLat:eo,Mercator:no,SphericalMercator:si},vs=c({},Lt,{code:"EPSG:3395",projection:no,transformation:(function(){var i=.5/(Math.PI*no.R);return Yn(i,.5,-i,.5)})()}),ou=c({},Lt,{code:"EPSG:4326",projection:eo,transformation:Yn(1/180,1,-1/180,.5)}),rh=c({},ie,{projection:eo,transformation:Yn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,p=l.lat-i.lat;return Math.sqrt(h*h+p*p)},infinite:!0});ie.Earth=Lt,ie.EPSG3395=vs,ie.EPSG3857=bi,ie.EPSG900913=jo,ie.EPSG4326=ou,ie.Simple=rh;var gn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[y(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[y(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=y(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=y(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return y(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?at(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[y(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=y(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;i=v.minZoom===void 0?i:Math.min(i,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pi=gn.extend({initialize:function(i,l){j(this,l),this._layers={};var h,p;if(i)for(h=0,p=i.length;h<p;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[i]&&p[i].apply(p,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return y(i)}}),ru=function(i,l){return new Pi(i,l)},Ke=Pi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Pi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Pi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Q;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),ma=function(i,l){return new Ke(i,l)},gs=ve.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){j(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=x(p),T=x(l==="shadow"&&h.shadowAnchor||h.iconAnchor||v&&v.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),v&&(i.style.width=v.x+"px",i.style.height=v.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return ut.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function io(i){return new gs(i)}var ys=gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ys.imagePath!="string"&&(ys.imagePath=this._detectIconPath()),(this.options.imagePath||ys.imagePath)+gs.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,p,v){var T=p.exec(h);return T&&T[v]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Rt("div","leaflet-default-icon-path",document.body),l=xi(i,"background-image")||xi(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),hr=vn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ci(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,T=li(l._icon),M=h.getPixelBounds(),R=h.getPixelOrigin(),U=F(M.min._subtract(R).add(v),M.max._subtract(R).subtract(v));if(!U.contains(T)){var V=x((Math.max(U.max.x,T.x)-U.max.x)/(M.max.x-U.max.x)-(Math.min(U.min.x,T.x)-U.min.x)/(M.min.x-U.min.x),(Math.max(U.max.y,T.y)-U.max.y)/(M.max.y-U.max.y)-(Math.min(U.min.y,T.y)-U.min.y)/(M.min.y-U.min.y)).multiplyBy(p);h.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),he(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Pt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,p=li(l._icon),v=l._map.layerPointToLatLng(p);h&&he(h,p),l._latlng=v,i.latlng=v,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),bs=gn.extend({options:{icon:new ys,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){j(this,l),this._latlng=$(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=$(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),bt(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(h,"focus",this._panOnFocus,this);var v=i.icon.createShadow(this._shadow),T=!1;v!==this._shadow&&(this._removeShadow(),T=!0),v&&(bt(v,l),v.alt=""),this._shadow=v,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),Ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ft(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&he(this._icon,i),this._shadow&&he(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hr)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hr(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Xe(this._icon,i),this._shadow&&Xe(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?x(l.iconSize):x(0,0),p=l.iconAnchor?x(l.iconAnchor):x(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fr(i,l){return new bs(i,l)}var jn=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return j(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pa=jn.extend({options:{fill:!0,radius:10},initialize:function(i,l){j(this,l),this._latlng=$(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=$(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return jn.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),p=[i+h,l+h];this._pxBounds=new Z(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lu(i,l){return new pa(i,l)}var dr=pa.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=$(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:jn.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Lt.distance){var v=Math.PI/180,T=this._mRadius/Lt.R/v,M=h.project([l+T,i]),R=h.project([l-T,i]),U=M.add(R).divideBy(2),V=h.unproject(U).lat,nt=Math.acos((Math.cos(T*v)-Math.sin(l*v)*Math.sin(V*v))/(Math.cos(l*v)*Math.cos(V*v)))/v;(isNaN(nt)||nt===0)&&(nt=T/Math.cos(Math.PI/180*l)),this._point=U.subtract(h.getPixelOrigin()),this._radius=isNaN(nt)?0:U.x-h.project([V,i-nt]).x,this._radiusY=U.y-M.y}else{var st=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(st).x}this._updateBounds()}});function lh(i,l,h){return new dr(i,l,h)}var Wn=jn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){j(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,p=zi,v,T,M=0,R=this._parts.length;M<R;M++)for(var U=this._parts[M],V=1,nt=U.length;V<nt;V++){v=U[V-1],T=U[V];var st=p(i,v,T,!0);st<l&&(l=st,h=p(i,v,T))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=$(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Q,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=Oe(i),p=0,v=i.length;p<v;p++)h?(l[p]=$(i[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(i[p]);return l},_project:function(){var i=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new W(i,i);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var p=i[0]instanceof rt,v=i.length,T,M;if(p){for(M=[],T=0;T<v;T++)M[T]=this._map.latLngToLayerPoint(i[T]),h.extend(M[T]);l.push(M)}else for(T=0;T<v;T++)this._projectLatlngs(i[T],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,v,T,M,R,U;for(h=0,v=0,T=this._rings.length;h<T;h++)for(U=this._rings[h],p=0,M=U.length;p<M-1;p++)R=nu(U[p],U[p+1],i,p,!0),R&&(l[v]=l[v]||[],l[v].push(R[0]),(R[1]!==U[p+1]||p===M-2)&&(l[v].push(R[1]),v++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,p=i.length;h<p;h++)i[h]=tu(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,p,v,T,M,R,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,T=this._parts.length;h<T;h++)for(R=this._parts[h],p=0,M=R.length,v=M-1;p<M;v=p++)if(!(!l&&p===0)&&lr(i,R[v],R[p])<=U)return!0;return!1}});function uh(i,l){return new Wn(i,l)}Wn._flat=iu;var Ss=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Wn.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof rt&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){Wn.prototype._setLatLngs.call(this,i),Oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new W(l,l);if(i=new Z(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,T;p<v;p++)T=$l(this._rings[p],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,p,v,T,M,R,U,V;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,U=this._parts.length;T<U;T++)for(h=this._parts[T],M=0,V=h.length,R=V-1;M<V;R=M++)p=h[M],v=h[R],p.y>i.y!=v.y>i.y&&i.x<(v.x-p.x)*(i.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||Wn.prototype._containsPoint.call(this,i,!0)}});function Je(i,l){return new Ss(i,l)}var $e=Ke.extend({initialize:function(i,l){j(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=at(i)?i:i.features,h,p,v;if(l){for(h=0,p=l.length;h<p;h++)v=l[h],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var M=va(i,T);return M?(M.feature=Ts(i),M.defaultOptions=M.options,this.resetStyle(M),T.onEachFeature&&T.onEachFeature(i,M),this.addLayer(M)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=c({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function va(i,l){var h=i.type==="Feature"?i.geometry:i,p=h?h.coordinates:null,v=[],T=l&&l.pointToLayer,M=l&&l.coordsToLatLng||so,R,U,V,nt;if(!p&&!h)return null;switch(h.type){case"Point":return R=M(p),_r(T,i,R,l);case"MultiPoint":for(V=0,nt=p.length;V<nt;V++)R=M(p[V]),v.push(_r(T,i,R,l));return new Ke(v);case"LineString":case"MultiLineString":return U=ga(p,h.type==="LineString"?0:1,M),new Wn(U,l);case"Polygon":case"MultiPolygon":return U=ga(p,h.type==="Polygon"?1:2,M),new Ss(U,l);case"GeometryCollection":for(V=0,nt=h.geometries.length;V<nt;V++){var st=va({geometry:h.geometries[V],type:"Feature",properties:i.properties},l);st&&v.push(st)}return new Ke(v);case"FeatureCollection":for(V=0,nt=h.features.length;V<nt;V++){var lt=va(h.features[V],l);lt&&v.push(lt)}return new Ke(v);default:throw new Error("Invalid GeoJSON object.")}}function _r(i,l,h,p){return i?i(l,h):new bs(h,p&&p.markersInheritOptions&&p)}function so(i){return new rt(i[1],i[0],i[2])}function ga(i,l,h){for(var p=[],v=0,T=i.length,M;v<T;v++)M=l?ga(i[v],l-1,h):(h||so)(i[v]),p.push(M);return p}function ya(i,l){return i=$(i),i.alt!==void 0?[A(i.lng,l),A(i.lat,l),A(i.alt,l)]:[A(i.lng,l),A(i.lat,l)]}function ao(i,l,h,p){for(var v=[],T=0,M=i.length;T<M;T++)v.push(l?ao(i[T],Oe(i[T])?0:l-1,h,p):ya(i[T],p));return!l&&h&&v.length>0&&v.push(v[0].slice()),v}function yn(i,l){return i.feature?c({},i.feature,{geometry:l}):Ts(l)}function Ts(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Bi={toGeoJSON:function(i){return yn(this,{type:"Point",coordinates:ya(this.getLatLng(),i)})}};bs.include(Bi),dr.include(Bi),pa.include(Bi),Wn.include({toGeoJSON:function(i){var l=!Oe(this._latlngs),h=ao(this._latlngs,l?1:0,!1,i);return yn(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ss.include({toGeoJSON:function(i){var l=!Oe(this._latlngs),h=l&&!Oe(this._latlngs[0]),p=ao(this._latlngs,h?2:l?1:0,!0,i);return l||(p=[p]),yn(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),Pi.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),yn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var T=v.toGeoJSON(i);if(h)p.push(T.geometry);else{var M=Ts(T);M.type==="FeatureCollection"?p.push.apply(p,M.features):p.push(M)}}}),h?yn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function oo(i,l){return new $e(i,l)}var uu=oo,zn=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=et(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Mi(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=et(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:Rt("img");if(bt(l,"leaflet-image-layer"),this._zoomAnimated&&bt(l,"leaflet-zoom-animated"),this.options.className&&bt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=m(this.fire,this,"load"),l.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;un(this._image,h,l)},_reset:function(){var i=this._image,l=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();he(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Es=function(i,l,h){return new zn(i,l,h)},ro=zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:Rt("video");if(bt(l,"leaflet-image-layer"),this._zoomAnimated&&bt(l,"leaflet-zoom-animated"),this.options.className&&bt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=m(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),p=[],v=0;v<h.length;v++)p.push(h[v].src);this._url=h.length>0?p:[l.src];return}at(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var M=Rt("source");M.src=this._url[T],l.appendChild(M)}}});function cu(i,l,h){return new ro(i,l,h)}var hi=zn.extend({_initImage:function(){var i=this._image=this._url;bt(i,"leaflet-image-layer"),this._zoomAnimated&&bt(i,"leaflet-zoom-animated"),this.options.className&&bt(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function hu(i,l,h){return new hi(i,l,h)}var bn=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof rt||at(i))?(this._latlng=$(i),j(this,l)):(j(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(m(Ft,void 0,this._container),200)):Ft(this._container),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=$(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mi(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Ke){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=x(this.options.offset),h=this._getAnchor();this._zoomAnimated?he(this._container,i.add(h)):l=l.add(i).add(h);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(i,l,h,p){var v=l;return v instanceof i||(v=new i(p).setContent(l)),h&&v.setLatLng(h),v}}),gn.include({_initOverlay:function(i,l,h,p){var v=h;return v instanceof i?(j(v,p),v._source=this):(v=l&&!p?l:new i(p,this),v.setContent(h)),v}});var ba=bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,bn.prototype.openOn.call(this,i)},onAdd:function(i){bn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jn||this._source.on("preclick",Vn))},onRemove:function(i){bn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jn||this._source.off("preclick",Vn))},getEvents:function(){var i=bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=Rt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Rt("div",i+"-content-wrapper",l);if(this._contentNode=Rt("div",i+"-content",h),ms(l),_s(this._contentNode),vt(l,"contextmenu",Vn),this._tipContainer=Rt("div",i+"-tip-container",l),this._tip=Rt("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Rt("a",i+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',vt(p,"click",function(v){_e(v),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=i.offsetHeight,v=this.options.maxHeight,T="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",bt(i,T)):Kt(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();he(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(xi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,v=new W(this._containerLeft,-h-this._containerBottom);v._add(li(this._container));var T=i.layerPointToContainerPoint(v),M=x(this.options.autoPanPadding),R=x(this.options.autoPanPaddingTopLeft||M),U=x(this.options.autoPanPaddingBottomRight||M),V=i.getSize(),nt=0,st=0;T.x+p+U.x>V.x&&(nt=T.x+p-V.x+U.x),T.x-nt-R.x<0&&(nt=T.x-R.x),T.y+h+U.y>V.y&&(st=T.y+h-V.y+U.y),T.y-st-R.y<0&&(st=T.y-R.y),(nt||st)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([nt,st]))}},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ch=function(i,l){return new ba(i,l)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(i,l,h){return this._initOverlay(ba,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),gn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(ba,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ke||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Rn(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof jn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var lo=bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){bn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){bn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=bn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,p=this._map,v=this._container,T=p.latLngToContainerPoint(p.getCenter()),M=p.layerPointToContainerPoint(i),R=this.options.direction,U=v.offsetWidth,V=v.offsetHeight,nt=x(this.options.offset),st=this._getAnchor();R==="top"?(l=U/2,h=V):R==="bottom"?(l=U/2,h=0):R==="center"?(l=U/2,h=V/2):R==="right"?(l=0,h=V/2):R==="left"?(l=U,h=V/2):M.x<T.x?(R="right",l=0,h=V/2):(R="left",l=U+(nt.x+st.x)*2,h=V/2),i=i.subtract(x(l,h,!0)).add(nt).add(st),Kt(v,"leaflet-tooltip-right"),Kt(v,"leaflet-tooltip-left"),Kt(v,"leaflet-tooltip-top"),Kt(v,"leaflet-tooltip-bottom"),bt(v,"leaflet-tooltip-"+R),he(v,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Xe(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hh=function(i,l){return new lo(i,l)};Ct.include({openTooltip:function(i,l,h){return this._initOverlay(lo,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),gn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lo,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ke||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(vt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),vt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,p;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var mr=gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Be(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=x(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function fu(i){return new mr(i)}gs.Default=ys;var ki=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){j(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ft(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof W?i:new W(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),p=0,v=l.length,T;p<v;p++)T=l[p].style.zIndex,l[p]!==this._container&&T&&(h=i(h,+T));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ut.ielt9){Xe(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var T=Math.min(1,(i-v.loaded)/200);Xe(v.el,T),T<1?l=!0:(v.active?h=!0:this._onOpaqueTile(v),v.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Nt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(Ft(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[i],v=this._map;return p||(p=this._levels[i]={},p.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,v.getCenter(),v.getZoom()),w(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ft(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,p){var v=Math.floor(i/2),T=Math.floor(l/2),M=h-1,R=new W(+v,+T);R.z=+M;var U=this._tileCoordsToKey(R),V=this._tiles[U];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),M>p?this._retainParent(v,T,M,p):!1)},_retainChildren:function(i,l,h,p){for(var v=2*i;v<2*i+2;v++)for(var T=2*l;T<2*l+2;T++){var M=new W(v,T);M.z=h+1;var R=this._tileCoordsToKey(M),U=this._tiles[R];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);h+1<p&&this._retainChildren(v,T,h+1,p)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var T=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||T)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var p=this._map.getZoomScale(h,i.zoom),v=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();ut.any3d?un(i.el,v,p):he(i.el,v)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),v=l.project(i,this._tileZoom).floor(),T=l.getSize().divideBy(p*2);return new Z(v.subtract(T),v.add(T))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),v=this._pxBoundsToTileRange(p),T=v.getCenter(),M=[],R=this.options.keepBuffer,U=new Z(v.getBottomLeft().subtract([R,-R]),v.getTopRight().add([R,-R]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var nt=this._tiles[V].coords;(nt.z!==this._tileZoom||!U.contains(new W(nt.x,nt.y)))&&(this._tiles[V].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var st=v.min.y;st<=v.max.y;st++)for(var lt=v.min.x;lt<=v.max.x;lt++){var pt=new W(lt,st);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var Jt=this._tiles[this._tileCoordsToKey(pt)];Jt?Jt.current=!0:M.push(pt)}}if(M.sort(function(Ne,cn){return Ne.distanceTo(T)-cn.distanceTo(T)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fe=document.createDocumentFragment();for(lt=0;lt<M.length;lt++)this._addTile(M[lt],fe);this._level.el.appendChild(fe)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return et(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),p=i.scaleBy(h),v=p.add(h),T=l.unproject(p,i.z),M=l.unproject(v,i.z);return[T,M]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new Q(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new W(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(Ft(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){bt(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,ut.ielt9&&this.options.opacity<1&&Xe(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),p=this._tileCoordsToKey(i),v=this.createTile(this._wrapCoords(i),m(this._tileReady,this,i));this._initTile(v),this.createTile.length<2&&Pt(m(this._tileReady,this,i,null,v)),he(v,h),this._tiles[p]={el:v,coords:i,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var p=this._tileCoordsToKey(i);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Xe(h.el,0),Nt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(bt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ut.ielt9||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new W(this._wrapX?C(i.x,this._wrapX):i.x,this._wrapY?C(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new Z(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Sn(i){return new ki(i)}var Hi=ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=j(this,l),l.detectRetina&&ut.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return vt(h,"load",m(this._tileOnLoad,this,l,h)),vt(h,"error",m(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:ut.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return yt(this._url,c(l,this.options))},_tileOnLoad:function(i,l){ut.ielt9?setTimeout(m(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(i=l-i),i+p},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=ft;var h=this._tiles[i].coords;Ft(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",ft),ki.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===ft))return ki.prototype._tileReady.call(this,i,l,h)}});function tn(i,l){return new Hi(i,l)}var en=Hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=c({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=j(this,l);var v=l.detectRetina&&ut.retina?2:1,T=this.getTileSize();h.width=T.x*v,h.height=T.y*v,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Hi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,p=F(h.project(l[0]),h.project(l[1])),v=p.min,T=p.max,M=(this._wmsVersion>=1.3&&this._crs===ou?[v.y,v.x,T.y,T.x]:[v.x,v.y,T.x,T.y]).join(","),R=Hi.prototype.getTileUrl.call(this,i);return R+it(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(i,l){return c(this.wmsParams,i),l||this.redraw(),this}});function Cs(i,l){return new en(i,l)}Hi.WMS=en,tn.wms=Cs;var Tn=gn.extend({options:{padding:.1},initialize:function(i){j(this,i),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),T=p.multiplyBy(-h).add(v).subtract(this._map._getNewPixelOrigin(i,l));ut.any3d?un(this._container,T,h):he(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new Z(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=Tn.extend({options:{tolerance:0},getEvents:function(){var i=Tn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");vt(i,"mousemove",this._onMouseMove,this),vt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,Ft(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),p=ut.retina?2:1;he(l,i.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[y(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete i._order,delete this._layers[y(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;h.push(p)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,p,v,T,M=i._parts,R=M.length,U=this._ctx;if(R){for(U.beginPath(),h=0;h<R;h++){for(p=0,v=M[h].length;p<v;p++)T=M[h][p],U[p?"lineTo":"moveTo"](T.x,T.y);l&&U.closePath()}this._fillStroke(U,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,p=Math.max(Math.round(i._radius),1),v=(Math.max(Math.round(i._radiusY),1)||p)/p;v!==1&&(h.save(),h.scale(1,v)),h.beginPath(),h.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(bt(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function Ta(i){return ut.canvas?new Sa(i):null}var Ui=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ws={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Ui("shape");bt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Ui("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Ft(l),i.removeInteractiveTarget(l),delete this._layers[y(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,p=i.options,v=i._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=i._stroke=Ui("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=at(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),i._stroke=null),p.fill?(h||(h=i._fill=Ui("fill")),v.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(v.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),p=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Mi(i._container)},_bringToBack:function(i){ls(i._container)}},Ea=ut.vml?Ui:zl,fi=Tn.extend({_initContainer:function(){this._container=Ea("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ea("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ft(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),he(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Ea("path");i.options.className&&bt(l,i.options.className),i.options.interactive&&bt(l,"leaflet-interactive"),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ft(i._path),i.removeInteractiveTarget(i._path),delete this._layers[y(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Pl(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||h,v="a"+h+","+p+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+v+h*2+",0 "+v+-h*2+",0 ";this._setPath(i,T)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Mi(i._path)},_bringToBack:function(i){ls(i._path)}});ut.vml&&fi.include(ws);function Ii(i){return ut.svg||ut.vml?new fi(i):null}Ct.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&Ta(i)||Ii(i)}});var du=Ss.extend({initialize:function(i,l){Ss.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=et(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function nn(i,l){return new du(i,l)}fi.create=Ea,fi.pointsToPath=Pl,$e.geometryToLayer=va,$e.coordsToLatLng=so,$e.coordsToLatLngs=ga,$e.latLngToCoords=ya,$e.latLngsToCoords=ao,$e.getFeature=yn,$e.asFeature=Ts,Ct.mergeOptions({boxZoom:!0});var uo=vn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),ca(),this._startPoint=this._map.mouseEventToContainerPoint(i),vt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new Z(this._point,this._startPoint),h=l.getSize();he(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ft(this._box),Kt(this._container,"leaflet-crosshair")),ua(),nr(),kt(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var l=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",uo),Ct.mergeOptions({doubleClickZoom:!0});var Pn=vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,v=i.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(i.containerPoint,v)}});Ct.addInitHook("addHandler","doubleClickZoom",Pn),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pr=vn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ci(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Kt(this._map._container,"leaflet-grab"),Kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=et(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+h)%i+l-h,T=(p+l+h)%i-l-h,M=Math.abs(v+h)<Math.abs(T+h)?v:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(i){var l=this._map,h=l.options,p=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,M=h.easeLinearity,R=v.multiplyBy(M/T),U=R.distanceTo([0,0]),V=Math.min(h.inertiaMaxSpeed,U),nt=R.multiplyBy(V/U),st=V/(h.inertiaDeceleration*M),lt=nt.multiplyBy(-st/2).round();!lt.x&&!lt.y?l.fire("moveend"):(lt=l._limitOffset(lt,l.options.maxBounds),Pt(function(){l.panBy(lt,{duration:st,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",pr),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ca=vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),vt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,p=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,p,v;for(p=0,v=h.left.length;p<v;p++)l[h.left[p]]=[-1*i,0];for(p=0,v=h.right.length;p<v;p++)l[h.right[p]]=[i,0];for(p=0,v=h.down.length;p<v;p++)l[h.down[p]]=[0,i];for(p=0,v=h.up.length;p<v;p++)l[h.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,p,v;for(p=0,v=h.zoomIn.length;p<v;p++)l[h.zoomIn[p]]=i;for(p=0,v=h.zoomOut.length;p<v;p++)l[h.zoomOut[p]]=-i},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],i.shiftKey&&(p=x(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(x(p),h.options.maxBounds)),h.options.worldCopyJump){var v=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(v)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Rn(i)}}});Ct.addInitHook("addHandler","keyboard",Ca),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var di=vn.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=da(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),p),Rn(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,T=h?Math.ceil(v/h)*h:v,M=i._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,M&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+M):i.setZoomAround(this._lastMousePos,l+M))}});Ct.addInitHook("addHandler","scrollWheelZoom",di);var vr=600;Ct.mergeOptions({tapHold:ut.touchNative&&ut.safari&&ut.mobile,tapTolerance:15});var co=vn.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",_e),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),vr),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){kt(document,"touchend",_e),kt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Ct.addInitHook("addHandler","tapHold",co),Ct.mergeOptions({touchZoom:ut.touch,bounceAtZoomLimits:!0});var Zi=vn.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),_e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]),v=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var T=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var M=m(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pt(M,this,!0),_e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Nt(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Zi),Ct.BoxZoom=uo,Ct.DoubleClickZoom=Pn,Ct.Drag=pr,Ct.Keyboard=Ca,Ct.ScrollWheelZoom=di,Ct.TapHold=co,Ct.TouchZoom=Zi,s.Bounds=Z,s.Browser=ut,s.CRS=ie,s.Canvas=Sa,s.Circle=dr,s.CircleMarker=pa,s.Class=ve,s.Control=Ve,s.DivIcon=mr,s.DivOverlay=bn,s.DomEvent=Fc,s.DomUtil=Ql,s.Draggable=ci,s.Evented=J,s.FeatureGroup=Ke,s.GeoJSON=$e,s.GridLayer=ki,s.Handler=vn,s.Icon=gs,s.ImageOverlay=zn,s.LatLng=rt,s.LatLngBounds=Q,s.Layer=gn,s.LayerGroup=Pi,s.LineUtil=su,s.Map=Ct,s.Marker=bs,s.Mixin=eh,s.Path=jn,s.Point=W,s.PolyUtil=nh,s.Polygon=Ss,s.Polyline=Wn,s.Popup=ba,s.PosAnimation=Ja,s.Projection=au,s.Rectangle=du,s.Renderer=Tn,s.SVG=fi,s.SVGOverlay=hi,s.TileLayer=Hi,s.Tooltip=lo,s.Transformation=Zn,s.Util=an,s.VideoOverlay=ro,s.bind=m,s.bounds=F,s.canvas=Ta,s.circle=lh,s.circleMarker=lu,s.control=ps,s.divIcon=fu,s.extend=c,s.featureGroup=ma,s.geoJSON=oo,s.geoJson=uu,s.gridLayer=Sn,s.icon=io,s.imageOverlay=Es,s.latLng=$,s.latLngBounds=et,s.layerGroup=ru,s.map=_a,s.marker=fr,s.point=x,s.polygon=Je,s.polyline=uh,s.popup=ch,s.rectangle=nn,s.setOptions=j,s.stamp=y,s.svg=Ii,s.svgOverlay=hu,s.tileLayer=tn,s.tooltip=hh,s.transformation=Yn,s.version=r,s.videoOverlay=cu;var As=window.L;s.noConflict=function(){return window.L=As,this},window.L=s}))})(sl,sl.exports)),sl.exports}var Cl=r1();const Ng=hg(Cl);function Dd(a,n,s){return Object.freeze({instance:a,context:n,container:s})}function Rd(a,n){return n==null?function(r,c){const d=gt.useRef(void 0);return d.current||(d.current=a(r,c)),d}:function(r,c){const d=gt.useRef(void 0);d.current||(d.current=a(r,c));const m=gt.useRef(r),{instance:g}=d.current;return gt.useEffect(function(){m.current!==r&&(n(g,r,m.current),m.current=r)},[g,r,n]),d}}function l1(a,n){gt.useEffect(function(){return(n.layerContainer??n.map).addLayer(a.instance),function(){n.layerContainer?.removeLayer(a.instance),n.map.removeLayer(a.instance)}},[n,a])}function Lg(a){return function(s){const r=Mg(),c=a(Ld(s,r),r);return xg(r.map,s.attribution),Og(c.current,s.eventHandlers),l1(c.current,r),c}}function u1(a,n){const s=Rd(a,n),r=Lg(s);return n1(r)}function c1(a,n){const s=Rd(a),r=a1(s,n);return i1(r)}function h1(a,n){const s=Rd(a,n),r=Lg(s);return s1(r)}function f1(a,n,s){const{opacity:r,zIndex:c}=n;r!=null&&r!==s.opacity&&a.setOpacity(r),c!=null&&c!==s.zIndex&&a.setZIndex(c)}function d1({bounds:a,boundsOptions:n,center:s,children:r,className:c,id:d,placeholder:m,style:g,whenReady:y,zoom:S,...C},w){const[A]=gt.useState({className:c,id:d,style:g}),[H,q]=gt.useState(null),j=gt.useRef(void 0);gt.useImperativeHandle(w,()=>H?.map??null,[H]);const it=gt.useCallback(yt=>{if(yt!==null&&!j.current){const at=new Cl.Map(yt,C);j.current=at,s!=null&&S!=null?at.setView(s,S):a!=null&&at.fitBounds(a,n),y!=null&&at.whenReady(y),q(t1(at))}},[]);gt.useEffect(()=>()=>{H?.map.remove()},[H]);const Tt=H?yi.createElement(Nd,{value:H},r):m??null;return yi.createElement("div",{...A,ref:it},Tt)}const _1=gt.forwardRef(d1),m1=u1(function({position:n,...s},r){const c=new Cl.Marker(n,s);return Dd(c,e1(r,{overlayContainer:c}))},function(n,s,r){s.position!==r.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),p1=c1(function(n,s){const r=new Cl.Popup(n,s.overlayContainer);return Dd(r,s)},function(n,s,{position:r},c){gt.useEffect(function(){const{instance:m}=n;function g(S){S.popup===m&&(m.update(),c(!0))}function y(S){S.popup===m&&c(!1)}return s.map.on({popupopen:g,popupclose:y}),s.overlayContainer==null?(r!=null&&m.setLatLng(r),m.openOn(s.map)):s.overlayContainer.bindPopup(m),function(){s.map.off({popupopen:g,popupclose:y}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(m)}},[n,s,c,r])}),v1=h1(function({url:n,...s},r){const c=new Cl.TileLayer(n,Ld(s,r));return Dd(c,r)},function(n,s,r){f1(n,s,r);const{url:c}=s;c!=null&&c!==r.url&&n.setUrl(c)}),g1=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(a,n){if(!a)throw Go(n)},Go=function(a){return new Error("Firebase Database ("+Dg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=function(a){const n=[];let s=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):(c&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(a.charCodeAt(++r)&1023),n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},y1=function(a){const n=[];let s=0,r=0;for(;s<a.length;){const c=a[s++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const d=a[s++];n[r++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=a[s++],m=a[s++],g=a[s++],y=((c&7)<<18|(d&63)<<12|(m&63)<<6|g&63)-65536;n[r++]=String.fromCharCode(55296+(y>>10)),n[r++]=String.fromCharCode(56320+(y&1023))}else{const d=a[s++],m=a[s++];n[r++]=String.fromCharCode((c&15)<<12|(d&63)<<6|m&63)}}return n.join("")},zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<a.length;c+=3){const d=a[c],m=c+1<a.length,g=m?a[c+1]:0,y=c+2<a.length,S=y?a[c+2]:0,C=d>>2,w=(d&3)<<4|g>>4;let A=(g&15)<<2|S>>6,H=S&63;y||(H=64,m||(A=64)),r.push(s[C],s[w],s[A],s[H])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(Rg(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):y1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<a.length;){const d=s[a.charAt(c++)],g=c<a.length?s[a.charAt(c)]:0;++c;const S=c<a.length?s[a.charAt(c)]:64;++c;const w=c<a.length?s[a.charAt(c)]:64;if(++c,d==null||g==null||S==null||w==null)throw new b1;const A=d<<2|g>>4;if(r.push(A),S!==64){const H=g<<4&240|S>>2;if(r.push(H),w!==64){const q=S<<6&192|w;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class b1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zg=function(a){const n=Rg(a);return zd.encodeByteArray(n,!0)},mc=function(a){return zg(a).replace(/\./g,"")},ud=function(a){try{return zd.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(a){return Pg(void 0,a)}function Pg(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!T1(s)||(a[s]=Pg(a[s],n[s]));return a}function T1(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=()=>E1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof gv>"u")return;const a=gv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},A1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&ud(a[1]);return n&&JSON.parse(n)},Bg=()=>{try{return g1()||C1()||w1()||A1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},x1=a=>Bg()?.emulatorHosts?.[a],M1=a=>{const n=x1(a);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},kg=()=>Bg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",c=a.iat||0,d=a.sub||a.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...a};return[mc(JSON.stringify(s)),mc(JSON.stringify(m)),""].join(".")}const al={};function L1(){const a={prod:[],emulator:[]};for(const n of Object.keys(al))al[n]?a.emulator.push(n):a.prod.push(n);return a}function D1(a){let n=document.getElementById(a),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),s=!0),{created:s,element:n}}let yv=!1;function R1(a,n){if(typeof window>"u"||typeof document>"u"||!Bd(window.location.host)||al[a]===n||al[a]||yv)return;al[a]=n;function s(A){return`__firebase__banner__${A}`}const r="__firebase__banner",d=L1().prod.length>0;function m(){const A=document.getElementById(r);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,H){A.setAttribute("width","24"),A.setAttribute("id",H),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function S(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{yv=!0,m()},A}function C(A,H){A.setAttribute("id",H),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=D1(r),H=s("text"),q=document.getElementById(H)||document.createElement("span"),j=s("learnmore"),it=document.getElementById(j)||document.createElement("a"),Tt=s("preprendIcon"),yt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const at=A.element;g(at),C(it,j);const It=S();y(yt,Tt),at.append(yt,q,it,It),document.body.appendChild(at)}d?(q.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z1())}function P1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B1(){return Dg.NODE_ADMIN===!0}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((a,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(r),a(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class wl extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=U1,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ug.prototype.create)}}class Ug{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},c=`${this.service}/${n}`,d=this.errors[n],m=d?I1(d,r):"Error",g=`${this.serviceName}: ${m} (${c}).`;return new wl(c,g,r)}}function I1(a,n){return a.replace(Z1,(s,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const Z1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(a){return JSON.parse(a)}function we(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=function(a){let n={},s={},r={},c="";try{const d=a.split(".");n=hl(ud(d[0])||""),s=hl(ud(d[1])||""),c=d[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:c}},Y1=function(a){const n=Ig(a),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},q1=function(a){const n=Ig(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Io(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function bv(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function pc(a,n,s){const r={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=n.call(s,a[c],c,a));return r}function vc(a,n){if(a===n)return!0;const s=Object.keys(a),r=Object.keys(n);for(const c of s){if(!r.includes(c))return!1;const d=a[c],m=n[c];if(Sv(d)&&Sv(m)){if(!vc(d,m))return!1}else if(d!==m)return!1}for(const c of r)if(!s.includes(c))return!1;return!0}function Sv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(a){const n=[];for(const[s,r]of Object.entries(a))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let w=0;w<16;w++)r[w]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let w=0;w<16;w++)r[w]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let w=16;w<80;w++){const A=r[w-3]^r[w-8]^r[w-14]^r[w-16];r[w]=(A<<1|A>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],m=this.chain_[2],g=this.chain_[3],y=this.chain_[4],S,C;for(let w=0;w<80;w++){w<40?w<20?(S=g^d&(m^g),C=1518500249):(S=d^m^g,C=1859775393):w<60?(S=d&m|g&(d|m),C=2400959708):(S=d^m^g,C=3395469782);const A=(c<<5|c>>>27)+S+y+C+r[w]&4294967295;y=g,g=m,m=(d<<30|d>>>2)&4294967295,d=c,c=A}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let c=0;const d=this.buf_;let m=this.inbuf_;for(;c<s;){if(m===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<s;)if(d[m]=n.charCodeAt(c),++m,++c,m===this.blockSize){this.compress_(d),m=0;break}}else for(;c<s;)if(d[m]=n[c],++m,++c,m===this.blockSize){this.compress_(d),m=0;break}}this.inbuf_=m,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)n[r]=this.chain_[c]>>d&255,++r;return n}}function Zg(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=function(a){const n=[];let s=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);if(c>=55296&&c<=56319){const d=c-55296;r++,K(r<a.length,"Surrogate pair missing trail surrogate.");const m=a.charCodeAt(r)-56320;c=65536+(d<<10)+m}c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):c<65536?(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},Pc=function(a){let n=0;for(let s=0;s<a.length;s++){const r=a.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(a){return a&&a._delegate?a._delegate:a}class fl{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new Pd;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Q1(n))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const d=this.getOrInitializeService({instanceIdentifier:c});r.resolve(d)}catch{}}}}clearInstance(n=Pa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Pa){return this.instances.has(n)}getOptions(n=Pa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[d,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);r===g&&m.resolve(c)}return c}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const d=this.instances.get(r);return d&&n(d,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const c of r)try{c(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W1(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Pa){return this.component?this.component.multipleInstances?n:Pa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W1(a){return a===Pa?void 0:a}function Q1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new j1(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ee||(ee={}));const K1={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},J1=ee.INFO,$1={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},tT=(a,n,...s)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),c=$1[n];if(c)console[c](`[${r}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Yg{constructor(n){this.name=n,this._logLevel=J1,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ee))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?K1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...n),this._logHandler(this,ee.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...n),this._logHandler(this,ee.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...n),this._logHandler(this,ee.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...n),this._logHandler(this,ee.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...n),this._logHandler(this,ee.ERROR,...n)}}const eT=(a,n)=>n.some(s=>a instanceof s);let Tv,Ev;function nT(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qg=new WeakMap,cd=new WeakMap,Gg=new WeakMap,jf=new WeakMap,kd=new WeakMap;function sT(a){const n=new Promise((s,r)=>{const c=()=>{a.removeEventListener("success",d),a.removeEventListener("error",m)},d=()=>{s(Fs(a.result)),c()},m=()=>{r(a.error),c()};a.addEventListener("success",d),a.addEventListener("error",m)});return n.then(s=>{s instanceof IDBCursor&&qg.set(s,a)}).catch(()=>{}),kd.set(n,a),n}function aT(a){if(cd.has(a))return;const n=new Promise((s,r)=>{const c=()=>{a.removeEventListener("complete",d),a.removeEventListener("error",m),a.removeEventListener("abort",m)},d=()=>{s(),c()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",d),a.addEventListener("error",m),a.addEventListener("abort",m)});cd.set(a,n)}let hd={get(a,n,s){if(a instanceof IDBTransaction){if(n==="done")return cd.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Gg.get(a);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fs(a[n])},set(a,n,s){return a[n]=s,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function oT(a){hd=a(hd)}function rT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=a.call(Wf(this),n,...s);return Gg.set(r,n.sort?n.sort():[n]),Fs(r)}:iT().includes(a)?function(...n){return a.apply(Wf(this),n),Fs(qg.get(this))}:function(...n){return Fs(a.apply(Wf(this),n))}}function lT(a){return typeof a=="function"?rT(a):(a instanceof IDBTransaction&&aT(a),eT(a,nT())?new Proxy(a,hd):a)}function Fs(a){if(a instanceof IDBRequest)return sT(a);if(jf.has(a))return jf.get(a);const n=lT(a);return n!==a&&(jf.set(a,n),kd.set(n,a)),n}const Wf=a=>kd.get(a);function uT(a,n,{blocked:s,upgrade:r,blocking:c,terminated:d}={}){const m=indexedDB.open(a,n),g=Fs(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Fs(m.result),y.oldVersion,y.newVersion,Fs(m.transaction),y)}),s&&m.addEventListener("blocked",y=>s(y.oldVersion,y.newVersion,y)),g.then(y=>{d&&y.addEventListener("close",()=>d()),c&&y.addEventListener("versionchange",S=>c(S.oldVersion,S.newVersion,S))}).catch(()=>{}),g}const cT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],Qf=new Map;function Cv(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Qf.get(n))return Qf.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,c=hT.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(c||cT.includes(s)))return;const d=async function(m,...g){const y=this.transaction(m,c?"readwrite":"readonly");let S=y.store;return r&&(S=S.index(g.shift())),(await Promise.all([S[s](...g),c&&y.done]))[0]};return Qf.set(n,d),d}oT(a=>({...a,get:(n,s,r)=>Cv(n,s)||a.get(n,s,r),has:(n,s)=>!!Cv(n,s)||a.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(dT(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function dT(a){return a.getComponent()?.type==="VERSION"}const fd="@firebase/app",wv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Yg("@firebase/app"),_T="@firebase/app-compat",mT="@firebase/analytics-compat",pT="@firebase/analytics",vT="@firebase/app-check-compat",gT="@firebase/app-check",yT="@firebase/auth",bT="@firebase/auth-compat",ST="@firebase/database",TT="@firebase/data-connect",ET="@firebase/database-compat",CT="@firebase/functions",wT="@firebase/functions-compat",AT="@firebase/installations",xT="@firebase/installations-compat",MT="@firebase/messaging",OT="@firebase/messaging-compat",NT="@firebase/performance",LT="@firebase/performance-compat",DT="@firebase/remote-config",RT="@firebase/remote-config-compat",zT="@firebase/storage",PT="@firebase/storage-compat",BT="@firebase/firestore",kT="@firebase/ai",HT="@firebase/firestore-compat",UT="firebase",IT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",ZT={[fd]:"fire-core",[_T]:"fire-core-compat",[pT]:"fire-analytics",[mT]:"fire-analytics-compat",[gT]:"fire-app-check",[vT]:"fire-app-check-compat",[yT]:"fire-auth",[bT]:"fire-auth-compat",[ST]:"fire-rtdb",[TT]:"fire-data-connect",[ET]:"fire-rtdb-compat",[CT]:"fire-fn",[wT]:"fire-fn-compat",[AT]:"fire-iid",[xT]:"fire-iid-compat",[MT]:"fire-fcm",[OT]:"fire-fcm-compat",[NT]:"fire-perf",[LT]:"fire-perf-compat",[DT]:"fire-rc",[RT]:"fire-rc-compat",[zT]:"fire-gcs",[PT]:"fire-gcs-compat",[BT]:"fire-fst",[HT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[UT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,YT=new Map,_d=new Map;function Av(a,n){try{a.container.addComponent(n)}catch(s){Ji.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,s)}}function yc(a){const n=a.name;if(_d.has(n))return Ji.debug(`There were multiple attempts to register component ${n}.`),!1;_d.set(n,a);for(const s of gc.values())Av(s,a);for(const s of YT.values())Av(s,a);return!0}function qT(a,n){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(n)}function GT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Ug("app","Firebase",XT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=IT;function Xg(a,n={}){let s=a;typeof n!="object"&&(n={name:n});const r={name:dd,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw Ks.create("bad-app-name",{appName:String(c)});if(s||(s=kg()),!s)throw Ks.create("no-options");const d=gc.get(c);if(d){if(vc(s,d.options)&&vc(r,d.config))return d;throw Ks.create("duplicate-app",{appName:c})}const m=new F1(c);for(const y of _d.values())m.addComponent(y);const g=new VT(s,r,m);return gc.set(c,g),g}function WT(a=dd){const n=gc.get(a);if(!n&&a===dd&&kg())return Xg();if(!n)throw Ks.create("no-app",{appName:a});return n}function ko(a,n,s){let r=ZT[a]??a;s&&(r+=`-${s}`);const c=r.match(/\s|\//),d=n.match(/\s|\//);if(c||d){const m=[`Unable to register library "${r}" with version "${n}":`];c&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}yc(new fl(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebase-heartbeat-database",FT=1,dl="firebase-heartbeat-store";let Ff=null;function Vg(){return Ff||(Ff=uT(QT,FT,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(dl)}catch(s){console.warn(s)}}}}).catch(a=>{throw Ks.create("idb-open",{originalErrorMessage:a.message})})),Ff}async function KT(a){try{const s=(await Vg()).transaction(dl),r=await s.objectStore(dl).get(jg(a));return await s.done,r}catch(n){if(n instanceof wl)Ji.warn(n.message);else{const s=Ks.create("idb-get",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}async function xv(a,n){try{const r=(await Vg()).transaction(dl,"readwrite");await r.objectStore(dl).put(n,jg(a)),await r.done}catch(s){if(s instanceof wl)Ji.warn(s.message);else{const r=Ks.create("idb-set",{originalErrorMessage:s?.message});Ji.warn(r.message)}}}function jg(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1024,$T=30;class tE{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new nE(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>$T){const c=iE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ji.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:r}=eE(this._heartbeatsCache.heartbeats),c=mc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ji.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function eE(a,n=JT){const s=[];let r=a.slice();for(const c of a){const d=s.find(m=>m.agent===c.agent);if(d){if(d.dates.push(c.date),Ov(s)>n){d.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),Ov(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class nE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await KT(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Ov(a){return mc(JSON.stringify({version:2,heartbeats:a})).length}function iE(a){if(a.length===0)return-1;let n=0,s=a[0].date;for(let r=1;r<a.length;r++)a[r].date<s&&(s=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(a){yc(new fl("platform-logger",n=>new fT(n),"PRIVATE")),yc(new fl("heartbeat",n=>new tE(n),"PRIVATE")),ko(fd,wv,a),ko(fd,wv,"esm2020"),ko("fire-js","")}sE("");var aE="firebase",oE="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(aE,oE,"app");var Nv={};const Lv="@firebase/database",Dv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg="";function rE(a){Wg=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),we(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:hl(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return ts(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new lE(n)}}catch{}return new uE},ka=Qg("localStorage"),cE=Qg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Yg("@firebase/database"),hE=(function(){let a=1;return function(){return a++}})(),Fg=function(a){const n=V1(a),s=new X1;s.update(n);const r=s.digest();return zd.encodeByteArray(r)},xl=function(...a){let n="";for(let s=0;s<a.length;s++){const r=a[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=xl.apply(null,r):typeof r=="object"?n+=we(r):n+=r,n+=" "}return n};let ol=null,Rv=!0;const fE=function(a,n){K(!0,"Can't turn on custom loggers persistently."),Ho.logLevel=ee.VERBOSE,ol=Ho.log.bind(Ho)},Qe=function(...a){if(Rv===!0&&(Rv=!1,ol===null&&cE.get("logging_enabled")===!0&&fE()),ol){const n=xl.apply(null,a);ol(n)}},Ml=function(a){return function(...n){Qe(a,...n)}},md=function(...a){const n="FIREBASE INTERNAL ERROR: "+xl(...a);Ho.error(n)},$i=function(...a){const n=`FIREBASE FATAL ERROR: ${xl(...a)}`;throw Ho.error(n),new Error(n)},Mn=function(...a){const n="FIREBASE WARNING: "+xl(...a);Ho.warn(n)},dE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kg=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},_E=function(a){if(document.readyState==="complete")a();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Zo="[MIN_NAME]",Ua="[MAX_NAME]",Xo=function(a,n){if(a===n)return 0;if(a===Zo||n===Ua)return-1;if(n===Zo||a===Ua)return 1;{const s=zv(a),r=zv(n);return s!==null?r!==null?s-r===0?a.length-n.length:s-r:-1:r!==null?1:a<n?-1:1}},mE=function(a,n){return a===n?0:a<n?-1:1},tl=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+we(n))},Hd=function(a){if(typeof a!="object"||a===null)return we(a);const n=[];for(const r in a)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=we(n[r]),s+=":",s+=Hd(a[n[r]]);return s+="}",s},Jg=function(a,n){const s=a.length;if(s<=n)return[a];const r=[];for(let c=0;c<s;c+=n)c+n>s?r.push(a.substring(c,s)):r.push(a.substring(c,c+n));return r};function mn(a,n){for(const s in a)a.hasOwnProperty(s)&&n(s,a[s])}const $g=function(a){K(!Kg(a),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let c,d,m,g,y;a===0?(d=0,m=0,c=1/a===-1/0?1:0):(c=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),r),d=g+r,m=Math.round(a*Math.pow(2,s-g)-Math.pow(2,s))):(d=0,m=Math.round(a/Math.pow(2,1-r-s))));const S=[];for(y=s;y;y-=1)S.push(m%2?1:0),m=Math.floor(m/2);for(y=n;y;y-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(c?1:0),S.reverse();const C=S.join("");let w="";for(y=0;y<64;y+=8){let A=parseInt(C.substr(y,8),2).toString(16);A.length===1&&(A="0"+A),w=w+A}return w.toLowerCase()},pE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gE(a,n){let s="Unknown Error";a==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?s="Client doesn't have permission to access the desired data.":a==="unavailable"&&(s="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+s);return r.code=a.toUpperCase(),r}const yE=new RegExp("^-?(0*)\\d{1,10}$"),bE=-2147483648,SE=2147483647,zv=function(a){if(yE.test(a)){const n=Number(a);if(n>=bE&&n<=SE)return n}return null},Ol=function(a){try{a()}catch(n){setTimeout(()=>{const s=n.stack||"";throw Mn("Exception was thrown by user callback.",s),n},Math.floor(0))}},TE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rl=function(a,n){const s=setTimeout(a,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,GT(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){Mn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mn(n)}}class _c{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}_c.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="5",ty="v",ey="s",ny="r",iy="f",sy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ay="ls",oy="p",pd="ac",ry="websocket",ly="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(n,s,r,c,d=!1,m="",g=!1,y=!1,S=null){this.secure=s,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=m,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=S,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ka.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ka.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function wE(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function cy(a,n,s){K(typeof n=="string","typeof type must == string"),K(typeof s=="object","typeof params must == object");let r;if(n===ry)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===ly)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);wE(a)&&(s.ns=a.namespace);const c=[];return mn(s,(d,m)=>{c.push(d+"="+m)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.counters_={}}incrementCounter(n,s=1){ts(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return S1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf={},Jf={};function Id(a){const n=a.toString();return Kf[n]||(Kf[n]=new AE),Kf[n]}function xE(a,n){const s=a.toString();return Jf[s]||(Jf[s]=n()),Jf[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&Ol(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="start",OE="close",NE="pLPCommand",LE="pRTLPCB",hy="id",fy="pw",dy="ser",DE="cb",RE="seg",zE="ts",PE="d",BE="dframe",_y=1870,my=30,kE=_y-my,HE=25e3,UE=3e4;class Po{constructor(n,s,r,c,d,m,g){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.transportSessionId=m,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(n),this.stats_=Id(s),this.urlFn=y=>(this.appCheckToken&&(y[pd]=this.appCheckToken),cy(s,ly,y))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new ME(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UE)),_E(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zd((...d)=>{const[m,g,y,S,C]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===Pv)this.id=g,this.password=y;else if(m===OE)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...d)=>{const[m,g]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(m,g)},()=>{this.onClosed_()},this.urlFn);const r={};r[Pv]="t",r[dy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[DE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ty]=Ud,this.transportSessionId&&(r[ey]=this.transportSessionId),this.lastSessionId&&(r[ay]=this.lastSessionId),this.applicationId&&(r[oy]=this.applicationId),this.appCheckToken&&(r[pd]=this.appCheckToken),typeof location<"u"&&location.hostname&&sy.test(location.hostname)&&(r[ny]=iy);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Po.forceAllow_=!0}static forceDisallow(){Po.forceDisallow_=!0}static isAvailable(){return Po.forceAllow_?!0:!Po.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pE()&&!vE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=we(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=zg(s),c=Jg(r,kE);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[BE]="t",r[hy]=n,r[fy]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=we(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Zd{constructor(n,s,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hE(),window[NE+this.uniqueCallbackIdentifier]=n,window[LE+this.uniqueCallbackIdentifier]=s,this.myIFrame=Zd.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(g){Qe("frame writing exception"),g.stack&&Qe(g.stack),Qe(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[hy]=this.myID,n[fy]=this.myPW,n[dy]=this.currentSerial;let s=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+my+r.length<=_y;){const m=this.pendingSegs.shift();r=r+"&"+RE+c+"="+m.seg+"&"+zE+c+"="+m.ts+"&"+PE+c+"="+m.d,c++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},c=setTimeout(r,Math.floor(HE)),d=()=>{clearTimeout(c),r()};this.addTag(n,d)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{Qe("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=16384,ZE=45e3;let bc=null;typeof MozWebSocket<"u"?bc=MozWebSocket:typeof WebSocket<"u"&&(bc=WebSocket);class ti{constructor(n,s,r,c,d,m,g){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=Id(s),this.connURL=ti.connectionURL_(s,m,g,c,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,c,d){const m={};return m[ty]=Ud,typeof location<"u"&&location.hostname&&sy.test(location.hostname)&&(m[ny]=iy),s&&(m[ey]=s),r&&(m[ay]=r),c&&(m[pd]=c),d&&(m[oy]=d),cy(n,ry,m)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ka.set("previous_websocket_failure",!0);try{let r;B1(),this.mySock=new bc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&bc!==null&&!ti.forceDisallow_}static previouslyFailed(){return ka.isInMemoryStorage||ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){ka.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=hl(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(K(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=we(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Jg(s,IE);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZE))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ti.responsesRequiredToBeHealthy=2;ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static get ALL_TRANSPORTS(){return[Po,ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=ti&&ti.isAvailable();let r=s&&!ti.previouslyFailed();if(n.webSocketOnly&&(s||Mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ti];else{const c=this.transports_=[];for(const d of _l.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);_l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_l.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=6e4,qE=5e3,GE=10*1024,XE=100*1024,$f="t",Bv="d",VE="s",kv="r",jE="e",Hv="o",Uv="a",Iv="n",Zv="p",WE="h";class QE{constructor(n,s,r,c,d,m,g,y,S,C){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=m,this.onReady_=g,this.onDisconnect_=y,this.onKill_=S,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new _l(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if($f in n){const s=n[$f];s===Uv?this.upgradeIfSecondaryHealthy_():s===kv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===Hv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=tl("t",n),r=tl("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Iv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=tl("t",n),r=tl("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=tl($f,n);if(Bv in n){const r=n[Bv];if(s===WE){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(s===Iv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===VE?this.onConnectionShutdown_(r):s===kv?this.onReset_(r):s===jE?md("Server Error: "+r):s===Hv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):md("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Ud!==r&&Mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(YE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{put(n,s,r,c){}merge(n,s,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(n){this.allowedEvents_=n,this.listeners_={},K(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const c=this.getInitialEvent(n);c&&s.apply(r,c)}off(n,s,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let d=0;d<c.length;d++)if(c[d].callback===s&&(!r||r===c[d].context)){c.splice(d,1);return}}validateEventType_(n){K(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends vy{static getInstance(){return new Sc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return K(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=32,qv=768;class jt{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Ut(){return new jt("")}function Dt(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ea(a){return a.pieces_.length-a.pieceNum_}function ne(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new jt(a.pieces_,n)}function gy(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function FE(a){let n="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)a.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[s])));return n||"/"}function yy(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function by(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)n.push(a.pieces_[s]);return new jt(n,0)}function Ae(a,n){const s=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)s.push(a.pieces_[r]);if(n instanceof jt)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&s.push(r[c])}return new jt(s,0)}function Ot(a){return a.pieceNum_>=a.pieces_.length}function sn(a,n){const s=Dt(a),r=Dt(n);if(s===null)return n;if(s===r)return sn(ne(a),ne(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function Sy(a,n){if(ea(a)!==ea(n))return!1;for(let s=a.pieceNum_,r=n.pieceNum_;s<=a.pieces_.length;s++,r++)if(a.pieces_[s]!==n.pieces_[r])return!1;return!0}function ei(a,n){let s=a.pieceNum_,r=n.pieceNum_;if(ea(a)>ea(n))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class KE{constructor(n,s){this.errorPrefix_=s,this.parts_=yy(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pc(this.parts_[r]);Ty(this)}}function JE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Pc(n),Ty(a)}function $E(a){const n=a.parts_.pop();a.byteLength_-=Pc(n),a.parts_.length>0&&(a.byteLength_-=1)}function Ty(a){if(a.byteLength_>qv)throw new Error(a.errorPrefix_+"has a key path longer than "+qv+" bytes ("+a.byteLength_+").");if(a.parts_.length>Yv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yv+") or object contains a cycle "+Ba(a))}function Ba(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends vy{static getInstance(){return new Yd}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=1e3,tC=300*1e3,Gv=30*1e3,eC=1.3,nC=3e4,iC="server_kill",Xv=3;class Ki extends py{constructor(n,s,r,c,d,m,g,y){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=Ki.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=el,this.maxReconnectDelay_=tC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Sc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const c=++this.requestNumber_,d={r:c,a:n,b:s};this.log_(we(d)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const s=new Pd,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:m=>{const g=m.d;m.s==="ok"?s.resolve(g):s.reject(g)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),s.promise}listen(n,s,r,c){this.initConnection_();const d=n._queryIdentifier,m=n._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),K(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const g={onComplete:c,hashFn:s,query:n,tag:r};this.listens.get(m).set(d,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+r+" for "+c);const d={p:r},m="q";n.tag&&(d.q=s._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(m,d,g=>{const y=g.d,S=g.s;Ki.warnOnListenWarnings_(y,s),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",g),S!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(S,y))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&ts(n,"w")){const r=Io(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',d=s._path.toString();Mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||q1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=Y1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,c=>{const d=c.s,m=c.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),K(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,s)}sendUnlisten_(n,s,r,c){this.log_("Unlisten on "+n+" for "+s);const d={p:n},m="n";c&&(d.q=r,d.t=c),this.sendRequest(m,d)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,c){const d={p:s,d:r};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(n,s,r,c){this.putInternal("p",n,s,r,c)}merge(n,s,r,c){this.putInternal("m",n,s,r,c)}putInternal(n,s,r,c,d){this.initConnection_();const m={p:s,d:r};d!==void 0&&(m.h=d),this.outstandingPuts_.push({action:n,request:m,onComplete:c}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,d=>{this.log_(s+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const d=r.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):md("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nC&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Ki.nextConnectionId_++,d=this.lastSessionId;let m=!1,g=null;const y=function(){g?g.close():(m=!0,r())},S=function(w){K(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(w)};this.realtime_={close:y,sendRequest:S};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,A]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);m?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=A&&A.token,g=new QE(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,H=>{Mn(H+" ("+this.repoInfo_.toString()+")"),this.interrupt(iC)},d))}catch(w){this.log_("Failed to get token: "+w),m||(this.repoInfo_.nodeAdmin&&Mn(w),y())}}}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],bv(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(d=>Hd(d)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,s){const r=new jt(n).toString();let c;if(this.listens.has(r)){const d=this.listens.get(r);c=d.get(s),d.delete(s),d.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,s){Qe("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xv&&(this.reconnectDelay_=Gv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){Qe("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Wg.replace(/\./g,"-")]=1,Hg()?n["framework.cordova"]=1:P1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Sc.getInstance().currentlyOnline();return bv(this.interruptReasons_)&&n}}Ki.nextPersistentConnectionId_=0;Ki.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new At(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new At(Zo,n),c=new At(Zo,s);return this.compare(r,c)!==0}minPost(){return At.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;class Ey extends Bc{static get __EMPTY_NODE(){return fc}static set __EMPTY_NODE(n){fc=n}compare(n,s){return Xo(n.name,s.name)}isDefinedOn(n){throw Go("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return At.MIN}maxPost(){return new At(Ua,fc)}makePost(n,s){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new At(n,fc)}toString(){return".key"}}const Uo=new Ey;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(n,s,r,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let m=1;for(;!n.isEmpty();)if(n=n,m=s?r(n.key,s):1,c&&(m*=-1),m<0)this.isReverse_?n=n.left:n=n.right;else if(m===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Pe{constructor(n,s,r,c,d){this.key=n,this.value=s,this.color=r??Pe.RED,this.left=c??_n.EMPTY_NODE,this.right=d??_n.EMPTY_NODE}copy(n,s,r,c,d){return new Pe(n??this.key,s??this.value,r??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let c=this;const d=r(n,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(n,s,r),null):d===0?c=c.copy(null,s,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,s,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return _n.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,c;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return _n.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class sC{copy(n,s,r,c,d){return this}insert(n,s,r){return new Pe(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _n{constructor(n,s=_n.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new _n(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(n){return new _n(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,c=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new dc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new dc(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new dc(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new dc(this.root_,null,this.comparator_,!0,n)}}_n.EMPTY_NODE=new sC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(a,n){return Xo(a.name,n.name)}function qd(a,n){return Xo(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;function oC(a){vd=a}const Cy=function(a){return typeof a=="number"?"number:"+$g(a):"string:"+a},wy=function(a){if(a.isLeafNode()){const n=a.val();K(typeof n=="string"||typeof n=="number"||typeof n=="object"&&ts(n,".sv"),"Priority must be a string or number.")}else K(a===vd||a.isEmpty(),"priority of unexpected type.");K(a===vd||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv;class ze{static set __childrenNodeConstructor(n){Vv=n}static get __childrenNodeConstructor(){return Vv}constructor(n,s=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ze(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ot(n)?this:Dt(n)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=Dt(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||ea(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Cy(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=$g(this.value_):n+=this.value_,this.lazyHash_=Fg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ze.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ze.__childrenNodeConstructor?-1:(K(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,c=ze.VALUE_TYPE_ORDER.indexOf(s),d=ze.VALUE_TYPE_ORDER.indexOf(r);return K(c>=0,"Unknown leaf type: "+s),K(d>=0,"Unknown leaf type: "+r),c===d?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay,xy;function rC(a){Ay=a}function lC(a){xy=a}class uC extends Bc{compare(n,s){const r=n.node.getPriority(),c=s.node.getPriority(),d=r.compareTo(c);return d===0?Xo(n.name,s.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return At.MIN}maxPost(){return new At(Ua,new ze("[PRIORITY-POST]",xy))}makePost(n,s){const r=Ay(n);return new At(s,new ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const pe=new uC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=Math.log(2);class hC{constructor(n){const s=d=>parseInt(Math.log(d)/cC,10),r=d=>parseInt(Array(d+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Tc=function(a,n,s,r){a.sort(n);const c=function(y,S){const C=S-y;let w,A;if(C===0)return null;if(C===1)return w=a[y],A=s?s(w):w,new Pe(A,w.node,Pe.BLACK,null,null);{const H=parseInt(C/2,10)+y,q=c(y,H),j=c(H+1,S);return w=a[H],A=s?s(w):w,new Pe(A,w.node,Pe.BLACK,q,j)}},d=function(y){let S=null,C=null,w=a.length;const A=function(q,j){const it=w-q,Tt=w;w-=q;const yt=c(it+1,Tt),at=a[it],It=s?s(at):at;H(new Pe(It,at.node,j,null,yt))},H=function(q){S?(S.left=q,S=q):(C=q,S=q)};for(let q=0;q<y.count;++q){const j=y.nextBitIsOne(),it=Math.pow(2,y.count-(q+1));j?A(it,Pe.BLACK):(A(it,Pe.BLACK),A(it,Pe.RED))}return C},m=new hC(a.length),g=d(m);return new _n(r||n,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td;const zo={};class Fi{static get Default(){return K(zo&&pe,"ChildrenNode.ts has not been loaded"),td=td||new Fi({".priority":zo},{".priority":pe}),td}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Io(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof _n?s:null}hasIndex(n){return ts(this.indexSet_,n.toString())}addIndex(n,s){K(n!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const d=s.getIterator(At.Wrap);let m=d.getNext();for(;m;)c=c||n.isDefinedOn(m.node),r.push(m),m=d.getNext();let g;c?g=Tc(r,n.getCompare()):g=zo;const y=n.toString(),S={...this.indexSet_};S[y]=n;const C={...this.indexes_};return C[y]=g,new Fi(C,S)}addToIndexes(n,s){const r=pc(this.indexes_,(c,d)=>{const m=Io(this.indexSet_,d);if(K(m,"Missing index implementation for "+d),c===zo)if(m.isDefinedOn(n.node)){const g=[],y=s.getIterator(At.Wrap);let S=y.getNext();for(;S;)S.name!==n.name&&g.push(S),S=y.getNext();return g.push(n),Tc(g,m.getCompare())}else return zo;else{const g=s.get(n.name);let y=c;return g&&(y=y.remove(new At(n.name,g))),y.insert(n,n.node)}});return new Fi(r,this.indexSet_)}removeFromIndexes(n,s){const r=pc(this.indexes_,c=>{if(c===zo)return c;{const d=s.get(n.name);return d?c.remove(new At(n.name,d)):c}});return new Fi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class _t{static get EMPTY_NODE(){return nl||(nl=new _t(new _n(qd),null,Fi.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wy(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nl}updatePriority(n){return this.children_.isEmpty()?this:new _t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?nl:s}}getChild(n){const s=Dt(n);return s===null?this:this.getImmediateChild(s).getChild(ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(K(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new At(n,s);let c,d;s.isEmpty()?(c=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,s),d=this.indexMap_.addToIndexes(r,this.children_));const m=c.isEmpty()?nl:this.priorityNode_;return new _t(c,m,d)}}updateChild(n,s){const r=Dt(n);if(r===null)return s;{K(Dt(n)!==".priority"||ea(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(ne(n),s);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,c=0,d=!0;if(this.forEachChild(pe,(m,g)=>{s[m]=g.val(n),r++,d&&_t.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):d=!1}),!n&&d&&c<2*r){const m=[];for(const g in s)m[g]=s[g];return m}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Cy(this.getPriority().val())+":"),this.forEachChild(pe,(s,r)=>{const c=r.hash();c!==""&&(n+=":"+s+":"+c)}),this.lazyHash_=n===""?"":Fg(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const c=this.resolveIndex_(r);if(c){const d=c.getPredecessorKey(new At(n,s));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new At(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new At(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,At.Wrap);let d=c.peek();for(;d!=null&&s.compare(d,n)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,At.Wrap);let d=c.peek();for(;d!=null&&s.compare(d,n)>0;)c.getNext(),d=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Nl?-1:0}withIndex(n){if(n===Uo||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new _t(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Uo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(pe),c=s.getIterator(pe);let d=r.getNext(),m=c.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=r.getNext(),m=c.getNext()}return d===null&&m===null}else return!1;else return!1}}resolveIndex_(n){return n===Uo?null:this.indexMap_.get(n.toString())}}_t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fC extends _t{constructor(){super(new _n(qd),_t.EMPTY_NODE,Fi.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return _t.EMPTY_NODE}isEmpty(){return!1}}const Nl=new fC;Object.defineProperties(At,{MIN:{value:new At(Zo,_t.EMPTY_NODE)},MAX:{value:new At(Ua,Nl)}});Ey.__EMPTY_NODE=_t.EMPTY_NODE;ze.__childrenNodeConstructor=_t;oC(Nl);lC(Nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=!0;function Ye(a,n=null){if(a===null)return _t.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),K(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const s=a;return new ze(s,Ye(n))}if(!(a instanceof Array)&&dC){const s=[];let r=!1;if(mn(a,(m,g)=>{if(m.substring(0,1)!=="."){const y=Ye(g);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),s.push(new At(m,y)))}}),s.length===0)return _t.EMPTY_NODE;const d=Tc(s,aC,m=>m.name,qd);if(r){const m=Tc(s,pe.getCompare());return new _t(d,Ye(n),new Fi({".priority":m},{".priority":pe}))}else return new _t(d,Ye(n),Fi.Default)}else{let s=_t.EMPTY_NODE;return mn(a,(r,c)=>{if(ts(a,r)&&r.substring(0,1)!=="."){const d=Ye(c);(d.isLeafNode()||!d.isEmpty())&&(s=s.updateImmediateChild(r,d))}}),s.updatePriority(Ye(n))}}rC(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends Bc{constructor(n){super(),this.indexPath_=n,K(!Ot(n)&&Dt(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),c=this.extractChild(s.node),d=r.compareTo(c);return d===0?Xo(n.name,s.name):d}makePost(n,s){const r=Ye(n),c=_t.EMPTY_NODE.updateChild(this.indexPath_,r);return new At(s,c)}maxPost(){const n=_t.EMPTY_NODE.updateChild(this.indexPath_,Nl);return new At(Ua,n)}toString(){return yy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends Bc{compare(n,s){const r=n.node.compareTo(s.node);return r===0?Xo(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(n,s){const r=Ye(n);return new At(s,r)}toString(){return".value"}}const pC=new mC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(a){return{type:"value",snapshotNode:a}}function Yo(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ml(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function pl(a,n,s){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:s}}function vC(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(n){this.index_=n}updateChild(n,s,r,c,d,m){K(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(s);return g.getChild(c).equals(r.getChild(c))&&g.isEmpty()===r.isEmpty()||(m!=null&&(r.isEmpty()?n.hasChild(s)?m.trackChildChange(ml(s,g)):K(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?m.trackChildChange(Yo(s,r)):m.trackChildChange(pl(s,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(pe,(c,d)=>{s.hasChild(c)||r.trackChildChange(ml(c,d))}),s.isLeafNode()||s.forEachChild(pe,(c,d)=>{if(n.hasChild(c)){const m=n.getImmediateChild(c);m.equals(d)||r.trackChildChange(pl(c,d,m))}else r.trackChildChange(Yo(c,d))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?_t.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(n){this.indexedFilter_=new Gd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=vl.getStartPost_(n),this.endPost_=vl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,c,d,m){return this.matches(new At(s,r))||(r=_t.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,c,d,m)}updateFullNode(n,s,r){s.isLeafNode()&&(s=_t.EMPTY_NODE);let c=s.withIndex(this.index_);c=c.updatePriority(_t.EMPTY_NODE);const d=this;return s.forEachChild(pe,(m,g)=>{d.matches(new At(m,g))||(c=c.updateImmediateChild(m,_t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,c,d,m){return this.rangedFilter_.matches(new At(s,r))||(r=_t.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,c,d,m):this.fullLimitUpdateChild_(n,s,r,d,m)}updateFullNode(n,s,r){let c;if(s.isLeafNode()||s.isEmpty())c=_t.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){c=_t.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;d.hasNext()&&m<this.limit_;){const g=d.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))c=c.updateImmediateChild(g.name,g.node),m++;else break;else continue}}else{c=s.withIndex(this.index_),c=c.updatePriority(_t.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let m=0;for(;d.hasNext();){const g=d.getNext();m<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?m++:c=c.updateImmediateChild(g.name,_t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,c,d){let m;if(this.reverse_){const w=this.index_.getCompare();m=(A,H)=>w(H,A)}else m=this.index_.getCompare();const g=n;K(g.numChildren()===this.limit_,"");const y=new At(s,r),S=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),C=this.rangedFilter_.matches(y);if(g.hasChild(s)){const w=g.getImmediateChild(s);let A=c.getChildAfterChild(this.index_,S,this.reverse_);for(;A!=null&&(A.name===s||g.hasChild(A.name));)A=c.getChildAfterChild(this.index_,A,this.reverse_);const H=A==null?1:m(A,y);if(C&&!r.isEmpty()&&H>=0)return d?.trackChildChange(pl(s,r,w)),g.updateImmediateChild(s,r);{d?.trackChildChange(ml(s,w));const j=g.updateImmediateChild(s,_t.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(d?.trackChildChange(Yo(A.name,A.node)),j.updateImmediateChild(A.name,A.node)):j}}else return r.isEmpty()?n:C&&m(S,y)>=0?(d!=null&&(d.trackChildChange(ml(S.name,S.node)),d.trackChildChange(Yo(s,r))),g.updateImmediateChild(s,r).updateImmediateChild(S.name,_t.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zo}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ua}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const n=new Xd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function yC(a){return a.loadsAllData()?new Gd(a.getIndex()):a.hasLimit()?new gC(a):new vl(a)}function jv(a){const n={};if(a.isDefault())return n;let s;if(a.index_===pe?s="$priority":a.index_===pC?s="$value":a.index_===Uo?s="$key":(K(a.index_ instanceof _C,"Unrecognized index type!"),s=a.index_.toString()),n.orderBy=we(s),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=we(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+we(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=we(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+we(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Wv(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let s=a.viewFrom_;s===""&&(a.isViewFromLeft()?s="l":s="r"),n.vf=s}return a.index_!==pe&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends py{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(K(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=Ml("p:rest:"),this.listens_={}}listen(n,s,r,c){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const m=Ec.getListenId_(n,r),g={};this.listens_[m]=g;const y=jv(n._queryParams);this.restRequest_(d+".json",y,(S,C)=>{let w=C;if(S===404&&(w=null,S=null),S===null&&this.onDataUpdate_(d,w,!1,r),Io(this.listens_,m)===g){let A;S?S===401?A="permission_denied":A="rest_error:"+S:A="ok",c(A,null)}})}unlisten(n,s){const r=Ec.getListenId_(n,s);delete this.listens_[r]}get(n){const s=jv(n._queryParams),r=n._path.toString(),c=new Pd;return this.restRequest_(r+".json",s,(d,m)=>{let g=m;d===404&&(g=null,d=null),d===null?(this.onDataUpdate_(r,g,!1,null),c.resolve(g)):c.reject(new Error(g))}),c.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(s.auth=c.accessToken),d&&d.token&&(s.ac=d.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+G1(s);this.log_("Sending REST request for "+m);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&g.readyState===4){this.log_("REST Response for "+m+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=hl(g.responseText)}catch{Mn("Failed to parse JSON response for "+m+": "+g.responseText)}r(null,y)}else g.status!==401&&g.status!==404&&Mn("Got unsuccessful REST response for "+m+" Status: "+g.status),r(g.status);r=null}},g.open("GET",m,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return{value:null,children:new Map}}function Oy(a,n,s){if(Ot(n))a.value=s,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,s);else{const r=Dt(n);a.children.has(r)||a.children.set(r,Cc());const c=a.children.get(r);n=ne(n),Oy(c,n,s)}}function gd(a,n,s){a.value!==null?s(n,a.value):SC(a,(r,c)=>{const d=new jt(n.toString()+"/"+r);gd(c,d,s)})}function SC(a,n){a.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&mn(this.last_,(r,c)=>{s[r]=s[r]-c}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=10*1e3,EC=30*1e3,CC=300*1e3;class wC{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new TC(n);const r=Qv+(EC-Qv)*Math.random();rl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;mn(n,(c,d)=>{d>0&&ts(this.statsToReport_,c)&&(s[c]=d,r=!0)}),r&&this.server_.reportStats(s),rl(this.reportStats_.bind(this),Math.floor(Math.random()*2*CC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function Ny(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jd(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source=Ny()}operationForChild(n){if(Ot(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new jt(n));return new wc(Ut(),s,this.revert)}}else return K(Dt(this.path)===n,"operationForChild called for unrelated child."),new wc(ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(n,s){this.source=n,this.path=s,this.type=ni.LISTEN_COMPLETE}operationForChild(n){return Ot(this.path)?new gl(this.source,Ut()):new gl(this.source,ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=ni.OVERWRITE}operationForChild(n){return Ot(this.path)?new Ia(this.source,Ut(),this.snap.getImmediateChild(n)):new Ia(this.source,ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=ni.MERGE}operationForChild(n){if(Ot(this.path)){const s=this.children.subtree(new jt(n));return s.isEmpty()?null:s.value?new Ia(this.source,Ut(),s.value):new yl(this.source,Ut(),s)}else return K(Dt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new yl(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ot(n))return this.isFullyInitialized()&&!this.filtered_;const s=Dt(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function xC(a,n,s,r){const c=[],d=[];return n.forEach(m=>{m.type==="child_changed"&&a.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&d.push(vC(m.childName,m.snapshotNode))}),il(a,c,"child_removed",n,r,s),il(a,c,"child_added",n,r,s),il(a,c,"child_moved",d,r,s),il(a,c,"child_changed",n,r,s),il(a,c,"value",n,r,s),c}function il(a,n,s,r,c,d){const m=r.filter(g=>g.type===s);m.sort((g,y)=>OC(a,g,y)),m.forEach(g=>{const y=MC(a,g,d);c.forEach(S=>{S.respondsTo(g.type)&&n.push(S.createEvent(y,a.query_))})})}function MC(a,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function OC(a,n,s){if(n.childName==null||s.childName==null)throw Go("Should only compare child_ events.");const r=new At(n.childName,n.snapshotNode),c=new At(s.childName,s.snapshotNode);return a.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(a,n){return{eventCache:a,serverCache:n}}function ll(a,n,s,r){return kc(new na(n,s,r),a.serverCache)}function Ly(a,n,s,r){return kc(a.eventCache,new na(n,s,r))}function Ac(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Za(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed;const NC=()=>(ed||(ed=new _n(mE)),ed);class se{static fromObject(n){let s=new se(null);return mn(n,(r,c)=>{s=s.set(new jt(r),c)}),s}constructor(n,s=NC()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Ut(),value:this.value};if(Ot(n))return null;{const r=Dt(n),c=this.children.get(r);if(c!==null){const d=c.findRootMostMatchingPathAndValue(ne(n),s);return d!=null?{path:Ae(new jt(r),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ot(n))return this;{const s=Dt(n),r=this.children.get(s);return r!==null?r.subtree(ne(n)):new se(null)}}set(n,s){if(Ot(n))return new se(s,this.children);{const r=Dt(n),d=(this.children.get(r)||new se(null)).set(ne(n),s),m=this.children.insert(r,d);return new se(this.value,m)}}remove(n){if(Ot(n))return this.children.isEmpty()?new se(null):new se(null,this.children);{const s=Dt(n),r=this.children.get(s);if(r){const c=r.remove(ne(n));let d;return c.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,c),this.value===null&&d.isEmpty()?new se(null):new se(this.value,d)}else return this}}get(n){if(Ot(n))return this.value;{const s=Dt(n),r=this.children.get(s);return r?r.get(ne(n)):null}}setTree(n,s){if(Ot(n))return s;{const r=Dt(n),d=(this.children.get(r)||new se(null)).setTree(ne(n),s);let m;return d.isEmpty()?m=this.children.remove(r):m=this.children.insert(r,d),new se(this.value,m)}}fold(n){return this.fold_(Ut(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((c,d)=>{r[c]=d.fold_(Ae(n,c),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,Ut(),s)}findOnPath_(n,s,r){const c=this.value?r(s,this.value):!1;if(c)return c;if(Ot(n))return null;{const d=Dt(n),m=this.children.get(d);return m?m.findOnPath_(ne(n),Ae(s,d),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Ut(),s)}foreachOnPath_(n,s,r){if(Ot(n))return this;{this.value&&r(s,this.value);const c=Dt(n),d=this.children.get(c);return d?d.foreachOnPath_(ne(n),Ae(s,c),r):new se(null)}}foreach(n){this.foreach_(Ut(),n)}foreach_(n,s){this.children.inorderTraversal((r,c)=>{c.foreach_(Ae(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(n){this.writeTree_=n}static empty(){return new ii(new se(null))}}function ul(a,n,s){if(Ot(n))return new ii(new se(s));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let d=r.value;const m=sn(c,n);return d=d.updateChild(m,s),new ii(a.writeTree_.set(c,d))}else{const c=new se(s),d=a.writeTree_.setTree(n,c);return new ii(d)}}}function Fv(a,n,s){let r=a;return mn(s,(c,d)=>{r=ul(r,Ae(n,c),d)}),r}function Kv(a,n){if(Ot(n))return ii.empty();{const s=a.writeTree_.setTree(n,new se(null));return new ii(s)}}function yd(a,n){return Ya(a,n)!=null}function Ya(a,n){const s=a.writeTree_.findRootMostValueAndPath(n);return s!=null?a.writeTree_.get(s.path).getChild(sn(s.path,n)):null}function Jv(a){const n=[],s=a.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(pe,(r,c)=>{n.push(new At(r,c))}):a.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new At(r,c.value))}),n}function Js(a,n){if(Ot(n))return a;{const s=Ya(a,n);return s!=null?new ii(new se(s)):new ii(a.writeTree_.subtree(n))}}function bd(a){return a.writeTree_.isEmpty()}function qo(a,n){return Dy(Ut(),a.writeTree_,n)}function Dy(a,n,s){if(n.value!=null)return s.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((c,d)=>{c===".priority"?(K(d.value!==null,"Priority writes must always be leaf nodes"),r=d.value):s=Dy(Ae(a,c),d,s)}),!s.getChild(a).isEmpty()&&r!==null&&(s=s.updateChild(Ae(a,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(a,n){return By(n,a)}function LC(a,n,s,r,c){K(r>a.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),a.allWrites.push({path:n,snap:s,writeId:r,visible:c}),c&&(a.visibleWrites=ul(a.visibleWrites,n,s)),a.lastWriteId=r}function DC(a,n){for(let s=0;s<a.allWrites.length;s++){const r=a.allWrites[s];if(r.writeId===n)return r}return null}function RC(a,n){const s=a.allWrites.findIndex(g=>g.writeId===n);K(s>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[s];a.allWrites.splice(s,1);let c=r.visible,d=!1,m=a.allWrites.length-1;for(;c&&m>=0;){const g=a.allWrites[m];g.visible&&(m>=s&&zC(g,r.path)?c=!1:ei(r.path,g.path)&&(d=!0)),m--}if(c){if(d)return PC(a),!0;if(r.snap)a.visibleWrites=Kv(a.visibleWrites,r.path);else{const g=r.children;mn(g,y=>{a.visibleWrites=Kv(a.visibleWrites,Ae(r.path,y))})}return!0}else return!1}function zC(a,n){if(a.snap)return ei(a.path,n);for(const s in a.children)if(a.children.hasOwnProperty(s)&&ei(Ae(a.path,s),n))return!0;return!1}function PC(a){a.visibleWrites=Ry(a.allWrites,BC,Ut()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function BC(a){return a.visible}function Ry(a,n,s){let r=ii.empty();for(let c=0;c<a.length;++c){const d=a[c];if(n(d)){const m=d.path;let g;if(d.snap)ei(s,m)?(g=sn(s,m),r=ul(r,g,d.snap)):ei(m,s)&&(g=sn(m,s),r=ul(r,Ut(),d.snap.getChild(g)));else if(d.children){if(ei(s,m))g=sn(s,m),r=Fv(r,g,d.children);else if(ei(m,s))if(g=sn(m,s),Ot(g))r=Fv(r,Ut(),d.children);else{const y=Io(d.children,Dt(g));if(y){const S=y.getChild(ne(g));r=ul(r,Ut(),S)}}}else throw Go("WriteRecord should have .snap or .children")}}return r}function zy(a,n,s,r,c){if(!r&&!c){const d=Ya(a.visibleWrites,n);if(d!=null)return d;{const m=Js(a.visibleWrites,n);if(bd(m))return s;if(s==null&&!yd(m,Ut()))return null;{const g=s||_t.EMPTY_NODE;return qo(m,g)}}}else{const d=Js(a.visibleWrites,n);if(!c&&bd(d))return s;if(!c&&s==null&&!yd(d,Ut()))return null;{const m=function(S){return(S.visible||c)&&(!r||!~r.indexOf(S.writeId))&&(ei(S.path,n)||ei(n,S.path))},g=Ry(a.allWrites,m,n),y=s||_t.EMPTY_NODE;return qo(g,y)}}}function kC(a,n,s){let r=_t.EMPTY_NODE;const c=Ya(a.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(pe,(d,m)=>{r=r.updateImmediateChild(d,m)}),r;if(s){const d=Js(a.visibleWrites,n);return s.forEachChild(pe,(m,g)=>{const y=qo(Js(d,new jt(m)),g);r=r.updateImmediateChild(m,y)}),Jv(d).forEach(m=>{r=r.updateImmediateChild(m.name,m.node)}),r}else{const d=Js(a.visibleWrites,n);return Jv(d).forEach(m=>{r=r.updateImmediateChild(m.name,m.node)}),r}}function HC(a,n,s,r,c){K(r||c,"Either existingEventSnap or existingServerSnap must exist");const d=Ae(n,s);if(yd(a.visibleWrites,d))return null;{const m=Js(a.visibleWrites,d);return bd(m)?c.getChild(s):qo(m,c.getChild(s))}}function UC(a,n,s,r){const c=Ae(n,s),d=Ya(a.visibleWrites,c);if(d!=null)return d;if(r.isCompleteForChild(s)){const m=Js(a.visibleWrites,c);return qo(m,r.getNode().getImmediateChild(s))}else return null}function IC(a,n){return Ya(a.visibleWrites,n)}function ZC(a,n,s,r,c,d,m){let g;const y=Js(a.visibleWrites,n),S=Ya(y,Ut());if(S!=null)g=S;else if(s!=null)g=qo(y,s);else return[];if(g=g.withIndex(m),!g.isEmpty()&&!g.isLeafNode()){const C=[],w=m.getCompare(),A=d?g.getReverseIteratorFrom(r,m):g.getIteratorFrom(r,m);let H=A.getNext();for(;H&&C.length<c;)w(H,r)!==0&&C.push(H),H=A.getNext();return C}else return[]}function YC(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}function xc(a,n,s,r){return zy(a.writeTree,a.treePath,n,s,r)}function Wd(a,n){return kC(a.writeTree,a.treePath,n)}function $v(a,n,s,r){return HC(a.writeTree,a.treePath,n,s,r)}function Mc(a,n){return IC(a.writeTree,Ae(a.treePath,n))}function qC(a,n,s,r,c,d){return ZC(a.writeTree,a.treePath,n,s,r,c,d)}function Qd(a,n,s){return UC(a.writeTree,a.treePath,n,s)}function Py(a,n){return By(Ae(a.treePath,n),a.writeTree)}function By(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;K(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const d=c.type;if(s==="child_added"&&d==="child_removed")this.changeMap.set(r,pl(r,n.snapshotNode,c.snapshotNode));else if(s==="child_removed"&&d==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&d==="child_changed")this.changeMap.set(r,ml(r,c.oldSnap));else if(s==="child_changed"&&d==="child_added")this.changeMap.set(r,Yo(r,n.snapshotNode));else if(s==="child_changed"&&d==="child_changed")this.changeMap.set(r,pl(r,n.snapshotNode,c.oldSnap));else throw Go("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const ky=new XC;class Fd{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qd(this.writes_,n,r)}}getChildAfterChild(n,s,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Za(this.viewCache_),d=qC(this.writes_,c,s,1,r,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(a){return{filter:a}}function jC(a,n){K(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),K(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function WC(a,n,s,r,c){const d=new GC;let m,g;if(s.type===ni.OVERWRITE){const S=s;S.source.fromUser?m=Sd(a,n,S.path,S.snap,r,c,d):(K(S.source.fromServer,"Unknown source."),g=S.source.tagged||n.serverCache.isFiltered()&&!Ot(S.path),m=Oc(a,n,S.path,S.snap,r,c,g,d))}else if(s.type===ni.MERGE){const S=s;S.source.fromUser?m=FC(a,n,S.path,S.children,r,c,d):(K(S.source.fromServer,"Unknown source."),g=S.source.tagged||n.serverCache.isFiltered(),m=Td(a,n,S.path,S.children,r,c,g,d))}else if(s.type===ni.ACK_USER_WRITE){const S=s;S.revert?m=$C(a,n,S.path,r,c,d):m=KC(a,n,S.path,S.affectedTree,r,c,d)}else if(s.type===ni.LISTEN_COMPLETE)m=JC(a,n,s.path,r,d);else throw Go("Unknown operation type: "+s.type);const y=d.getChanges();return QC(n,m,y),{viewCache:m,changes:y}}function QC(a,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),d=Ac(a);(s.length>0||!a.eventCache.isFullyInitialized()||c&&!r.getNode().equals(d)||!r.getNode().getPriority().equals(d.getPriority()))&&s.push(My(Ac(n)))}}function Hy(a,n,s,r,c,d){const m=n.eventCache;if(Mc(r,s)!=null)return n;{let g,y;if(Ot(s))if(K(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const S=Za(n),C=S instanceof _t?S:_t.EMPTY_NODE,w=Wd(r,C);g=a.filter.updateFullNode(n.eventCache.getNode(),w,d)}else{const S=xc(r,Za(n));g=a.filter.updateFullNode(n.eventCache.getNode(),S,d)}else{const S=Dt(s);if(S===".priority"){K(ea(s)===1,"Can't have a priority with additional path components");const C=m.getNode();y=n.serverCache.getNode();const w=$v(r,s,C,y);w!=null?g=a.filter.updatePriority(C,w):g=m.getNode()}else{const C=ne(s);let w;if(m.isCompleteForChild(S)){y=n.serverCache.getNode();const A=$v(r,s,m.getNode(),y);A!=null?w=m.getNode().getImmediateChild(S).updateChild(C,A):w=m.getNode().getImmediateChild(S)}else w=Qd(r,S,n.serverCache);w!=null?g=a.filter.updateChild(m.getNode(),S,w,C,c,d):g=m.getNode()}}return ll(n,g,m.isFullyInitialized()||Ot(s),a.filter.filtersNodes())}}function Oc(a,n,s,r,c,d,m,g){const y=n.serverCache;let S;const C=m?a.filter:a.filter.getIndexedFilter();if(Ot(s))S=C.updateFullNode(y.getNode(),r,null);else if(C.filtersNodes()&&!y.isFiltered()){const H=y.getNode().updateChild(s,r);S=C.updateFullNode(y.getNode(),H,null)}else{const H=Dt(s);if(!y.isCompleteForPath(s)&&ea(s)>1)return n;const q=ne(s),it=y.getNode().getImmediateChild(H).updateChild(q,r);H===".priority"?S=C.updatePriority(y.getNode(),it):S=C.updateChild(y.getNode(),H,it,q,ky,null)}const w=Ly(n,S,y.isFullyInitialized()||Ot(s),C.filtersNodes()),A=new Fd(c,w,d);return Hy(a,w,s,c,A,g)}function Sd(a,n,s,r,c,d,m){const g=n.eventCache;let y,S;const C=new Fd(c,n,d);if(Ot(s))S=a.filter.updateFullNode(n.eventCache.getNode(),r,m),y=ll(n,S,!0,a.filter.filtersNodes());else{const w=Dt(s);if(w===".priority")S=a.filter.updatePriority(n.eventCache.getNode(),r),y=ll(n,S,g.isFullyInitialized(),g.isFiltered());else{const A=ne(s),H=g.getNode().getImmediateChild(w);let q;if(Ot(A))q=r;else{const j=C.getCompleteChild(w);j!=null?gy(A)===".priority"&&j.getChild(by(A)).isEmpty()?q=j:q=j.updateChild(A,r):q=_t.EMPTY_NODE}if(H.equals(q))y=n;else{const j=a.filter.updateChild(g.getNode(),w,q,A,C,m);y=ll(n,j,g.isFullyInitialized(),a.filter.filtersNodes())}}}return y}function tg(a,n){return a.eventCache.isCompleteForChild(n)}function FC(a,n,s,r,c,d,m){let g=n;return r.foreach((y,S)=>{const C=Ae(s,y);tg(n,Dt(C))&&(g=Sd(a,g,C,S,c,d,m))}),r.foreach((y,S)=>{const C=Ae(s,y);tg(n,Dt(C))||(g=Sd(a,g,C,S,c,d,m))}),g}function eg(a,n,s){return s.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function Td(a,n,s,r,c,d,m,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y=n,S;Ot(s)?S=r:S=new se(null).setTree(s,r);const C=n.serverCache.getNode();return S.children.inorderTraversal((w,A)=>{if(C.hasChild(w)){const H=n.serverCache.getNode().getImmediateChild(w),q=eg(a,H,A);y=Oc(a,y,new jt(w),q,c,d,m,g)}}),S.children.inorderTraversal((w,A)=>{const H=!n.serverCache.isCompleteForChild(w)&&A.value===null;if(!C.hasChild(w)&&!H){const q=n.serverCache.getNode().getImmediateChild(w),j=eg(a,q,A);y=Oc(a,y,new jt(w),j,c,d,m,g)}}),y}function KC(a,n,s,r,c,d,m){if(Mc(c,s)!=null)return n;const g=n.serverCache.isFiltered(),y=n.serverCache;if(r.value!=null){if(Ot(s)&&y.isFullyInitialized()||y.isCompleteForPath(s))return Oc(a,n,s,y.getNode().getChild(s),c,d,g,m);if(Ot(s)){let S=new se(null);return y.getNode().forEachChild(Uo,(C,w)=>{S=S.set(new jt(C),w)}),Td(a,n,s,S,c,d,g,m)}else return n}else{let S=new se(null);return r.foreach((C,w)=>{const A=Ae(s,C);y.isCompleteForPath(A)&&(S=S.set(C,y.getNode().getChild(A)))}),Td(a,n,s,S,c,d,g,m)}}function JC(a,n,s,r,c){const d=n.serverCache,m=Ly(n,d.getNode(),d.isFullyInitialized()||Ot(s),d.isFiltered());return Hy(a,m,s,r,ky,c)}function $C(a,n,s,r,c,d){let m;if(Mc(r,s)!=null)return n;{const g=new Fd(r,n,c),y=n.eventCache.getNode();let S;if(Ot(s)||Dt(s)===".priority"){let C;if(n.serverCache.isFullyInitialized())C=xc(r,Za(n));else{const w=n.serverCache.getNode();K(w instanceof _t,"serverChildren would be complete if leaf node"),C=Wd(r,w)}C=C,S=a.filter.updateFullNode(y,C,d)}else{const C=Dt(s);let w=Qd(r,C,n.serverCache);w==null&&n.serverCache.isCompleteForChild(C)&&(w=y.getImmediateChild(C)),w!=null?S=a.filter.updateChild(y,C,w,ne(s),g,d):n.eventCache.getNode().hasChild(C)?S=a.filter.updateChild(y,C,_t.EMPTY_NODE,ne(s),g,d):S=y,S.isEmpty()&&n.serverCache.isFullyInitialized()&&(m=xc(r,Za(n)),m.isLeafNode()&&(S=a.filter.updateFullNode(S,m,d)))}return m=n.serverCache.isFullyInitialized()||Mc(r,Ut())!=null,ll(n,S,m,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new Gd(r.getIndex()),d=yC(r);this.processor_=VC(d);const m=s.serverCache,g=s.eventCache,y=c.updateFullNode(_t.EMPTY_NODE,m.getNode(),null),S=d.updateFullNode(_t.EMPTY_NODE,g.getNode(),null),C=new na(y,m.isFullyInitialized(),c.filtersNodes()),w=new na(S,g.isFullyInitialized(),d.filtersNodes());this.viewCache_=kc(w,C),this.eventGenerator_=new AC(this.query_)}get query(){return this.query_}}function ew(a){return a.viewCache_.serverCache.getNode()}function nw(a){return Ac(a.viewCache_)}function iw(a,n){const s=Za(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!Ot(n)&&!s.getImmediateChild(Dt(n)).isEmpty())?s.getChild(n):null}function ng(a){return a.eventRegistrations_.length===0}function sw(a,n){a.eventRegistrations_.push(n)}function ig(a,n,s){const r=[];if(s){K(n==null,"A cancel should cancel all event registrations.");const c=a.query._path;a.eventRegistrations_.forEach(d=>{const m=d.createCancelEvent(s,c);m&&r.push(m)})}if(n){let c=[];for(let d=0;d<a.eventRegistrations_.length;++d){const m=a.eventRegistrations_[d];if(!m.matches(n))c.push(m);else if(n.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(d+1));break}}a.eventRegistrations_=c}else a.eventRegistrations_=[];return r}function sg(a,n,s,r){n.type===ni.MERGE&&n.source.queryId!==null&&(K(Za(a.viewCache_),"We should always have a full cache before handling merges"),K(Ac(a.viewCache_),"Missing event cache, even though we have a server cache"));const c=a.viewCache_,d=WC(a.processor_,c,n,s,r);return jC(a.processor_,d.viewCache),K(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=d.viewCache,Uy(a,d.changes,d.viewCache.eventCache.getNode(),null)}function aw(a,n){const s=a.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(pe,(d,m)=>{r.push(Yo(d,m))}),s.isFullyInitialized()&&r.push(My(s.getNode())),Uy(a,r,s.getNode(),n)}function Uy(a,n,s,r){const c=r?[r]:a.eventRegistrations_;return xC(a.eventGenerator_,n,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;class Iy{constructor(){this.views=new Map}}function ow(a){K(!Nc,"__referenceConstructor has already been defined"),Nc=a}function rw(){return K(Nc,"Reference.ts has not been loaded"),Nc}function lw(a){return a.views.size===0}function Kd(a,n,s,r){const c=n.source.queryId;if(c!==null){const d=a.views.get(c);return K(d!=null,"SyncTree gave us an op for an invalid query."),sg(d,n,s,r)}else{let d=[];for(const m of a.views.values())d=d.concat(sg(m,n,s,r));return d}}function Zy(a,n,s,r,c){const d=n._queryIdentifier,m=a.views.get(d);if(!m){let g=xc(s,c?r:null),y=!1;g?y=!0:r instanceof _t?(g=Wd(s,r),y=!1):(g=_t.EMPTY_NODE,y=!1);const S=kc(new na(g,y,!1),new na(r,c,!1));return new tw(n,S)}return m}function uw(a,n,s,r,c,d){const m=Zy(a,n,r,c,d);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,m),sw(m,s),aw(m,s)}function cw(a,n,s,r){const c=n._queryIdentifier,d=[];let m=[];const g=ia(a);if(c==="default")for(const[y,S]of a.views.entries())m=m.concat(ig(S,s,r)),ng(S)&&(a.views.delete(y),S.query._queryParams.loadsAllData()||d.push(S.query));else{const y=a.views.get(c);y&&(m=m.concat(ig(y,s,r)),ng(y)&&(a.views.delete(c),y.query._queryParams.loadsAllData()||d.push(y.query)))}return g&&!ia(a)&&d.push(new(rw())(n._repo,n._path)),{removed:d,events:m}}function Yy(a){const n=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function $s(a,n){let s=null;for(const r of a.views.values())s=s||iw(r,n);return s}function qy(a,n){if(n._queryParams.loadsAllData())return Uc(a);{const r=n._queryIdentifier;return a.views.get(r)}}function Gy(a,n){return qy(a,n)!=null}function ia(a){return Uc(a)!=null}function Uc(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function hw(a){K(!Lc,"__referenceConstructor has already been defined"),Lc=a}function fw(){return K(Lc,"Reference.ts has not been loaded"),Lc}let dw=1;class ag{constructor(n){this.listenProvider_=n,this.syncPointTree_=new se(null),this.pendingWriteTree_=YC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _w(a,n,s,r,c){return LC(a.pendingWriteTree_,n,s,r,c),c?Dl(a,new Ia(Ny(),n,s)):[]}function Bo(a,n,s=!1){const r=DC(a.pendingWriteTree_,n);if(RC(a.pendingWriteTree_,n)){let d=new se(null);return r.snap!=null?d=d.set(Ut(),!0):mn(r.children,m=>{d=d.set(new jt(m),!0)}),Dl(a,new wc(r.path,d,s))}else return[]}function Ll(a,n,s){return Dl(a,new Ia(Vd(),n,s))}function mw(a,n,s){const r=se.fromObject(s);return Dl(a,new yl(Vd(),n,r))}function pw(a,n){return Dl(a,new gl(Vd(),n))}function vw(a,n,s){const r=Jd(a,s);if(r){const c=$d(r),d=c.path,m=c.queryId,g=sn(d,n),y=new gl(jd(m),g);return t_(a,d,y)}else return[]}function Xy(a,n,s,r,c=!1){const d=n._path,m=a.syncPointTree_.get(d);let g=[];if(m&&(n._queryIdentifier==="default"||Gy(m,n))){const y=cw(m,n,s,r);lw(m)&&(a.syncPointTree_=a.syncPointTree_.remove(d));const S=y.removed;if(g=y.events,!c){const C=S.findIndex(A=>A._queryParams.loadsAllData())!==-1,w=a.syncPointTree_.findOnPath(d,(A,H)=>ia(H));if(C&&!w){const A=a.syncPointTree_.subtree(d);if(!A.isEmpty()){const H=Sw(A);for(let q=0;q<H.length;++q){const j=H[q],it=j.query,Tt=Fy(a,j);a.listenProvider_.startListening(cl(it),bl(a,it),Tt.hashFn,Tt.onComplete)}}}!w&&S.length>0&&!r&&(C?a.listenProvider_.stopListening(cl(n),null):S.forEach(A=>{const H=a.queryToTagMap.get(Ic(A));a.listenProvider_.stopListening(cl(A),H)}))}Tw(a,S)}return g}function Vy(a,n,s,r){const c=Jd(a,r);if(c!=null){const d=$d(c),m=d.path,g=d.queryId,y=sn(m,n),S=new Ia(jd(g),y,s);return t_(a,m,S)}else return[]}function gw(a,n,s,r){const c=Jd(a,r);if(c){const d=$d(c),m=d.path,g=d.queryId,y=sn(m,n),S=se.fromObject(s),C=new yl(jd(g),y,S);return t_(a,m,C)}else return[]}function yw(a,n,s,r=!1){const c=n._path;let d=null,m=!1;a.syncPointTree_.foreachOnPath(c,(A,H)=>{const q=sn(A,c);d=d||$s(H,q),m=m||ia(H)});let g=a.syncPointTree_.get(c);g?(m=m||ia(g),d=d||$s(g,Ut())):(g=new Iy,a.syncPointTree_=a.syncPointTree_.set(c,g));let y;d!=null?y=!0:(y=!1,d=_t.EMPTY_NODE,a.syncPointTree_.subtree(c).foreachChild((H,q)=>{const j=$s(q,Ut());j&&(d=d.updateImmediateChild(H,j))}));const S=Gy(g,n);if(!S&&!n._queryParams.loadsAllData()){const A=Ic(n);K(!a.queryToTagMap.has(A),"View does not exist, but we have a tag");const H=Ew();a.queryToTagMap.set(A,H),a.tagToQueryMap.set(H,A)}const C=Hc(a.pendingWriteTree_,c);let w=uw(g,n,s,C,d,y);if(!S&&!m&&!r){const A=qy(g,n);w=w.concat(Cw(a,n,A))}return w}function jy(a,n,s){const c=a.pendingWriteTree_,d=a.syncPointTree_.findOnPath(n,(m,g)=>{const y=sn(m,n),S=$s(g,y);if(S)return S});return zy(c,n,d,s,!0)}function bw(a,n){const s=n._path;let r=null;a.syncPointTree_.foreachOnPath(s,(S,C)=>{const w=sn(S,s);r=r||$s(C,w)});let c=a.syncPointTree_.get(s);c?r=r||$s(c,Ut()):(c=new Iy,a.syncPointTree_=a.syncPointTree_.set(s,c));const d=r!=null,m=d?new na(r,!0,!1):null,g=Hc(a.pendingWriteTree_,n._path),y=Zy(c,n,g,d?m.getNode():_t.EMPTY_NODE,d);return nw(y)}function Dl(a,n){return Wy(n,a.syncPointTree_,null,Hc(a.pendingWriteTree_,Ut()))}function Wy(a,n,s,r){if(Ot(a.path))return Qy(a,n,s,r);{const c=n.get(Ut());s==null&&c!=null&&(s=$s(c,Ut()));let d=[];const m=Dt(a.path),g=a.operationForChild(m),y=n.children.get(m);if(y&&g){const S=s?s.getImmediateChild(m):null,C=Py(r,m);d=d.concat(Wy(g,y,S,C))}return c&&(d=d.concat(Kd(c,a,r,s))),d}}function Qy(a,n,s,r){const c=n.get(Ut());s==null&&c!=null&&(s=$s(c,Ut()));let d=[];return n.children.inorderTraversal((m,g)=>{const y=s?s.getImmediateChild(m):null,S=Py(r,m),C=a.operationForChild(m);C&&(d=d.concat(Qy(C,g,y,S)))}),c&&(d=d.concat(Kd(c,a,r,s))),d}function Fy(a,n){const s=n.query,r=bl(a,s);return{hashFn:()=>(ew(n)||_t.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?vw(a,s._path,r):pw(a,s._path);{const d=gE(c,s);return Xy(a,s,null,d)}}}}function bl(a,n){const s=Ic(n);return a.queryToTagMap.get(s)}function Ic(a){return a._path.toString()+"$"+a._queryIdentifier}function Jd(a,n){return a.tagToQueryMap.get(n)}function $d(a){const n=a.indexOf("$");return K(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new jt(a.substr(0,n))}}function t_(a,n,s){const r=a.syncPointTree_.get(n);K(r,"Missing sync point for query tag that we're tracking");const c=Hc(a.pendingWriteTree_,n);return Kd(r,s,c,null)}function Sw(a){return a.fold((n,s,r)=>{if(s&&ia(s))return[Uc(s)];{let c=[];return s&&(c=Yy(s)),mn(r,(d,m)=>{c=c.concat(m)}),c}})}function cl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(fw())(a._repo,a._path):a}function Tw(a,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const c=Ic(r),d=a.queryToTagMap.get(c);a.queryToTagMap.delete(c),a.tagToQueryMap.delete(d)}}}function Ew(){return dw++}function Cw(a,n,s){const r=n._path,c=bl(a,n),d=Fy(a,s),m=a.listenProvider_.startListening(cl(n),c,d.hashFn,d.onComplete),g=a.syncPointTree_.subtree(r);if(c)K(!ia(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((S,C,w)=>{if(!Ot(S)&&C&&ia(C))return[Uc(C).query];{let A=[];return C&&(A=A.concat(Yy(C).map(H=>H.query))),mn(w,(H,q)=>{A=A.concat(q)}),A}});for(let S=0;S<y.length;++S){const C=y[S];a.listenProvider_.stopListening(cl(C),bl(a,C))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new e_(s)}node(){return this.node_}}class n_{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=Ae(this.path_,n);return new n_(this.syncTree_,s)}node(){return jy(this.syncTree_,this.path_)}}const ww=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},og=function(a,n,s){if(!a||typeof a!="object")return a;if(K(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Aw(a[".sv"],n,s);if(typeof a[".sv"]=="object")return xw(a[".sv"],n);K(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Aw=function(a,n,s){switch(a){case"timestamp":return s.timestamp;default:K(!1,"Unexpected server value: "+a)}},xw=function(a,n,s){a.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const c=n.node();if(K(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const m=c.getValue();return typeof m!="number"?r:m+r},Mw=function(a,n,s,r){return i_(n,new n_(s,a),r)},Ow=function(a,n,s){return i_(a,new e_(n),s)};function i_(a,n,s){const r=a.getPriority().val(),c=og(r,n.getImmediateChild(".priority"),s);let d;if(a.isLeafNode()){const m=a,g=og(m.getValue(),n,s);return g!==m.getValue()||c!==m.getPriority().val()?new ze(g,Ye(c)):a}else{const m=a;return d=m,c!==m.getPriority().val()&&(d=d.updatePriority(new ze(c))),m.forEachChild(pe,(g,y)=>{const S=i_(y,n.getImmediateChild(g),s);S!==y&&(d=d.updateImmediateChild(g,S))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function a_(a,n){let s=n instanceof jt?n:new jt(n),r=a,c=Dt(s);for(;c!==null;){const d=Io(r.node.children,c)||{children:{},childCount:0};r=new s_(c,r,d),s=ne(s),c=Dt(s)}return r}function Vo(a){return a.node.value}function Ky(a,n){a.node.value=n,Ed(a)}function Jy(a){return a.node.childCount>0}function Nw(a){return Vo(a)===void 0&&!Jy(a)}function Zc(a,n){mn(a.node.children,(s,r)=>{n(new s_(s,a,r))})}function $y(a,n,s,r){s&&n(a),Zc(a,c=>{$y(c,n,!0)})}function Lw(a,n,s){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Rl(a){return new jt(a.parent===null?a.name:Rl(a.parent)+"/"+a.name)}function Ed(a){a.parent!==null&&Dw(a.parent,a.name,a)}function Dw(a,n,s){const r=Nw(s),c=ts(a.node.children,n);r&&c?(delete a.node.children[n],a.node.childCount--,Ed(a)):!r&&!c&&(a.node.children[n]=s.node,a.node.childCount++,Ed(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=/[\[\].#$\/\u0000-\u001F\u007F]/,zw=/[\[\].#$\u0000-\u001F\u007F]/,nd=10*1024*1024,t0=function(a){return typeof a=="string"&&a.length!==0&&!Rw.test(a)},e0=function(a){return typeof a=="string"&&a.length!==0&&!zw.test(a)},Pw=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),e0(a)},n0=function(a,n,s){const r=s instanceof jt?new KE(s,a):s;if(n===void 0)throw new Error(a+"contains undefined "+Ba(r));if(typeof n=="function")throw new Error(a+"contains a function "+Ba(r)+" with contents = "+n.toString());if(Kg(n))throw new Error(a+"contains "+n.toString()+" "+Ba(r));if(typeof n=="string"&&n.length>nd/3&&Pc(n)>nd)throw new Error(a+"contains a string greater than "+nd+" utf8 bytes "+Ba(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,d=!1;if(mn(n,(m,g)=>{if(m===".value")c=!0;else if(m!==".priority"&&m!==".sv"&&(d=!0,!t0(m)))throw new Error(a+" contains an invalid key ("+m+") "+Ba(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JE(r,m),n0(a,g,r),$E(r)}),c&&d)throw new Error(a+' contains ".value" child '+Ba(r)+" in addition to actual children.")}},i0=function(a,n,s,r){if(!e0(s))throw new Error(Zg(a,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Bw=function(a,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),i0(a,n,s)},kw=function(a,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!t0(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!Pw(s))throw new Error(Zg(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uw(a,n){let s=null;for(let r=0;r<n.length;r++){const c=n[r],d=c.getPath();s!==null&&!Sy(d,s.path)&&(a.eventLists_.push(s),s=null),s===null&&(s={events:[],path:d}),s.events.push(c)}s&&a.eventLists_.push(s)}function aa(a,n,s){Uw(a,s),Iw(a,r=>ei(r,n)||ei(n,r))}function Iw(a,n){a.recursionDepth_++;let s=!0;for(let r=0;r<a.eventLists_.length;r++){const c=a.eventLists_[r];if(c){const d=c.path;n(d)?(Zw(a.eventLists_[r]),a.eventLists_[r]=null):s=!1}}s&&(a.eventLists_=[]),a.recursionDepth_--}function Zw(a){for(let n=0;n<a.events.length;n++){const s=a.events[n];if(s!==null){a.events[n]=null;const r=s.getEventRunner();ol&&Qe("event: "+s.toString()),Ol(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="repo_interrupt",qw=25;class Gw{constructor(n,s,r,c){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cc(),this.transactionQueueTree_=new s_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xw(a,n,s){if(a.stats_=Id(a.repoInfo_),a.forceRestClient_||TE())a.server_=new Ec(a.repoInfo_,(r,c,d,m)=>{rg(a,r,c,d,m)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>lg(a,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Ki(a.repoInfo_,n,(r,c,d,m)=>{rg(a,r,c,d,m)},r=>{lg(a,r)},r=>{jw(a,r)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=xE(a.repoInfo_,()=>new wC(a.stats_,a.server_)),a.infoData_=new bC,a.infoSyncTree_=new ag({startListening:(r,c,d,m)=>{let g=[];const y=a.infoData_.getNode(r._path);return y.isEmpty()||(g=Ll(a.infoSyncTree_,r._path,y),setTimeout(()=>{m("ok")},0)),g},stopListening:()=>{}}),o_(a,"connected",!1),a.serverSyncTree_=new ag({startListening:(r,c,d,m)=>(a.server_.listen(r,d,c,(g,y)=>{const S=m(g,y);aa(a.eventQueue_,r._path,S)}),[]),stopListening:(r,c)=>{a.server_.unlisten(r,c)}})}function Vw(a){const s=a.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function s0(a){return ww({timestamp:Vw(a)})}function rg(a,n,s,r,c){a.dataUpdateCount++;const d=new jt(n);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,s):s;let m=[];if(c)if(r){const y=pc(s,S=>Ye(S));m=gw(a.serverSyncTree_,d,y,c)}else{const y=Ye(s);m=Vy(a.serverSyncTree_,d,y,c)}else if(r){const y=pc(s,S=>Ye(S));m=mw(a.serverSyncTree_,d,y)}else{const y=Ye(s);m=Ll(a.serverSyncTree_,d,y)}let g=d;m.length>0&&(g=u_(a,d)),aa(a.eventQueue_,g,m)}function lg(a,n){o_(a,"connected",n),n===!1&&Fw(a)}function jw(a,n){mn(n,(s,r)=>{o_(a,s,r)})}function o_(a,n,s){const r=new jt("/.info/"+n),c=Ye(s);a.infoData_.updateSnapshot(r,c);const d=Ll(a.infoSyncTree_,r,c);aa(a.eventQueue_,r,d)}function Ww(a){return a.nextWriteId_++}function Qw(a,n,s){const r=bw(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(c=>{const d=Ye(c).withIndex(n._queryParams.getIndex());yw(a.serverSyncTree_,n,s,!0);let m;if(n._queryParams.loadsAllData())m=Ll(a.serverSyncTree_,n._path,d);else{const g=bl(a.serverSyncTree_,n);m=Vy(a.serverSyncTree_,n._path,d,g)}return aa(a.eventQueue_,n._path,m),Xy(a.serverSyncTree_,n,s,null,!0),d},c=>(r_(a,"get for query "+we(n)+" failed: "+c),Promise.reject(new Error(c))))}function Fw(a){r_(a,"onDisconnectEvents");const n=s0(a),s=Cc();gd(a.onDisconnect_,Ut(),(c,d)=>{const m=Mw(c,d,a.serverSyncTree_,n);Oy(s,c,m)});let r=[];gd(s,Ut(),(c,d)=>{r=r.concat(Ll(a.serverSyncTree_,c,d));const m=tA(a,c);u_(a,m)}),a.onDisconnect_=Cc(),aa(a.eventQueue_,Ut(),r)}function Kw(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Yw)}function r_(a,...n){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),Qe(s,...n)}function a0(a,n,s){return jy(a.serverSyncTree_,n,s)||_t.EMPTY_NODE}function l_(a,n=a.transactionQueueTree_){if(n||Yc(a,n),Vo(n)){const s=r0(a,n);K(s.length>0,"Sending zero length transaction queue"),s.every(c=>c.status===0)&&Jw(a,Rl(n),s)}else Jy(n)&&Zc(n,s=>{l_(a,s)})}function Jw(a,n,s){const r=s.map(S=>S.currentWriteId),c=a0(a,n,r);let d=c;const m=c.hash();for(let S=0;S<s.length;S++){const C=s[S];K(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const w=sn(n,C.path);d=d.updateChild(w,C.currentOutputSnapshotRaw)}const g=d.val(!0),y=n;a.server_.put(y.toString(),g,S=>{r_(a,"transaction put response",{path:y.toString(),status:S});let C=[];if(S==="ok"){const w=[];for(let A=0;A<s.length;A++)s[A].status=2,C=C.concat(Bo(a.serverSyncTree_,s[A].currentWriteId)),s[A].onComplete&&w.push(()=>s[A].onComplete(null,!0,s[A].currentOutputSnapshotResolved)),s[A].unwatcher();Yc(a,a_(a.transactionQueueTree_,n)),l_(a,a.transactionQueueTree_),aa(a.eventQueue_,n,C);for(let A=0;A<w.length;A++)Ol(w[A])}else{if(S==="datastale")for(let w=0;w<s.length;w++)s[w].status===3?s[w].status=4:s[w].status=0;else{Mn("transaction at "+y.toString()+" failed: "+S);for(let w=0;w<s.length;w++)s[w].status=4,s[w].abortReason=S}u_(a,n)}},m)}function u_(a,n){const s=o0(a,n),r=Rl(s),c=r0(a,s);return $w(a,c,r),r}function $w(a,n,s){if(n.length===0)return;const r=[];let c=[];const m=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const y=n[g],S=sn(s,y.path);let C=!1,w;if(K(S!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)C=!0,w=y.abortReason,c=c.concat(Bo(a.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=qw)C=!0,w="maxretry",c=c.concat(Bo(a.serverSyncTree_,y.currentWriteId,!0));else{const A=a0(a,y.path,m);y.currentInputSnapshot=A;const H=n[g].update(A.val());if(H!==void 0){n0("transaction failed: Data returned ",H,y.path);let q=Ye(H);typeof H=="object"&&H!=null&&ts(H,".priority")||(q=q.updatePriority(A.getPriority()));const it=y.currentWriteId,Tt=s0(a),yt=Ow(q,A,Tt);y.currentOutputSnapshotRaw=q,y.currentOutputSnapshotResolved=yt,y.currentWriteId=Ww(a),m.splice(m.indexOf(it),1),c=c.concat(_w(a.serverSyncTree_,y.path,yt,y.currentWriteId,y.applyLocally)),c=c.concat(Bo(a.serverSyncTree_,it,!0))}else C=!0,w="nodata",c=c.concat(Bo(a.serverSyncTree_,y.currentWriteId,!0))}aa(a.eventQueue_,s,c),c=[],C&&(n[g].status=2,(function(A){setTimeout(A,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(w==="nodata"?r.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):r.push(()=>n[g].onComplete(new Error(w),!1,null))))}Yc(a,a.transactionQueueTree_);for(let g=0;g<r.length;g++)Ol(r[g]);l_(a,a.transactionQueueTree_)}function o0(a,n){let s,r=a.transactionQueueTree_;for(s=Dt(n);s!==null&&Vo(r)===void 0;)r=a_(r,s),n=ne(n),s=Dt(n);return r}function r0(a,n){const s=[];return l0(a,n,s),s.sort((r,c)=>r.order-c.order),s}function l0(a,n,s){const r=Vo(n);if(r)for(let c=0;c<r.length;c++)s.push(r[c]);Zc(n,c=>{l0(a,c,s)})}function Yc(a,n){const s=Vo(n);if(s){let r=0;for(let c=0;c<s.length;c++)s[c].status!==2&&(s[r]=s[c],r++);s.length=r,Ky(n,s.length>0?s:void 0)}Zc(n,r=>{Yc(a,r)})}function tA(a,n){const s=Rl(o0(a,n)),r=a_(a.transactionQueueTree_,n);return Lw(r,c=>{id(a,c)}),id(a,r),$y(r,c=>{id(a,c)}),s}function id(a,n){const s=Vo(n);if(s){const r=[];let c=[],d=-1;for(let m=0;m<s.length;m++)s[m].status===3||(s[m].status===1?(K(d===m-1,"All SENT items should be at beginning of queue."),d=m,s[m].status=3,s[m].abortReason="set"):(K(s[m].status===0,"Unexpected transaction status in abort"),s[m].unwatcher(),c=c.concat(Bo(a.serverSyncTree_,s[m].currentWriteId,!0)),s[m].onComplete&&r.push(s[m].onComplete.bind(null,new Error("set"),!1,null))));d===-1?Ky(n,void 0):s.length=d+1,aa(a.eventQueue_,Rl(n),c);for(let m=0;m<r.length;m++)Ol(r[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(a){let n="";const s=a.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let c=s[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function nA(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const s of a.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mn(`Invalid query segment '${s}' in query '${a}'`)}return n}const ug=function(a,n){const s=iA(a),r=s.namespace;s.domain==="firebase.com"&&$i(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&$i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||dE();const c=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new uy(s.host,s.secure,r,c,n,"",r!==s.subdomain),path:new jt(s.pathString)}},iA=function(a){let n="",s="",r="",c="",d="",m=!0,g="https",y=443;if(typeof a=="string"){let S=a.indexOf("//");S>=0&&(g=a.substring(0,S-1),a=a.substring(S+2));let C=a.indexOf("/");C===-1&&(C=a.length);let w=a.indexOf("?");w===-1&&(w=a.length),n=a.substring(0,Math.min(C,w)),C<w&&(c=eA(a.substring(C,w)));const A=nA(a.substring(Math.min(a.length,w)));S=n.indexOf(":"),S>=0?(m=g==="https"||g==="wss",y=parseInt(n.substring(S+1),10)):S=n.length;const H=n.slice(0,S);if(H.toLowerCase()==="localhost")s="localhost";else if(H.split(".").length<=2)s=H;else{const q=n.indexOf(".");r=n.substring(0,q).toLowerCase(),s=n.substring(q+1),d=r}"ns"in A&&(d=A.ns)}return{host:n,port:y,domain:s,subdomain:r,secure:m,scheme:g,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(n,s,r,c){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}}class aA{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(n,s,r,c){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=c}get key(){return Ot(this._path)?null:gy(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const n=Wv(this._queryParams),s=Hd(n);return s==="{}"?"default":s}get _queryObject(){return Wv(this._queryParams)}isEqual(n){if(n=Al(n),!(n instanceof c_))return!1;const s=this._repo===n._repo,r=Sy(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return s&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+FE(this._path)}}class es extends c_{constructor(n,s){super(n,s,new Xd,!1)}get parent(){const n=by(this._path);return n===null?null:new es(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Sl{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new jt(n),r=Dc(this.ref,n);return new Sl(this._node.getChild(s),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new Sl(c,Dc(this.ref,r),pe)))}hasChild(n){const s=new jt(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rA(a,n){return a=Al(a),a._checkNotDeleted("ref"),n!==void 0?Dc(a._root,n):a._root}function Dc(a,n){return a=Al(a),Dt(a._path)===null?Bw("child","path",n):i0("child","path",n),new es(a._repo,Ae(a._path,n))}function lA(a){a=Al(a);const n=new oA(()=>{}),s=new h_(n);return Qw(a._repo,a,s).then(r=>new Sl(r,new es(a._repo,a._path),a._queryParams.getIndex()))}class h_{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new sA("value",this,new Sl(n.snapshotNode,new es(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new aA(this,n,s):null}matches(n){return n instanceof h_?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ow(es);hw(es);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="FIREBASE_DATABASE_EMULATOR_HOST",Cd={};let cA=!1;function hA(a,n,s,r){const c=n.lastIndexOf(":"),d=n.substring(0,c),m=Bd(d);a.repoInfo_=new uy(n,m,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(a.authTokenProvider_=r)}function fA(a,n,s,r,c){let d=r||a.options.databaseURL;d===void 0&&(a.options.projectId||$i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",a.options.projectId),d=`${a.options.projectId}-default-rtdb.firebaseio.com`);let m=ug(d,c),g=m.repoInfo,y;typeof process<"u"&&Nv&&(y=Nv[uA]),y?(d=`http://${y}?ns=${g.namespace}`,m=ug(d,c),g=m.repoInfo):m.repoInfo.secure;const S=new CE(a.name,a.options,n);kw("Invalid Firebase Database URL",m),Ot(m.path)||$i("Database URL must point to the root of a Firebase Database (not including a child path).");const C=_A(g,a,S,new EE(a,s));return new mA(C,a)}function dA(a,n){const s=Cd[n];(!s||s[a.key]!==a)&&$i(`Database ${n}(${a.repoInfo_}) has already been deleted.`),Kw(a),delete s[a.key]}function _A(a,n,s,r){let c=Cd[n.name];c||(c={},Cd[n.name]=c);let d=c[a.toURLString()];return d&&$i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Gw(a,cA,s,r),c[a.toURLString()]=d,d}class mA{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,Ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&$i("Cannot call "+n+" on a deleted database.")}}function pA(a=WT(),n){const s=qT(a,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=M1("database");r&&vA(s,...r)}return s}function vA(a,n,s,r={}){a=Al(a),a._checkNotDeleted("useEmulator");const c=`${n}:${s}`,d=a._repoInternal;if(a._instanceStarted){if(c===a._repoInternal.repoInfo_.host&&vc(r,d.repoInfo_.emulatorOptions))return;$i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(d.repoInfo_.nodeAdmin)r.mockUserToken&&$i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new _c(_c.OWNER);else if(r.mockUserToken){const g=typeof r.mockUserToken=="string"?r.mockUserToken:N1(r.mockUserToken,a.app.options.projectId);m=new _c(g)}Bd(n)&&(O1(n),R1("Database",!0)),hA(d,c,r,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(a){rE(jT),yc(new fl("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return fA(r,c,d,s)},"PUBLIC").setMultipleInstances(!0)),ko(Lv,Dv,a),ko(Lv,Dv,"esm2020")}Ki.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Ki.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};gA();const yA={apiKey:"AIzaSyAxxocdjMi0CkRYSwNlfa2chCE653Cqat8",authDomain:"yatai-now-test01.firebaseapp.com",databaseURL:"https://yatai-now-test01-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"yatai-now-test01",storageBucket:"yatai-now-test01.firebasestorage.app",messagingSenderId:"585308141782",appId:"1:585308141782:web:4c1c1cbe228720dca2b177"},bA=Xg(yA),SA=pA(bA);async function TA(a){const n=await lA(Dc(rA(SA),a));return n.exists()?Object.values(n.val()):[]}const EA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",CA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",wA=Ng.icon({iconUrl:EA,shadowUrl:CA,iconSize:[25,41],iconAnchor:[12,41]});Ng.Marker.prototype.options.icon=wA;let sd=[];function cg({onBack:a,onShowOrganizerLogin:n,onShowVendorLogin:s,eventid:r}){const[c,d]=gt.useState([]);return gt.useEffect(()=>{async function m(){sd=await TA(r),d(sd)}m()},[r]),tt.jsxs("div",{className:"leafmap-screen",children:[tt.jsxs("header",{className:"leafmap-header",children:[tt.jsx("button",{className:"btn-back",onClick:a,children:"< "}),tt.jsxs("div",{className:"header-right-buttons",children:[tt.jsx("button",{className:"btn-header",onClick:n,children:""}),tt.jsx("button",{className:"btn-header",onClick:s,children:""})]})]}),tt.jsxs(_1,{center:[36.110251,140.102381],zoom:16,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[tt.jsx(v1,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),sd.map(m=>{const g=m.shopID?m.shopname:m.name,y=m.shopID?m.x_pos:m.lat,S=m.shopID?m.y_pos:m.lng;return tt.jsx(m1,{position:[y,S],children:tt.jsx(p1,{children:m.shopID?tt.jsxs("div",{children:[tt.jsx("strong",{children:g}),tt.jsx("br",{}),tt.jsx("p",{children:m.description}),tt.jsxs("p",{children:["ID: ",m.shopID]}),tt.jsxs("p",{children:["",m.teamname]}),tt.jsxs("p",{children:["",m.description]}),tt.jsxs("p",{children:["",m.place]}),tt.jsxs("p",{children:["",m.type]}),tt.jsxs("p",{children:["",m.starttime,"~",m.endtime]}),tt.jsxs("p",{children:["",m.storage]})]}):tt.jsxs("div",{children:[tt.jsx("strong",{children:g}),tt.jsx("br",{}),tt.jsx("p",{children:m.description})]})})},g)})]})]})}function AA(){const[a,n]=gt.useState("event_select"),s=()=>n("event_select"),r=()=>n("main"),c=()=>n("leafmap0"),d=()=>n("leafmap1"),m=()=>n("organizer_login"),g=()=>n("vender_login"),y=()=>n("vender_upload"),S=()=>{switch(a){case"main":return tt.jsx(QS,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g});case"organizer_login":return tt.jsx(FS,{onBack:c,onLoginSuccess:c});case"vender_login":return tt.jsx(KS,{onBack:c,onLoginSuccess:y});case"leafmap0":return tt.jsx(cg,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g,eventid:"0"});case"leafmap1":return tt.jsx(cg,{onBack:s,onShowOrganizerLogin:m,onShowVendorLogin:g,eventid:"1"});case"event_select":return tt.jsx(Db,{onNavigate:C=>{C==="map0"?c():C==="map1"?d():C==="debug"&&r()}});default:return s}};return tt.jsx(tt.Fragment,{children:S()})}Lb.createRoot(document.getElementById("root")).render(tt.jsx(gt.StrictMode,{children:tt.jsx(AA,{})}));
