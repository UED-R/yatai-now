(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function TE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var l_={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function bT(){if(Wv)return Vl;Wv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(o,c,d){var _=null;if(d!==void 0&&(_=""+d),c.key!==void 0&&(_=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:r,type:o,key:_,ref:c!==void 0?c:null,props:d}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var Kv;function ST(){return Kv||(Kv=1,l_.exports=bT()),l_.exports}var F=ST(),u_={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function TT(){if(Xv)return wt;Xv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),_=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Y={};function Q(A,V,tt){this.props=A,this.context=V,this.refs=Y,this.updater=tt||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},Q.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function st(){}st.prototype=Q.prototype;function et(A,V,tt){this.props=A,this.context=V,this.refs=Y,this.updater=tt||k}var at=et.prototype=new st;at.constructor=et,j(at,Q.prototype),at.isPureReactComponent=!0;var Dt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function It(A,V,tt,$,ot,ct){return tt=ct.ref,{$$typeof:r,type:A,key:V,ref:tt!==void 0?tt:null,props:ct}}function Gt(A,V){return It(A.type,V,void 0,void 0,void 0,A.props)}function Bt(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function ye(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(tt){return V[tt]})}var zt=/\/+/g;function Vt(A,V){return typeof A=="object"&&A!==null&&A.key!=null?ye(""+A.key):V.toString(36)}function Vn(){}function ke(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Vn,Vn):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ae(A,V,tt,$,ot){var ct=typeof A;(ct==="undefined"||ct==="boolean")&&(A=null);var nt=!1;if(A===null)nt=!0;else switch(ct){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(A.$$typeof){case r:case t:nt=!0;break;case T:return nt=A._init,Ae(nt(A._payload),V,tt,$,ot)}}if(nt)return ot=ot(A),nt=$===""?"."+Vt(A,0):$,Dt(ot)?(tt="",nt!=null&&(tt=nt.replace(zt,"$&/")+"/"),Ae(ot,V,tt,"",function(qn){return qn})):ot!=null&&(Bt(ot)&&(ot=Gt(ot,tt+(ot.key==null||A&&A.key===ot.key?"":(""+ot.key).replace(zt,"$&/")+"/")+nt)),V.push(ot)),1;nt=0;var le=$===""?".":$+":";if(Dt(A))for(var Ut=0;Ut<A.length;Ut++)$=A[Ut],ct=le+Vt($,Ut),nt+=Ae($,V,tt,ct,ot);else if(Ut=x(A),typeof Ut=="function")for(A=Ut.call(A),Ut=0;!($=A.next()).done;)$=$.value,ct=le+Vt($,Ut++),nt+=Ae($,V,tt,ct,ot);else if(ct==="object"){if(typeof A.then=="function")return Ae(ke(A),V,tt,$,ot);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return nt}function Z(A,V,tt){if(A==null)return A;var $=[],ot=0;return Ae(A,$,"","",function(ct){return V.call(tt,ct,ot++)}),$}function it(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(tt){(A._status===0||A._status===-1)&&(A._status=1,A._result=tt)},function(tt){(A._status===0||A._status===-1)&&(A._status=2,A._result=tt)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var X=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function qt(){}return wt.Children={map:Z,forEach:function(A,V,tt){Z(A,function(){V.apply(this,arguments)},tt)},count:function(A){var V=0;return Z(A,function(){V++}),V},toArray:function(A){return Z(A,function(V){return V})||[]},only:function(A){if(!Bt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},wt.Component=Q,wt.Fragment=i,wt.Profiler=c,wt.PureComponent=et,wt.StrictMode=o,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,wt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return _t.H.useMemoCache(A)}},wt.cache=function(A){return function(){return A.apply(null,arguments)}},wt.cloneElement=function(A,V,tt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var $=j({},A.props),ot=A.key,ct=void 0;if(V!=null)for(nt in V.ref!==void 0&&(ct=void 0),V.key!==void 0&&(ot=""+V.key),V)!pt.call(V,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&V.ref===void 0||($[nt]=V[nt]);var nt=arguments.length-2;if(nt===1)$.children=tt;else if(1<nt){for(var le=Array(nt),Ut=0;Ut<nt;Ut++)le[Ut]=arguments[Ut+2];$.children=le}return It(A.type,ot,void 0,void 0,ct,$)},wt.createContext=function(A){return A={$$typeof:_,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},wt.createElement=function(A,V,tt){var $,ot={},ct=null;if(V!=null)for($ in V.key!==void 0&&(ct=""+V.key),V)pt.call(V,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=V[$]);var nt=arguments.length-2;if(nt===1)ot.children=tt;else if(1<nt){for(var le=Array(nt),Ut=0;Ut<nt;Ut++)le[Ut]=arguments[Ut+2];ot.children=le}if(A&&A.defaultProps)for($ in nt=A.defaultProps,nt)ot[$]===void 0&&(ot[$]=nt[$]);return It(A,ct,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(A){return{$$typeof:g,render:A}},wt.isValidElement=Bt,wt.lazy=function(A){return{$$typeof:T,_payload:{_status:-1,_result:A},_init:it}},wt.memo=function(A,V){return{$$typeof:E,type:A,compare:V===void 0?null:V}},wt.startTransition=function(A){var V=_t.T,tt={};_t.T=tt;try{var $=A(),ot=_t.S;ot!==null&&ot(tt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(qt,X)}catch(ct){X(ct)}finally{_t.T=V}},wt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},wt.use=function(A){return _t.H.use(A)},wt.useActionState=function(A,V,tt){return _t.H.useActionState(A,V,tt)},wt.useCallback=function(A,V){return _t.H.useCallback(A,V)},wt.useContext=function(A){return _t.H.useContext(A)},wt.useDebugValue=function(){},wt.useDeferredValue=function(A,V){return _t.H.useDeferredValue(A,V)},wt.useEffect=function(A,V,tt){var $=_t.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(A,V)},wt.useId=function(){return _t.H.useId()},wt.useImperativeHandle=function(A,V,tt){return _t.H.useImperativeHandle(A,V,tt)},wt.useInsertionEffect=function(A,V){return _t.H.useInsertionEffect(A,V)},wt.useLayoutEffect=function(A,V){return _t.H.useLayoutEffect(A,V)},wt.useMemo=function(A,V){return _t.H.useMemo(A,V)},wt.useOptimistic=function(A,V){return _t.H.useOptimistic(A,V)},wt.useReducer=function(A,V,tt){return _t.H.useReducer(A,V,tt)},wt.useRef=function(A){return _t.H.useRef(A)},wt.useState=function(A){return _t.H.useState(A)},wt.useSyncExternalStore=function(A,V,tt){return _t.H.useSyncExternalStore(A,V,tt)},wt.useTransition=function(){return _t.H.useTransition()},wt.version="19.1.1",wt}var Qv;function ip(){return Qv||(Qv=1,u_.exports=TT()),u_.exports}var z=ip();const L_=TE(z);var c_={exports:{}},ql={},h_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function wT(){return $v||($v=1,(function(r){function t(Z,it){var X=Z.length;Z.push(it);t:for(;0<X;){var qt=X-1>>>1,A=Z[qt];if(0<c(A,it))Z[qt]=it,Z[X]=A,X=qt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var it=Z[0],X=Z.pop();if(X!==it){Z[0]=X;t:for(var qt=0,A=Z.length,V=A>>>1;qt<V;){var tt=2*(qt+1)-1,$=Z[tt],ot=tt+1,ct=Z[ot];if(0>c($,X))ot<A&&0>c(ct,$)?(Z[qt]=ct,Z[ot]=X,qt=ot):(Z[qt]=$,Z[tt]=X,qt=tt);else if(ot<A&&0>c(ct,X))Z[qt]=ct,Z[ot]=X,qt=ot;else break t}}return it}function c(Z,it){var X=Z.sortIndex-it.sortIndex;return X!==0?X:Z.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var _=Date,g=_.now();r.unstable_now=function(){return _.now()-g}}var v=[],E=[],T=1,C=null,x=3,k=!1,j=!1,Y=!1,Q=!1,st=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function Dt(Z){for(var it=i(E);it!==null;){if(it.callback===null)o(E);else if(it.startTime<=Z)o(E),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(E)}}function _t(Z){if(Y=!1,Dt(Z),!j)if(i(v)!==null)j=!0,pt||(pt=!0,Vt());else{var it=i(E);it!==null&&Ae(_t,it.startTime-Z)}}var pt=!1,It=-1,Gt=5,Bt=-1;function ye(){return Q?!0:!(r.unstable_now()-Bt<Gt)}function zt(){if(Q=!1,pt){var Z=r.unstable_now();Bt=Z;var it=!0;try{t:{j=!1,Y&&(Y=!1,et(It),It=-1),k=!0;var X=x;try{e:{for(Dt(Z),C=i(v);C!==null&&!(C.expirationTime>Z&&ye());){var qt=C.callback;if(typeof qt=="function"){C.callback=null,x=C.priorityLevel;var A=qt(C.expirationTime<=Z);if(Z=r.unstable_now(),typeof A=="function"){C.callback=A,Dt(Z),it=!0;break e}C===i(v)&&o(v),Dt(Z)}else o(v);C=i(v)}if(C!==null)it=!0;else{var V=i(E);V!==null&&Ae(_t,V.startTime-Z),it=!1}}break t}finally{C=null,x=X,k=!1}it=void 0}}finally{it?Vt():pt=!1}}}var Vt;if(typeof at=="function")Vt=function(){at(zt)};else if(typeof MessageChannel<"u"){var Vn=new MessageChannel,ke=Vn.port2;Vn.port1.onmessage=zt,Vt=function(){ke.postMessage(null)}}else Vt=function(){st(zt,0)};function Ae(Z,it){It=st(function(){Z(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gt=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var X=x;x=it;try{return Z()}finally{x=X}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(Z,it){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var X=x;x=Z;try{return it()}finally{x=X}},r.unstable_scheduleCallback=function(Z,it,X){var qt=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?qt+X:qt):X=qt,Z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=X+A,Z={id:T++,callback:it,priorityLevel:Z,startTime:X,expirationTime:A,sortIndex:-1},X>qt?(Z.sortIndex=X,t(E,Z),i(v)===null&&Z===i(E)&&(Y?(et(It),It=-1):Y=!0,Ae(_t,X-qt))):(Z.sortIndex=A,t(v,Z),j||k||(j=!0,pt||(pt=!0,Vt()))),Z},r.unstable_shouldYield=ye,r.unstable_wrapCallback=function(Z){var it=x;return function(){var X=x;x=it;try{return Z.apply(this,arguments)}finally{x=X}}}})(f_)),f_}var Jv;function CT(){return Jv||(Jv=1,h_.exports=wT()),h_.exports}var d_={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function xT(){if(ty)return Xe;ty=1;var r=ip();function t(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,E,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:v,containerInfo:E,implementation:T}}var _=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Xe.createPortal=function(v,E){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return d(v,E,null,T)},Xe.flushSync=function(v){var E=_.T,T=o.p;try{if(_.T=null,o.p=2,v)return v()}finally{_.T=E,o.p=T,o.d.f()}},Xe.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,o.d.C(v,E))},Xe.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Xe.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var T=E.as,C=g(T,E.crossOrigin),x=typeof E.integrity=="string"?E.integrity:void 0,k=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;T==="style"?o.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:k}):T==="script"&&o.d.X(v,{crossOrigin:C,integrity:x,fetchPriority:k,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Xe.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var T=g(E.as,E.crossOrigin);o.d.M(v,{crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&o.d.M(v)},Xe.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var T=E.as,C=g(T,E.crossOrigin);o.d.L(v,T,{crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Xe.preloadModule=function(v,E){if(typeof v=="string")if(E){var T=g(E.as,E.crossOrigin);o.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else o.d.m(v)},Xe.requestFormReset=function(v){o.d.r(v)},Xe.unstable_batchedUpdates=function(v,E){return v(E)},Xe.useFormState=function(v,E,T){return _.H.useFormState(v,E,T)},Xe.useFormStatus=function(){return _.H.useHostTransitionStatus()},Xe.version="19.1.1",Xe}var ey;function wE(){if(ey)return d_.exports;ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),d_.exports=xT(),d_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function AT(){if(ny)return ql;ny=1;var r=CT(),t=ip(),i=wE();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function _(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(o(188))}function v(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,u=n;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),e;if(p===u)return g(f),n;p=p.sibling}throw Error(o(188))}if(a.return!==u.return)a=f,u=p;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,u=p;break}if(w===u){b=!0,u=f,a=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===a){b=!0,a=p,u=f;break}if(w===u){b=!0,u=p,a=f;break}w=w.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),at=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Bt=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),zt=Symbol.iterator;function Vt(e){return e===null||typeof e!="object"?null:(e=zt&&e[zt]||e["@@iterator"],typeof e=="function"?e:null)}var Vn=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Vn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case Q:return"Profiler";case Y:return"StrictMode";case _t:return"Suspense";case pt:return"SuspenseList";case Bt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case at:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case It:return n=e.displayName||null,n!==null?n:ke(e.type)||"Memo";case Gt:n=e._payload,e=e._init;try{return ke(e(n))}catch{}}return null}var Ae=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},qt=[],A=-1;function V(e){return{current:e}}function tt(e){0>A||(e.current=qt[A],qt[A]=null,A--)}function $(e,n){A++,qt[A]=e.current,e.current=n}var ot=V(null),ct=V(null),nt=V(null),le=V(null);function Ut(e,n){switch($(nt,n),$(ct,e),$(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sv(n),e=Tv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ot),$(ot,e)}function qn(){tt(ot),tt(ct),tt(nt)}function Or(e){e.memoizedState!==null&&$(le,e);var n=ot.current,a=Tv(n,e.type);n!==a&&($(ct,e),$(ot,a))}function ms(e){ct.current===e&&(tt(ot),tt(ct)),le.current===e&&(tt(le),Ul._currentValue=X)}var xi=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,Bo=r.unstable_cancelCallback,ku=r.unstable_shouldYield,zu=r.unstable_requestPaint,ln=r.unstable_now,va=r.unstable_getCurrentPriorityLevel,Uu=r.unstable_ImmediatePriority,Ho=r.unstable_UserBlockingPriority,gs=r.unstable_NormalPriority,Bu=r.unstable_LowPriority,Zo=r.unstable_IdlePriority,df=r.log,_f=r.unstable_setDisableYieldValue,Ai=null,Ge=null;function Gn(e){if(typeof df=="function"&&_f(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ai,e)}catch{}}var Qe=Math.clz32?Math.clz32:pf,Hu=Math.log,Zu=Math.LN2;function pf(e){return e>>>=0,e===0?32:31-(Hu(e)/Zu|0)|0}var Mr=256,vs=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,n,a){var u=e.pendingLanes;if(u===0)return 0;var f=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=oi(u):(b&=w,b!==0?f=oi(b):a||(a=w&~e,a!==0&&(f=oi(a))))):(w=u&~p,w!==0?f=oi(w):b!==0?f=oi(b):a||(a=u&~e,a!==0&&(f=oi(a)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:f}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function mf(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),e}function jo(){var e=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),e}function Ea(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ys(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gf(e,n,a,u,f,p){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,P=e.hiddenUpdates;for(a=b&~a;0<a;){var q=31-Qe(a),W=1<<q;w[q]=0,O[q]=-1;var U=P[q];if(U!==null)for(P[q]=null,q=0;q<U.length;q++){var B=U[q];B!==null&&(B.lane&=-536870913)}a&=~W}u!==0&&Vu(e,u,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~n))}function Vu(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-Qe(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194090}function qu(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var u=31-Qe(a),f=1<<u;f&n|e[u]&n&&(e[u]|=n),a&=~f}}function Vo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:jv(e.type))}function Go(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var li=Math.random().toString(36).slice(2),Re="__reactFiber$"+li,Fe="__reactProps$"+li,Es="__reactContainer$"+li,un="__reactEvents$"+li,ft="__reactListeners$"+li,Fu="__reactHandles$"+li,Fo="__reactResources$"+li,bs="__reactMarker$"+li;function ba(e){delete e[Re],delete e[Fe],delete e[un],delete e[ft],delete e[Fu]}function ui(e){var n=e[Re];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Es]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Av(e);e!==null;){if(a=e[Re])return a;e=Av(e)}return n}e=a,a=e.parentNode}return null}function Ri(e){if(e=e[Re]||e[Es]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Oi(e){var n=e[Fo];return n||(n=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[bs]=!0}var Yu=new Set,Wu={};function Li(e,n){Mi(e,n),Mi(e+"Capture",n)}function Mi(e,n){for(Wu[e]=n,e=0;e<n.length;e++)Yu.add(n[e])}var vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},Ku={};function yf(e){return xi.call(Ku,e)?!0:xi.call(Nr,e)?!1:vf.test(e)?Ku[e]=!0:(Nr[e]=!0,!1)}function Sa(e,n,a){if(yf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ta(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Yn(e,n,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+u)}}var Ir,Ss;function Ni(e){if(Ir===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",Ss=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+e+Ss}var wa=!1;function Ii(e,n){if(!e||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(B){var U=B}Reflect.construct(e,[],W)}else{try{W.call()}catch(B){U=B}e.call(W.prototype)}}else{try{throw Error()}catch(B){U=B}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var O=b.split(`
`),P=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===P.length)for(u=O.length-1,f=P.length-1;1<=u&&0<=f&&O[u]!==P[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==P[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==P[f]){var q=`
`+O[u].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=u&&0<=f);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ni(a):""}function Pt(e){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Ii(e.type,!1);case 11:return Ii(e.type.render,!1);case 1:return Ii(e.type,!0);case 31:return Ni("Activity");default:return""}}function te(e){try{var n="";do n+=Pt(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Di(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ts(e){var n=Di(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ws(e){e._valueTracker||(e._valueTracker=Ts(e))}function Tt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return e&&(u=Di(e)?e.checked?"true":"false":e.value),e=u,e!==a?(n.setValue(e),!0):!1}function ee(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yo=/[\n"\\]/g;function Ue(e){return e.replace(Yo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ye(e,n,a,u,f,p,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Cs(e,b,ze(n)):a!=null?Cs(e,b,ze(a)):u!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+ze(w):e.removeAttribute("name")}function Xu(e,n,a,u,f,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,w||n===e.value||(e.value=n),e.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=w?e.checked:!!u,e.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Cs(e,n,a){n==="number"&&ee(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cn(e,n,a,u){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ue(e,n,a){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ze(a):""}function ci(e,n,a,u){if(n==null){if(u!=null){if(a!=null)throw Error(o(92));if(Ae(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),n=a}a=ze(n),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function Mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ca(e,n,a){var u=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,a):typeof a!="number"||a===0||Dr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xs(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&a[f]!==u&&Ca(e,f,u)}else for(var p in n)n.hasOwnProperty(p)&&Ca(e,p,n[p])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(e){return xa.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kr=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,hi=null;function Qu(e){var n=Ri(e);if(n&&(e=n.stateNode)){var a=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ye(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==e&&u.form===e.form){var f=u[Fe]||null;if(!f)throw Error(o(90));Ye(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)u=a[n],u.form===e.form&&Tt(u)}break t;case"textarea":ue(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&cn(e,!!a.multiple,n,!1)}}}var St=!1;function vn(e,n,a){if(St)return e(n,a);St=!0;try{var u=e(n);return u}finally{if(St=!1,(Pi!==null||hi!==null)&&(Gc(),Pi&&(n=Pi,e=hi,hi=Pi=null,Qu(n),e)))for(n=0;n<e.length;n++)Qu(e[n])}}function Ht(e,n){var a=e.stateNode;if(a===null)return null;var u=a[Fe]||null;if(u===null)return null;a=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Nn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{zr=!1}var In=null,Wn=null,Os=null;function Ls(){if(Os)return Os;var e,n=Wn,a=n.length,u,f="value"in In?In.value:In.textContent,p=f.length;for(e=0;e<a&&n[e]===f[e];e++);var b=a-e;for(u=1;u<=b&&n[a-u]===f[p-u];u++);return Os=f.slice(e,1<u?1-u:void 0)}function de(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function Ko(){return!1}function Be(e){function n(a,u,f,p,b){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Dn:Ko,this.isPropagationStopped=Ko,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Be(zi),Ui=T({},zi,{view:0,detail:0}),Ef=Be(Ui),Aa,xt,Br,We=T({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(Aa=e.screenX-Br.screenX,xt=e.screenY-Br.screenY):xt=Aa=0,Br=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:xt}}),Ms=Be(We),$u=T({},We,{dataTransfer:0}),bf=Be($u),Xo=T({},Ui,{relatedTarget:0}),Qo=Be(Xo),Ju=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=Be(Ju),Tf=T({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$o=Be(Tf),wf=T({},zi,{data:0}),yn=Be(wf),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fi[e])?!!n[e]:!1}function Ra(){return ec}var Jo=T({},Ui,{key:function(e){if(e.key){var n=Cf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=de(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(e){return e.type==="keypress"?de(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?de(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xf=Be(Jo),nc=T({},We,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Be(nc),Af=T({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),Rf=Be(Af),el=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Of=Be(el),ic=T({},We,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=Be(ic),Oa=T({},zi,{newState:0,oldState:0}),Bi=Be(Oa),Lf=[9,13,27,32],Hi=Nn&&"CompositionEvent"in window,Oe=null;Nn&&"documentMode"in document&&(Oe=document.documentMode);var rc=Nn&&"TextEvent"in window&&!Oe,nl=Nn&&(!Hi||Oe&&8<Oe&&11>=Oe),ac=" ",La=!1;function Ma(e,n){switch(e){case"keyup":return Lf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function lc(e,n){switch(e){case"compositionend":return oc(n);case"keypress":return n.which!==32?null:(La=!0,ac);case"textInput":return e=n.data,e===ac&&La?null:e;default:return null}}function Mf(e,n){if(Ns)return e==="compositionend"||!Hi&&Ma(e,n)?(e=Ls(),Os=Wn=In=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nl&&n.locale!=="ko"?null:n.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!En[e.type]:n==="textarea"}function uc(e,n,a,u){Pi?hi?hi.push(u):hi=[u]:Pi=u,n=Qc(n,"onChange"),0<n.length&&(a=new Ur("onChange","change",null,a,u),e.push({event:a,listeners:n}))}var $e=null,Hr=null;function Is(e){gv(e,0)}function Na(e){var n=Ln(e);if(Tt(n))return e}function Ds(e,n){if(e==="change")return n}var il=!1;if(Nn){var Ps;if(Nn){var sl="oninput"in document;if(!sl){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),sl=typeof Kn.oninput=="function"}Ps=sl}else Ps=!1;il=Ps&&(!document.documentMode||9<document.documentMode)}function Zr(){$e&&($e.detachEvent("onpropertychange",cc),Hr=$e=null)}function cc(e){if(e.propertyName==="value"&&Na(Hr)){var n=[];uc(n,Hr,e,Rs(e)),vn(Is,n)}}function rl(e,n,a){e==="focusin"?(Zr(),$e=n,Hr=a,$e.attachEvent("onpropertychange",cc)):e==="focusout"&&Zr()}function Nf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Hr)}function Xn(e,n){if(e==="click")return Na(n)}function If(e,n){if(e==="input"||e==="change")return Na(n)}function ks(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Je=typeof Object.is=="function"?Object.is:ks;function tn(e,n){if(Je(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!xi.call(n,f)||!Je(e[f],n[f]))return!1}return!0}function jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function al(e,n){var a=jr(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=n&&u>=n)return{node:a,offset:n-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jr(a)}}function Ia(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ia(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ee(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ee(e.document)}return n}function qr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Da=Nn&&"documentMode"in document&&11>=document.documentMode,bn=null,zs=null,ji=null,Pa=!1;function hc(e,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pa||bn==null||bn!==ee(u)||(u=bn,"selectionStart"in u&&qr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ji&&tn(ji,u)||(ji=u,u=Qc(zs,"onSelect"),0<u.length&&(n=new Ur("onSelect","select",null,n,a),e.push({event:n,listeners:u}),n.target=bn)))}function Pn(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Us={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},ka={},fc={};Nn&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function di(e){if(ka[e])return ka[e];if(!Us[e])return e;var n=Us[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in fc)return ka[e]=n[a];return e}var dc=di("animationend"),Sn=di("animationiteration"),Gr=di("animationstart"),Df=di("transitionrun"),za=di("transitionstart"),Pf=di("transitioncancel"),ol=di("transitionend"),_c=new Map,Vi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vi.push("scrollEnd");function Tn(e,n){_c.set(e,n),Li(n,[e])}var qi=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var a=qi.get(e);return a!==void 0?a:(n={value:e,source:n,stack:te(n)},qi.set(e,n),n)}return{value:e,source:n,stack:te(n)}}var nn=[],Bs=0,wn=0;function Fr(){for(var e=Bs,n=wn=Bs=0;n<e;){var a=nn[n];nn[n++]=null;var u=nn[n];nn[n++]=null;var f=nn[n];nn[n++]=null;var p=nn[n];if(nn[n++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&Wr(a,f,p)}}function Yr(e,n,a,u){nn[Bs++]=e,nn[Bs++]=n,nn[Bs++]=a,nn[Bs++]=u,wn|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Gi(e,n,a,u){return Yr(e,n,a,u),_i(e)}function Hs(e,n){return Yr(e,null,null,n),_i(e)}function Wr(e,n,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-Qe(a),e=p.hiddenUpdates,u=e[f],u===null?e[f]=[n]:u.push(n),n.lane=a|536870912),p):null}function _i(e){if(50<Ll)throw Ll=0,Nd=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fi={};function pc(e,n,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,n,a,u){return new pc(e,n,a,u)}function Ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,n){var a=e.alternate;return a===null?(a=sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ll(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Kr(e,n,a,u,f,p){var b=0;if(u=e,typeof e=="function")Ua(e)&&(b=1);else if(typeof e=="string")b=lT(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Bt:return e=sn(31,a,n,f),e.elementType=Bt,e.lanes=p,e;case j:return pi(a.children,f,p,n);case Y:b=8,f|=24;break;case Q:return e=sn(12,a,n,f|2),e.elementType=Q,e.lanes=p,e;case _t:return e=sn(13,a,n,f),e.elementType=_t,e.lanes=p,e;case pt:return e=sn(19,a,n,f),e.elementType=pt,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:case at:b=10;break t;case et:b=9;break t;case Dt:b=11;break t;case It:b=14;break t;case Gt:b=16,u=null;break t}b=29,a=Error(o(130,e===null?"null":typeof e,"")),u=null}return n=sn(b,a,n,f),n.elementType=e,n.type=u,n.lanes=p,n}function pi(e,n,a,u){return e=sn(7,e,u,n),e.lanes=a,e}function ul(e,n,a){return e=sn(6,e,null,n),e.lanes=a,e}function Ba(e,n,a){return n=sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yi=[],Zs=0,s=null,l=0,h=[],m=0,y=null,S=1,R="";function I(e,n){Yi[Zs++]=l,Yi[Zs++]=s,s=e,l=n}function H(e,n,a){h[m++]=S,h[m++]=R,h[m++]=y,y=e;var u=S;e=R;var f=32-Qe(u)-1;u&=~(1<<f),a+=1;var p=32-Qe(n)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,S=1<<32-Qe(n)+f|a<<f|u,R=p+e}else S=1<<p|a<<f|u,R=e}function K(e){e.return!==null&&(I(e,1),H(e,1,0))}function rt(e){for(;e===s;)s=Yi[--Zs],Yi[Zs]=null,l=Yi[--Zs],Yi[Zs]=null;for(;e===y;)y=h[--m],h[m]=null,R=h[--m],h[m]=null,S=h[--m],h[m]=null}var lt=null,ht=null,bt=!1,ne=null,ce=!1,Le=Error(o(519));function hn(e){var n=Error(o(418,""));throw Vs(en(n,e)),Le}function mc(e){var n=e.stateNode,a=e.type,u=e.memoizedProps;switch(n[Re]=e,n[Fe]=u,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Lt(Nl[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Xu(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ws(n);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),ci(n,u.value,u.defaultValue,u.children),ws(n)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||u.suppressHydrationWarning===!0||bv(n.textContent,a)?(u.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),u.onScroll!=null&&Lt("scroll",n),u.onScrollEnd!=null&&Lt("scrollend",n),u.onClick!=null&&(n.onclick=$c),n=!0):n=!1,n||hn(e)}function gc(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:ce=!1;return;case 27:case 3:ce=!0;return;default:lt=lt.return}}function Xr(e){if(e!==lt)return!1;if(!bt)return gc(e),bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wd(e.type,e.memoizedProps)),a=!a),a&&ht&&hn(e),gc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ht=ti(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ht=null}}else n===27?(n=ht,sr(e.type)?(e=$d,$d=null,ht=e):ht=n):ht=lt?ti(e.stateNode.nextSibling):null;return!0}function js(){ht=lt=null,bt=!1}function vc(){var e=ne;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),ne=null),e}function Vs(e){ne===null?ne=[e]:ne.push(e)}var ae=V(null),zn=null,Qn=null;function mi(e,n,a){$(ae,n._currentValue),n._currentValue=a}function $n(e){e._currentValue=ae.current,tt(ae)}function Qr(e,n,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===a)break;e=e.return}}function Ha(e,n,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=f;for(var O=0;O<n.length;O++)if(w.context===n[O]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),Qr(p.return,a,e),u||(b=null);break t}p=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(o(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),Qr(b,a,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function $r(e,n,a,u){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var w=f.type;Je(f.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(f===le.current){if(b=f.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}f=f.return}e!==null&&Ha(n,e,a,u),n.flags|=262144}function yc(e){for(e=e.firstContext;e!==null;){if(!Je(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Jr(e){zn=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return om(zn,e)}function Ec(e,n){return zn===null&&Jr(e),om(e,n)}function om(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qn===null){if(e===null)throw Error(o(308));Qn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qn=Qn.next=n;return a}var oS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},lS=r.unstable_scheduleCallback,uS=r.unstable_NormalPriority,Te={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new oS,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&lS(uS,function(){e.controller.abort()})}var hl=null,zf=0,Za=0,ja=null;function cS(e,n){if(hl===null){var a=hl=[];zf=0,Za=Bd(),ja={status:"pending",value:void 0,then:function(u){a.push(u)}}}return zf++,n.then(lm,lm),n}function lm(){if(--zf===0&&hl!==null){ja!==null&&(ja.status="fulfilled");var e=hl;hl=null,Za=0,ja=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hS(e,n){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var um=Z.S;Z.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cS(e,n),um!==null&&um(e,n)};var ta=V(null);function Uf(){var e=ta.current;return e!==null?e:ie.pooledCache}function bc(e,n){n===null?$(ta,ta.current):$(ta,n.pool)}function cm(){var e=Uf();return e===null?null:{parent:Te._currentValue,pool:e}}var fl=Error(o(460)),hm=Error(o(474)),Sc=Error(o(542)),Bf={then:function(){}};function fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tc(){}function dm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Tc,Tc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e;default:if(typeof n.status=="string")n.then(Tc,Tc);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e}throw dl=n,fl}}var dl=null;function _m(){if(dl===null)throw Error(o(459));var e=dl;return dl=null,e}function pm(e){if(e===fl||e===Sc)throw Error(o(483))}var qs=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(e,n,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Ft&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=_i(e),Wr(e,null,a),n}return Yr(e,u,n,a),_i(e)}function _l(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,qu(e,a)}}function jf(e,n){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?f=p=n:p=p.next=n}else f=p=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Vf=!1;function pl(){if(Vf){var e=ja;if(e!==null)throw e}}function ml(e,n,a,u){Vf=!1;var f=e.updateQueue;qs=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,P=O.next;O.next=null,b===null?p=P:b.next=P,b=O;var q=e.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==b&&(w===null?q.firstBaseUpdate=P:w.next=P,q.lastBaseUpdate=O))}if(p!==null){var W=f.baseState;b=0,q=P=O=null,w=p;do{var U=w.lane&-536870913,B=U!==w.lane;if(B?(kt&U)===U:(u&U)===U){U!==0&&U===Za&&(Vf=!0),q!==null&&(q=q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Et=e,mt=w;U=n;var Xt=a;switch(mt.tag){case 1:if(Et=mt.payload,typeof Et=="function"){W=Et.call(Xt,W,U);break t}W=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=mt.payload,U=typeof Et=="function"?Et.call(Xt,W,U):Et,U==null)break t;W=T({},W,U);break t;case 2:qs=!0}}U=w.callback,U!==null&&(e.flags|=64,B&&(e.flags|=8192),B=f.callbacks,B===null?f.callbacks=[U]:B.push(U))}else B={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(P=q=B,O=W):q=q.next=B,b|=U;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;B=w,w=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);q===null&&(O=W),f.baseState=O,f.firstBaseUpdate=P,f.lastBaseUpdate=q,p===null&&(f.shared.lanes=0),tr|=b,e.lanes=b,e.memoizedState=W}}function mm(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function gm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mm(a[e],n)}var Va=V(null),wc=V(0);function vm(e,n){e=ts,$(wc,e),$(Va,n),ts=e|n.baseLanes}function qf(){$(wc,ts),$(Va,Va.current)}function Gf(){ts=wc.current,tt(Va),tt(wc)}var Ys=0,Ct=null,Wt=null,be=null,Cc=!1,qa=!1,ea=!1,xc=0,gl=0,Ga=null,fS=0;function ge(){throw Error(o(321))}function Ff(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Je(e[a],n[a]))return!1;return!0}function Yf(e,n,a,u,f,p){return Ys=p,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?eg:ng,ea=!1,p=a(u,f),ea=!1,qa&&(p=Em(n,a,u,f)),ym(e),p}function ym(e){Z.H=Nc;var n=Wt!==null&&Wt.next!==null;if(Ys=0,be=Wt=Ct=null,Cc=!1,gl=0,Ga=null,n)throw Error(o(300));e===null||Me||(e=e.dependencies,e!==null&&yc(e)&&(Me=!0))}function Em(e,n,a,u){Ct=e;var f=0;do{if(qa&&(Ga=null),gl=0,qa=!1,25<=f)throw Error(o(301));if(f+=1,be=Wt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=yS,p=n(a,u)}while(qa);return p}function dS(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?vl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Wf(){var e=xc!==0;return xc=0,e}function Kf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Xf(e){if(Cc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cc=!1}Ys=0,be=Wt=Ct=null,qa=!1,gl=xc=0,Ga=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=e:be=be.next=e,be}function Se(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=be===null?Ct.memoizedState:be.next;if(n!==null)be=n,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(o(467)):Error(o(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},be===null?Ct.memoizedState=be=e:be=be.next=e}return be}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var n=gl;return gl+=1,Ga===null&&(Ga=[]),e=dm(Ga,e,n),n=Ct,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?eg:ng),e}function Ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===at)return Ke(e)}throw Error(o(438,String(e)))}function $f(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qf(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),u=0;u<e;u++)a[u]=ye;return n.index++,a}function Wi(e,n){return typeof n=="function"?n(e):n}function Rc(e){var n=Se();return Jf(n,Wt,e)}function Jf(e,n,a){var u=e.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var f=e.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}n.baseQueue=f=p,u.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var w=b=null,O=null,P=n,q=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(kt&W)===W:(Ys&W)===W){var U=P.revertLane;if(U===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===Za&&(q=!0);else if((Ys&U)===U){P=P.next,U===Za&&(q=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(w=O=W,b=p):O=O.next=W,Ct.lanes|=U,tr|=U;W=P.action,ea&&a(p,W),p=P.hasEagerState?P.eagerState:a(p,W)}else U={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(w=O=U,b=p):O=O.next=U,Ct.lanes|=W,tr|=W;P=P.next}while(P!==null&&P!==n);if(O===null?b=p:O.next=w,!Je(p,e.memoizedState)&&(Me=!0,q&&(a=ja,a!==null)))throw a;e.memoizedState=p,e.baseState=b,e.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function td(e){var n=Se(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,p=n.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do p=e(p,b.action),b=b.next;while(b!==f);Je(p,n.memoizedState)||(Me=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,u]}function bm(e,n,a){var u=Ct,f=Se(),p=bt;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=n();var b=!Je((Wt||f).memoizedState,a);b&&(f.memoizedState=a,Me=!0),f=f.queue;var w=wm.bind(null,u,f,e);if(yl(2048,8,w,[e]),f.getSnapshot!==n||b||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,Fa(9,Oc(),Tm.bind(null,u,f,a,n),null),ie===null)throw Error(o(349));p||(Ys&124)!==0||Sm(u,n,a)}return a}function Sm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Qf(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tm(e,n,a,u){n.value=a,n.getSnapshot=u,Cm(n)&&xm(e)}function wm(e,n,a){return a(function(){Cm(n)&&xm(e)})}function Cm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Je(e,a)}catch{return!0}}function xm(e){var n=Hs(e,2);n!==null&&On(n,e,2)}function ed(e){var n=fn();if(typeof e=="function"){var a=e;if(e=a(),ea){Gn(!0);try{a()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function Am(e,n,a,u){return e.baseState=a,Jf(e,Wt,typeof u=="function"?u:Wi)}function _S(e,n,a,u,f){if(Mc(e))throw Error(o(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Z.T!==null?a(!0):p.isTransition=!1,u(p),a=n.pending,a===null?(p.next=n.pending=p,Rm(n,p)):(p.next=a.next,n.pending=a.next=p)}}function Rm(e,n){var a=n.action,u=n.payload,f=e.state;if(n.isTransition){var p=Z.T,b={};Z.T=b;try{var w=a(f,u),O=Z.S;O!==null&&O(b,w),Om(e,n,w)}catch(P){nd(e,n,P)}finally{Z.T=p}}else try{p=a(f,u),Om(e,n,p)}catch(P){nd(e,n,P)}}function Om(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Lm(e,n,u)},function(u){return nd(e,n,u)}):Lm(e,n,a)}function Lm(e,n,a){n.status="fulfilled",n.value=a,Mm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rm(e,a)))}function nd(e,n,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=a,Mm(n),n=n.next;while(n!==u)}e.action=null}function Mm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Nm(e,n){return n}function Im(e,n){if(bt){var a=ie.formState;if(a!==null){t:{var u=Ct;if(bt){if(ht){e:{for(var f=ht,p=ce;f.nodeType!==8;){if(!p){f=null;break e}if(f=ti(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ht=ti(f.nextSibling),u=f.data==="F!";break t}}hn(u)}u=!1}u&&(n=a[0])}}return a=fn(),a.memoizedState=a.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:n},a.queue=u,a=$m.bind(null,Ct,u),u.dispatch=a,u=ed(!1),p=od.bind(null,Ct,!1,u.queue),u=fn(),f={state:n,dispatch:null,action:e,pending:null},u.queue=f,a=_S.bind(null,Ct,f,p,a),f.dispatch=a,u.memoizedState=e,[n,a,!1]}function Dm(e){var n=Se();return Pm(n,Wt,e)}function Pm(e,n,a){if(n=Jf(e,n,Nm)[0],e=Rc(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=vl(n)}catch(b){throw b===fl?Sc:b}else u=n;n=Se();var f=n.queue,p=f.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,Fa(9,Oc(),pS.bind(null,f,a),null)),[u,p,e]}function pS(e,n){e.action=n}function km(e){var n=Se(),a=Wt;if(a!==null)return Pm(n,a,e);Se(),n=n.memoizedState,a=Se();var u=a.queue.dispatch;return a.memoizedState=e,[n,u,!1]}function Fa(e,n,a,u){return e={tag:e,create:a,deps:u,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Qf(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,n.lastEffect=e),e}function Oc(){return{destroy:void 0,resource:void 0}}function zm(){return Se().memoizedState}function Lc(e,n,a,u){var f=fn();u=u===void 0?null:u,Ct.flags|=e,f.memoizedState=Fa(1|n,Oc(),a,u)}function yl(e,n,a,u){var f=Se();u=u===void 0?null:u;var p=f.memoizedState.inst;Wt!==null&&u!==null&&Ff(u,Wt.memoizedState.deps)?f.memoizedState=Fa(n,p,a,u):(Ct.flags|=e,f.memoizedState=Fa(1|n,p,a,u))}function Um(e,n){Lc(8390656,8,e,n)}function Bm(e,n){yl(2048,8,e,n)}function Hm(e,n){return yl(4,2,e,n)}function Zm(e,n){return yl(4,4,e,n)}function jm(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vm(e,n,a){a=a!=null?a.concat([e]):null,yl(4,4,jm.bind(null,n,e),a)}function id(){}function qm(e,n){var a=Se();n=n===void 0?null:n;var u=a.memoizedState;return n!==null&&Ff(n,u[1])?u[0]:(a.memoizedState=[e,n],e)}function Gm(e,n){var a=Se();n=n===void 0?null:n;var u=a.memoizedState;if(n!==null&&Ff(n,u[1]))return u[0];if(u=e(),ea){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[u,n],u}function sd(e,n,a){return a===void 0||(Ys&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Wg(),Ct.lanes|=e,tr|=e,a)}function Fm(e,n,a,u){return Je(a,n)?a:Va.current!==null?(e=sd(e,a,u),Je(e,n)||(Me=!0),e):(Ys&42)===0?(Me=!0,e.memoizedState=a):(e=Wg(),Ct.lanes|=e,tr|=e,n)}function Ym(e,n,a,u,f){var p=it.p;it.p=p!==0&&8>p?p:8;var b=Z.T,w={};Z.T=w,od(e,!1,n,a);try{var O=f(),P=Z.S;if(P!==null&&P(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=hS(O,u);El(e,n,q,Rn(e))}else El(e,n,u,Rn(e))}catch(W){El(e,n,{then:function(){},status:"rejected",reason:W},Rn())}finally{it.p=p,Z.T=b}}function mS(){}function rd(e,n,a,u){if(e.tag!==5)throw Error(o(476));var f=Wm(e).queue;Ym(e,f,n,X,a===null?mS:function(){return Km(e),a(u)})}function Wm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:X},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Km(e){var n=Wm(e).next.queue;El(e,n,{},Rn())}function ad(){return Ke(Ul)}function Xm(){return Se().memoizedState}function Qm(){return Se().memoizedState}function gS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rn();e=Gs(a);var u=Fs(n,e,a);u!==null&&(On(u,n,a),_l(u,n,a)),n={cache:kf()},e.payload=n;return}n=n.return}}function vS(e,n,a){var u=Rn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(e)?Jm(n,a):(a=Gi(e,n,a,u),a!==null&&(On(a,e,u),tg(a,n,u)))}function $m(e,n,a){var u=Rn();El(e,n,a,u)}function El(e,n,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))Jm(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,w=p(b,a);if(f.hasEagerState=!0,f.eagerState=w,Je(w,b))return Yr(e,n,f,0),ie===null&&Fr(),!1}catch{}finally{}if(a=Gi(e,n,f,u),a!==null)return On(a,e,u),tg(a,n,u),!0}return!1}function od(e,n,a,u){if(u={lane:2,revertLane:Bd(),action:u,hasEagerState:!1,eagerState:null,next:null},Mc(e)){if(n)throw Error(o(479))}else n=Gi(e,a,u,2),n!==null&&On(n,e,2)}function Mc(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Jm(e,n){qa=Cc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function tg(e,n,a){if((a&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,a|=u,n.lanes=a,qu(e,a)}}var Nc={readContext:Ke,use:Ac,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},eg={readContext:Ke,use:Ac,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Um,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Lc(4194308,4,jm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Lc(4194308,4,e,n)},useInsertionEffect:function(e,n){Lc(4,2,e,n)},useMemo:function(e,n){var a=fn();n=n===void 0?null:n;var u=e();if(ea){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[u,n],u},useReducer:function(e,n,a){var u=fn();if(a!==void 0){var f=a(n);if(ea){Gn(!0);try{a(n)}finally{Gn(!1)}}}else f=n;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=vS.bind(null,Ct,e),[u.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=ed(e);var n=e.queue,a=$m.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:id,useDeferredValue:function(e,n){var a=fn();return sd(a,e,n)},useTransition:function(){var e=ed(!1);return e=Ym.bind(null,Ct,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var u=Ct,f=fn();if(bt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),ie===null)throw Error(o(349));(kt&124)!==0||Sm(u,n,a)}f.memoizedState=a;var p={value:a,getSnapshot:n};return f.queue=p,Um(wm.bind(null,u,p,e),[e]),u.flags|=2048,Fa(9,Oc(),Tm.bind(null,u,p,a,n),null),a},useId:function(){var e=fn(),n=ie.identifierPrefix;if(bt){var a=R,u=S;a=(u&~(1<<32-Qe(u)-1)).toString(32)+a,n=""+n+"R"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=fS++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ad,useFormState:Im,useActionState:Im,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=od.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:$f,useCacheRefresh:function(){return fn().memoizedState=gS.bind(null,Ct)}},ng={readContext:Ke,use:Ac,useCallback:qm,useContext:Ke,useEffect:Bm,useImperativeHandle:Vm,useInsertionEffect:Hm,useLayoutEffect:Zm,useMemo:Gm,useReducer:Rc,useRef:zm,useState:function(){return Rc(Wi)},useDebugValue:id,useDeferredValue:function(e,n){var a=Se();return Fm(a,Wt.memoizedState,e,n)},useTransition:function(){var e=Rc(Wi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:bm,useId:Xm,useHostTransitionStatus:ad,useFormState:Dm,useActionState:Dm,useOptimistic:function(e,n){var a=Se();return Am(a,Wt,e,n)},useMemoCache:$f,useCacheRefresh:Qm},yS={readContext:Ke,use:Ac,useCallback:qm,useContext:Ke,useEffect:Bm,useImperativeHandle:Vm,useInsertionEffect:Hm,useLayoutEffect:Zm,useMemo:Gm,useReducer:td,useRef:zm,useState:function(){return td(Wi)},useDebugValue:id,useDeferredValue:function(e,n){var a=Se();return Wt===null?sd(a,e,n):Fm(a,Wt.memoizedState,e,n)},useTransition:function(){var e=td(Wi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:vl(e),n]},useSyncExternalStore:bm,useId:Xm,useHostTransitionStatus:ad,useFormState:km,useActionState:km,useOptimistic:function(e,n){var a=Se();return Wt!==null?Am(a,Wt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Qm},Ya=null,bl=0;function Ic(e){var n=bl;return bl+=1,Ya===null&&(Ya=[]),dm(Ya,e,n)}function Sl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Dc(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ig(e){var n=e._init;return n(e._payload)}function sg(e){function n(N,M){if(e){var D=N.deletions;D===null?(N.deletions=[M],N.flags|=16):D.push(M)}}function a(N,M){if(!e)return null;for(;M!==null;)n(N,M),M=M.sibling;return null}function u(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function f(N,M){return N=kn(N,M),N.index=0,N.sibling=null,N}function p(N,M,D){return N.index=D,e?(D=N.alternate,D!==null?(D=D.index,D<M?(N.flags|=67108866,M):D):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function b(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function w(N,M,D,G){return M===null||M.tag!==6?(M=ul(D,N.mode,G),M.return=N,M):(M=f(M,D),M.return=N,M)}function O(N,M,D,G){var ut=D.type;return ut===j?q(N,M,D.props.children,G,D.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Gt&&ig(ut)===M.type)?(M=f(M,D.props),Sl(M,D),M.return=N,M):(M=Kr(D.type,D.key,D.props,null,N.mode,G),Sl(M,D),M.return=N,M)}function P(N,M,D,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=Ba(D,N.mode,G),M.return=N,M):(M=f(M,D.children||[]),M.return=N,M)}function q(N,M,D,G,ut){return M===null||M.tag!==7?(M=pi(D,N.mode,G,ut),M.return=N,M):(M=f(M,D),M.return=N,M)}function W(N,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ul(""+M,N.mode,D),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return D=Kr(M.type,M.key,M.props,null,N.mode,D),Sl(D,M),D.return=N,D;case k:return M=Ba(M,N.mode,D),M.return=N,M;case Gt:var G=M._init;return M=G(M._payload),W(N,M,D)}if(Ae(M)||Vt(M))return M=pi(M,N.mode,D,null),M.return=N,M;if(typeof M.then=="function")return W(N,Ic(M),D);if(M.$$typeof===at)return W(N,Ec(N,M),D);Dc(N,M)}return null}function U(N,M,D,G){var ut=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ut!==null?null:w(N,M,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return D.key===ut?O(N,M,D,G):null;case k:return D.key===ut?P(N,M,D,G):null;case Gt:return ut=D._init,D=ut(D._payload),U(N,M,D,G)}if(Ae(D)||Vt(D))return ut!==null?null:q(N,M,D,G,null);if(typeof D.then=="function")return U(N,M,Ic(D),G);if(D.$$typeof===at)return U(N,M,Ec(N,D),G);Dc(N,D)}return null}function B(N,M,D,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(D)||null,w(M,N,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return N=N.get(G.key===null?D:G.key)||null,O(M,N,G,ut);case k:return N=N.get(G.key===null?D:G.key)||null,P(M,N,G,ut);case Gt:var At=G._init;return G=At(G._payload),B(N,M,D,G,ut)}if(Ae(G)||Vt(G))return N=N.get(D)||null,q(M,N,G,ut,null);if(typeof G.then=="function")return B(N,M,D,Ic(G),ut);if(G.$$typeof===at)return B(N,M,D,Ec(M,G),ut);Dc(M,G)}return null}function Et(N,M,D,G){for(var ut=null,At=null,dt=M,gt=M=0,Ie=null;dt!==null&&gt<D.length;gt++){dt.index>gt?(Ie=dt,dt=null):Ie=dt.sibling;var Zt=U(N,dt,D[gt],G);if(Zt===null){dt===null&&(dt=Ie);break}e&&dt&&Zt.alternate===null&&n(N,dt),M=p(Zt,M,gt),At===null?ut=Zt:At.sibling=Zt,At=Zt,dt=Ie}if(gt===D.length)return a(N,dt),bt&&I(N,gt),ut;if(dt===null){for(;gt<D.length;gt++)dt=W(N,D[gt],G),dt!==null&&(M=p(dt,M,gt),At===null?ut=dt:At.sibling=dt,At=dt);return bt&&I(N,gt),ut}for(dt=u(dt);gt<D.length;gt++)Ie=B(dt,N,gt,D[gt],G),Ie!==null&&(e&&Ie.alternate!==null&&dt.delete(Ie.key===null?gt:Ie.key),M=p(Ie,M,gt),At===null?ut=Ie:At.sibling=Ie,At=Ie);return e&&dt.forEach(function(ur){return n(N,ur)}),bt&&I(N,gt),ut}function mt(N,M,D,G){if(D==null)throw Error(o(151));for(var ut=null,At=null,dt=M,gt=M=0,Ie=null,Zt=D.next();dt!==null&&!Zt.done;gt++,Zt=D.next()){dt.index>gt?(Ie=dt,dt=null):Ie=dt.sibling;var ur=U(N,dt,Zt.value,G);if(ur===null){dt===null&&(dt=Ie);break}e&&dt&&ur.alternate===null&&n(N,dt),M=p(ur,M,gt),At===null?ut=ur:At.sibling=ur,At=ur,dt=Ie}if(Zt.done)return a(N,dt),bt&&I(N,gt),ut;if(dt===null){for(;!Zt.done;gt++,Zt=D.next())Zt=W(N,Zt.value,G),Zt!==null&&(M=p(Zt,M,gt),At===null?ut=Zt:At.sibling=Zt,At=Zt);return bt&&I(N,gt),ut}for(dt=u(dt);!Zt.done;gt++,Zt=D.next())Zt=B(dt,N,gt,Zt.value,G),Zt!==null&&(e&&Zt.alternate!==null&&dt.delete(Zt.key===null?gt:Zt.key),M=p(Zt,M,gt),At===null?ut=Zt:At.sibling=Zt,At=Zt);return e&&dt.forEach(function(ET){return n(N,ET)}),bt&&I(N,gt),ut}function Xt(N,M,D,G){if(typeof D=="object"&&D!==null&&D.type===j&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case x:t:{for(var ut=D.key;M!==null;){if(M.key===ut){if(ut=D.type,ut===j){if(M.tag===7){a(N,M.sibling),G=f(M,D.props.children),G.return=N,N=G;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Gt&&ig(ut)===M.type){a(N,M.sibling),G=f(M,D.props),Sl(G,D),G.return=N,N=G;break t}a(N,M);break}else n(N,M);M=M.sibling}D.type===j?(G=pi(D.props.children,N.mode,G,D.key),G.return=N,N=G):(G=Kr(D.type,D.key,D.props,null,N.mode,G),Sl(G,D),G.return=N,N=G)}return b(N);case k:t:{for(ut=D.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){a(N,M.sibling),G=f(M,D.children||[]),G.return=N,N=G;break t}else{a(N,M);break}else n(N,M);M=M.sibling}G=Ba(D,N.mode,G),G.return=N,N=G}return b(N);case Gt:return ut=D._init,D=ut(D._payload),Xt(N,M,D,G)}if(Ae(D))return Et(N,M,D,G);if(Vt(D)){if(ut=Vt(D),typeof ut!="function")throw Error(o(150));return D=ut.call(D),mt(N,M,D,G)}if(typeof D.then=="function")return Xt(N,M,Ic(D),G);if(D.$$typeof===at)return Xt(N,M,Ec(N,D),G);Dc(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(a(N,M.sibling),G=f(M,D),G.return=N,N=G):(a(N,M),G=ul(D,N.mode,G),G.return=N,N=G),b(N)):a(N,M)}return function(N,M,D,G){try{bl=0;var ut=Xt(N,M,D,G);return Ya=null,ut}catch(dt){if(dt===fl||dt===Sc)throw dt;var At=sn(29,dt,null,N.mode);return At.lanes=G,At.return=N,At}finally{}}}var Wa=sg(!0),rg=sg(!1),Un=V(null),gi=null;function Ws(e){var n=e.alternate;$(we,we.current&1),$(Un,e),gi===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(gi=e)}function ag(e){if(e.tag===22){if($(we,we.current),$(Un,e),gi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(gi=e)}}else Ks()}function Ks(){$(we,we.current),$(Un,Un.current)}function Ki(e){tt(Un),gi===e&&(gi=null),tt(we)}var we=V(0);function Pc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ld(e,n,a,u){n=e.memoizedState,a=a(u,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ud={enqueueSetState:function(e,n,a){e=e._reactInternals;var u=Rn(),f=Gs(u);f.payload=n,a!=null&&(f.callback=a),n=Fs(e,f,u),n!==null&&(On(n,e,u),_l(n,e,u))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var u=Rn(),f=Gs(u);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Fs(e,f,u),n!==null&&(On(n,e,u),_l(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Rn(),u=Gs(a);u.tag=2,n!=null&&(u.callback=n),n=Fs(e,u,a),n!==null&&(On(n,e,a),_l(n,e,a))}};function og(e,n,a,u,f,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,b):n.prototype&&n.prototype.isPureReactComponent?!tn(a,u)||!tn(f,p):!0}function lg(e,n,a,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==e&&ud.enqueueReplaceState(n,n.state,null)}function na(e,n){var a=n;if("ref"in n){a={};for(var u in n)u!=="ref"&&(a[u]=n[u])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var kc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ug(e){kc(e)}function cg(e){console.error(e)}function hg(e){kc(e)}function zc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function fg(e,n,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cd(e,n,a){return a=Gs(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(e,n)},a}function dg(e){return e=Gs(e),e.tag=3,e}function _g(e,n,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;e.payload=function(){return f(p)},e.callback=function(){fg(n,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){fg(n,a,u),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function ES(e,n,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=a.alternate,n!==null&&$r(n,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return gi===null?Dd():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Bf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([u]):n.add(u),kd(e,u,f)),!1;case 22:return a.flags|=65536,u===Bf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([u]):a.add(u)),kd(e,u,f)),!1}throw Error(o(435,a.tag))}return kd(e,u,f),Dd(),!1}if(bt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Le&&(e=Error(o(422),{cause:u}),Vs(en(e,a)))):(u!==Le&&(n=Error(o(423),{cause:u}),Vs(en(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=en(u,a),f=cd(e.stateNode,u,f),jf(e,f),_e!==4&&(_e=2)),!1;var p=Error(o(520),{cause:u});if(p=en(p,a),Ol===null?Ol=[p]:Ol.push(p),_e!==4&&(_e=2),n===null)return!0;u=en(u,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=cd(a.stateNode,u,e),jf(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(er===null||!er.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dg(f),_g(f,e,a,u),jf(a,f),!1}a=a.return}while(a!==null);return!1}var pg=Error(o(461)),Me=!1;function He(e,n,a,u){n.child=e===null?rg(n,null,a,u):Wa(n,e.child,a,u)}function mg(e,n,a,u,f){a=a.render;var p=n.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return Jr(n),u=Yf(e,n,a,b,p,f),w=Wf(),e!==null&&!Me?(Kf(e,n,f),Xi(e,n,f)):(bt&&w&&K(n),n.flags|=1,He(e,n,u,f),n.child)}function gg(e,n,a,u,f){if(e===null){var p=a.type;return typeof p=="function"&&!Ua(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,vg(e,n,p,u,f)):(e=Kr(a.type,null,u,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!vd(e,f)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:tn,a(b,u)&&e.ref===n.ref)return Xi(e,n,f)}return n.flags|=1,e=kn(p,u),e.ref=n.ref,e.return=n,n.child=e}function vg(e,n,a,u,f){if(e!==null){var p=e.memoizedProps;if(tn(p,u)&&e.ref===n.ref)if(Me=!1,n.pendingProps=u=p,vd(e,f))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Xi(e,n,f)}return hd(e,n,a,u,f)}function yg(e,n,a){var u=n.pendingProps,f=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,e!==null){for(f=n.child=e.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;n.childLanes=p&~u}else n.childLanes=0,n.child=null;return Eg(e,n,u,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bc(n,p!==null?p.cachePool:null),p!==null?vm(n,p):qf(),ag(n);else return n.lanes=n.childLanes=536870912,Eg(e,n,p!==null?p.baseLanes|a:a,a)}else p!==null?(bc(n,p.cachePool),vm(n,p),Ks(),n.memoizedState=null):(e!==null&&bc(n,null),qf(),Ks());return He(e,n,f,a),n.child}function Eg(e,n,a,u){var f=Uf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&bc(n,null),qf(),ag(n),e!==null&&$r(e,n,u,!0),null}function Uc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function hd(e,n,a,u,f){return Jr(n),a=Yf(e,n,a,u,void 0,f),u=Wf(),e!==null&&!Me?(Kf(e,n,f),Xi(e,n,f)):(bt&&u&&K(n),n.flags|=1,He(e,n,a,f),n.child)}function bg(e,n,a,u,f,p){return Jr(n),n.updateQueue=null,a=Em(n,u,a,f),ym(e),u=Wf(),e!==null&&!Me?(Kf(e,n,p),Xi(e,n,p)):(bt&&u&&K(n),n.flags|=1,He(e,n,a,p),n.child)}function Sg(e,n,a,u,f){if(Jr(n),n.stateNode===null){var p=Fi,b=a.contextType;typeof b=="object"&&b!==null&&(p=Ke(b)),p=new a(u,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ud,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=u,p.state=n.memoizedState,p.refs={},Hf(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?Ke(b):Fi,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(ld(n,a,b,u),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&ud.enqueueReplaceState(p,p.state,null),ml(n,u,p,f),pl(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){p=n.stateNode;var w=n.memoizedProps,O=na(a,w);p.props=O;var P=p.context,q=a.contextType;b=Fi,typeof q=="object"&&q!==null&&(b=Ke(q));var W=a.getDerivedStateFromProps;q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||P!==b)&&lg(n,p,u,b),qs=!1;var U=n.memoizedState;p.state=U,ml(n,u,p,f),pl(),P=n.memoizedState,w||U!==P||qs?(typeof W=="function"&&(ld(n,a,W,u),P=n.memoizedState),(O=qs||og(n,a,O,u,U,P,b))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=P),p.props=u,p.state=P,p.context=b,u=O):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Zf(e,n),b=n.memoizedProps,q=na(a,b),p.props=q,W=n.pendingProps,U=p.context,P=a.contextType,O=Fi,typeof P=="object"&&P!==null&&(O=Ke(P)),w=a.getDerivedStateFromProps,(P=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==W||U!==O)&&lg(n,p,u,O),qs=!1,U=n.memoizedState,p.state=U,ml(n,u,p,f),pl();var B=n.memoizedState;b!==W||U!==B||qs||e!==null&&e.dependencies!==null&&yc(e.dependencies)?(typeof w=="function"&&(ld(n,a,w,u),B=n.memoizedState),(q=qs||og(n,a,q,u,U,B,O)||e!==null&&e.dependencies!==null&&yc(e.dependencies))?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,B,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,B,O)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),p.props=u,p.state=B,p.context=O,u=q):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),u=!1)}return p=u,Uc(e,n),u=(n.flags&128)!==0,p||u?(p=n.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&u?(n.child=Wa(n,e.child,null,f),n.child=Wa(n,null,a,f)):He(e,n,a,f),n.memoizedState=p.state,e=n.child):e=Xi(e,n,f),e}function Tg(e,n,a,u){return js(),n.flags|=256,He(e,n,a,u),n.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:cm()}}function _d(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bn),e}function wg(e,n,a){var u=n.pendingProps,f=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(bt){if(f?Ws(n):Ks(),bt){var w=ht,O;if(O=w){t:{for(O=w,w=ce;O.nodeType!==8;){if(!w){w=null;break t}if(O=ti(O.nextSibling),O===null){w=null;break t}}w=O}w!==null?(n.memoizedState={dehydrated:w,treeContext:y!==null?{id:S,overflow:R}:null,retryLane:536870912,hydrationErrors:null},O=sn(18,null,null,0),O.stateNode=w,O.return=n,n.child=O,lt=n,ht=null,O=!0):O=!1}O||hn(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Qd(w)?n.lanes=32:n.lanes=536870912,null;Ki(n)}return w=u.children,u=u.fallback,f?(Ks(),f=n.mode,w=Bc({mode:"hidden",children:w},f),u=pi(u,f,a,null),w.return=n,u.return=n,w.sibling=u,n.child=w,f=n.child,f.memoizedState=dd(a),f.childLanes=_d(e,b,a),n.memoizedState=fd,u):(Ws(n),pd(n,w))}if(O=e.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(p)n.flags&256?(Ws(n),n.flags&=-257,n=md(e,n,a)):n.memoizedState!==null?(Ks(),n.child=e.child,n.flags|=128,n=null):(Ks(),f=u.fallback,w=n.mode,u=Bc({mode:"visible",children:u.children},w),f=pi(f,w,a,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Wa(n,e.child,null,a),u=n.child,u.memoizedState=dd(a),u.childLanes=_d(e,b,a),n.memoizedState=fd,n=f);else if(Ws(n),Qd(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var P=b.dgst;b=P,u=Error(o(419)),u.stack="",u.digest=b,Vs({value:u,source:null,stack:null}),n=md(e,n,a)}else if(Me||$r(e,n,a,!1),b=(a&e.childLanes)!==0,Me||b){if(b=ie,b!==null&&(u=a&-a,u=(u&42)!==0?1:Vo(u),u=(u&(b.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Hs(e,u),On(b,e,u),pg;w.data==="$?"||Dd(),n=md(e,n,a)}else w.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,ht=ti(w.nextSibling),lt=n,bt=!0,ne=null,ce=!1,e!==null&&(h[m++]=S,h[m++]=R,h[m++]=y,S=e.id,R=e.overflow,y=n),n=pd(n,u.children),n.flags|=4096);return n}return f?(Ks(),f=u.fallback,w=n.mode,O=e.child,P=O.sibling,u=kn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,P!==null?f=kn(P,f):(f=pi(f,w,a,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,w=e.child.memoizedState,w===null?w=dd(a):(O=w.cachePool,O!==null?(P=Te._currentValue,O=O.parent!==P?{parent:P,pool:P}:O):O=cm(),w={baseLanes:w.baseLanes|a,cachePool:O}),f.memoizedState=w,f.childLanes=_d(e,b,a),n.memoizedState=fd,u):(Ws(n),a=e.child,e=a.sibling,a=kn(a,{mode:"visible",children:u.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function pd(e,n){return n=Bc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bc(e,n){return e=sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function md(e,n,a){return Wa(n,e.child,null,a),e=pd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cg(e,n,a){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Qr(e.return,n,a)}function gd(e,n,a,u,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function xg(e,n,a){var u=n.pendingProps,f=u.revealOrder,p=u.tail;if(He(e,n,u.children,a),u=we.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cg(e,a,n);else if(e.tag===19)Cg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch($(we,u),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Pc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),gd(n,!1,f,a,p);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Pc(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}gd(n,!0,a,null,p);break;case"together":gd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),tr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if($r(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=kn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=kn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function vd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&yc(e)))}function bS(e,n,a){switch(n.tag){case 3:Ut(n,n.stateNode.containerInfo),mi(n,Te,e.memoizedState.cache),js();break;case 27:case 5:Or(n);break;case 4:Ut(n,n.stateNode.containerInfo);break;case 10:mi(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ws(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wg(e,n,a):(Ws(n),e=Xi(e,n,a),e!==null?e.sibling:null);Ws(n);break;case 19:var f=(e.flags&128)!==0;if(u=(a&n.childLanes)!==0,u||($r(e,n,a,!1),u=(a&n.childLanes)!==0),f){if(u)return xg(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(we,we.current),u)break;return null;case 22:case 23:return n.lanes=0,yg(e,n,a);case 24:mi(n,Te,e.memoizedState.cache)}return Xi(e,n,a)}function Ag(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!vd(e,a)&&(n.flags&128)===0)return Me=!1,bS(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,bt&&(n.flags&1048576)!==0&&H(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Ua(u)?(e=na(u,e),n.tag=1,n=Sg(null,n,u,e,a)):(n.tag=0,n=hd(null,n,u,e,a));else{if(u!=null){if(f=u.$$typeof,f===Dt){n.tag=11,n=mg(null,n,u,e,a);break t}else if(f===It){n.tag=14,n=gg(null,n,u,e,a);break t}}throw n=ke(u)||u,Error(o(306,n,""))}}return n;case 0:return hd(e,n,n.type,n.pendingProps,a);case 1:return u=n.type,f=na(u,n.pendingProps),Sg(e,n,u,f,a);case 3:t:{if(Ut(n,n.stateNode.containerInfo),e===null)throw Error(o(387));u=n.pendingProps;var p=n.memoizedState;f=p.element,Zf(e,n),ml(n,u,null,a);var b=n.memoizedState;if(u=b.cache,mi(n,Te,u),u!==p.cache&&Ha(n,[Te],a,!0),pl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Tg(e,n,u,a);break t}else if(u!==f){f=en(Error(o(424)),n),Vs(f),n=Tg(e,n,u,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=ti(e.firstChild),lt=n,bt=!0,ne=null,ce=!0,a=rg(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),u===f){n=Xi(e,n,a);break t}He(e,n,u,a)}n=n.child}return n;case 26:return Uc(e,n),e===null?(a=Mv(n.type,null,n.pendingProps,null))?n.memoizedState=a:bt||(a=n.type,e=n.pendingProps,u=Jc(nt.current).createElement(a),u[Re]=n,u[Fe]=e,je(u,a,e),Ee(u),n.stateNode=u):n.memoizedState=Mv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Or(n),e===null&&bt&&(u=n.stateNode=Rv(n.type,n.pendingProps,nt.current),lt=n,ce=!0,f=ht,sr(n.type)?($d=f,ht=ti(u.firstChild)):ht=f),He(e,n,n.pendingProps.children,a),Uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&bt&&((f=u=ht)&&(u=KS(u,n.type,n.pendingProps,ce),u!==null?(n.stateNode=u,lt=n,ht=ti(u.firstChild),ce=!1,f=!0):f=!1),f||hn(n)),Or(n),f=n.type,p=n.pendingProps,b=e!==null?e.memoizedProps:null,u=p.children,Wd(f,p)?u=null:b!==null&&Wd(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Yf(e,n,dS,null,null,a),Ul._currentValue=f),Uc(e,n),He(e,n,u,a),n.child;case 6:return e===null&&bt&&((e=a=ht)&&(a=XS(a,n.pendingProps,ce),a!==null?(n.stateNode=a,lt=n,ht=null,e=!0):e=!1),e||hn(n)),null;case 13:return wg(e,n,a);case 4:return Ut(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Wa(n,null,u,a):He(e,n,u,a),n.child;case 11:return mg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return u=n.pendingProps,mi(n,n.type,u.value),He(e,n,u.children,a),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,Jr(n),f=Ke(f),u=u(f),n.flags|=1,He(e,n,u,a),n.child;case 14:return gg(e,n,n.type,n.pendingProps,a);case 15:return vg(e,n,n.type,n.pendingProps,a);case 19:return xg(e,n,a);case 31:return u=n.pendingProps,a=n.mode,u={mode:u.mode,children:u.children},e===null?(a=Bc(u,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=kn(e.child,u),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return yg(e,n,a);case 24:return Jr(n),u=Ke(Te),e===null?(f=Uf(),f===null&&(f=ie,p=kf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),n.memoizedState={parent:u,cache:f},Hf(n),mi(n,Te,f)):((e.lanes&a)!==0&&(Zf(e,n),ml(n,null,null,a),pl()),f=e.memoizedState,p=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),mi(n,Te,u)):(u=p.cache,mi(n,Te,u),u!==f.cache&&Ha(n,[Te],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Qi(e){e.flags|=4}function Rg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kv(n)){if(n=Un.current,n!==null&&((kt&4194048)===kt?gi!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==gi))throw dl=Bf,hm;e.flags|=8192}}function Hc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?jo():536870912,e.lanes|=n,$a|=n)}function Tl(e,n){if(!bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,n}function SS(e,n,a){var u=n.pendingProps;switch(rt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return a=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),$n(Te),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xr(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vc())),he(n),null;case 26:return a=n.memoizedState,e===null?(Qi(n),a!==null?(he(n),Rg(n,a)):(he(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Qi(n),he(n),Rg(n,a)):(he(n),n.flags&=-16777217):(e.memoizedProps!==u&&Qi(n),he(n),n.flags&=-16777217),null;case 27:ms(n),a=nt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Qi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return he(n),null}e=ot.current,Xr(n)?mc(n):(e=Rv(f,u,a),n.stateNode=e,Qi(n))}return he(n),null;case 5:if(ms(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Qi(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return he(n),null}if(e=ot.current,Xr(n))mc(n);else{switch(f=Jc(nt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}e[Re]=n,e[Fe]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(je(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Qi(n)}}return he(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Qi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(e=nt.current,Xr(n)){if(e=n.stateNode,a=n.memoizedProps,u=null,f=lt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Re]=n,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||bv(e.nodeValue,a)),e||hn(n)}else e=Jc(e).createTextNode(u),e[Re]=n,n.stateNode=e}return he(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Xr(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Re]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),f=!1}else f=vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ki(n),n):(Ki(n),null)}if(Ki(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Hc(n,n.updateQueue),he(n),null;case 4:return qn(),e===null&&Vd(n.stateNode.containerInfo),he(n),null;case 10:return $n(n.type),he(n),null;case 19:if(tt(we),f=n.memoizedState,f===null)return he(n),null;if(u=(n.flags&128)!==0,p=f.rendering,p===null)if(u)Tl(f,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Pc(e),p!==null){for(n.flags|=128,Tl(f,!1),e=p.updateQueue,n.updateQueue=e,Hc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ll(a,e),a=a.sibling;return $(we,we.current&1|2),n.child}e=e.sibling}f.tail!==null&&ln()>Vc&&(n.flags|=128,u=!0,Tl(f,!1),n.lanes=4194304)}else{if(!u)if(e=Pc(p),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Hc(n,e),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!bt)return he(n),null}else 2*ln()-f.renderingStartTime>Vc&&a!==536870912&&(n.flags|=128,u=!0,Tl(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(e=f.last,e!==null?e.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ln(),n.sibling=null,e=we.current,$(we,u?e&1|2:e&1),n):(he(n),null);case 22:case 23:return Ki(n),Gf(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(a&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),a=n.updateQueue,a!==null&&Hc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048),e!==null&&tt(ta),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),$n(Te),he(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function TS(e,n){switch(rt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $n(Te),qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ms(n),null;case 13:if(Ki(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return tt(we),null;case 4:return qn(),null;case 10:return $n(n.type),null;case 22:case 23:return Ki(n),Gf(),e!==null&&tt(ta),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $n(Te),null;case 25:return null;default:return null}}function Og(e,n){switch(rt(n),n.tag){case 3:$n(Te),qn();break;case 26:case 27:case 5:ms(n);break;case 4:qn();break;case 13:Ki(n);break;case 19:tt(we);break;case 10:$n(n.type);break;case 22:case 23:Ki(n),Gf(),e!==null&&tt(ta);break;case 24:$n(Te)}}function wl(e,n){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var p=a.create,b=a.inst;u=p(),b.destroy=u}a=a.next}while(a!==f)}}catch(w){Jt(n,n.return,w)}}function Xs(e,n,a){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&e)===e){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var O=a,P=w;try{P()}catch(q){Jt(f,O,q)}}}u=u.next}while(u!==p)}}catch(q){Jt(n,n.return,q)}}function Lg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{gm(n,a)}catch(u){Jt(e,e.return,u)}}}function Mg(e,n,a){a.props=na(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Jt(e,n,u)}}function Cl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(f){Jt(e,n,f)}}function vi(e,n){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Jt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(e,n,f)}else a.current=null}function Ng(e){var n=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Jt(e,e.return,f)}}function yd(e,n,a){try{var u=e.stateNode;qS(u,e.type,a,n),u[Fe]=n}catch(f){Jt(e,e.return,f)}}function Ig(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sr(e.type)||e.tag===4}function Ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$c));else if(u!==4&&(u===27&&sr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(bd(e,n,a),e=e.sibling;e!==null;)bd(e,n,a),e=e.sibling}function Zc(e,n,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(u!==4&&(u===27&&sr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zc(e,n,a),e=e.sibling;e!==null;)Zc(e,n,a),e=e.sibling}function Dg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);je(n,u,a),n[Re]=e,n[Fe]=a}catch(p){Jt(e,e.return,p)}}var $i=!1,ve=!1,Sd=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function wS(e,n){if(e=e.containerInfo,Fd=rh,e=Vr(e),qr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var b=0,w=-1,O=-1,P=0,q=0,W=e,U=null;e:for(;;){for(var B;W!==a||f!==0&&W.nodeType!==3||(w=b+f),W!==p||u!==0&&W.nodeType!==3||(O=b+u),W.nodeType===3&&(b+=W.nodeValue.length),(B=W.firstChild)!==null;)U=W,W=B;for(;;){if(W===e)break e;if(U===a&&++P===f&&(w=b),U===p&&++q===u&&(O=b),(B=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=B}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},rh=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Et=na(a.type,f,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(Et,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Jt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function kg(e,n,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Qs(e,a),u&4&&wl(5,a);break;case 1:if(Qs(e,a),u&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){Jt(a,a.return,b)}else{var f=na(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(a,a.return,b)}}u&64&&Lg(a),u&512&&Cl(a,a.return);break;case 3:if(Qs(e,a),u&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gm(e,n)}catch(b){Jt(a,a.return,b)}}break;case 27:n===null&&u&4&&Dg(a);case 26:case 5:Qs(e,a),n===null&&u&4&&Ng(a),u&512&&Cl(a,a.return);break;case 12:Qs(e,a);break;case 13:Qs(e,a),u&4&&Bg(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=IS.bind(null,a),QS(e,a))));break;case 22:if(u=a.memoizedState!==null||$i,!u){n=n!==null&&n.memoizedState!==null||ve,f=$i;var p=ve;$i=u,(ve=n)&&!p?$s(e,a,(a.subtreeFlags&8772)!==0):Qs(e,a),$i=f,ve=p}break;case 30:break;default:Qs(e,a)}}function zg(e){var n=e.alternate;n!==null&&(e.alternate=null,zg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ba(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,dn=!1;function Ji(e,n,a){for(a=a.child;a!==null;)Ug(e,n,a),a=a.sibling}function Ug(e,n,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 26:ve||vi(a,n),Ji(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||vi(a,n);var u=oe,f=dn;sr(a.type)&&(oe=a.stateNode,dn=!1),Ji(e,n,a),Dl(a.stateNode),oe=u,dn=f;break;case 5:ve||vi(a,n);case 6:if(u=oe,f=dn,oe=null,Ji(e,n,a),oe=u,dn=f,oe!==null)if(dn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(p){Jt(a,n,p)}else try{oe.removeChild(a.stateNode)}catch(p){Jt(a,n,p)}break;case 18:oe!==null&&(dn?(e=oe,xv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),jl(e)):xv(oe,a.stateNode));break;case 4:u=oe,f=dn,oe=a.stateNode.containerInfo,dn=!0,Ji(e,n,a),oe=u,dn=f;break;case 0:case 11:case 14:case 15:ve||Xs(2,a,n),ve||Xs(4,a,n),Ji(e,n,a);break;case 1:ve||(vi(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Mg(a,n,u)),Ji(e,n,a);break;case 21:Ji(e,n,a);break;case 22:ve=(u=ve)||a.memoizedState!==null,Ji(e,n,a),ve=u;break;default:Ji(e,n,a)}}function Bg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(a){Jt(n,n.return,a)}}function CS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Pg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Pg),n;default:throw Error(o(435,e.tag))}}function Td(e,n){var a=CS(e);n.forEach(function(u){var f=DS.bind(null,e,u);a.has(u)||(a.add(u),u.then(f,f))})}function Cn(e,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=e,b=n,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(sr(w.type)){oe=w.stateNode,dn=!1;break t}break;case 5:oe=w.stateNode,dn=!1;break t;case 3:case 4:oe=w.stateNode.containerInfo,dn=!0;break t}w=w.return}if(oe===null)throw Error(o(160));Ug(p,b,f),oe=null,dn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,e),n=n.sibling}var Jn=null;function Hg(e,n){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(n,e),xn(e),u&4&&(Xs(3,e,e.return),wl(3,e),Xs(5,e,e.return));break;case 1:Cn(n,e),xn(e),u&512&&(ve||a===null||vi(a,a.return)),u&64&&$i&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Jn;if(Cn(n,e),xn(e),u&512&&(ve||a===null||vi(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[bs]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),je(p,u,a),p[Re]=e,Ee(p),u=p;break t;case"link":var b=Dv("link","href",f).get(u+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break e}}p=f.createElement(u),je(p,u,a),f.head.appendChild(p);break;case"meta":if(b=Dv("meta","content",f).get(u+(a.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break e}}p=f.createElement(u),je(p,u,a),f.head.appendChild(p);break;default:throw Error(o(468,u))}p[Re]=e,Ee(p),u=p}e.stateNode=u}else Pv(f,e.type,e.stateNode);else e.stateNode=Iv(f,u,e.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?Pv(f,e.type,e.stateNode):Iv(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&yd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Cn(n,e),xn(e),u&512&&(ve||a===null||vi(a,a.return)),a!==null&&u&4&&yd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Cn(n,e),xn(e),u&512&&(ve||a===null||vi(a,a.return)),e.flags&32){f=e.stateNode;try{Mn(f,"")}catch(B){Jt(e,e.return,B)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,yd(e,f,a!==null?a.memoizedProps:f)),u&1024&&(Sd=!0);break;case 6:if(Cn(n,e),xn(e),u&4){if(e.stateNode===null)throw Error(o(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(B){Jt(e,e.return,B)}}break;case 3:if(nh=null,f=Jn,Jn=th(n.containerInfo),Cn(n,e),Jn=f,xn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Jt(e,e.return,B)}Sd&&(Sd=!1,Zg(e));break;case 4:u=Jn,Jn=th(e.stateNode.containerInfo),Cn(n,e),xn(e),Jn=u;break;case 12:Cn(n,e),xn(e);break;case 13:Cn(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=ln()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Td(e,u)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,P=$i,q=ve;if($i=P||f,ve=q||O,Cn(n,e),ve=q,$i=P,xn(e),u&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||O||$i||ve||ia(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){O=a=n;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var W=O.memoizedProps.style,U=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(B){Jt(O,O.return,B)}}}else if(n.tag===6){if(a===null){O=n;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(B){Jt(O,O.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Td(e,a))));break;case 19:Cn(n,e),xn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Td(e,u)));break;case 30:break;case 21:break;default:Cn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{for(var a,u=e.return;u!==null;){if(Ig(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,p=Ed(e);Zc(e,p,f);break;case 5:var b=a.stateNode;a.flags&32&&(Mn(b,""),a.flags&=-33);var w=Ed(e);Zc(e,w,b);break;case 3:case 4:var O=a.stateNode.containerInfo,P=Ed(e);bd(e,P,O);break;default:throw Error(o(161))}}catch(q){Jt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(e,n.alternate,n),n=n.sibling}function ia(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ia(n);break;case 1:vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mg(n,n.return,a),ia(n);break;case 27:Dl(n.stateNode);case 26:case 5:vi(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}e=e.sibling}}function $s(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=e,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:$s(f,p,a),wl(4,p);break;case 1:if($s(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Jt(u,u.return,P)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)mm(O[f],w)}catch(P){Jt(u,u.return,P)}}a&&b&64&&Lg(p),Cl(p,p.return);break;case 27:Dg(p);case 26:case 5:$s(f,p,a),a&&u===null&&b&4&&Ng(p),Cl(p,p.return);break;case 12:$s(f,p,a);break;case 13:$s(f,p,a),a&&b&4&&Bg(f,p);break;case 22:p.memoizedState===null&&$s(f,p,a),Cl(p,p.return);break;case 30:break;default:$s(f,p,a)}n=n.sibling}}function wd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function Cd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e))}function yi(e,n,a,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(e,n,a,u),n=n.sibling}function jg(e,n,a,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:yi(e,n,a,u),f&2048&&wl(9,n);break;case 1:yi(e,n,a,u);break;case 3:yi(e,n,a,u),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e)));break;case 12:if(f&2048){yi(e,n,a,u),e=n.stateNode;try{var p=n.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Jt(n,n.return,O)}}else yi(e,n,a,u);break;case 13:yi(e,n,a,u);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?yi(e,n,a,u):xl(e,n):p._visibility&2?yi(e,n,a,u):(p._visibility|=2,Ka(e,n,a,u,(n.subtreeFlags&10256)!==0)),f&2048&&wd(b,n);break;case 24:yi(e,n,a,u),f&2048&&Cd(n.alternate,n);break;default:yi(e,n,a,u)}}function Ka(e,n,a,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,b=n,w=a,O=u,P=b.flags;switch(b.tag){case 0:case 11:case 15:Ka(p,b,w,O,f),wl(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?Ka(p,b,w,O,f):xl(p,b):(q._visibility|=2,Ka(p,b,w,O,f)),f&&P&2048&&wd(b.alternate,b);break;case 24:Ka(p,b,w,O,f),f&&P&2048&&Cd(b.alternate,b);break;default:Ka(p,b,w,O,f)}n=n.sibling}}function xl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,u=n,f=u.flags;switch(u.tag){case 22:xl(a,u),f&2048&&wd(u.alternate,u);break;case 24:xl(a,u),f&2048&&Cd(u.alternate,u);break;default:xl(a,u)}n=n.sibling}}var Al=8192;function Xa(e){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)Vg(e),e=e.sibling}function Vg(e){switch(e.tag){case 26:Xa(e),e.flags&Al&&e.memoizedState!==null&&cT(Jn,e.memoizedState,e.memoizedProps);break;case 5:Xa(e);break;case 3:case 4:var n=Jn;Jn=th(e.stateNode.containerInfo),Xa(e),Jn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,Xa(e),Al=n):Xa(e));break;default:Xa(e)}}function qg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Ne=u,Fg(u,e)}qg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gg(e),e=e.sibling}function Gg(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&Xs(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jc(e)):Rl(e);break;default:Rl(e)}}function jc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var u=n[a];Ne=u,Fg(u,e)}qg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),jc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,jc(n));break;default:jc(n)}e=e.sibling}}function Fg(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Xs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ne=u;else t:for(a=e;Ne!==null;){u=Ne;var f=u.sibling,p=u.return;if(zg(u),u===a){Ne=null;break t}if(f!==null){f.return=p,Ne=f;break t}Ne=p}}}var xS={getCacheForType:function(e){var n=Ke(Te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},AS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ie=null,Ot=null,kt=0,Yt=0,An=null,Js=!1,Qa=!1,xd=!1,ts=0,_e=0,tr=0,sa=0,Ad=0,Bn=0,$a=0,Ol=null,_n=null,Rd=!1,Od=0,Vc=1/0,qc=null,er=null,Ze=0,nr=null,Ja=null,to=0,Ld=0,Md=null,Yg=null,Ll=0,Nd=null;function Rn(){if((Ft&2)!==0&&kt!==0)return kt&-kt;if(Z.T!==null){var e=Za;return e!==0?e:Bd()}return Gu()}function Wg(){Bn===0&&(Bn=(kt&536870912)===0||bt?ju():536870912);var e=Un.current;return e!==null&&(e.flags|=32),Bn}function On(e,n,a){(e===ie&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(eo(e,0),ir(e,kt,Bn,!1)),ys(e,a),((Ft&2)===0||e!==ie)&&(e===ie&&((Ft&2)===0&&(sa|=a),_e===4&&ir(e,kt,Bn,!1)),Ei(e))}function Kg(e,n,a){if((Ft&6)!==0)throw Error(o(327));var u=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Fn(e,n),f=u?LS(e,n):Pd(e,n,!0),p=u;do{if(f===0){Qa&&!u&&ir(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!RS(a)){f=Pd(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var w=e;f=Ol;var O=w.current.memoizedState.isDehydrated;if(O&&(eo(w,b).flags|=256),b=Pd(w,b,!1),b!==2){if(xd&&!O){w.errorRecoveryDisabledLanes|=p,sa|=p,f=4;break t}p=_n,_n=f,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){eo(e,0),ir(e,n,0,!0);break}t:{switch(u=e,p=f,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ir(u,n,Bn,!Js);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=Od+300-ln(),10<f)){if(ir(u,n,Bn,!Js),ya(u,0,!0)!==0)break t;u.timeoutHandle=wv(Xg.bind(null,u,a,_n,qc,Rd,n,Bn,sa,$a,Js,p,2,-0,0),f);break t}Xg(u,a,_n,qc,Rd,n,Bn,sa,$a,Js,p,0,-0,0)}}break}while(!0);Ei(e)}function Xg(e,n,a,u,f,p,b,w,O,P,q,W,U,B){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:uT},Vg(n),W=hT(),W!==null)){e.cancelPendingCommit=W(iv.bind(null,e,n,p,a,u,f,b,w,O,q,1,U,B)),ir(e,p,b,!P);return}iv(e,n,p,a,u,f,b,w,O)}function RS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!Je(p(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n,a,u){n&=~Ad,n&=~sa,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var f=n;0<f;){var p=31-Qe(f),b=1<<p;u[p]=-1,f&=~b}a!==0&&Vu(e,a,n)}function Gc(){return(Ft&6)===0?(Ml(0),!1):!0}function Id(){if(Ot!==null){if(Yt===0)var e=Ot.return;else e=Ot,Qn=zn=null,Xf(e),Ya=null,bl=0,e=Ot;for(;e!==null;)Og(e.alternate,e),e=e.return;Ot=null}}function eo(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,FS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Id(),ie=e,Ot=a=kn(e.current,null),kt=n,Yt=0,An=null,Js=!1,Qa=Fn(e,n),xd=!1,$a=Bn=Ad=sa=tr=_e=0,_n=Ol=null,Rd=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var f=31-Qe(u),p=1<<f;n|=e[f],u&=~p}return ts=n,Fr(),a}function Qg(e,n){Ct=null,Z.H=Nc,n===fl||n===Sc?(n=_m(),Yt=3):n===hm?(n=_m(),Yt=4):Yt=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ot===null&&(_e=1,zc(e,en(n,e.current)))}function $g(){var e=Z.H;return Z.H=Nc,e===null?Nc:e}function Jg(){var e=Z.A;return Z.A=xS,e}function Dd(){_e=4,Js||(kt&4194048)!==kt&&Un.current!==null||(Qa=!0),(tr&134217727)===0&&(sa&134217727)===0||ie===null||ir(ie,kt,Bn,!1)}function Pd(e,n,a){var u=Ft;Ft|=2;var f=$g(),p=Jg();(ie!==e||kt!==n)&&(qc=null,eo(e,n)),n=!1;var b=_e;t:do try{if(Yt!==0&&Ot!==null){var w=Ot,O=An;switch(Yt){case 8:Id(),b=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var P=Yt;if(Yt=0,An=null,no(e,w,O,P),a&&Qa){b=0;break t}break;default:P=Yt,Yt=0,An=null,no(e,w,O,P)}}OS(),b=_e;break}catch(q){Qg(e,q)}while(!0);return n&&e.shellSuspendCounter++,Qn=zn=null,Ft=u,Z.H=f,Z.A=p,Ot===null&&(ie=null,kt=0,Fr()),b}function OS(){for(;Ot!==null;)tv(Ot)}function LS(e,n){var a=Ft;Ft|=2;var u=$g(),f=Jg();ie!==e||kt!==n?(qc=null,Vc=ln()+500,eo(e,n)):Qa=Fn(e,n);t:do try{if(Yt!==0&&Ot!==null){n=Ot;var p=An;e:switch(Yt){case 1:Yt=0,An=null,no(e,n,p,1);break;case 2:case 9:if(fm(p)){Yt=0,An=null,ev(n);break}n=function(){Yt!==2&&Yt!==9||ie!==e||(Yt=7),Ei(e)},p.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:fm(p)?(Yt=0,An=null,ev(n)):(Yt=0,An=null,no(e,n,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var w=Ot;if(!b||kv(b)){Yt=0,An=null;var O=w.sibling;if(O!==null)Ot=O;else{var P=w.return;P!==null?(Ot=P,Fc(P)):Ot=null}break e}}Yt=0,An=null,no(e,n,p,5);break;case 6:Yt=0,An=null,no(e,n,p,6);break;case 8:Id(),_e=6;break t;default:throw Error(o(462))}}MS();break}catch(q){Qg(e,q)}while(!0);return Qn=zn=null,Z.H=u,Z.A=f,Ft=a,Ot!==null?0:(ie=null,kt=0,Fr(),_e)}function MS(){for(;Ot!==null&&!ku();)tv(Ot)}function tv(e){var n=Ag(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?Fc(e):Ot=n}function ev(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=bg(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=bg(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Xf(n);default:Og(a,n),n=Ot=ll(n,ts),n=Ag(a,n,ts)}e.memoizedProps=e.pendingProps,n===null?Fc(e):Ot=n}function no(e,n,a,u){Qn=zn=null,Xf(n),Ya=null,bl=0;var f=n.return;try{if(ES(e,f,n,a,kt)){_e=1,zc(e,en(a,e.current)),Ot=null;return}}catch(p){if(f!==null)throw Ot=f,p;_e=1,zc(e,en(a,e.current)),Ot=null;return}n.flags&32768?(bt||u===1?e=!0:Qa||(kt&536870912)!==0?e=!1:(Js=e=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),nv(n,e)):Fc(n)}function Fc(e){var n=e;do{if((n.flags&32768)!==0){nv(n,Js);return}e=n.return;var a=SS(n.alternate,n,ts);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);_e===0&&(_e=5)}function nv(e,n){do{var a=TS(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);_e=6,Ot=null}function iv(e,n,a,u,f,p,b,w,O){e.cancelPendingCommit=null;do Yc();while(Ze!==0);if((Ft&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=wn,gf(e,a,p,b,w,O),e===ie&&(Ot=ie=null,kt=0),Ja=n,nr=e,to=a,Ld=p,Md=f,Yg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PS(gs,function(){return lv(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=it.p,it.p=2,b=Ft,Ft|=4;try{wS(e,n,a)}finally{Ft=b,it.p=f,Z.T=u}}Ze=1,sv(),rv(),av()}}function sv(){if(Ze===1){Ze=0;var e=nr,n=Ja,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var u=it.p;it.p=2;var f=Ft;Ft|=4;try{Hg(n,e);var p=Yd,b=Vr(e.containerInfo),w=p.focusedElem,O=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&Ia(w.ownerDocument.documentElement,w)){if(O!==null&&qr(w)){var P=O.start,q=O.end;if(q===void 0&&(q=P),"selectionStart"in w)w.selectionStart=P,w.selectionEnd=Math.min(q,w.value.length);else{var W=w.ownerDocument||document,U=W&&W.defaultView||window;if(U.getSelection){var B=U.getSelection(),Et=w.textContent.length,mt=Math.min(O.start,Et),Xt=O.end===void 0?mt:Math.min(O.end,Et);!B.extend&&mt>Xt&&(b=Xt,Xt=mt,mt=b);var N=al(w,mt),M=al(w,Xt);if(N&&M&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==M.node||B.focusOffset!==M.offset)){var D=W.createRange();D.setStart(N.node,N.offset),B.removeAllRanges(),mt>Xt?(B.addRange(D),B.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),B.addRange(D))}}}}for(W=[],B=w;B=B.parentNode;)B.nodeType===1&&W.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var G=W[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}rh=!!Fd,Yd=Fd=null}finally{Ft=f,it.p=u,Z.T=a}}e.current=n,Ze=2}}function rv(){if(Ze===2){Ze=0;var e=nr,n=Ja,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var u=it.p;it.p=2;var f=Ft;Ft|=4;try{kg(e,n.alternate,n)}finally{Ft=f,it.p=u,Z.T=a}}Ze=3}}function av(){if(Ze===4||Ze===3){Ze=0,zu();var e=nr,n=Ja,a=to,u=Yg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Ja=nr=null,ov(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(er=null),qo(a),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=Z.T,f=it.p,it.p=2,Z.T=null;try{for(var p=e.onRecoverableError,b=0;b<u.length;b++){var w=u[b];p(w.value,{componentStack:w.stack})}}finally{Z.T=n,it.p=f}}(to&3)!==0&&Yc(),Ei(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Nd?Ll++:(Ll=0,Nd=e):Ll=0,Ml(0)}}function ov(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,cl(n)))}function Yc(e){return sv(),rv(),av(),lv()}function lv(){if(Ze!==5)return!1;var e=nr,n=Ld;Ld=0;var a=qo(to),u=Z.T,f=it.p;try{it.p=32>a?32:a,Z.T=null,a=Md,Md=null;var p=nr,b=to;if(Ze=0,Ja=nr=null,to=0,(Ft&6)!==0)throw Error(o(331));var w=Ft;if(Ft|=4,Gg(p.current),jg(p,p.current,b,a),Ft=w,Ml(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ai,p)}catch{}return!0}finally{it.p=f,Z.T=u,ov(e,n)}}function uv(e,n,a){n=en(a,n),n=cd(e.stateNode,n,2),e=Fs(e,n,2),e!==null&&(ys(e,2),Ei(e))}function Jt(e,n,a){if(e.tag===3)uv(e,e,a);else for(;n!==null;){if(n.tag===3){uv(n,e,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(er===null||!er.has(u))){e=en(a,e),a=dg(2),u=Fs(n,a,2),u!==null&&(_g(a,u,n,e),ys(u,2),Ei(u));break}}n=n.return}}function kd(e,n,a){var u=e.pingCache;if(u===null){u=e.pingCache=new AS;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(xd=!0,f.add(a),e=NS.bind(null,e,n,a),n.then(e,e))}function NS(e,n,a){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(kt&a)===a&&(_e===4||_e===3&&(kt&62914560)===kt&&300>ln()-Od?(Ft&2)===0&&eo(e,0):Ad|=a,$a===kt&&($a=0)),Ei(e)}function cv(e,n){n===0&&(n=jo()),e=Hs(e,n),e!==null&&(ys(e,n),Ei(e))}function IS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),cv(e,a)}function DS(e,n){var a=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),cv(e,a)}function PS(e,n){return Lr(e,n)}var Wc=null,io=null,zd=!1,Kc=!1,Ud=!1,ra=0;function Ei(e){e!==io&&e.next===null&&(io===null?Wc=io=e:io=io.next=e),Kc=!0,zd||(zd=!0,zS())}function Ml(e,n){if(!Ud&&Kc){Ud=!0;do for(var a=!1,u=Wc;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-Qe(42|e)+1)-1,p&=f&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,_v(u,p))}else p=kt,p=ya(u,u===ie?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Fn(u,p)||(a=!0,_v(u,p));u=u.next}while(a);Ud=!1}}function kS(){hv()}function hv(){Kc=zd=!1;var e=0;ra!==0&&(GS()&&(e=ra),ra=0);for(var n=ln(),a=null,u=Wc;u!==null;){var f=u.next,p=fv(u,n);p===0?(u.next=null,a===null?Wc=f:a.next=f,f===null&&(io=a)):(a=u,(e!==0||(p&3)!==0)&&(Kc=!0)),u=f}Ml(e)}function fv(e,n){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Qe(p),w=1<<b,O=f[b];O===-1?((w&a)===0||(w&u)!==0)&&(f[b]=mf(w,n)):O<=n&&(e.expiredLanes|=w),p&=~w}if(n=ie,a=kt,a=ya(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Bo(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(u!==null&&Bo(u),qo(a)){case 2:case 8:a=Ho;break;case 32:a=gs;break;case 268435456:a=Zo;break;default:a=gs}return u=dv.bind(null,e),a=Lr(a,u),e.callbackPriority=n,e.callbackNode=a,n}return u!==null&&u!==null&&Bo(u),e.callbackPriority=2,e.callbackNode=null,2}function dv(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yc()&&e.callbackNode!==a)return null;var u=kt;return u=ya(e,e===ie?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Kg(e,u,n),fv(e,ln()),e.callbackNode!=null&&e.callbackNode===a?dv.bind(null,e):null)}function _v(e,n){if(Yc())return null;Kg(e,n,!0)}function zS(){YS(function(){(Ft&6)!==0?Lr(Uu,kS):hv()})}function Bd(){return ra===0&&(ra=ju()),ra}function pv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:As(""+e)}function mv(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function US(e,n,a,u,f){if(n==="submit"&&a&&a.stateNode===f){var p=pv((f[Fe]||null).action),b=u.submitter;b&&(n=(n=b[Fe]||null)?pv(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var w=new Ur("action","action",null,u,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var O=b?mv(f,b):new FormData(f);rd(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(w.preventDefault(),O=b?mv(f,b):new FormData(f),rd(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Hd=0;Hd<Vi.length;Hd++){var Zd=Vi[Hd],BS=Zd.toLowerCase(),HS=Zd[0].toUpperCase()+Zd.slice(1);Tn(BS,"on"+HS)}Tn(dc,"onAnimationEnd"),Tn(Sn,"onAnimationIteration"),Tn(Gr,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Df,"onTransitionRun"),Tn(za,"onTransitionStart"),Tn(Pf,"onTransitionCancel"),Tn(ol,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function gv(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var p=void 0;if(n)for(var b=u.length-1;0<=b;b--){var w=u[b],O=w.instance,P=w.currentTarget;if(w=w.listener,O!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=P;try{p(f)}catch(q){kc(q)}f.currentTarget=null,p=O}else for(b=0;b<u.length;b++){if(w=u[b],O=w.instance,P=w.currentTarget,w=w.listener,O!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=P;try{p(f)}catch(q){kc(q)}f.currentTarget=null,p=O}}}}function Lt(e,n){var a=n[un];a===void 0&&(a=n[un]=new Set);var u=e+"__bubble";a.has(u)||(vv(n,e,2,!1),a.add(u))}function jd(e,n,a){var u=0;n&&(u|=4),vv(a,e,u,n)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Xc]){e[Xc]=!0,Yu.forEach(function(a){a!=="selectionchange"&&(ZS.has(a)||jd(a,!1,e),jd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xc]||(n[Xc]=!0,jd("selectionchange",!1,n))}}function vv(e,n,a,u){switch(jv(n)){case 2:var f=_T;break;case 8:f=pT;break;default:f=i_}a=f.bind(null,n,a,e),f=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function qd(e,n,a,u,f){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=ui(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=p=b;continue t}w=w.parentNode}}u=u.return}vn(function(){var P=p,q=Rs(a),W=[];t:{var U=_c.get(e);if(U!==void 0){var B=Ur,Et=e;switch(e){case"keypress":if(de(a)===0)break t;case"keydown":case"keyup":B=xf;break;case"focusin":Et="focus",B=Qo;break;case"focusout":Et="blur",B=Qo;break;case"beforeblur":case"afterblur":B=Qo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Rf;break;case dc:case Sn:case Gr:B=Sf;break;case ol:B=Of;break;case"scroll":case"scrollend":B=Ef;break;case"wheel":B=sc;break;case"copy":case"cut":case"paste":B=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=tl;break;case"toggle":case"beforetoggle":B=Bi}var mt=(n&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),N=mt?U!==null?U+"Capture":null:U;mt=[];for(var M=P,D;M!==null;){var G=M;if(D=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||D===null||N===null||(G=Ht(M,N),G!=null&&mt.push(Il(M,G,D))),Xt)break;M=M.return}0<mt.length&&(U=new B(U,Et,null,a,q),W.push({event:U,listeners:mt}))}}if((n&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",U&&a!==kr&&(Et=a.relatedTarget||a.fromElement)&&(ui(Et)||Et[Es]))break t;if((B||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,B?(Et=a.relatedTarget||a.toElement,B=P,Et=Et?ui(Et):null,Et!==null&&(Xt=d(Et),mt=Et.tag,Et!==Xt||mt!==5&&mt!==27&&mt!==6)&&(Et=null)):(B=null,Et=P),B!==Et)){if(mt=Ms,G="onMouseLeave",N="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(mt=tl,G="onPointerLeave",N="onPointerEnter",M="pointer"),Xt=B==null?U:Ln(B),D=Et==null?U:Ln(Et),U=new mt(G,M+"leave",B,a,q),U.target=Xt,U.relatedTarget=D,G=null,ui(q)===P&&(mt=new mt(N,M+"enter",Et,a,q),mt.target=D,mt.relatedTarget=Xt,G=mt),Xt=G,B&&Et)e:{for(mt=B,N=Et,M=0,D=mt;D;D=so(D))M++;for(D=0,G=N;G;G=so(G))D++;for(;0<M-D;)mt=so(mt),M--;for(;0<D-M;)N=so(N),D--;for(;M--;){if(mt===N||N!==null&&mt===N.alternate)break e;mt=so(mt),N=so(N)}mt=null}else mt=null;B!==null&&yv(W,U,B,mt,!1),Et!==null&&Xt!==null&&yv(W,Xt,Et,mt,!0)}}t:{if(U=P?Ln(P):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var ut=Ds;else if(Zi(U))if(il)ut=If;else{ut=Nf;var At=rl}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&Pr(P.elementType)&&(ut=Ds):ut=Xn;if(ut&&(ut=ut(e,P))){uc(W,ut,a,q);break t}At&&At(e,U,P),e==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&Cs(U,"number",U.value)}switch(At=P?Ln(P):window,e){case"focusin":(Zi(At)||At.contentEditable==="true")&&(bn=At,zs=P,ji=null);break;case"focusout":ji=zs=bn=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,hc(W,a,q);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":hc(W,a,q)}var dt;if(Hi)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ns?Ma(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(nl&&a.locale!=="ko"&&(Ns||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ns&&(dt=Ls()):(In=q,Wn="value"in In?In.value:In.textContent,Ns=!0)),At=Qc(P,gt),0<At.length&&(gt=new yn(gt,e,null,a,q),W.push({event:gt,listeners:At}),dt?gt.data=dt:(dt=oc(a),dt!==null&&(gt.data=dt)))),(dt=rc?lc(e,a):Mf(e,a))&&(gt=Qc(P,"onBeforeInput"),0<gt.length&&(At=new yn("onBeforeInput","beforeinput",null,a,q),W.push({event:At,listeners:gt}),At.data=dt)),US(W,e,P,a,q)}gv(W,n)})}function Il(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Qc(e,n){for(var a=n+"Capture",u=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ht(e,a),f!=null&&u.unshift(Il(e,f,p)),f=Ht(e,n),f!=null&&u.push(Il(e,f,p))),e.tag===3)return u;e=e.return}return[]}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yv(e,n,a,u,f){for(var p=n._reactName,b=[];a!==null&&a!==u;){var w=a,O=w.alternate,P=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||P===null||(O=P,f?(P=Ht(a,p),P!=null&&b.unshift(Il(a,P,O))):f||(P=Ht(a,p),P!=null&&b.push(Il(a,P,O)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var jS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function Ev(e){return(typeof e=="string"?e:""+e).replace(jS,`
`).replace(VS,"")}function bv(e,n){return n=Ev(n),Ev(e)===n}function $c(){}function Kt(e,n,a,u,f,p){switch(a){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Mn(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Mn(e,""+u);break;case"className":Ta(e,"class",u);break;case"tabIndex":Ta(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(e,a,u);break;case"style":xs(e,u,p);break;case"data":if(n!=="object"){Ta(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=As(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",f.name,f,null),Kt(e,n,"formEncType",f.formEncType,f,null),Kt(e,n,"formMethod",f.formMethod,f,null),Kt(e,n,"formTarget",f.formTarget,f,null)):(Kt(e,n,"encType",f.encType,f,null),Kt(e,n,"method",f.method,f,null),Kt(e,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=As(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=$c);break;case"onScroll":u!=null&&Lt("scroll",e);break;case"onScrollEnd":u!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=As(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Sa(e,"popover",u);break;case"xlinkActuate":Yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Sa(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wo.get(a)||a,Sa(e,a,u))}}function Gd(e,n,a,u,f,p){switch(a){case"style":xs(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof u=="string"?Mn(e,u):(typeof u=="number"||typeof u=="bigint")&&Mn(e,""+u);break;case"onScroll":u!=null&&Lt("scroll",e);break;case"onScrollEnd":u!=null&&Lt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wu.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),p=e[Fe]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Sa(e,a,u)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Kt(e,n,p,b,a,null)}}f&&Kt(e,n,"srcSet",a.srcSet,a,null),u&&Kt(e,n,"src",a.src,a,null);return;case"input":Lt("invalid",e);var w=p=b=f=null,O=null,P=null;for(u in a)if(a.hasOwnProperty(u)){var q=a[u];if(q!=null)switch(u){case"name":f=q;break;case"type":b=q;break;case"checked":O=q;break;case"defaultChecked":P=q;break;case"value":p=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,n));break;default:Kt(e,n,u,q,a,null)}}Xu(e,p,w,O,P,b,f,!1),ws(e);return;case"select":Lt("invalid",e),u=b=p=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Kt(e,n,f,w,a,null)}n=p,a=b,e.multiple=!!u,n!=null?cn(e,!!u,n,!1):a!=null&&cn(e,!!u,a,!0);return;case"textarea":Lt("invalid",e),p=f=u=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:Kt(e,n,b,w,a,null)}ci(e,u,f,p),ws(e);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Kt(e,n,O,u,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(u=0;u<Nl.length;u++)Lt(Nl[u],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Kt(e,n,P,u,a,null)}return;default:if(Pr(n)){for(q in a)a.hasOwnProperty(q)&&(u=a[q],u!==void 0&&Gd(e,n,q,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&Kt(e,n,w,u,a,null))}function qS(e,n,a,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,w=null,O=null,P=null,q=null;for(B in a){var W=a[B];if(a.hasOwnProperty(B)&&W!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":O=W;default:u.hasOwnProperty(B)||Kt(e,n,B,null,u,W)}}for(var U in u){var B=u[U];if(W=a[U],u.hasOwnProperty(U)&&(B!=null||W!=null))switch(U){case"type":p=B;break;case"name":f=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":b=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,n));break;default:B!==W&&Kt(e,n,U,B,u,W)}}Ye(e,b,w,O,P,q,p,f);return;case"select":B=b=w=U=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":B=O;default:u.hasOwnProperty(p)||Kt(e,n,p,null,u,O)}for(f in u)if(p=u[f],O=a[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":U=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==O&&Kt(e,n,f,p,u,O)}n=w,a=b,u=B,U!=null?cn(e,!!a,U,!1):!!u!=!!a&&(n!=null?cn(e,!!a,n,!0):cn(e,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Kt(e,n,w,null,u,f)}for(b in u)if(f=u[b],p=a[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":U=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==p&&Kt(e,n,b,f,u,p)}ue(e,U,B);return;case"option":for(var Et in a)if(U=a[Et],a.hasOwnProperty(Et)&&U!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Kt(e,n,Et,null,u,U)}for(O in u)if(U=u[O],B=a[O],u.hasOwnProperty(O)&&U!==B&&(U!=null||B!=null))switch(O){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Kt(e,n,O,U,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)U=a[mt],a.hasOwnProperty(mt)&&U!=null&&!u.hasOwnProperty(mt)&&Kt(e,n,mt,null,u,U);for(P in u)if(U=u[P],B=a[P],u.hasOwnProperty(P)&&U!==B&&(U!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,n));break;default:Kt(e,n,P,U,u,B)}return;default:if(Pr(n)){for(var Xt in a)U=a[Xt],a.hasOwnProperty(Xt)&&U!==void 0&&!u.hasOwnProperty(Xt)&&Gd(e,n,Xt,void 0,u,U);for(q in u)U=u[q],B=a[q],!u.hasOwnProperty(q)||U===B||U===void 0&&B===void 0||Gd(e,n,q,U,u,B);return}}for(var N in a)U=a[N],a.hasOwnProperty(N)&&U!=null&&!u.hasOwnProperty(N)&&Kt(e,n,N,null,u,U);for(W in u)U=u[W],B=a[W],!u.hasOwnProperty(W)||U===B||U==null&&B==null||Kt(e,n,W,U,u,B)}var Fd=null,Yd=null;function Jc(e){return e.nodeType===9?e:e.ownerDocument}function Sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function GS(){var e=window.event;return e&&e.type==="popstate"?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(e){return Cv.resolve(null).then(e).catch(WS)}:wv;function WS(e){setTimeout(function(){throw e})}function sr(e){return e==="head"}function xv(e,n){var a=n,u=0,f=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var b=e.ownerDocument;if(a&1&&Dl(b.documentElement),a&2&&Dl(b.body),a&4)for(a=b.head,Dl(a),b=a.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[bs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(f===0){e.removeChild(p),jl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);jl(n)}function Xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function KS(e,n,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[bs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function XS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ti(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function QS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var u=function(){n(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $d=null;function Av(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Rv(e,n,a){switch(n=Jc(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ba(e)}var Hn=new Map,Ov=new Set;function th(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=it.d;it.d={f:$S,r:JS,D:tT,C:eT,L:nT,m:iT,X:rT,S:sT,M:aT};function $S(){var e=es.f(),n=Gc();return e||n}function JS(e){var n=Ri(e);n!==null&&n.tag===5&&n.type==="form"?Km(n):es.r(e)}var ro=typeof document>"u"?null:document;function Lv(e,n,a){var u=ro;if(u&&typeof n=="string"&&n){var f=Ue(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ov.has(f)||(Ov.add(f),e={rel:e,crossOrigin:a,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),je(n,"link",e),Ee(n),u.head.appendChild(n)))}}function tT(e){es.D(e),Lv("dns-prefetch",e,null)}function eT(e,n){es.C(e,n),Lv("preconnect",e,n)}function nT(e,n,a){es.L(e,n,a);var u=ro;if(u&&e&&n){var f='link[rel="preload"][as="'+Ue(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ue(a.imageSizes)+'"]')):f+='[href="'+Ue(e)+'"]';var p=f;switch(n){case"style":p=ao(e);break;case"script":p=oo(e)}Hn.has(p)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Hn.set(p,e),u.querySelector(f)!==null||n==="style"&&u.querySelector(Pl(p))||n==="script"&&u.querySelector(kl(p))||(n=u.createElement("link"),je(n,"link",e),Ee(n),u.head.appendChild(n)))}}function iT(e,n){es.m(e,n);var a=ro;if(a&&e){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ue(u)+'"][href="'+Ue(e)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=oo(e)}if(!Hn.has(p)&&(e=T({rel:"modulepreload",href:e},n),Hn.set(p,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(p)))return}u=a.createElement("link"),je(u,"link",e),Ee(u),a.head.appendChild(u)}}}function sT(e,n,a){es.S(e,n,a);var u=ro;if(u&&e){var f=Oi(u).hoistableStyles,p=ao(e);n=n||"default";var b=f.get(p);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Pl(p)))w.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Hn.get(p))&&Jd(e,a);var O=b=u.createElement("link");Ee(O),je(O,"link",e),O._p=new Promise(function(P,q){O.onload=P,O.onerror=q}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eh(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(p,b)}}}function rT(e,n){es.X(e,n);var a=ro;if(a&&e){var u=Oi(a).hoistableScripts,f=oo(e),p=u.get(f);p||(p=a.querySelector(kl(f)),p||(e=T({src:e,async:!0},n),(n=Hn.get(f))&&t_(e,n),p=a.createElement("script"),Ee(p),je(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function aT(e,n){es.M(e,n);var a=ro;if(a&&e){var u=Oi(a).hoistableScripts,f=oo(e),p=u.get(f);p||(p=a.querySelector(kl(f)),p||(e=T({src:e,async:!0,type:"module"},n),(n=Hn.get(f))&&t_(e,n),p=a.createElement("script"),Ee(p),je(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Mv(e,n,a,u){var f=(f=nt.current)?th(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ao(a.href),a=Oi(f).hoistableStyles,u=a.get(n),u||(u={type:"style",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ao(a.href);var p=Oi(f).hoistableStyles,b=p.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=f.querySelector(Pl(e)))&&!p._p&&(b.instance=p,b.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),p||oT(f,e,a,b.state))),n&&u===null)throw Error(o(528,""));return b}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(a),a=Oi(f).hoistableScripts,u=a.get(n),u||(u={type:"script",instance:null,count:0,state:null},a.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ao(e){return'href="'+Ue(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function Nv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function oT(e,n,a,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),je(n,"link",a),Ee(n),e.head.appendChild(n))}function oo(e){return'[src="'+Ue(e)+'"]'}function kl(e){return"script[async]"+e}function Iv(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(u)return n.instance=u,Ee(u),u;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ee(u),je(u,"style",f),eh(u,a.precedence,e),n.instance=u;case"stylesheet":f=ao(a.href);var p=e.querySelector(Pl(f));if(p)return n.state.loading|=4,n.instance=p,Ee(p),p;u=Nv(a),(f=Hn.get(f))&&Jd(u,f),p=(e.ownerDocument||e).createElement("link"),Ee(p);var b=p;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),je(p,"link",u),n.state.loading|=4,eh(p,a.precedence,e),n.instance=p;case"script":return p=oo(a.src),(f=e.querySelector(kl(p)))?(n.instance=f,Ee(f),f):(u=a,(f=Hn.get(p))&&(u=T({},a),t_(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ee(f),je(f,"link",u),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,eh(u,a.precedence,e));return n.instance}function eh(e,n,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===n)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function t_(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var nh=null;function Dv(e,n,a){if(nh===null){var u=new Map,f=nh=new Map;f.set(a,u)}else f=nh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[bs]||p[Re]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=e+b;var w=u.get(b);w?w.push(p):u.set(b,[p])}}return u}function Pv(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function lT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zl=null;function uT(){}function cT(e,n,a){if(zl===null)throw Error(o(475));var u=zl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ao(a.href),p=e.querySelector(Pl(f));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=ih.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=p,Ee(p);return}p=e.ownerDocument||e,a=Nv(a),(f=Hn.get(f))&&Jd(a,f),p=p.createElement("link"),Ee(p);var b=p;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),je(p,"link",a),n.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=ih.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function hT(){if(zl===null)throw Error(o(475));var e=zl;return e.stylesheets&&e.count===0&&e_(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&e_(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)e_(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sh=null;function e_(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sh=new Map,n.forEach(fT,e),sh=null,ih.call(e))}function fT(e,n){if(!(n.state.loading&4)){var a=sh.get(e);if(a)var u=a.get(null);else{a=new Map,sh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(null,u)}f=n.instance,b=f.getAttribute("data-precedence"),p=a.get(b)||u,p===u&&a.set(null,f),a.set(b,f),this.count++,u=ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ul={$$typeof:at,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function dT(e,n,a,u,f,p,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function zv(e,n,a,u,f,p,b,w,O,P,q,W){return e=new dT(e,n,a,b,w,O,P,W),n=1,p===!0&&(n|=24),p=sn(3,null,null,n),e.current=p,p.stateNode=e,n=kf(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:n},Hf(p),e}function Uv(e){return e?(e=Fi,e):Fi}function Bv(e,n,a,u,f,p){f=Uv(f),u.context===null?u.context=f:u.pendingContext=f,u=Gs(n),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=Fs(e,u,n),a!==null&&(On(a,e,n),_l(a,e,n))}function Hv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function n_(e,n){Hv(e,n),(e=e.alternate)&&Hv(e,n)}function Zv(e){if(e.tag===13){var n=Hs(e,67108864);n!==null&&On(n,e,67108864),n_(e,67108864)}}var rh=!0;function _T(e,n,a,u){var f=Z.T;Z.T=null;var p=it.p;try{it.p=2,i_(e,n,a,u)}finally{it.p=p,Z.T=f}}function pT(e,n,a,u){var f=Z.T;Z.T=null;var p=it.p;try{it.p=8,i_(e,n,a,u)}finally{it.p=p,Z.T=f}}function i_(e,n,a,u){if(rh){var f=s_(u);if(f===null)qd(e,n,u,ah,a),Vv(e,u);else if(gT(f,e,n,a,u))u.stopPropagation();else if(Vv(e,u),n&4&&-1<mT.indexOf(e)){for(;f!==null;){var p=Ri(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=oi(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-Qe(b);w.entanglements[1]|=O,b&=~O}Ei(p),(Ft&6)===0&&(Vc=ln()+500,Ml(0))}}break;case 13:w=Hs(p,2),w!==null&&On(w,p,2),Gc(),n_(p,2)}if(p=s_(u),p===null&&qd(e,n,u,ah,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else qd(e,n,u,null,a)}}function s_(e){return e=Rs(e),r_(e)}var ah=null;function r_(e){if(ah=null,e=ui(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=_(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ah=e,null}function jv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Uu:return 2;case Ho:return 8;case gs:case Bu:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var a_=!1,rr=null,ar=null,or=null,Bl=new Map,Hl=new Map,lr=[],mT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(e,n){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Zl(e,n,a,u,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Ri(n),n!==null&&Zv(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function gT(e,n,a,u,f){switch(n){case"focusin":return rr=Zl(rr,e,n,a,u,f),!0;case"dragenter":return ar=Zl(ar,e,n,a,u,f),!0;case"mouseover":return or=Zl(or,e,n,a,u,f),!0;case"pointerover":var p=f.pointerId;return Bl.set(p,Zl(Bl.get(p)||null,e,n,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Hl.set(p,Zl(Hl.get(p)||null,e,n,a,u,f)),!0}return!1}function qv(e){var n=ui(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=_(a),n!==null){e.blockedOn=n,Go(e.priority,function(){if(a.tag===13){var u=Rn();u=Vo(u);var f=Hs(a,u);f!==null&&On(f,a,u),n_(a,u)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oh(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=s_(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);kr=u,a.target.dispatchEvent(u),kr=null}else return n=Ri(a),n!==null&&Zv(n),e.blockedOn=a,!1;n.shift()}return!0}function Gv(e,n,a){oh(e)&&a.delete(n)}function vT(){a_=!1,rr!==null&&oh(rr)&&(rr=null),ar!==null&&oh(ar)&&(ar=null),or!==null&&oh(or)&&(or=null),Bl.forEach(Gv),Hl.forEach(Gv)}function lh(e,n){e.blockedOn===n&&(e.blockedOn=null,a_||(a_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vT)))}var uh=null;function Fv(e){uh!==e&&(uh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===e&&(uh=null);for(var n=0;n<e.length;n+=3){var a=e[n],u=e[n+1],f=e[n+2];if(typeof u!="function"){if(r_(u||a)===null)continue;break}var p=Ri(a);p!==null&&(e.splice(n,3),n-=3,rd(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function jl(e){function n(O){return lh(O,e)}rr!==null&&lh(rr,e),ar!==null&&lh(ar,e),or!==null&&lh(or,e),Bl.forEach(n),Hl.forEach(n);for(var a=0;a<lr.length;a++){var u=lr[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],b=f[Fe]||null;if(typeof p=="function")b||Fv(a);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Fe]||null)w=b.formAction;else if(r_(f)!==null)continue}else w=b.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),Fv(a)}}}function o_(e){this._internalRoot=e}ch.prototype.render=o_.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,u=Rn();Bv(a,u,e,n,null,null)},ch.prototype.unmount=o_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bv(e.current,2,null,e,null,null),Gc(),n[Es]=null}};function ch(e){this._internalRoot=e}ch.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<lr.length&&n!==0&&n<lr[a].priority;a++);lr.splice(a,0,e),a===0&&qv(e)}};var Yv=t.version;if(Yv!=="19.1.1")throw Error(o(527,Yv,"19.1.1"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var yT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Ai=hh.inject(yT),Ge=hh}catch{}}return ql.createRoot=function(e,n){if(!c(e))throw Error(o(299));var a=!1,u="",f=ug,p=cg,b=hg,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=zv(e,1,!1,null,null,a,u,f,p,b,w,null),e[Es]=n.current,Vd(e),new o_(n)},ql.hydrateRoot=function(e,n,a){if(!c(e))throw Error(o(299));var u=!1,f="",p=ug,b=cg,w=hg,O=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=zv(e,1,!0,n,a??null,u,f,p,b,w,O,P),n.context=Uv(null),a=n.current,u=Rn(),u=Vo(u),f=Gs(u),f.callback=null,Fs(a,f,u),a=u,n.current.lanes=a,ys(n,a),Ei(n),e[Es]=n.current,Vd(e),new ch(n)},ql.version="19.1.1",ql}var iy;function RT(){if(iy)return c_.exports;iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),c_.exports=AT(),c_.exports}var OT=RT();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sy="popstate";function LT(r={}){function t(o,c){let{pathname:d,search:_,hash:g}=o.location;return M_("",{pathname:d,search:_,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:uu(c)}return NT(t,i,null,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ti(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function ry(r,t){return{usr:r.state,key:r.key,idx:t}}function M_(r,t,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ao(t):t,state:i,key:t&&t.key||o||MT()}}function uu({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ao(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(t.search=r.substring(o),r=r.substring(0,o)),r&&(t.pathname=r)}return t}function NT(r,t,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,_=c.history,g="POP",v=null,E=T();E==null&&(E=0,_.replaceState({..._.state,idx:E},""));function T(){return(_.state||{idx:null}).idx}function C(){g="POP";let Q=T(),st=Q==null?null:Q-E;E=Q,v&&v({action:g,location:Y.location,delta:st})}function x(Q,st){g="PUSH";let et=M_(Y.location,Q,st);E=T()+1;let at=ry(et,E),Dt=Y.createHref(et);try{_.pushState(at,"",Dt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;c.location.assign(Dt)}d&&v&&v({action:g,location:Y.location,delta:1})}function k(Q,st){g="REPLACE";let et=M_(Y.location,Q,st);E=T();let at=ry(et,E),Dt=Y.createHref(et);_.replaceState(at,"",Dt),d&&v&&v({action:g,location:Y.location,delta:0})}function j(Q){return IT(Q)}let Y={get action(){return g},get location(){return r(c,_)},listen(Q){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(sy,C),v=Q,()=>{c.removeEventListener(sy,C),v=null}},createHref(Q){return t(c,Q)},createURL:j,encodeLocation(Q){let st=j(Q);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:x,replace:k,go(Q){return _.go(Q)}};return Y}function IT(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),fe(i,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:uu(r);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function CE(r,t,i="/"){return DT(r,t,i,!1)}function DT(r,t,i,o){let c=typeof t=="string"?Ao(t):t,d=cs(c.pathname||"/",i);if(d==null)return null;let _=xE(r);PT(_);let g=null;for(let v=0;g==null&&v<_.length;++v){let E=FT(d);g=qT(_[v],E,o)}return g}function xE(r,t=[],i=[],o="",c=!1){let d=(_,g,v=c,E)=>{let T={relativePath:E===void 0?_.path||"":E,caseSensitive:_.caseSensitive===!0,childrenIndex:g,route:_};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(o)&&v)return;fe(T.relativePath.startsWith(o),`Absolute route path "${T.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(o.length)}let C=as([o,T.relativePath]),x=i.concat(T);_.children&&_.children.length>0&&(fe(_.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),xE(_.children,t,x,C,v)),!(_.path==null&&!_.index)&&t.push({path:C,score:jT(C,_.index),routesMeta:x})};return r.forEach((_,g)=>{if(_.path===""||!_.path?.includes("?"))d(_,g);else for(let v of AE(_.path))d(_,g,!0,v)}),t}function AE(r){let t=r.split("/");if(t.length===0)return[];let[i,...o]=t,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let _=AE(o.join("/")),g=[];return g.push(..._.map(v=>v===""?d:[d,v].join("/"))),c&&g.push(..._),g.map(v=>r.startsWith("/")&&v===""?"/":v)}function PT(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:VT(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var kT=/^:[\w-]+$/,zT=3,UT=2,BT=1,HT=10,ZT=-2,ay=r=>r==="*";function jT(r,t){let i=r.split("/"),o=i.length;return i.some(ay)&&(o+=ZT),t&&(o+=UT),i.filter(c=>!ay(c)).reduce((c,d)=>c+(kT.test(d)?zT:d===""?BT:HT),o)}function VT(r,t){return r.length===t.length&&r.slice(0,-1).every((o,c)=>o===t[c])?r[r.length-1]-t[t.length-1]:0}function qT(r,t,i=!1){let{routesMeta:o}=r,c={},d="/",_=[];for(let g=0;g<o.length;++g){let v=o[g],E=g===o.length-1,T=d==="/"?t:t.slice(d.length)||"/",C=wh({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},T),x=v.route;if(!C&&E&&i&&!o[o.length-1].route.index&&(C=wh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!C)return null;Object.assign(c,C.params),_.push({params:c,pathname:as([d,C.pathname]),pathnameBase:XT(as([d,C.pathnameBase])),route:x}),C.pathnameBase!=="/"&&(d=as([d,C.pathnameBase]))}return _}function wh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=GT(r.path,r.caseSensitive,r.end),c=t.match(i);if(!c)return null;let d=c[0],_=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((E,{paramName:T,isOptional:C},x)=>{if(T==="*"){let j=g[x]||"";_=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const k=g[x];return C&&!k?E[T]=void 0:E[T]=(k||"").replace(/%2F/g,"/"),E},{}),pathname:d,pathnameBase:_,pattern:r}}function GT(r,t=!1,i=!0){Ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,g,v)=>(o.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function FT(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function cs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function YT(r,t="/"){let{pathname:i,search:o="",hash:c=""}=typeof r=="string"?Ao(r):r;return{pathname:i?i.startsWith("/")?i:WT(i,t):t,search:QT(o),hash:$T(c)}}function WT(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function __(r,t,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KT(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function RE(r){let t=KT(r);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function OE(r,t,i,o=!1){let c;typeof r=="string"?c=Ao(r):(c={...r},fe(!c.pathname||!c.pathname.includes("?"),__("?","pathname","search",c)),fe(!c.pathname||!c.pathname.includes("#"),__("#","pathname","hash",c)),fe(!c.search||!c.search.includes("#"),__("#","search","hash",c)));let d=r===""||c.pathname==="",_=d?"/":c.pathname,g;if(_==null)g=i;else{let C=t.length-1;if(!o&&_.startsWith("..")){let x=_.split("/");for(;x[0]==="..";)x.shift(),C-=1;c.pathname=x.join("/")}g=C>=0?t[C]:"/"}let v=YT(c,g),E=_&&_!=="/"&&_.endsWith("/"),T=(d||_===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(E||T)&&(v.pathname+="/"),v}var as=r=>r.join("/").replace(/\/\/+/g,"/"),XT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$T=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var tw=["GET",...LE];new Set(tw);var Ro=z.createContext(null);Ro.displayName="DataRouter";var Wh=z.createContext(null);Wh.displayName="DataRouterState";z.createContext(!1);var ME=z.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var ew=z.createContext(new Map);ew.displayName="Fetchers";var nw=z.createContext(null);nw.displayName="Await";var wi=z.createContext(null);wi.displayName="Navigation";var Su=z.createContext(null);Su.displayName="Location";var _s=z.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var sp=z.createContext(null);sp.displayName="RouteError";function iw(r,{relative:t}={}){fe(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=z.useContext(wi),{hash:c,pathname:d,search:_}=wu(r,{relative:t}),g=d;return i!=="/"&&(g=d==="/"?i:as([i,d])),o.createHref({pathname:g,search:_,hash:c})}function Tu(){return z.useContext(Su)!=null}function xr(){return fe(Tu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Su).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IE(r){z.useContext(wi).static||z.useLayoutEffect(r)}function DE(){let{isDataRoute:r}=z.useContext(_s);return r?mw():sw()}function sw(){fe(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ro),{basename:t,navigator:i}=z.useContext(wi),{matches:o}=z.useContext(_s),{pathname:c}=xr(),d=JSON.stringify(RE(o)),_=z.useRef(!1);return IE(()=>{_.current=!0}),z.useCallback((v,E={})=>{if(Ti(_.current,NE),!_.current)return;if(typeof v=="number"){i.go(v);return}let T=OE(v,JSON.parse(d),c,E.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:as([t,T.pathname])),(E.replace?i.replace:i.push)(T,E.state,E)},[t,i,d,c,r])}z.createContext(null);function wu(r,{relative:t}={}){let{matches:i}=z.useContext(_s),{pathname:o}=xr(),c=JSON.stringify(RE(i));return z.useMemo(()=>OE(r,JSON.parse(c),o,t==="path"),[r,c,o,t])}function rw(r,t){return PE(r,t)}function PE(r,t,i,o,c){fe(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=z.useContext(wi),{matches:_}=z.useContext(_s),g=_[_.length-1],v=g?g.params:{},E=g?g.pathname:"/",T=g?g.pathnameBase:"/",C=g&&g.route;{let et=C&&C.path||"";kE(E,!C||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let x=xr(),k;if(t){let et=typeof t=="string"?Ao(t):t;fe(T==="/"||et.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),k=et}else k=x;let j=k.pathname||"/",Y=j;if(T!=="/"){let et=T.replace(/^\//,"").split("/");Y="/"+j.replace(/^\//,"").split("/").slice(et.length).join("/")}let Q=CE(r,{pathname:Y});Ti(C||Q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ti(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=cw(Q&&Q.map(et=>Object.assign({},et,{params:Object.assign({},v,et.params),pathname:as([T,d.encodeLocation?d.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:as([T,d.encodeLocation?d.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),_,i,o,c);return t&&st?z.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},st):st}function aw(){let r=pw(),t=JT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},_=null;return console.error("Error handled by React Router default ErrorBoundary:",r),_=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:d},"ErrorBoundary")," or"," ",z.createElement("code",{style:d},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),i?z.createElement("pre",{style:c},i):null,_)}var ow=z.createElement(aw,null),lw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(_s.Provider,{value:this.props.routeContext},z.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uw({routeContext:r,match:t,children:i}){let o=z.useContext(Ro);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(_s.Provider,{value:r},i)}function cw(r,t=[],i=null,o=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,_=i?.errors;if(_!=null){let E=d.findIndex(T=>T.route.id&&_?.[T.route.id]!==void 0);fe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(_).join(",")}`),d=d.slice(0,Math.min(d.length,E+1))}let g=!1,v=-1;if(i)for(let E=0;E<d.length;E++){let T=d[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=E),T.route.id){let{loaderData:C,errors:x}=i,k=T.route.loader&&!C.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||k){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((E,T,C)=>{let x,k=!1,j=null,Y=null;i&&(x=_&&T.route.id?_[T.route.id]:void 0,j=T.route.errorElement||ow,g&&(v<0&&C===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):v===C&&(k=!0,Y=T.route.hydrateFallbackElement||null)));let Q=t.concat(d.slice(0,C+1)),st=()=>{let et;return x?et=j:k?et=Y:T.route.Component?et=z.createElement(T.route.Component,null):T.route.element?et=T.route.element:et=E,z.createElement(uw,{match:T,routeContext:{outlet:E,matches:Q,isDataRoute:i!=null},children:et})};return i&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?z.createElement(lw,{location:i.location,revalidation:i.revalidation,component:j,error:x,children:st(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},unstable_onError:o}):st()},null)}function rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(r){let t=z.useContext(Ro);return fe(t,rp(r)),t}function fw(r){let t=z.useContext(Wh);return fe(t,rp(r)),t}function dw(r){let t=z.useContext(_s);return fe(t,rp(r)),t}function ap(r){let t=dw(r),i=t.matches[t.matches.length-1];return fe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function _w(){return ap("useRouteId")}function pw(){let r=z.useContext(sp),t=fw("useRouteError"),i=ap("useRouteError");return r!==void 0?r:t.errors?.[i]}function mw(){let{router:r}=hw("useNavigate"),t=ap("useNavigate"),i=z.useRef(!1);return IE(()=>{i.current=!0}),z.useCallback(async(c,d={})=>{Ti(i.current,NE),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:t,...d}))},[r,t])}var oy={};function kE(r,t,i){!t&&!oy[r]&&(oy[r]=!0,Ti(!1,i))}z.memo(gw);function gw({routes:r,future:t,state:i,unstable_onError:o}){return PE(r,void 0,i,o,t)}function uo(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vw({basename:r="/",children:t=null,location:i,navigationType:o="POP",navigator:c,static:d=!1}){fe(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=r.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:_,navigator:c,static:d,future:{}}),[_,c,d]);typeof i=="string"&&(i=Ao(i));let{pathname:v="/",search:E="",hash:T="",state:C=null,key:x="default"}=i,k=z.useMemo(()=>{let j=cs(v,_);return j==null?null:{location:{pathname:j,search:E,hash:T,state:C,key:x},navigationType:o}},[_,v,E,T,C,x,o]);return Ti(k!=null,`<Router basename="${_}"> is not able to match the URL "${v}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(wi.Provider,{value:g},z.createElement(Su.Provider,{children:t,value:k}))}function yw({children:r,location:t}){return rw(N_(r),t)}function N_(r,t=[]){let i=[];return z.Children.forEach(r,(o,c)=>{if(!z.isValidElement(o))return;let d=[...t,c];if(o.type===z.Fragment){i.push.apply(i,N_(o.props.children,d));return}fe(o.type===uo,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let _={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(_.children=N_(o.props.children,d)),i.push(_)}),i}var gh="get",vh="application/x-www-form-urlencoded";function Kh(r){return r!=null&&typeof r.tagName=="string"}function Ew(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function bw(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function Sw(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function Tw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ww(r,t){return r.button===0&&(!t||t==="_self")&&!Tw(r)}var fh=null;function Cw(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p_(r){return r!=null&&!xw.has(r)?(Ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function Aw(r,t){let i,o,c,d,_;if(bw(r)){let g=r.getAttribute("action");o=g?cs(g,t):null,i=r.getAttribute("method")||gh,c=p_(r.getAttribute("enctype"))||vh,d=new FormData(r)}else if(Ew(r)||Sw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||g.getAttribute("action");if(o=v?cs(v,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||gh,c=p_(r.getAttribute("formenctype"))||p_(g.getAttribute("enctype"))||vh,d=new FormData(g,r),!Cw()){let{name:E,type:T,value:C}=r;if(T==="image"){let x=E?`${E}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else E&&d.append(E,C)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=gh,o=null,c=vh,_=r}return d&&c==="text/plain"&&(_=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:_}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Rw(r,t,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${i}`:t&&cs(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Ow(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Mw(r,t,i){let o=await Promise.all(r.map(async c=>{let d=t.routes[c.route.id];if(d){let _=await Ow(d,i);return _.links?_.links():[]}return[]}));return Pw(o.flat(1).filter(Lw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ly(r,t,i,o,c,d){let _=(v,E)=>i[E]?v.route.id!==i[E].route.id:!0,g=(v,E)=>i[E].pathname!==v.pathname||i[E].route.path?.endsWith("*")&&i[E].params["*"]!==v.params["*"];return d==="assets"?t.filter((v,E)=>_(v,E)||g(v,E)):d==="data"?t.filter((v,E)=>{let T=o.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(_(v,E)||g(v,E))return!0;if(v.route.shouldRevalidate){let C=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Nw(r,t,{includeHydrateFallback:i}={}){return Iw(r.map(o=>{let c=t.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Iw(r){return[...new Set(r)]}function Dw(r){let t={},i=Object.keys(r).sort();for(let o of i)t[o]=r[o];return t}function Pw(r,t){let i=new Set;return new Set(t),r.reduce((o,c)=>{let d=JSON.stringify(Dw(c));return i.has(d)||(i.add(d),o.push({key:d,link:c})),o},[])}function zE(){let r=z.useContext(Ro);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kw(){let r=z.useContext(Wh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=z.createContext(void 0);lp.displayName="FrameworkContext";function UE(){let r=z.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,t){let i=z.useContext(lp),[o,c]=z.useState(!1),[d,_]=z.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:E,onMouseLeave:T,onTouchStart:C}=t,x=z.useRef(null);z.useEffect(()=>{if(r==="render"&&_(!0),r==="viewport"){let Y=st=>{st.forEach(et=>{_(et.isIntersecting)})},Q=new IntersectionObserver(Y,{threshold:.5});return x.current&&Q.observe(x.current),()=>{Q.disconnect()}}},[r]),z.useEffect(()=>{if(o){let Y=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(Y)}}},[o]);let k=()=>{c(!0)},j=()=>{c(!1),_(!1)};return i?r!=="intent"?[d,x,{}]:[d,x,{onFocus:Gl(g,k),onBlur:Gl(v,j),onMouseEnter:Gl(E,k),onMouseLeave:Gl(T,j),onTouchStart:Gl(C,k)}]:[!1,x,{}]}function Gl(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Uw({page:r,...t}){let{router:i}=zE(),o=z.useMemo(()=>CE(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?z.createElement(Hw,{page:r,matches:o,...t}):null}function Bw(r){let{manifest:t,routeModules:i}=UE(),[o,c]=z.useState([]);return z.useEffect(()=>{let d=!1;return Mw(r,t,i).then(_=>{d||c(_)}),()=>{d=!0}},[r,t,i]),o}function Hw({page:r,matches:t,...i}){let o=xr(),{manifest:c,routeModules:d}=UE(),{basename:_}=zE(),{loaderData:g,matches:v}=kw(),E=z.useMemo(()=>ly(r,t,v,c,o,"data"),[r,t,v,c,o]),T=z.useMemo(()=>ly(r,t,v,c,o,"assets"),[r,t,v,c,o]),C=z.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let j=new Set,Y=!1;if(t.forEach(st=>{let et=c.routes[st.route.id];!et||!et.hasLoader||(!E.some(at=>at.route.id===st.route.id)&&st.route.id in g&&d[st.route.id]?.shouldRevalidate||et.hasClientLoader?Y=!0:j.add(st.route.id))}),j.size===0)return[];let Q=Rw(r,_,"data");return Y&&j.size>0&&Q.searchParams.set("_routes",t.filter(st=>j.has(st.route.id)).map(st=>st.route.id).join(",")),[Q.pathname+Q.search]},[_,g,o,c,E,t,r,d]),x=z.useMemo(()=>Nw(T,c),[T,c]),k=Bw(T);return z.createElement(z.Fragment,null,C.map(j=>z.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...i})),x.map(j=>z.createElement("link",{key:j,rel:"modulepreload",href:j,...i})),k.map(({key:j,link:Y})=>z.createElement("link",{key:j,nonce:i.nonce,...Y})))}function Zw(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.9.5")}catch{}function jw({basename:r,children:t,window:i}){let o=z.useRef();o.current==null&&(o.current=LT({window:i,v5Compat:!0}));let c=o.current,[d,_]=z.useState({action:c.action,location:c.location}),g=z.useCallback(v=>{z.startTransition(()=>_(v))},[_]);return z.useLayoutEffect(()=>c.listen(g),[c,g]),z.createElement(vw,{basename:r,children:t,location:d.location,navigationType:d.action,navigator:c})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=z.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:_,state:g,target:v,to:E,preventScrollReset:T,viewTransition:C,...x},k){let{basename:j}=z.useContext(wi),Y=typeof E=="string"&&HE.test(E),Q,st=!1;if(typeof E=="string"&&Y&&(Q=E,BE))try{let Bt=new URL(window.location.href),ye=E.startsWith("//")?new URL(Bt.protocol+E):new URL(E),zt=cs(ye.pathname,j);ye.origin===Bt.origin&&zt!=null?E=zt+ye.search+ye.hash:st=!0}catch{Ti(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=iw(E,{relative:c}),[at,Dt,_t]=zw(o,x),pt=Fw(E,{replace:_,state:g,target:v,preventScrollReset:T,relative:c,viewTransition:C});function It(Bt){t&&t(Bt),Bt.defaultPrevented||pt(Bt)}let Gt=z.createElement("a",{...x,..._t,href:Q||et,onClick:st||d?t:It,ref:Zw(k,Dt),target:v,"data-discover":!Y&&i==="render"?"true":void 0});return at&&!Y?z.createElement(z.Fragment,null,Gt,z.createElement(Uw,{page:et})):Gt});ZE.displayName="Link";var Vw=z.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:_,viewTransition:g,children:v,...E},T){let C=wu(_,{relative:E.relative}),x=xr(),k=z.useContext(Wh),{navigator:j,basename:Y}=z.useContext(wi),Q=k!=null&&Qw(C)&&g===!0,st=j.encodeLocation?j.encodeLocation(C).pathname:C.pathname,et=x.pathname,at=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(et=et.toLowerCase(),at=at?at.toLowerCase():null,st=st.toLowerCase()),at&&Y&&(at=cs(at,Y)||at);const Dt=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let _t=et===st||!c&&et.startsWith(st)&&et.charAt(Dt)==="/",pt=at!=null&&(at===st||!c&&at.startsWith(st)&&at.charAt(st.length)==="/"),It={isActive:_t,isPending:pt,isTransitioning:Q},Gt=_t?t:void 0,Bt;typeof o=="function"?Bt=o(It):Bt=[o,_t?"active":null,pt?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let ye=typeof d=="function"?d(It):d;return z.createElement(ZE,{...E,"aria-current":Gt,className:Bt,ref:T,style:ye,to:_,viewTransition:g},typeof v=="function"?v(It):v)});Vw.displayName="NavLink";var qw=z.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:c,state:d,method:_=gh,action:g,onSubmit:v,relative:E,preventScrollReset:T,viewTransition:C,...x},k)=>{let j=Kw(),Y=Xw(g,{relative:E}),Q=_.toLowerCase()==="get"?"get":"post",st=typeof g=="string"&&HE.test(g),et=at=>{if(v&&v(at),at.defaultPrevented)return;at.preventDefault();let Dt=at.nativeEvent.submitter,_t=Dt?.getAttribute("formmethod")||_;j(Dt||at.currentTarget,{fetcherKey:t,method:_t,navigate:i,replace:c,state:d,relative:E,preventScrollReset:T,viewTransition:C})};return z.createElement("form",{ref:k,method:Q,action:Y,onSubmit:o?v:et,...x,"data-discover":!st&&r==="render"?"true":void 0})});qw.displayName="Form";function Gw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(r){let t=z.useContext(Ro);return fe(t,Gw(r)),t}function Fw(r,{target:t,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:_}={}){let g=DE(),v=xr(),E=wu(r,{relative:d});return z.useCallback(T=>{if(ww(T,t)){T.preventDefault();let C=i!==void 0?i:uu(v)===uu(E);g(r,{replace:C,state:o,preventScrollReset:c,relative:d,viewTransition:_})}},[v,g,E,i,o,t,r,c,d,_])}var Yw=0,Ww=()=>`__${String(++Yw)}__`;function Kw(){let{router:r}=jE("useSubmit"),{basename:t}=z.useContext(wi),i=_w();return z.useCallback(async(o,c={})=>{let{action:d,method:_,encType:g,formData:v,body:E}=Aw(o,t);if(c.navigate===!1){let T=c.fetcherKey||Ww();await r.fetch(T,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||_,formEncType:c.encType||g,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||_,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,t,i])}function Xw(r,{relative:t}={}){let{basename:i}=z.useContext(wi),o=z.useContext(_s);fe(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...wu(r||".",{relative:t})},_=xr();if(r==null){d.search=_.search;let g=new URLSearchParams(d.search),v=g.getAll("index");if(v.some(T=>T==="")){g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let T=g.toString();d.search=T?`?${T}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:as([i,d.pathname])),uu(d)}function Qw(r,{relative:t}={}){let i=z.useContext(ME);fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=jE("useViewTransitionState"),c=wu(r,{relative:t});if(!i.isTransitioning)return!1;let d=cs(i.currentLocation.pathname,o)||i.currentLocation.pathname,_=cs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return wh(c.pathname,_)!=null||wh(c.pathname,d)!=null}var $w=wE();const pn={MainMap:"/yatai-now/MainMap",TopPage:"/yatai-now/",VEND_LOGIN:"/yatai-now/VendorLogin",ORG_LOGIN:"/yatai-now/OrganizerLogin",VEND_UPLOAD:"/yatai-now/VendorUpload"};let I_;function Jw(r){I_=r}function os(r,t){t!==void 0?I_(r,{state:t}):I_(r)}const tC="_subtitle_uqjli_29",dh={"event-select-screen":"_event-select-screen_uqjli_1","title-container":"_title-container_uqjli_13",subtitle:tC,"event-button":"_event-button_uqjli_47"};function eC(){return F.jsxs("div",{className:`screen-general ${dh["event-select-screen"]}`,children:[F.jsxs("div",{className:dh["title-container"],children:[F.jsx("h1",{children:""}),F.jsx("p",{className:dh.subtitle,children:""})]}),F.jsx("button",{className:dh["event-button"],onClick:()=>os(pn.MainMap,"1"),children:""})]})}const uy={"leafmap-screen":"_leafmap-screen_adrle_5","header-right-buttons":"_header-right-buttons_adrle_71"};function VE(r,t){const i=z.useRef(t);z.useEffect(function(){t!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),t!=null&&r.attributionControl.addAttribution(t)),i.current=t},[r,t])}const nC=1;function iC(r){return Object.freeze({__version:nC,map:r})}function qE(r,t){return Object.freeze({...r,...t})}const up=z.createContext(null);function cp(){const r=z.use(up);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function sC(r){function t(i,o){const{instance:c,context:d}=r(i).current;z.useImperativeHandle(o,()=>c);const{children:_}=i;return _==null?null:L_.createElement(up,{value:d},_)}return z.forwardRef(t)}function rC(r){function t(i,o){const[c,d]=z.useState(!1),{instance:_}=r(i,d).current;z.useImperativeHandle(o,()=>_),z.useEffect(function(){c&&_.update()},[_,c,i.children]);const g=_._contentNode;return g?$w.createPortal(i.children,g):null}return z.forwardRef(t)}function GE(r,t){const i=z.useRef(void 0);z.useEffect(function(){return t!=null&&r.instance.on(t),i.current=t,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,t])}function FE(r,t){const i=r.pane??t.pane;return i?{...r,pane:i}:r}function aC(r,t){return function(o,c){const d=cp(),_=r(FE(o,d),d);return VE(d.map,o.attribution),GE(_.current,o.eventHandlers),t(_.current,d,o,c),_}}var Ql={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var oC=Ql.exports,cy;function lC(){return cy||(cy=1,(function(r,t){(function(i,o){o(t)})(oC,(function(i){var o="1.9.4";function c(s){var l,h,m,y;for(h=1,m=arguments.length;h<m;h++){y=arguments[h];for(l in y)s[l]=y[l]}return s}var d=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function _(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var m=h.call(arguments,2);return function(){return s.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var g=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++g),s._leaflet_id}function E(s,l,h){var m,y,S,R;return R=function(){m=!1,y&&(S.apply(h,y),y=!1)},S=function(){m?y=arguments:(s.apply(h,arguments),setTimeout(R,l),m=!0)},S}function T(s,l,h){var m=l[1],y=l[0],S=m-y;return s===m&&h?s:((s-y)%S+S)%S+y}function C(){return!1}function x(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function k(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function j(s){return k(s).split(/\s+/)}function Y(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function Q(s,l,h){var m=[];for(var y in s)m.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var st=/\{ *([\w_ -]+) *\}/g;function et(s,l){return s.replace(st,function(h,m){var y=l[m];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var at=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Dt(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var _t="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var It=0;function Gt(s){var l=+new Date,h=Math.max(0,16-(l-It));return It=l+h,window.setTimeout(s,h)}var Bt=window.requestAnimationFrame||pt("RequestAnimationFrame")||Gt,ye=window.cancelAnimationFrame||pt("CancelAnimationFrame")||pt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function zt(s,l,h){if(h&&Bt===Gt)s.call(l);else return Bt.call(window,_(s,l))}function Vt(s){s&&ye.call(window,s)}var Vn={__proto__:null,extend:c,create:d,bind:_,get lastId(){return g},stamp:v,throttle:E,wrapNum:T,falseFn:C,formatNum:x,trim:k,splitWords:j,setOptions:Y,getParamString:Q,template:et,isArray:at,indexOf:Dt,emptyImageUrl:_t,requestFn:Bt,cancelFn:ye,requestAnimFrame:zt,cancelAnimFrame:Vt};function ke(){}ke.extend=function(s){var l=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=d(h);m.constructor=l,l.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&c(l,s.statics),s.includes&&(Ae(s.includes),c.apply(null,[m].concat(s.includes))),c(m,s),delete m.statics,delete m.includes,m.options&&(m.options=h.options?d(h.options):{},c(m.options,s.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,R=m._initHooks.length;S<R;S++)m._initHooks[S].call(this)}},l},ke.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ke.mergeOptions=function(s){return c(this.prototype.options,s),this},ke.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Ae(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=at(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l);else{s=j(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var m in s)this._off(m,s[m],l);else{s=j(s);for(var y=arguments.length===1,S=0,R=s.length;S<R;S++)y?this._off(s[S]):this._off(s[S],l,h)}return this},_on:function(s,l,h,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};m&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,h){var m,y,S;if(this._events&&(m=this._events[s],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,S=m.length;y<S;y++)m[y].fn=C;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var R=this._listens(s,l,h);if(R!==!1){var I=m[R];this._firingCount&&(I.fn=C,this._events[s]=m=m.slice()),m.splice(R,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var m=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,R=y.length;S<R;S++){var I=y[S],H=I.fn;I.once&&this.off(s,H,I.ctx),H.call(I.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(s,l,h,m){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(m=!!l,y=void 0,h=void 0);var S=this._events&&this._events[s];if(S&&S.length&&this._listens(s,y,h)!==!1)return!0;if(m){for(var R in this._eventParents)if(this._eventParents[R].listens(s,l,h,m))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var m=this._events[s]||[];if(!l)return!!m.length;h===this&&(h=void 0);for(var y=0,S=m.length;y<S;y++)if(m[y].fn===l&&m[y].ctx===h)return y;return!1},once:function(s,l,h){if(typeof s=="object")for(var m in s)this._on(m,s[m],l,!0);else{s=j(s);for(var y=0,S=s.length;y<S;y++)this._on(s[y],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var it=ke.extend(Z);function X(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var qt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(s){return this.clone()._add(A(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(A(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new X(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new X(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qt(this.x),this.y=qt(this.y),this},distanceTo:function(s){s=A(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=A(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=A(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function A(s,l,h){return s instanceof X?s:at(s)?new X(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new X(s.x,s.y):new X(s,l,h)}function V(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}V.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof X||typeof s[0]=="number"||"x"in s)l=h=A(s);else if(s=tt(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof X?s=A(s):s=tt(s),s instanceof V?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=tt(s);var l=this.min,h=this.max,m=s.min,y=s.max,S=y.x>=l.x&&m.x<=h.x,R=y.y>=l.y&&m.y<=h.y;return S&&R},overlaps:function(s){s=tt(s);var l=this.min,h=this.max,m=s.min,y=s.max,S=y.x>l.x&&m.x<h.x,R=y.y>l.y&&m.y<h.y;return S&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,m=Math.abs(l.x-h.x)*s,y=Math.abs(l.y-h.y)*s;return tt(A(l.x-m,l.y-y),A(h.x+m,h.y+y))},equals:function(s){return s?(s=tt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function tt(s,l){return!s||s instanceof V?s:new V(s,l)}function $(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}$.prototype={extend:function(s){var l=this._southWest,h=this._northEast,m,y;if(s instanceof ct)m=s,y=s;else if(s instanceof $){if(m=s._southWest,y=s._northEast,!m||!y)return this}else return s?this.extend(nt(s)||ot(s)):this;return!l&&!h?(this._southWest=new ct(m.lat,m.lng),this._northEast=new ct(y.lat,y.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new $(new ct(l.lat-m,l.lng-y),new ct(h.lat+m,h.lng+y))},getCenter:function(){return new ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ct||"lat"in s?s=nt(s):s=ot(s);var l=this._southWest,h=this._northEast,m,y;return s instanceof $?(m=s.getSouthWest(),y=s.getNorthEast()):m=y=s,m.lat>=l.lat&&y.lat<=h.lat&&m.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=ot(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>=l.lat&&m.lat<=h.lat,R=y.lng>=l.lng&&m.lng<=h.lng;return S&&R},overlaps:function(s){s=ot(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast(),S=y.lat>l.lat&&m.lat<h.lat,R=y.lng>l.lng&&m.lng<h.lng;return S&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ot(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(s,l){return s instanceof $?s:new $(s,l)}function ct(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}ct.prototype={equals:function(s,l){if(!s)return!1;s=nt(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+x(this.lat,s)+", "+x(this.lng,s)+")"},distanceTo:function(s){return Ut.distance(this,nt(s))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ot([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ct(this.lat,this.lng,this.alt)}};function nt(s,l,h){return s instanceof ct?s:at(s)&&typeof s[0]!="object"?s.length===3?new ct(s[0],s[1],s[2]):s.length===2?new ct(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ct(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ct(s,l,h)}var le={latLngToPoint:function(s,l){var h=this.projection.project(s),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(s,l){var h=this.scale(l),m=this.transformation.untransform(s,h);return this.projection.unproject(m)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),m=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new V(m,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?T(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?T(s.lat,this.wrapLat,!0):s.lat,m=s.alt;return new ct(h,l,m)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,y=l.lng-h.lng;if(m===0&&y===0)return s;var S=s.getSouthWest(),R=s.getNorthEast(),I=new ct(S.lat-m,S.lng-y),H=new ct(R.lat-m,R.lng-y);return new $(I,H)}},Ut=c({},le,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,m=s.lat*h,y=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),R=Math.sin((l.lng-s.lng)*h/2),I=S*S+Math.cos(m)*Math.cos(y)*R*R,H=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*H}}),qn=6378137,Or={R:qn,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,s.lat),-h),y=Math.sin(m*l);return new X(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new ct((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=qn*Math.PI;return new V([-s,-s],[s,s])})()};function ms(s,l,h,m){if(at(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=m}ms.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new X((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function xi(s,l,h,m){return new ms(s,l,h,m)}var Lr=c({},Ut,{code:"EPSG:3857",projection:Or,transformation:(function(){var s=.5/(Math.PI*Or.R);return xi(s,.5,-s,.5)})()}),Bo=c({},Lr,{code:"EPSG:900913"});function ku(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function zu(s,l){var h="",m,y,S,R,I,H;for(m=0,S=s.length;m<S;m++){for(I=s[m],y=0,R=I.length;y<R;y++)H=I[y],h+=(y?"L":"M")+H.x+" "+H.y;h+=l?ft.svg?"z":"x":""}return h||"M0 0"}var ln=document.documentElement.style,va="ActiveXObject"in window,Uu=va&&!document.addEventListener,Ho="msLaunchUri"in navigator&&!("documentMode"in document),gs=un("webkit"),Bu=un("android"),Zo=un("android 2")||un("android 3"),df=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_f=Bu&&un("Google")&&df<537&&!("AudioNode"in window),Ai=!!window.opera,Ge=!Ho&&un("chrome"),Gn=un("gecko")&&!gs&&!Ai&&!va,Qe=!Ge&&un("safari"),Hu=un("phantom"),Zu="OTransition"in ln,pf=navigator.platform.indexOf("Win")===0,Mr=va&&"transition"in ln,vs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zo,oi="MozPerspective"in ln,ya=!window.L_DISABLE_3D&&(Mr||vs||oi)&&!Zu&&!Hu,Fn=typeof orientation<"u"||un("mobile"),mf=Fn&&gs,ju=Fn&&vs,jo=!window.PointerEvent&&window.MSPointerEvent,Ea=!!(window.PointerEvent||jo),ys="ontouchstart"in window||!!window.TouchEvent,gf=!window.L_NO_TOUCH&&(ys||Ea),Vu=Fn&&Ai,qu=Fn&&Gn,Vo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qo=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",C,l),window.removeEventListener("testPassiveEventSupport",C,l)}catch{}return s})(),Gu=(function(){return!!document.createElement("canvas").getContext})(),Go=!!(document.createElementNS&&ku("svg").createSVGRect),li=!!Go&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Re=!Go&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Fe=navigator.platform.indexOf("Mac")===0,Es=navigator.platform.indexOf("Linux")===0;function un(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ft={ie:va,ielt9:Uu,edge:Ho,webkit:gs,android:Bu,android23:Zo,androidStock:_f,opera:Ai,chrome:Ge,gecko:Gn,safari:Qe,phantom:Hu,opera12:Zu,win:pf,ie3d:Mr,webkit3d:vs,gecko3d:oi,any3d:ya,mobile:Fn,mobileWebkit:mf,mobileWebkit3d:ju,msPointer:jo,pointer:Ea,touch:gf,touchNative:ys,mobileOpera:Vu,mobileGecko:qu,retina:Vo,passiveEvents:qo,canvas:Gu,svg:Go,vml:Re,inlineSvg:li,mac:Fe,linux:Es},Fu=ft.msPointer?"MSPointerDown":"pointerdown",Fo=ft.msPointer?"MSPointerMove":"pointermove",bs=ft.msPointer?"MSPointerUp":"pointerup",ba=ft.msPointer?"MSPointerCancel":"pointercancel",ui={touchstart:Fu,touchmove:Fo,touchend:bs,touchcancel:ba},Ri={touchstart:Ku,touchmove:Nr,touchend:Nr,touchcancel:Nr},Ln={},Oi=!1;function Ee(s,l,h){return l==="touchstart"&&vf(),Ri[l]?(h=Ri[l].bind(this,h),s.addEventListener(ui[l],h,!1),h):(console.warn("wrong event specified:",l),C)}function Yu(s,l,h){if(!ui[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(ui[l],h,!1)}function Wu(s){Ln[s.pointerId]=s}function Li(s){Ln[s.pointerId]&&(Ln[s.pointerId]=s)}function Mi(s){delete Ln[s.pointerId]}function vf(){Oi||(document.addEventListener(Fu,Wu,!0),document.addEventListener(Fo,Li,!0),document.addEventListener(bs,Mi,!0),document.addEventListener(ba,Mi,!0),Oi=!0)}function Nr(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ln)l.touches.push(Ln[h]);l.changedTouches=[l],s(l)}}function Ku(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&de(l),Nr(s,l)}function yf(s){var l={},h,m;for(m in s)h=s[m],l[m]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Sa=200;function Ta(s,l){s.addEventListener("dblclick",l);var h=0,m;function y(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var R=Ko(S);if(!(R.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!R.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var I=Date.now();I-h<=Sa?(m++,m===2&&l(yf(S))):m=1,h=I}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Yn(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Ir=Cs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ss=Cs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ni=Ss==="webkitTransition"||Ss==="OTransition"?Ss+"End":"transitionend";function wa(s){return typeof s=="string"?document.getElementById(s):s}function Ii(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(s,null);h=m?m[l]:null}return h==="auto"?null:h}function Pt(s,l,h){var m=document.createElement(s);return m.className=l||"",h&&h.appendChild(m),m}function te(s){var l=s.parentNode;l&&l.removeChild(s)}function ze(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Di(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Ts(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function ws(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Ue(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Tt(s,l){if(s.classList!==void 0)for(var h=j(l),m=0,y=h.length;m<y;m++)s.classList.add(h[m]);else if(!ws(s,l)){var S=Ue(s);Yo(s,(S?S+" ":"")+l)}}function ee(s,l){s.classList!==void 0?s.classList.remove(l):Yo(s,k((" "+Ue(s)+" ").replace(" "+l+" "," ")))}function Yo(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Ue(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ye(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Xu(s,l)}function Xu(s,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+m+"(opacity="+l+")"}function Cs(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function cn(s,l,h){var m=l||new X(0,0);s.style[Ir]=(ft.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function ue(s,l){s._leaflet_pos=l,ft.any3d?cn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ci(s){return s._leaflet_pos||new X(0,0)}var Mn,Dr,Ca;if("onselectstart"in document)Mn=function(){St(window,"selectstart",de)},Dr=function(){Ht(window,"selectstart",de)};else{var xs=Cs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mn=function(){if(xs){var s=document.documentElement.style;Ca=s[xs],s[xs]="none"}},Dr=function(){xs&&(document.documentElement.style[xs]=Ca,Ca=void 0)}}function Pr(){St(window,"dragstart",de)}function Wo(){Ht(window,"dragstart",de)}var xa,As;function kr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Rs(),xa=s,As=s.style.outlineStyle,s.style.outlineStyle="none",St(window,"keydown",Rs))}function Rs(){xa&&(xa.style.outlineStyle=As,xa=void 0,As=void 0,Ht(window,"keydown",Rs))}function Pi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function hi(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Qu={__proto__:null,TRANSFORM:Ir,TRANSITION:Ss,TRANSITION_END:Ni,get:wa,getStyle:Ii,create:Pt,remove:te,empty:ze,toFront:Di,toBack:Ts,hasClass:ws,addClass:Tt,removeClass:ee,setClass:Yo,getClass:Ue,setOpacity:Ye,testProp:Cs,setTransform:cn,setPosition:ue,getPosition:ci,get disableTextSelection(){return Mn},get enableTextSelection(){return Dr},disableImageDrag:Pr,enableImageDrag:Wo,preventOutline:kr,restoreOutline:Rs,getSizedParentNode:Pi,getScale:hi};function St(s,l,h,m){if(l&&typeof l=="object")for(var y in l)ki(s,y,l[y],h);else{l=j(l);for(var S=0,R=l.length;S<R;S++)ki(s,l[S],h,m)}return this}var vn="_leaflet_events";function Ht(s,l,h,m){if(arguments.length===1)Nn(s),delete s[vn];else if(l&&typeof l=="object")for(var y in l)In(s,y,l[y],h);else if(l=j(l),arguments.length===2)Nn(s,function(I){return Dt(l,I)!==-1});else for(var S=0,R=l.length;S<R;S++)In(s,l[S],h,m);return this}function Nn(s,l){for(var h in s[vn]){var m=h.split(/\d/)[0];(!l||l(m))&&In(s,m,null,null,h)}}var zr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ki(s,l,h,m){var y=l+v(h)+(m?"_"+v(m):"");if(s[vn]&&s[vn][y])return this;var S=function(I){return h.call(m||s,I||window.event)},R=S;!ft.touchNative&&ft.pointer&&l.indexOf("touch")===0?S=Ee(s,l,S):ft.touch&&l==="dblclick"?S=Ta(s,S):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(zr[l]||l,S,ft.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(I){I=I||window.event,Ui(s,I)&&R(I)},s.addEventListener(zr[l],S,!1)):s.addEventListener(l,R,!1):s.attachEvent("on"+l,S),s[vn]=s[vn]||{},s[vn][y]=S}function In(s,l,h,m,y){y=y||l+v(h)+(m?"_"+v(m):"");var S=s[vn]&&s[vn][y];if(!S)return this;!ft.touchNative&&ft.pointer&&l.indexOf("touch")===0?Yu(s,l,S):ft.touch&&l==="dblclick"?Yn(s,S):"removeEventListener"in s?s.removeEventListener(zr[l]||l,S,!1):s.detachEvent("on"+l,S),s[vn][y]=null}function Wn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Os(s){return ki(s,"wheel",Wn),this}function Ls(s){return St(s,"mousedown touchstart dblclick contextmenu",Wn),s._leaflet_disable_click=!0,this}function de(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Dn(s){return de(s),Wn(s),this}function Ko(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Be(s,l){if(!l)return new X(s.clientX,s.clientY);var h=hi(l),m=h.boundingClientRect;return new X((s.clientX-m.left)/h.x-l.clientLeft,(s.clientY-m.top)/h.y-l.clientTop)}var zi=ft.linux&&ft.chrome?window.devicePixelRatio:ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ur(s){return ft.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/zi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ui(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Ef={__proto__:null,on:St,off:Ht,stopPropagation:Wn,disableScrollPropagation:Os,disableClickPropagation:Ls,preventDefault:de,stop:Dn,getPropagationPath:Ko,getMousePosition:Be,getWheelDelta:Ur,isExternalTarget:Ui,addListener:St,removeListener:Ht},Aa=it.extend({run:function(s,l,h,m){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ci(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=zt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),ue(this._el,h),this.fire("step")},_complete:function(){Vt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),xt=it.extend({options:{crs:Lr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=Y(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(nt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ss&&ft.any3d&&!ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,Ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(nt(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),S=s instanceof X?s:this.latLngToContainerPoint(s),R=S.subtract(y).multiplyBy(1-1/m),I=this.containerPointToLatLng(y.add(R));return this.setView(I,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ot(s);var h=A(l.paddingTopLeft||l.padding||[0,0]),m=A(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(m));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var S=m.subtract(h).divideBy(2),R=this.project(s.getSouthWest(),y),I=this.project(s.getNorthEast(),y),H=this.unproject(R.add(I).divideBy(2).add(S),y);return{center:H,zoom:y}},fitBounds:function(s,l){if(s=ot(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=A(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Aa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Tt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!ft.any3d)return this.setView(s,l,h);this._stop();var m=this.project(this.getCenter()),y=this.project(s),S=this.getSize(),R=this._zoom;s=nt(s),l=l===void 0?R:l;var I=Math.max(S.x,S.y),H=I*this.getZoomScale(R,l),K=y.distanceTo(m)||1,rt=1.42,lt=rt*rt;function ht(ae){var zn=ae?-1:1,Qn=ae?H:I,mi=H*H-I*I+zn*lt*lt*K*K,$n=2*Qn*lt*K,Qr=mi/$n,Ha=Math.sqrt(Qr*Qr+1)-Qr,$r=Ha<1e-9?-18:Math.log(Ha);return $r}function bt(ae){return(Math.exp(ae)-Math.exp(-ae))/2}function ne(ae){return(Math.exp(ae)+Math.exp(-ae))/2}function ce(ae){return bt(ae)/ne(ae)}var Le=ht(0);function hn(ae){return I*(ne(Le)/ne(Le+rt*ae))}function mc(ae){return I*(ne(Le)*ce(Le+rt*ae)-bt(Le))/lt}function gc(ae){return 1-Math.pow(1-ae,1.5)}var Xr=Date.now(),js=(ht(1)-Le)/rt,vc=h.duration?1e3*h.duration:1e3*js*.8;function Vs(){var ae=(Date.now()-Xr)/vc,zn=gc(ae)*js;ae<=1?(this._flyToFrame=zt(Vs,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(mc(zn)/K)),R),this.getScaleZoom(I/hn(zn),R),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Vs.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=ot(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,ot(s));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=A(l.paddingTopLeft||l.padding||[0,0]),m=A(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(s),R=this.getPixelBounds(),I=tt([R.min.add(h),R.max.subtract(m)]),H=I.getSize();if(!I.contains(S)){this._enforcingBounds=!0;var K=S.subtract(I.getCenter()),rt=I.extend(S).getSize().subtract(H);y.x+=K.x<0?-rt.x:rt.x,y.y+=K.y<0?-rt.y:rt.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),y=h.divideBy(2).round(),S=m.subtract(y);return!S.x&&!S.y?this:(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=_(this._handleGeolocationResponse,this),h=_(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,m=new ct(l,h),y=m.toBounds(s.coords.accuracy*2),S=this._locateOptions;if(S.setView){var R=this.getBoundsZoom(y);this.setView(m,S.maxZoom?Math.min(R,S.maxZoom):R)}var I={latlng:m,bounds:y,timestamp:s.timestamp};for(var H in s.coords)typeof s.coords[H]=="number"&&(I[H]=s.coords[H]);this.fire("locationfound",I)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Vt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)te(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),m=Pt("div",h,l||this._mapPane);return s&&(this._panes[s]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new $(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=ot(s),h=A(h||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),R=s.getNorthWest(),I=s.getSouthEast(),H=this.getSize().subtract(h),K=tt(this.project(I,m),this.project(R,m)).getSize(),rt=ft.any3d?this.options.zoomSnap:1,lt=H.x/K.x,ht=H.y/K.y,bt=l?Math.max(lt,ht):Math.min(lt,ht);return m=this.getScaleZoom(bt,m),rt&&(m=Math.round(m/(rt/100))*(rt/100),m=l?Math.ceil(m/rt)*rt:Math.floor(m/rt)*rt),Math.max(y,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new V(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var m=h.zoom(s*h.scale(l));return isNaN(m)?1/0:m},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(nt(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(A(s),l)},layerPointToLatLng:function(s){var l=A(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(nt(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(nt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ot(s))},distance:function(s,l){return this.options.crs.distance(nt(s),nt(l))},containerPointToLayerPoint:function(s){return A(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return A(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(A(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(s)))},mouseEventToContainerPoint:function(s){return Be(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=wa(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ft.any3d,Tt(s,"leaflet-container"+(ft.touch?" leaflet-touch":"")+(ft.retina?" leaflet-retina":"")+(ft.ielt9?" leaflet-oldie":"")+(ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ii(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ue(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tt(s.markerPane,"leaflet-zoom-hide"),Tt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){ue(this._mapPane,new X(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(s,l)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,m){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),m?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Vt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ue(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var l=s?Ht:St;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ft.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Vt(this._resizeRequest),this._resizeRequest=zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],m,y=l==="mouseout"||l==="mouseover",S=s.target||s.srcElement,R=!1;S;){if(m=this._targets[v(S)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){R=!0;break}if(m&&m.listens(l,!0)&&(y&&!Ui(S,s)||(h.push(m),y))||S===this._container)break;S=S.parentNode}return!h.length&&!R&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&kr(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var m=c({},s);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var y=this._findEventTargets(s,l);if(h){for(var S=[],R=0;R<h.length;R++)h[R].listens(l,!0)&&S.push(h[R]);y=S.concat(y)}if(y.length){l==="contextmenu"&&de(s);var I=y[0],H={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var K=I.getLatLng&&(!I._radius||I._radius<=10);H.containerPoint=K?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(s),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=K?I.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(R=0;R<y.length;R++)if(y[R].fire(l,H,!0),H.originalEvent._stopped||y[R].options.bubblingMouseEvents===!1&&Dt(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ci(this._mapPane)||new X(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return tt([this.project(s.getSouthWest(),l)._subtract(m),this.project(s.getNorthWest(),l)._subtract(m),this.project(s.getSouthEast(),l)._subtract(m),this.project(s.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var m=this.project(s,l),y=this.getSize().divideBy(2),S=new V(m.subtract(y),m.add(y)),R=this._getBoundsOffset(S,h,l);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?s:this.unproject(m.add(R),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),m=new V(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(s,l,h){var m=tt(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=m.min.subtract(s.min),S=m.max.subtract(s.max),R=this._rebound(y.x,-S.x),I=this._rebound(y.y,-S.y);return new X(R,I)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),m=ft.any3d?this.options.zoomSnap:1;return m&&(s=Math.round(s/m)*m),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Ir,m=this._proxy.style[h];cn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();cn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(y)?!1:(zt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,Tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Br(s,l){return new xt(s,l)}var We=ke.extend({options:{position:"topright"},initialize:function(s){Y(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),m=s._controlCorners[h];return Tt(l,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ms=function(s){return new We(s)};xt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Pt("div",l+"control-container",this._container);function m(y,S){var R=l+y+" "+l+S;s[y+S]=Pt("div",R,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)te(this._controlCorners[s]);te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $u=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(s,l,h){Y(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in s)this._addLayer(s[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return We.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Pt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ls(l),Os(l);var m=this._section=Pt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),St(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Pt("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),St(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){de(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Pt("div",s+"-base",m),this._separator=Pt("div",s+"-separator",m),this._overlaysList=Pt("div",s+"-overlays",m),l.appendChild(m)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(_(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ze(this._baseLayersList),ze(this._overlaysList),this._layerControlInputs=[];var s,l,h,m,y=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),l=l||m.overlay,s=s||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(v(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),m;s.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(m),m.layerId=v(s.layer),St(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(m),S.appendChild(y);var R=s.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,m=[],y=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)l=s[S],h=this._getLayer(l.layerId).layer,l.checked?m.push(h):l.checked||y.push(h);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,m=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,St(s,"click",de),this.expand();var l=this;setTimeout(function(){Ht(s,"click",de),l._preventClick=!1})}}),bf=function(s,l,h){return new $u(s,l,h)},Xo=We.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Pt("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,m,y){var S=Pt("a",h,m);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Ls(S),St(S,"click",Dn),St(S,"click",y,this),St(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";ee(this._zoomInButton,l),ee(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Tt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Tt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xo,this.addControl(this.zoomControl))});var Qo=function(s){return new Xo(s)},Ju=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Pt("div",l),m=this.options;return this._addScales(m,l+"-line",h),s.on(m.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Pt("div",l,h)),s.imperial&&(this._iScale=Pt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,m,y;l>5280?(h=l/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Sf=function(s){return new Ju(s)},Tf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$o=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ft.inlineSvg?Tf+" ":"")+"Leaflet</a>"},initialize:function(s){Y(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Ls(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new $o().addTo(this)});var wf=function(s){return new $o(s)};We.Layers=$u,We.Zoom=Xo,We.Scale=Ju,We.Attribution=$o,Ms.layers=bf,Ms.zoom=Qo,Ms.scale=Sf,Ms.attribution=wf;var yn=ke.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yn.addTo=function(s,l){return s.addHandler(l,this),this};var Cf={Events:Z},tc=ft.touch?"touchstart mousedown":"mousedown",fi=it.extend({options:{clickTolerance:3},initialize:function(s,l,h,m){Y(this,m),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(St(this._dragStartTarget,tc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fi._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,tc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ws(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){fi._dragging===this&&this.finishDrag();return}if(!(fi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(fi._dragging=this,this._preventOutline&&kr(this._element),Pr(),Mn(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=Pi(this._element);this._startPoint=new X(l.clientX,l.clientY),this._startPos=ci(this._element),this._parentScale=hi(h);var m=s.type==="mousedown";St(document,m?"mousemove":"touchmove",this._onMove,this),St(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new X(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,de(s),this._moved||(this.fire("dragstart"),this._moved=!0,Tt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ue(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ee(document.body,"leaflet-dragging"),this._lastTarget&&(ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),Wo(),Dr();var l=this._moved&&this._moving;this._moving=!1,fi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ec(s,l,h){var m,y=[1,4,2,8],S,R,I,H,K,rt,lt,ht;for(S=0,rt=s.length;S<rt;S++)s[S]._code=Bi(s[S],l);for(I=0;I<4;I++){for(lt=y[I],m=[],S=0,rt=s.length,R=rt-1;S<rt;R=S++)H=s[S],K=s[R],H._code&lt?K._code&lt||(ht=Oa(K,H,lt,l,h),ht._code=Bi(ht,l),m.push(ht)):(K._code&lt&&(ht=Oa(K,H,lt,l,h),ht._code=Bi(ht,l),m.push(ht)),m.push(H));s=m}return s}function Ra(s,l){var h,m,y,S,R,I,H,K,rt;if(!s||s.length===0)throw new Error("latlngs not passed");Oe(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var lt=nt([0,0]),ht=ot(s),bt=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());bt<1700&&(lt=Jo(s));var ne=s.length,ce=[];for(h=0;h<ne;h++){var Le=nt(s[h]);ce.push(l.project(nt([Le.lat-lt.lat,Le.lng-lt.lng])))}for(I=H=K=0,h=0,m=ne-1;h<ne;m=h++)y=ce[h],S=ce[m],R=y.y*S.x-S.y*y.x,H+=(y.x+S.x)*R,K+=(y.y+S.y)*R,I+=R*3;I===0?rt=ce[0]:rt=[H/I,K/I];var hn=l.unproject(A(rt));return nt([hn.lat+lt.lat,hn.lng+lt.lng])}function Jo(s){for(var l=0,h=0,m=0,y=0;y<s.length;y++){var S=nt(s[y]);l+=S.lat,h+=S.lng,m++}return nt([l/m,h/m])}var xf={__proto__:null,clipPolygon:ec,polygonCenter:Ra,centroid:Jo};function nc(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=Of(s,h),s=Rf(s,h),s}function tl(s,l,h){return Math.sqrt(Hi(s,l,h,!0))}function Af(s,l,h){return Hi(s,l,h)}function Rf(s,l){var h=s.length,m=typeof Uint8Array<"u"?Uint8Array:Array,y=new m(h);y[0]=y[h-1]=1,el(s,y,l,0,h-1);var S,R=[];for(S=0;S<h;S++)y[S]&&R.push(s[S]);return R}function el(s,l,h,m,y){var S=0,R,I,H;for(I=m+1;I<=y-1;I++)H=Hi(s[I],s[m],s[y],!0),H>S&&(R=I,S=H);S>h&&(l[R]=1,el(s,l,h,m,R),el(s,l,h,R,y))}function Of(s,l){for(var h=[s[0]],m=1,y=0,S=s.length;m<S;m++)Lf(s[m],s[y])>l&&(h.push(s[m]),y=m);return y<S-1&&h.push(s[S-1]),h}var ic;function sc(s,l,h,m,y){var S=m?ic:Bi(s,h),R=Bi(l,h),I,H,K;for(ic=R;;){if(!(S|R))return[s,l];if(S&R)return!1;I=S||R,H=Oa(s,l,I,h,y),K=Bi(H,h),I===S?(s=H,S=K):(l=H,R=K)}}function Oa(s,l,h,m,y){var S=l.x-s.x,R=l.y-s.y,I=m.min,H=m.max,K,rt;return h&8?(K=s.x+S*(H.y-s.y)/R,rt=H.y):h&4?(K=s.x+S*(I.y-s.y)/R,rt=I.y):h&2?(K=H.x,rt=s.y+R*(H.x-s.x)/S):h&1&&(K=I.x,rt=s.y+R*(I.x-s.x)/S),new X(K,rt,y)}function Bi(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Lf(s,l){var h=l.x-s.x,m=l.y-s.y;return h*h+m*m}function Hi(s,l,h,m){var y=l.x,S=l.y,R=h.x-y,I=h.y-S,H=R*R+I*I,K;return H>0&&(K=((s.x-y)*R+(s.y-S)*I)/H,K>1?(y=h.x,S=h.y):K>0&&(y+=R*K,S+=I*K)),R=s.x-y,I=s.y-S,m?R*R+I*I:new X(y,S)}function Oe(s){return!at(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function rc(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oe(s)}function nl(s,l){var h,m,y,S,R,I,H,K;if(!s||s.length===0)throw new Error("latlngs not passed");Oe(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var rt=nt([0,0]),lt=ot(s),ht=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());ht<1700&&(rt=Jo(s));var bt=s.length,ne=[];for(h=0;h<bt;h++){var ce=nt(s[h]);ne.push(l.project(nt([ce.lat-rt.lat,ce.lng-rt.lng])))}for(h=0,m=0;h<bt-1;h++)m+=ne[h].distanceTo(ne[h+1])/2;if(m===0)K=ne[0];else for(h=0,S=0;h<bt-1;h++)if(R=ne[h],I=ne[h+1],y=R.distanceTo(I),S+=y,S>m){H=(S-m)/y,K=[I.x-H*(I.x-R.x),I.y-H*(I.y-R.y)];break}var Le=l.unproject(A(K));return nt([Le.lat+rt.lat,Le.lng+rt.lng])}var ac={__proto__:null,simplify:nc,pointToSegmentDistance:tl,closestPointOnSegment:Af,clipSegment:sc,_getEdgeIntersection:Oa,_getBitCode:Bi,_sqClosestPointOnSegment:Hi,isFlat:Oe,_flat:rc,polylineCenter:nl},La={project:function(s){return new X(s.lng,s.lat)},unproject:function(s){return new ct(s.y,s.x)},bounds:new V([-180,-90],[180,90])},Ma={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,m=s.lat*l,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),R=S*Math.sin(m),I=Math.tan(Math.PI/4-m/2)/Math.pow((1-R)/(1+R),S/2);return m=-h*Math.log(Math.max(I,1e-10)),new X(s.lng*l*h,m)},unproject:function(s){for(var l=180/Math.PI,h=this.R,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),S=Math.exp(-s.y/h),R=Math.PI/2-2*Math.atan(S),I=0,H=.1,K;I<15&&Math.abs(H)>1e-7;I++)K=y*Math.sin(R),K=Math.pow((1-K)/(1+K),y/2),H=Math.PI/2-2*Math.atan(S*K)-R,R+=H;return new ct(R*l,s.x*l/h)}},oc={__proto__:null,LonLat:La,Mercator:Ma,SphericalMercator:Or},Ns=c({},Ut,{code:"EPSG:3395",projection:Ma,transformation:(function(){var s=.5/(Math.PI*Ma.R);return xi(s,.5,-s,.5)})()}),lc=c({},Ut,{code:"EPSG:4326",projection:La,transformation:xi(1/180,1,-1/180,.5)}),Mf=c({},le,{projection:La,transformation:xi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,m=l.lat-s.lat;return Math.sqrt(h*h+m*m)},infinite:!0});le.Earth=Ut,le.EPSG3395=Ns,le.EPSG3857=Lr,le.EPSG900913=Bo,le.EPSG4326=lc,le.Simple=Mf;var En=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=v(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?at(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=v(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=En.extend({initialize:function(s,l){Y(this,l),this._layers={};var h,m;if(s)for(h=0,m=s.length;h<m;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[s]&&m[s].apply(m,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),uc=function(s,l){return new Zi(s,l)},$e=Zi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Zi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Zi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new $;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Hr=function(s,l){return new $e(s,l)},Is=ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){Y(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(s,l){var h=this.options,m=h[l+"Size"];typeof m=="number"&&(m=[m,m]);var y=A(m),S=A(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ft.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Na(s){return new Is(s)}var Ds=Is.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ds.imagePath!="string"&&(Ds.imagePath=this._detectIconPath()),(this.options.imagePath||Ds.imagePath)+Is.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,m,y){var S=m.exec(h);return S&&S[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Pt("div","leaflet-default-icon-path",document.body),l=Ii(s,"background-image")||Ii(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),il=yn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new fi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=ci(l._icon),R=h.getPixelBounds(),I=h.getPixelOrigin(),H=tt(R.min._subtract(I).add(y),R.max._subtract(I).subtract(y));if(!H.contains(S)){var K=A((Math.max(H.max.x,S.x)-H.max.x)/(R.max.x-H.max.x)-(Math.min(H.min.x,S.x)-H.min.x)/(R.min.x-H.min.x),(Math.max(H.max.y,S.y)-H.max.y)/(R.max.y-H.max.y)-(Math.min(H.min.y,S.y)-H.min.y)/(R.min.y-H.min.y)).multiplyBy(m);h.panBy(K,{animate:!1}),this._draggable._newPos._add(K),this._draggable._startPos._add(K),ue(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=zt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Vt(this._panRequest),this._panRequest=zt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,m=ci(l._icon),y=l._map.layerPointToLatLng(m);h&&ue(h,m),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Vt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ps=En.extend({options:{icon:new Ds,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){Y(this,l),this._latlng=nt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),Tt(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(h,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(Tt(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&te(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ue(this._icon,s),this._shadow&&ue(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),il)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new il(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ye(this._icon,s),this._shadow&&Ye(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?A(l.iconSize):A(0,0),m=l.iconAnchor?A(l.iconAnchor):A(0,0);s.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function sl(s,l){return new Ps(s,l)}var Kn=En.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return Y(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zr=Kn.extend({options:{fill:!0,radius:10},initialize:function(s,l){Y(this,l),this._latlng=nt(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=nt(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Kn.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),m=[s+h,l+h];this._pxBounds=new V(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cc(s,l){return new Zr(s,l)}var rl=Zr.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),Y(this,l),this._latlng=nt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Kn.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===Ut.distance){var y=Math.PI/180,S=this._mRadius/Ut.R/y,R=h.project([l+S,s]),I=h.project([l-S,s]),H=R.add(I).divideBy(2),K=h.unproject(H).lat,rt=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(K*y))/(Math.cos(l*y)*Math.cos(K*y)))/y;(isNaN(rt)||rt===0)&&(rt=S/Math.cos(Math.PI/180*l)),this._point=H.subtract(h.getPixelOrigin()),this._radius=isNaN(rt)?0:H.x-h.project([K,s-rt]).x,this._radiusY=H.y-R.y}else{var lt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(lt).x}this._updateBounds()}});function Nf(s,l,h){return new rl(s,l,h)}var Xn=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){Y(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,m=Hi,y,S,R=0,I=this._parts.length;R<I;R++)for(var H=this._parts[R],K=1,rt=H.length;K<rt;K++){y=H[K-1],S=H[K];var lt=m(s,y,S,!0);lt<l&&(l=lt,h=m(s,y,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=nt(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new $,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=Oe(s),m=0,y=s.length;m<y;m++)h?(l[m]=nt(s[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(s[m]);return l},_project:function(){var s=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new X(s,s);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var m=s[0]instanceof ct,y=s.length,S,R;if(m){for(R=[],S=0;S<y;S++)R[S]=this._map.latLngToLayerPoint(s[S]),h.extend(R[S]);l.push(R)}else for(S=0;S<y;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,m,y,S,R,I,H;for(h=0,y=0,S=this._rings.length;h<S;h++)for(H=this._rings[h],m=0,R=H.length;m<R-1;m++)I=sc(H[m],H[m+1],s,m,!0),I&&(l[y]=l[y]||[],l[y].push(I[0]),(I[1]!==H[m+1]||m===R-2)&&(l[y].push(I[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,m=s.length;h<m;h++)s[h]=nc(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,m,y,S,R,I,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(I=this._parts[h],m=0,R=I.length,y=R-1;m<R;y=m++)if(!(!l&&m===0)&&tl(s,I[y],I[m])<=H)return!0;return!1}});function If(s,l){return new Xn(s,l)}Xn._flat=rc;var ks=Xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ra(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Xn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof ct&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Xn.prototype._setLatLngs.call(this,s),Oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new X(l,l);if(s=new V(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,S;m<y;m++)S=ec(this._rings[m],s,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,m,y,S,R,I,H,K;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,H=this._parts.length;S<H;S++)for(h=this._parts[S],R=0,K=h.length,I=K-1;R<K;I=R++)m=h[R],y=h[I],m.y>s.y!=y.y>s.y&&s.x<(y.x-m.x)*(s.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||Xn.prototype._containsPoint.call(this,s,!0)}});function Je(s,l){return new ks(s,l)}var tn=$e.extend({initialize:function(s,l){Y(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=at(s)?s:s.features,h,m,y;if(l){for(h=0,m=l.length;h<m;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var R=jr(s,S);return R?(R.feature=zs(s),R.defaultOptions=R.options,this.resetStyle(R),S.onEachFeature&&S.onEachFeature(s,R),this.addLayer(R)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function jr(s,l){var h=s.type==="Feature"?s.geometry:s,m=h?h.coordinates:null,y=[],S=l&&l.pointToLayer,R=l&&l.coordsToLatLng||Ia,I,H,K,rt;if(!m&&!h)return null;switch(h.type){case"Point":return I=R(m),al(S,s,I,l);case"MultiPoint":for(K=0,rt=m.length;K<rt;K++)I=R(m[K]),y.push(al(S,s,I,l));return new $e(y);case"LineString":case"MultiLineString":return H=Vr(m,h.type==="LineString"?0:1,R),new Xn(H,l);case"Polygon":case"MultiPolygon":return H=Vr(m,h.type==="Polygon"?1:2,R),new ks(H,l);case"GeometryCollection":for(K=0,rt=h.geometries.length;K<rt;K++){var lt=jr({geometry:h.geometries[K],type:"Feature",properties:s.properties},l);lt&&y.push(lt)}return new $e(y);case"FeatureCollection":for(K=0,rt=h.features.length;K<rt;K++){var ht=jr(h.features[K],l);ht&&y.push(ht)}return new $e(y);default:throw new Error("Invalid GeoJSON object.")}}function al(s,l,h,m){return s?s(l,h):new Ps(h,m&&m.markersInheritOptions&&m)}function Ia(s){return new ct(s[1],s[0],s[2])}function Vr(s,l,h){for(var m=[],y=0,S=s.length,R;y<S;y++)R=l?Vr(s[y],l-1,h):(h||Ia)(s[y]),m.push(R);return m}function qr(s,l){return s=nt(s),s.alt!==void 0?[x(s.lng,l),x(s.lat,l),x(s.alt,l)]:[x(s.lng,l),x(s.lat,l)]}function Da(s,l,h,m){for(var y=[],S=0,R=s.length;S<R;S++)y.push(l?Da(s[S],Oe(s[S])?0:l-1,h,m):qr(s[S],m));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function bn(s,l){return s.feature?c({},s.feature,{geometry:l}):zs(l)}function zs(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ji={toGeoJSON:function(s){return bn(this,{type:"Point",coordinates:qr(this.getLatLng(),s)})}};Ps.include(ji),rl.include(ji),Zr.include(ji),Xn.include({toGeoJSON:function(s){var l=!Oe(this._latlngs),h=Da(this._latlngs,l?1:0,!1,s);return bn(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ks.include({toGeoJSON:function(s){var l=!Oe(this._latlngs),h=l&&!Oe(this._latlngs[0]),m=Da(this._latlngs,h?2:l?1:0,!0,s);return l||(m=[m]),bn(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),Zi.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),bn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(s);if(h)m.push(S.geometry);else{var R=zs(S);R.type==="FeatureCollection"?m.push.apply(m,R.features):m.push(R)}}}),h?bn(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Pa(s,l){return new tn(s,l)}var hc=Pa,Pn=En.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=ot(l),Y(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Di(this._image),this},bringToBack:function(){return this._map&&Ts(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ot(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Pt("img");if(Tt(l,"leaflet-image-layer"),this._zoomAnimated&&Tt(l,"leaflet-zoom-animated"),this.options.className&&Tt(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onload=_(this.fire,this,"load"),l.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;cn(this._image,h,l)},_reset:function(){var s=this._image,l=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();ue(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Us=function(s,l,h){return new Pn(s,l,h)},ka=Pn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Pt("video");if(Tt(l,"leaflet-image-layer"),this._zoomAnimated&&Tt(l,"leaflet-zoom-animated"),this.options.className&&Tt(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onloadeddata=_(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),m=[],y=0;y<h.length;y++)m.push(h[y].src);this._url=h.length>0?m:[l.src];return}at(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var R=Pt("source");R.src=this._url[S],l.appendChild(R)}}});function fc(s,l,h){return new ka(s,l,h)}var di=Pn.extend({_initImage:function(){var s=this._image=this._url;Tt(s,"leaflet-image-layer"),this._zoomAnimated&&Tt(s,"leaflet-zoom-animated"),this.options.className&&Tt(s,this.options.className),s.onselectstart=C,s.onmousemove=C}});function dc(s,l,h){return new di(s,l,h)}var Sn=En.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ct||at(s))?(this._latlng=nt(s),Y(this,l)):(Y(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ye(this._container,1),this.bringToFront(),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ye(this._container,0),this._removeTimeout=setTimeout(_(te,void 0,this._container),200)):te(this._container),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=nt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Di(this._container),this},bringToBack:function(){return this._map&&Ts(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof $e){l=null;var h=this._source._layers;for(var m in h)if(h[m]._map){l=h[m];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=A(this.options.offset),h=this._getAnchor();this._zoomAnimated?ue(this._container,s.add(h)):l=l.add(s).add(h);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(s,l,h,m){var y=l;return y instanceof s||(y=new s(m).setContent(l)),h&&y.setLatLng(h),y}}),En.include({_initOverlay:function(s,l,h,m){var y=h;return y instanceof s?(Y(y,m),y._source=this):(y=l&&!m?l:new s(m,this),y.setContent(h)),y}});var Gr=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Sn.prototype.openOn.call(this,s)},onAdd:function(s){Sn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",Wn))},onRemove:function(s){Sn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",Wn))},getEvents:function(){var s=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Pt("div",s+"-content-wrapper",l);if(this._contentNode=Pt("div",s+"-content",h),Ls(l),Os(this._contentNode),St(l,"contextmenu",Wn),this._tipContainer=Pt("div",s+"-tip-container",l),this._tip=Pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Pt("a",s+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',St(m,"click",function(y){de(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var m=s.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&m>y?(l.height=y+"px",Tt(s,S)):ee(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ii(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,y=new X(this._containerLeft,-h-this._containerBottom);y._add(ci(this._container));var S=s.layerPointToContainerPoint(y),R=A(this.options.autoPanPadding),I=A(this.options.autoPanPaddingTopLeft||R),H=A(this.options.autoPanPaddingBottomRight||R),K=s.getSize(),rt=0,lt=0;S.x+m+H.x>K.x&&(rt=S.x+m-K.x+H.x),S.x-rt-I.x<0&&(rt=S.x-I.x),S.y+h+H.y>K.y&&(lt=S.y+h-K.y+H.y),S.y-lt-I.y<0&&(lt=S.y-I.y),(rt||lt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([rt,lt]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Df=function(s,l){return new Gr(s,l)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(s,l,h){return this._initOverlay(Gr,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),En.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Gr,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof $e||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Dn(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var za=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Sn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Sn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Sn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,m=this._map,y=this._container,S=m.latLngToContainerPoint(m.getCenter()),R=m.layerPointToContainerPoint(s),I=this.options.direction,H=y.offsetWidth,K=y.offsetHeight,rt=A(this.options.offset),lt=this._getAnchor();I==="top"?(l=H/2,h=K):I==="bottom"?(l=H/2,h=0):I==="center"?(l=H/2,h=K/2):I==="right"?(l=0,h=K/2):I==="left"?(l=H,h=K/2):R.x<S.x?(I="right",l=0,h=K/2):(I="left",l=H+(rt.x+lt.x)*2,h=K/2),s=s.subtract(A(l,h,!0)).add(rt).add(lt),ee(y,"leaflet-tooltip-right"),ee(y,"leaflet-tooltip-left"),ee(y,"leaflet-tooltip-top"),ee(y,"leaflet-tooltip-bottom"),Tt(y,"leaflet-tooltip-"+I),ue(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ye(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pf=function(s,l){return new za(s,l)};xt.include({openTooltip:function(s,l,h){return this._initOverlay(za,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),En.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(za,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof $e||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(St(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),St(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,m;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var ol=Is.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ze(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=A(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function _c(s){return new ol(s)}Is.Default=Ds;var Vi=En.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){Y(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),te(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof X?s:new X(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),m=0,y=l.length,S;m<y;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft.ielt9){Ye(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var S=Math.min(1,(s-y.loaded)/200);Ye(y.el,S),S<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Vt(this._fadeFrame),this._fadeFrame=zt(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(te(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[s],y=this._map;return m||(m=this._levels[s]={},m.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),m.zoom=s,this._setZoomTransform(m,y.getCenter(),y.getZoom()),C(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)te(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,m){var y=Math.floor(s/2),S=Math.floor(l/2),R=h-1,I=new X(+y,+S);I.z=+R;var H=this._tileCoordsToKey(I),K=this._tiles[H];return K&&K.active?(K.retain=!0,!0):(K&&K.loaded&&(K.retain=!0),R>m?this._retainParent(y,S,R,m):!1)},_retainChildren:function(s,l,h,m){for(var y=2*s;y<2*s+2;y++)for(var S=2*l;S<2*l+2;S++){var R=new X(y,S);R.z=h+1;var I=this._tileCoordsToKey(R),H=this._tiles[I];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);h+1<m&&this._retainChildren(y,S,h+1,m)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,m){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var m=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();ft.any3d?cn(s.el,y,m):ue(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(m*2);return new V(y.subtract(S),y.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(m),S=y.getCenter(),R=[],I=this.options.keepBuffer,H=new V(y.getBottomLeft().subtract([I,-I]),y.getTopRight().add([I,-I]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var K in this._tiles){var rt=this._tiles[K].coords;(rt.z!==this._tileZoom||!H.contains(new X(rt.x,rt.y)))&&(this._tiles[K].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var lt=y.min.y;lt<=y.max.y;lt++)for(var ht=y.min.x;ht<=y.max.x;ht++){var bt=new X(ht,lt);if(bt.z=this._tileZoom,!!this._isValidTile(bt)){var ne=this._tiles[this._tileCoordsToKey(bt)];ne?ne.current=!0:R.push(bt)}}if(R.sort(function(Le,hn){return Le.distanceTo(S)-hn.distanceTo(S)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ce=document.createDocumentFragment();for(ht=0;ht<R.length;ht++)this._addTile(R[ht],ce);this._level.el.appendChild(ce)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(s);return ot(this.options.bounds).overlaps(m)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),m=s.scaleBy(h),y=m.add(h),S=l.unproject(m,s.z),R=l.unproject(y,s.z);return[S,R]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new $(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new X(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(te(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Tt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=C,s.onmousemove=C,ft.ielt9&&this.options.opacity<1&&Ye(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),m=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),_(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&zt(_(this._tileReady,this,s,null,y)),ue(y,h),this._tiles[m]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var m=this._tileCoordsToKey(s);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ye(h.el,0),Vt(this._fadeFrame),this._fadeFrame=zt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Tt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft.ielt9||!this._map._fadeAnimated?zt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new X(this._wrapX?T(s.x,this._wrapX):s.x,this._wrapY?T(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new V(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Tn(s){return new Vi(s)}var qi=Vi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=Y(this,l),l.detectRetina&&ft.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return St(h,"load",_(this._tileOnLoad,this,l,h)),St(h,"error",_(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:ft.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return et(this._url,c(l,this.options))},_tileOnLoad:function(s,l){ft.ielt9?setTimeout(_(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(s=l-s),s+m},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=C,l.onerror=C,!l.complete)){l.src=_t;var h=this._tiles[s].coords;te(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",_t),Vi.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===_t))return Vi.prototype._tileReady.call(this,s,l,h)}});function en(s,l){return new qi(s,l)}var nn=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);l=Y(this,l);var y=l.detectRetina&&ft.retina?2:1,S=this.getTileSize();h.width=S.x*y,h.height=S.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,qi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,m=tt(h.project(l[0]),h.project(l[1])),y=m.min,S=m.max,R=(this._wmsVersion>=1.3&&this._crs===lc?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),I=qi.prototype.getTileUrl.call(this,s);return I+Q(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Bs(s,l){return new nn(s,l)}qi.WMS=nn,en.wms=Bs;var wn=En.extend({options:{padding:.1},initialize:function(s){Y(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),S=m.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(s,l));ft.any3d?cn(this._container,S,h):ue(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new V(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fr=wn.extend({options:{tolerance:0},getEvents:function(){var s=wn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");St(s,"mousemove",this._onMouseMove,this),St(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Vt(this._redrawRequest),delete this._ctx,te(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),m=ft.retina?2:1;ue(l,s.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],m,y;for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;h.push(m)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||zt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)s=m.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,m,y,S,R=s._parts,I=R.length,H=this._ctx;if(I){for(H.beginPath(),h=0;h<I;h++){for(m=0,y=R[h].length;m<y;m++)S=R[h][m],H[m?"lineTo":"moveTo"](S.x,S.y);l&&H.closePath()}this._fillStroke(H,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,m=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||m)/m;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,m,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(ee(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(s),m&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Yr(s){return ft.canvas?new Fr(s):null}var Gi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Hs={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Gi("shape");Tt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Gi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;te(l),s.removeInteractiveTarget(l),delete this._layers[v(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,m=s.options,y=s._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=s._stroke=Gi("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=at(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),s._stroke=null),m.fill?(h||(h=s._fill=Gi("fill")),y.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),m=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Di(s._container)},_bringToBack:function(s){Ts(s._container)}},Wr=ft.vml?Gi:ku,_i=wn.extend({_initContainer:function(){this._container=Wr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){te(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),ue(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Wr("path");s.options.className&&Tt(l,s.options.className),s.options.interactive&&Tt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){te(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,zu(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),m=Math.max(Math.round(s._radiusY),1)||h,y="a"+h+","+m+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Di(s._path)},_bringToBack:function(s){Ts(s._path)}});ft.vml&&_i.include(Hs);function Fi(s){return ft.svg||ft.vml?new _i(s):null}xt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Yr(s)||Fi(s)}});var pc=ks.extend({initialize:function(s,l){ks.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ot(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function sn(s,l){return new pc(s,l)}_i.create=Wr,_i.pointsToPath=zu,tn.geometryToLayer=jr,tn.coordsToLatLng=Ia,tn.coordsToLatLngs=Vr,tn.latLngToCoords=qr,tn.latLngsToCoords=Da,tn.getFeature=bn,tn.asFeature=zs,xt.mergeOptions({boxZoom:!0});var Ua=yn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mn(),Pr(),this._startPoint=this._map.mouseEventToContainerPoint(s),St(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),Tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new V(this._point,this._startPoint),h=l.getSize();ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(te(this._box),ee(this._container,"leaflet-crosshair")),Dr(),Wo(),Ht(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var l=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Ua),xt.mergeOptions({doubleClickZoom:!0});var kn=yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-m:h+m;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});xt.addInitHook("addHandler","doubleClickZoom",kn),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ll=yn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new fi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ee(this._map._container,"leaflet-grab"),ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ot(this._map.options.maxBounds);this._offsetLimit=tt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+h)%s+l-h,S=(m+l+h)%s-l-h,R=Math.abs(y+h)<Math.abs(S+h)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(s){var l=this._map,h=l.options,m=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,R=h.easeLinearity,I=y.multiplyBy(R/S),H=I.distanceTo([0,0]),K=Math.min(h.inertiaMaxSpeed,H),rt=I.multiplyBy(K/H),lt=K/(h.inertiaDeceleration*R),ht=rt.multiplyBy(-lt/2).round();!ht.x&&!ht.y?l.fire("moveend"):(ht=l._limitOffset(ht,l.options.maxBounds),zt(function(){l.panBy(ht,{duration:lt,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",ll),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kr=yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),St(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,m=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,m,y;for(m=0,y=h.left.length;m<y;m++)l[h.left[m]]=[-1*s,0];for(m=0,y=h.right.length;m<y;m++)l[h.right[m]]=[s,0];for(m=0,y=h.down.length;m<y;m++)l[h.down[m]]=[0,s];for(m=0,y=h.up.length;m<y;m++)l[h.up[m]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,m,y;for(m=0,y=h.zoomIn.length;m<y;m++)l[h.zoomIn[m]]=s;for(m=0,y=h.zoomOut.length;m<y;m++)l[h.zoomOut[m]]=-s},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,m;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[l],s.shiftKey&&(m=A(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(A(m),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(y)}else h.panBy(m)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Dn(s)}}});xt.addInitHook("addHandler","keyboard",Kr),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pi=yn.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Ur(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),Dn(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=h?Math.ceil(y/h)*h:y,R=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,R&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+R):s.setZoomAround(this._lastMousePos,l+R))}});xt.addInitHook("addHandler","scrollWheelZoom",pi);var ul=600;xt.mergeOptions({tapHold:ft.touchNative&&ft.safari&&ft.mobile,tapTolerance:15});var Ba=yn.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new X(l.clientX,l.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(St(document,"touchend",de),St(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ul),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ht(document,"touchend",de),Ht(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new X(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});xt.addInitHook("addHandler","tapHold",Ba),xt.mergeOptions({touchZoom:ft.touch,bounceAtZoomLimits:!0});var Yi=yn.extend({addHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),de(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Vt(this._animRequest);var R=_(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=zt(R,this,!0),de(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Vt(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",Yi),xt.BoxZoom=Ua,xt.DoubleClickZoom=kn,xt.Drag=ll,xt.Keyboard=Kr,xt.ScrollWheelZoom=pi,xt.TapHold=Ba,xt.TouchZoom=Yi,i.Bounds=V,i.Browser=ft,i.CRS=le,i.Canvas=Fr,i.Circle=rl,i.CircleMarker=Zr,i.Class=ke,i.Control=We,i.DivIcon=ol,i.DivOverlay=Sn,i.DomEvent=Ef,i.DomUtil=Qu,i.Draggable=fi,i.Evented=it,i.FeatureGroup=$e,i.GeoJSON=tn,i.GridLayer=Vi,i.Handler=yn,i.Icon=Is,i.ImageOverlay=Pn,i.LatLng=ct,i.LatLngBounds=$,i.Layer=En,i.LayerGroup=Zi,i.LineUtil=ac,i.Map=xt,i.Marker=Ps,i.Mixin=Cf,i.Path=Kn,i.Point=X,i.PolyUtil=xf,i.Polygon=ks,i.Polyline=Xn,i.Popup=Gr,i.PosAnimation=Aa,i.Projection=oc,i.Rectangle=pc,i.Renderer=wn,i.SVG=_i,i.SVGOverlay=di,i.TileLayer=qi,i.Tooltip=za,i.Transformation=ms,i.Util=Vn,i.VideoOverlay=ka,i.bind=_,i.bounds=tt,i.canvas=Yr,i.circle=Nf,i.circleMarker=cc,i.control=Ms,i.divIcon=_c,i.extend=c,i.featureGroup=Hr,i.geoJSON=Pa,i.geoJson=hc,i.gridLayer=Tn,i.icon=Na,i.imageOverlay=Us,i.latLng=nt,i.latLngBounds=ot,i.layerGroup=uc,i.map=Br,i.marker=sl,i.point=A,i.polygon=Je,i.polyline=If,i.popup=Df,i.rectangle=sn,i.setOptions=Y,i.stamp=v,i.svg=Fi,i.svgOverlay=dc,i.tileLayer=en,i.tooltip=Pf,i.transformation=xi,i.version=o,i.videoOverlay=fc;var Zs=window.L;i.noConflict=function(){return window.L=Zs,this},window.L=i}))})(Ql,Ql.exports)),Ql.exports}var ls=lC();const Oo=TE(ls);function Xh(r,t,i){return Object.freeze({instance:r,context:t,container:i})}function YE(r,t){return t==null?function(o,c){const d=z.useRef(void 0);return d.current||(d.current=r(o,c)),d}:function(o,c){const d=z.useRef(void 0);d.current||(d.current=r(o,c));const _=z.useRef(o),{instance:g}=d.current;return z.useEffect(function(){_.current!==o&&(t(g,o,_.current),_.current=o)},[g,o,t]),d}}function uC(r,t){z.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function cC(r){return function(i){const o=cp(),c=r(FE(i,o),o);return VE(o.map,i.attribution),GE(c.current,i.eventHandlers),uC(c.current,o),c}}function WE(r,t){const i=YE(r,t),o=cC(i);return sC(o)}function KE(r,t){const i=YE(r),o=aC(i,t);return rC(o)}function hC(r,t,i){t.bounds instanceof ls.LatLngBounds&&t.bounds!==i.bounds&&r.setBounds(t.bounds),t.opacity!=null&&t.opacity!==i.opacity&&r.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==i.zIndex&&r.setZIndex(t.zIndex)}function fC(){return cp().map}function D_(r){const t=fC();return z.useEffect(function(){return t.on(r),function(){t.off(r)}},[t,r]),t}const XE=WE(function({bounds:t,url:i,...o},c){const d=new ls.ImageOverlay(i,t,o);return Xh(d,qE(c,{overlayContainer:d}))},function(t,i,o){if(hC(t,i,o),i.bounds!==o.bounds){const c=i.bounds instanceof ls.LatLngBounds?i.bounds:new ls.LatLngBounds(i.bounds);t.setBounds(c)}i.url!==o.url&&t.setUrl(i.url)});function dC({bounds:r,boundsOptions:t,center:i,children:o,className:c,id:d,placeholder:_,style:g,whenReady:v,zoom:E,...T},C){const[x]=z.useState({className:c,id:d,style:g}),[k,j]=z.useState(null),Y=z.useRef(void 0);z.useImperativeHandle(C,()=>k?.map??null,[k]);const Q=z.useCallback(et=>{if(et!==null&&!Y.current){const at=new ls.Map(et,T);Y.current=at,i!=null&&E!=null?at.setView(i,E):r!=null&&at.fitBounds(r,t),v!=null&&at.whenReady(v),j(iC(at))}},[]);z.useEffect(()=>()=>{k?.map.remove()},[k]);const st=k?L_.createElement(up,{value:k},o):_??null;return L_.createElement("div",{...x,ref:Q},st)}const QE=z.forwardRef(dC),tu=WE(function({position:t,...i},o){const c=new ls.Marker(t,i);return Xh(c,qE(o,{overlayContainer:c}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),eu=KE(function(t,i){const o=new ls.Popup(t,i.overlayContainer);return Xh(o,i)},function(t,i,{position:o},c){z.useEffect(function(){const{instance:_}=t;function g(E){E.popup===_&&(_.update(),c(!0))}function v(E){E.popup===_&&c(!1)}return i.map.on({popupopen:g,popupclose:v}),i.overlayContainer==null?(o!=null&&_.setLatLng(o),_.openOn(i.map)):i.overlayContainer.bindPopup(_),function(){i.map.off({popupopen:g,popupclose:v}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(_)}},[t,i,c,o])}),P_=KE(function(t,i){const o=new ls.Tooltip(t,i.overlayContainer);return Xh(o,i)},function(t,i,{position:o},c){z.useEffect(function(){const _=i.overlayContainer;if(_==null)return;const{instance:g}=t,v=T=>{T.tooltip===g&&(o!=null&&g.setLatLng(o),g.update(),c(!0))},E=T=>{T.tooltip===g&&c(!1)};return _.on({tooltipopen:v,tooltipclose:E}),_.bindTooltip(g),function(){_.off({tooltipopen:v,tooltipclose:E}),_._map!=null&&_.unbindTooltip()}},[t,i,c,o])}),_C=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(r,t){if(!r)throw Lo(t)},Lo=function(r){return new Error("Firebase Database ("+$E.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):(c&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},pC=function(r){const t=[];let i=0,o=0;for(;i<r.length;){const c=r[i++];if(c<128)t[o++]=String.fromCharCode(c);else if(c>191&&c<224){const d=r[i++];t[o++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=r[i++],_=r[i++],g=r[i++],v=((c&7)<<18|(d&63)<<12|(_&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const d=r[i++],_=r[i++];t[o++]=String.fromCharCode((c&15)<<12|(d&63)<<6|_&63)}}return t.join("")},hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<r.length;c+=3){const d=r[c],_=c+1<r.length,g=_?r[c+1]:0,v=c+2<r.length,E=v?r[c+2]:0,T=d>>2,C=(d&3)<<4|g>>4;let x=(g&15)<<2|E>>6,k=E&63;v||(k=64,_||(x=64)),o.push(i[T],i[C],i[x],i[k])}return o.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(JE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):pC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<r.length;){const d=i[r.charAt(c++)],g=c<r.length?i[r.charAt(c)]:0;++c;const E=c<r.length?i[r.charAt(c)]:64;++c;const C=c<r.length?i[r.charAt(c)]:64;if(++c,d==null||g==null||E==null||C==null)throw new mC;const x=d<<2|g>>4;if(o.push(x),E!==64){const k=g<<4&240|E>>2;if(o.push(k),C!==64){const j=E<<6&192|C;o.push(j)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(r){const t=JE(r);return hp.encodeByteArray(t,!0)},Ch=function(r){return tb(r).replace(/\./g,"")},xh=function(r){try{return hp.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r){return eb(void 0,r)}function eb(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!vC(i)||(r[i]=eb(r[i],t[i]));return r}function vC(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=()=>yC().__FIREBASE_DEFAULTS__,bC=()=>{if(typeof process>"u"||typeof hy>"u")return;const r=hy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&xh(r[1]);return t&&JSON.parse(t)},fp=()=>{try{return _C()||EC()||bC()||SC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nb=r=>fp()?.emulatorHosts?.[r],TC=r=>{const t=nb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},ib=()=>fp()?.config,sb=r=>fp()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",c=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _={iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ch(JSON.stringify(i)),Ch(JSON.stringify(_)),""].join(".")}const nu={};function CC(){const r={prod:[],emulator:[]};for(const t of Object.keys(nu))nu[t]?r.emulator.push(t):r.prod.push(t);return r}function xC(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let fy=!1;function ab(r,t){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||nu[r]===t||nu[r]||fy)return;nu[r]=t;function i(x){return`__firebase__banner__${x}`}const o="__firebase__banner",d=CC().prod.length>0;function _(){const x=document.getElementById(o);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function E(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{fy=!0,_()},x}function T(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=xC(o),k=i("text"),j=document.getElementById(k)||document.createElement("span"),Y=i("learnmore"),Q=document.getElementById(Y)||document.createElement("a"),st=i("preprendIcon"),et=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const at=x.element;g(at),T(Q,Y);const Dt=E();v(et,st),at.append(et,j,Q,Dt),document.body.appendChild(at)}d?(j.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ob(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LC(){return $E.NODE_ADMIN===!0}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function NC(){return new Promise((r,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{t(c.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class Ar extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=IC,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},c=`${this.service}/${t}`,d=this.errors[t],_=d?DC(d,o):"Error",g=`${this.serviceName}: ${_} (${c}).`;return new Ar(c,g,o)}}function DC(r,t){return r.replace(PC,(i,o)=>{const c=t[o];return c!=null?String(c):`<${o}?>`})}const PC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){return JSON.parse(r)}function xe(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(r){let t={},i={},o={},c="";try{const d=r.split(".");t=cu(xh(d[0])||""),i=cu(xh(d[1])||""),c=d[2],o=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:o,signature:c}},kC=function(r){const t=lb(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},zC=function(r){const t=lb(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function vo(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function k_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ah(r,t,i){const o={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=t.call(i,r[c],c,r));return o}function ua(r,t){if(r===t)return!0;const i=Object.keys(r),o=Object.keys(t);for(const c of i){if(!o.includes(c))return!1;const d=r[c],_=t[c];if(dy(d)&&dy(_)){if(!ua(d,_))return!1}else if(d!==_)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function dy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(r){const t=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(c=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function $l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,d]=o.split("=");t[decodeURIComponent(c)]=decodeURIComponent(d)}}),t}function Jl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const o=this.W_;if(typeof t=="string")for(let C=0;C<16;C++)o[C]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let C=0;C<16;C++)o[C]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let C=16;C<80;C++){const x=o[C-3]^o[C-8]^o[C-14]^o[C-16];o[C]=(x<<1|x>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],_=this.chain_[2],g=this.chain_[3],v=this.chain_[4],E,T;for(let C=0;C<80;C++){C<40?C<20?(E=g^d&(_^g),T=1518500249):(E=d^_^g,T=1859775393):C<60?(E=d&_|g&(d|_),T=2400959708):(E=d^_^g,T=3395469782);const x=(c<<5|c>>>27)+E+v+T+o[C]&4294967295;v=g,g=_,_=(d<<30|d>>>2)&4294967295,d=c,c=x}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+_&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const o=i-this.blockSize;let c=0;const d=this.buf_;let _=this.inbuf_;for(;c<i;){if(_===0)for(;c<=o;)this.compress_(t,c),c+=this.blockSize;if(typeof t=="string"){for(;c<i;)if(d[_]=t.charCodeAt(c),++_,++c,_===this.blockSize){this.compress_(d),_=0;break}}else for(;c<i;)if(d[_]=t[c],++_,++c,_===this.blockSize){this.compress_(d),_=0;break}}this.inbuf_=_,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)t[o]=this.chain_[c]>>d&255,++o;return t}}function BC(r,t){const i=new HC(r,t);return i.subscribe.bind(i)}class HC{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,o){let c;if(t===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");ZC(t,["next","error","complete"])?c=t:c={next:t,error:i,complete:o},c.next===void 0&&(c.next=m_),c.error===void 0&&(c.error=m_),c.complete===void 0&&(c.complete=m_);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function m_(){}function Qh(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let c=r.charCodeAt(o);if(c>=55296&&c<=56319){const d=c-55296;o++,J(o<r.length,"Surrogate pair missing trail surrogate.");const _=r.charCodeAt(o)-56320;c=65536+(d<<10)+_}c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):c<65536?(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},$h=function(r){let t=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class ca{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new Cu;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GC(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:c});o.resolve(d)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[d,_]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);o===g&&_.resolve(c)}return c}onInit(t,i){const o=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(o)??new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:qC(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(r){return r===aa?void 0:r}function GC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new VC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const YC={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},WC=Qt.INFO,KC={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},XC=(r,t,...i)=>{if(t<r.logLevel)return;const o=new Date().toISOString(),c=KC[t];if(c)console[c](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _p{constructor(t){this.name=t,this._logLevel=WC,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const QC=(r,t)=>t.some(i=>r instanceof i);let _y,py;function $C(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JC(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,z_=new WeakMap,cb=new WeakMap,g_=new WeakMap,pp=new WeakMap;function t1(r){const t=new Promise((i,o)=>{const c=()=>{r.removeEventListener("success",d),r.removeEventListener("error",_)},d=()=>{i(gr(r.result)),c()},_=()=>{o(r.error),c()};r.addEventListener("success",d),r.addEventListener("error",_)});return t.then(i=>{i instanceof IDBCursor&&ub.set(i,r)}).catch(()=>{}),pp.set(t,r),t}function e1(r){if(z_.has(r))return;const t=new Promise((i,o)=>{const c=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",_),r.removeEventListener("abort",_)},d=()=>{i(),c()},_=()=>{o(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",d),r.addEventListener("error",_),r.addEventListener("abort",_)});z_.set(r,t)}let U_={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return z_.get(r);if(t==="objectStoreNames")return r.objectStoreNames||cb.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function n1(r){U_=r(U_)}function i1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=r.call(v_(this),t,...i);return cb.set(o,t.sort?t.sort():[t]),gr(o)}:JC().includes(r)?function(...t){return r.apply(v_(this),t),gr(ub.get(this))}:function(...t){return gr(r.apply(v_(this),t))}}function s1(r){return typeof r=="function"?i1(r):(r instanceof IDBTransaction&&e1(r),QC(r,$C())?new Proxy(r,U_):r)}function gr(r){if(r instanceof IDBRequest)return t1(r);if(g_.has(r))return g_.get(r);const t=s1(r);return t!==r&&(g_.set(r,t),pp.set(t,r)),t}const v_=r=>pp.get(r);function r1(r,t,{blocked:i,upgrade:o,blocking:c,terminated:d}={}){const _=indexedDB.open(r,t),g=gr(_);return o&&_.addEventListener("upgradeneeded",v=>{o(gr(_.result),v.oldVersion,v.newVersion,gr(_.transaction),v)}),i&&_.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{d&&v.addEventListener("close",()=>d()),c&&v.addEventListener("versionchange",E=>c(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],y_=new Map;function my(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(y_.get(t))return y_.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,c=o1.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||a1.includes(i)))return;const d=async function(_,...g){const v=this.transaction(_,c?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[i](...g),c&&v.done]))[0]};return y_.set(t,d),d}n1(r=>({...r,get:(t,i,o)=>my(t,i)||r.get(t,i,o),has:(t,i)=>!!my(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(u1(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function u1(r){return r.getComponent()?.type==="VERSION"}const B_="@firebase/app",gy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new _p("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",_1="@firebase/app-check",p1="@firebase/auth",m1="@firebase/auth-compat",g1="@firebase/database",v1="@firebase/data-connect",y1="@firebase/database-compat",E1="@firebase/functions",b1="@firebase/functions-compat",S1="@firebase/installations",T1="@firebase/installations-compat",w1="@firebase/messaging",C1="@firebase/messaging-compat",x1="@firebase/performance",A1="@firebase/performance-compat",R1="@firebase/remote-config",O1="@firebase/remote-config-compat",L1="@firebase/storage",M1="@firebase/storage-compat",N1="@firebase/firestore",I1="@firebase/ai",D1="@firebase/firestore-compat",P1="firebase",k1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",z1={[B_]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[_1]:"fire-app-check",[d1]:"fire-app-check-compat",[p1]:"fire-auth",[m1]:"fire-auth-compat",[g1]:"fire-rtdb",[v1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[E1]:"fire-fn",[b1]:"fire-fn-compat",[S1]:"fire-iid",[T1]:"fire-iid-compat",[w1]:"fire-fcm",[C1]:"fire-fcm-compat",[x1]:"fire-perf",[A1]:"fire-perf-compat",[R1]:"fire-rc",[O1]:"fire-rc-compat",[L1]:"fire-gcs",[M1]:"fire-gcs-compat",[N1]:"fire-fst",[D1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,U1=new Map,Z_=new Map;function vy(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function yo(r){const t=r.name;if(Z_.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Z_.set(t,r);for(const i of Rh.values())vy(i,r);for(const i of U1.values())vy(i,r);return!0}function mp(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ei(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new xu("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i,o){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=k1;function hb(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const o={name:H_,automaticDataCollectionEnabled:!0,...t},c=o.name;if(typeof c!="string"||!c)throw vr.create("bad-app-name",{appName:String(c)});if(i||(i=ib()),!i)throw vr.create("no-options");const d=Rh.get(c);if(d){if(ua(i,d.options)&&ua(o,d.config))return d;throw vr.create("duplicate-app",{appName:c})}const _=new FC(c);for(const v of Z_.values())_.addComponent(v);const g=new H1(i,o,_);return Rh.set(c,g),g}function fb(r=H_){const t=Rh.get(r);if(!t&&r===H_&&ib())return hb();if(!t)throw vr.create("no-app",{appName:r});return t}function yr(r,t,i){let o=z1[r]??r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const _=[`Unable to register library "${o}" with version "${t}":`];c&&_.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&_.push("and"),d&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(_.join(" "));return}yo(new ca(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebase-heartbeat-database",j1=1,hu="firebase-heartbeat-store";let E_=null;function db(){return E_||(E_=r1(Z1,j1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(hu)}catch(i){console.warn(i)}}}}).catch(r=>{throw vr.create("idb-open",{originalErrorMessage:r.message})})),E_}async function V1(r){try{const i=(await db()).transaction(hu),o=await i.objectStore(hu).get(_b(r));return await i.done,o}catch(t){if(t instanceof Ar)hs.warn(t.message);else{const i=vr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function yy(r,t){try{const o=(await db()).transaction(hu,"readwrite");await o.objectStore(hu).put(t,_b(r)),await o.done}catch(i){if(i instanceof Ar)hs.warn(i.message);else{const o=vr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(o.message)}}}function _b(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,G1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new W1(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ey();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>G1){const c=K1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ey(),{heartbeatsToSend:i,unsentEntries:o}=Y1(this._heartbeatsCache.heartbeats),c=Ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return hs.warn(t),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function Y1(r,t=q1){const i=[];let o=r.slice();for(const c of r){const d=i.find(_=>_.agent===c.agent);if(d){if(d.dates.push(c.date),by(i)>t){d.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),by(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class W1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?NC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await V1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function by(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function K1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let o=1;o<r.length;o++)r[o].date<i&&(i=r[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r){yo(new ca("platform-logger",t=>new l1(t),"PRIVATE")),yo(new ca("heartbeat",t=>new F1(t),"PRIVATE")),yr(B_,gy,r),yr(B_,gy,"esm2020"),yr("fire-js","")}X1("");var Q1="firebase",$1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(Q1,$1,"app");var Sy={};const Ty="@firebase/database",wy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb="";function J1(r){pb=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),xe(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:cu(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Ci(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tx(t)}}catch{}return new ex},la=mb("localStorage"),nx=mb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new _p("@firebase/database"),ix=(function(){let r=1;return function(){return r++}})(),gb=function(r){const t=jC(r),i=new UC;i.update(t);const o=i.digest();return hp.encodeByteArray(o)},Au=function(...r){let t="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Au.apply(null,o):typeof o=="object"?t+=xe(o):t+=o,t+=" "}return t};let iu=null,Cy=!0;const sx=function(r,t){J(!0,"Can't turn on custom loggers persistently."),fo.logLevel=Qt.VERBOSE,iu=fo.log.bind(fo)},Ve=function(...r){if(Cy===!0&&(Cy=!1,iu===null&&nx.get("logging_enabled")===!0&&sx()),iu){const t=Au.apply(null,r);iu(t)}},Ru=function(r){return function(...t){Ve(r,...t)}},j_=function(...r){const t="FIREBASE INTERNAL ERROR: "+Au(...r);fo.error(t)},fs=function(...r){const t=`FIREBASE FATAL ERROR: ${Au(...r)}`;throw fo.error(t),new Error(t)},an=function(...r){const t="FIREBASE WARNING: "+Au(...r);fo.warn(t)},rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&an("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gp=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},ax=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Eo="[MIN_NAME]",ha="[MAX_NAME]",pa=function(r,t){if(r===t)return 0;if(r===Eo||t===ha)return-1;if(t===Eo||r===ha)return 1;{const i=xy(r),o=xy(t);return i!==null?o!==null?i-o===0?r.length-t.length:i-o:-1:o!==null?1:r<t?-1:1}},ox=function(r,t){return r===t?0:r<t?-1:1},Fl=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+xe(t))},vp=function(r){if(typeof r!="object"||r===null)return xe(r);const t=[];for(const o in r)t.push(o);t.sort();let i="{";for(let o=0;o<t.length;o++)o!==0&&(i+=","),i+=xe(t[o]),i+=":",i+=vp(r[t[o]]);return i+="}",i},vb=function(r,t){const i=r.length;if(i<=t)return[r];const o=[];for(let c=0;c<i;c+=t)c+t>i?o.push(r.substring(c,i)):o.push(r.substring(c,c+t));return o};function qe(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const yb=function(r){J(!gp(r),"Invalid JSON number");const t=11,i=52,o=(1<<t-1)-1;let c,d,_,g,v;r===0?(d=0,_=0,c=1/r===-1/0?1:0):(c=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=g+o,_=Math.round(r*Math.pow(2,i-g)-Math.pow(2,i))):(d=0,_=Math.round(r/Math.pow(2,1-o-i))));const E=[];for(v=i;v;v-=1)E.push(_%2?1:0),_=Math.floor(_/2);for(v=t;v;v-=1)E.push(d%2?1:0),d=Math.floor(d/2);E.push(c?1:0),E.reverse();const T=E.join("");let C="";for(v=0;v<64;v+=8){let x=parseInt(T.substr(v,8),2).toString(16);x.length===1&&(x="0"+x),C=C+x}return C.toLowerCase()},lx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ux=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cx(r,t){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+i);return o.code=r.toUpperCase(),o}const hx=new RegExp("^-?(0*)\\d{1,10}$"),fx=-2147483648,dx=2147483647,xy=function(r){if(hx.test(r)){const t=Number(r);if(t>=fx&&t<=dx)return t}return null},Do=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw an("Exception was thrown by user callback.",i),t},Math.floor(0))}},_x=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},su=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,ei(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){an(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,i,o){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',an(t)}}class yh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}yh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="5",Eb="v",bb="s",Sb="r",Tb="f",wb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cb="ls",xb="p",V_="ac",Ab="websocket",Rb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,i,o,c,d=!1,_="",g=!1,v=!1,E=null){this.secure=i,this.namespace=o,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=_,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function gx(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function Lb(r,t,i){J(typeof t=="string","typeof type must == string"),J(typeof i=="object","typeof params must == object");let o;if(t===Ab)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===Rb)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);gx(r)&&(i.ns=r.namespace);const c=[];return qe(i,(d,_)=>{c.push(d+"="+_)}),o+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.counters_={}}incrementCounter(t,i=1){Ci(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return gC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={},S_={};function Ep(r){const t=r.toString();return b_[t]||(b_[t]=new vx),b_[t]}function yx(r,t){const i=r.toString();return S_[i]||(S_[i]=t()),S_[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<o.length;++c)o[c]&&Do(()=>{this.onMessage_(o[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="start",bx="close",Sx="pLPCommand",Tx="pRTLPCB",Mb="id",Nb="pw",Ib="ser",wx="cb",Cx="seg",xx="ts",Ax="d",Rx="dframe",Db=1870,Pb=30,Ox=Db-Pb,Lx=25e3,Mx=3e4;class co{constructor(t,i,o,c,d,_,g){this.connId=t,this.repoInfo=i,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.transportSessionId=_,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ru(t),this.stats_=Ep(i),this.urlFn=v=>(this.appCheckToken&&(v[V_]=this.appCheckToken),Lb(i,Rb,v))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Ex(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Mx)),ax(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bp((...d)=>{const[_,g,v,E,T]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_===Ay)this.id=g,this.password=v;else if(_===bx)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_)},(...d)=>{const[_,g]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(_,g)},()=>{this.onClosed_()},this.urlFn);const o={};o[Ay]="t",o[Ib]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[wx]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Eb]=yp,this.transportSessionId&&(o[bb]=this.transportSessionId),this.lastSessionId&&(o[Cb]=this.lastSessionId),this.applicationId&&(o[xb]=this.applicationId),this.appCheckToken&&(o[V_]=this.appCheckToken),typeof location<"u"&&location.hostname&&wb.test(location.hostname)&&(o[Sb]=Tb);const c=this.urlFn(o);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){co.forceAllow_=!0}static forceDisallow(){co.forceDisallow_=!0}static isAvailable(){return co.forceAllow_?!0:!co.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lx()&&!ux()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=xe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=tb(i),c=vb(o,Ox);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[Rx]="t",o[Mb]=t,o[Nb]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=xe(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class bp{constructor(t,i,o,c){this.onDisconnect=o,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ix(),window[Sx+this.uniqueCallbackIdentifier]=t,window[Tx+this.uniqueCallbackIdentifier]=i,this.myIFrame=bp.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(g){Ve("frame writing exception"),g.stack&&Ve(g.stack),Ve(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ve("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Mb]=this.myID,t[Nb]=this.myPW,t[Ib]=this.currentSerial;let i=this.urlFn(t),o="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pb+o.length<=Db;){const _=this.pendingSegs.shift();o=o+"&"+Cx+c+"="+_.seg+"&"+xx+c+"="+_.ts+"&"+Ax+c+"="+_.d,c++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,o){this.pendingSegs.push({seg:t,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(o,Math.floor(Lx)),d=()=>{clearTimeout(c),o()};this.addTag(t,d)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const c=o.readyState;(!c||c==="loaded"||c==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=16384,Ix=45e3;let Oh=null;typeof MozWebSocket<"u"?Oh=MozWebSocket:typeof WebSocket<"u"&&(Oh=WebSocket);class ni{constructor(t,i,o,c,d,_,g){this.connId=t,this.applicationId=o,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ru(this.connId),this.stats_=Ep(i),this.connURL=ni.connectionURL_(i,_,g,c,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,c,d){const _={};return _[Eb]=yp,typeof location<"u"&&location.hostname&&wb.test(location.hostname)&&(_[Sb]=Tb),i&&(_[bb]=i),o&&(_[Cb]=o),c&&(_[V_]=c),d&&(_[xb]=d),Lb(t,Ab,_)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let o;LC(),this.mySock=new Oh(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ni.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Oh!==null&&!ni.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=cu(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(J(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=xe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=vb(i,Nx);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ix))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ni.responsesRequiredToBeHealthy=2;ni.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{static get ALL_TRANSPORTS(){return[co,ni]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ni&&ni.isAvailable();let o=i&&!ni.previouslyFailed();if(t.webSocketOnly&&(i||an("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ni];else{const c=this.transports_=[];for(const d of fu.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);fu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=6e4,Px=5e3,kx=10*1024,zx=100*1024,T_="t",Ry="d",Ux="s",Oy="r",Bx="e",Ly="o",My="a",Ny="n",Iy="p",Hx="h";class Zx{constructor(t,i,o,c,d,_,g,v,E,T){this.id=t,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=_,this.onReady_=g,this.onDisconnect_=v,this.onKill_=E,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ru("c:"+this.id+":"),this.transportManager_=new fu(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=su(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(T_ in t){const i=t[T_];i===My?this.upgradeIfSecondaryHealthy_():i===Oy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ly&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Fl("t",t),o=Fl("d",t);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Iy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Fl("t",t),o=Fl("d",t);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Fl(T_,t);if(Ry in t){const o=t[Ry];if(i===Hx){const c={...o};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===Ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Ux?this.onConnectionShutdown_(o):i===Oy?this.onReset_(o):i===Bx?j_("Server Error: "+o):i===Ly?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j_("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,o=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),yp!==o&&an("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),su(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dx))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):su(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Px))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Iy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{put(t,i,o,c){}merge(t,i,o,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,o){}onDisconnectMerge(t,i,o){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.allowedEvents_=t,this.listeners_={},J(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let c=0;c<o.length;c++)o[c].callback.apply(o[c].context,i)}}on(t,i,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:o});const c=this.getInitialEvent(t);c&&i.apply(o,c)}off(t,i,o){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let d=0;d<c.length;d++)if(c[d].callback===i&&(!o||o===c[d].context)){c.splice(d,1);return}}validateEventType_(t){J(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends zb{static getInstance(){return new Lh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return J(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=32,Py=768;class $t{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let o=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[o]=this.pieces_[c],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function jt(){return new $t("")}function Nt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Tr(r){return r.pieces_.length-r.pieceNum_}function re(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new $t(r.pieces_,t)}function Sp(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function jx(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function du(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Ub(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new $t(t,0)}function pe(r,t){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(t instanceof $t)for(let o=t.pieceNum_;o<t.pieces_.length;o++)i.push(t.pieces_[o]);else{const o=t.split("/");for(let c=0;c<o.length;c++)o[c].length>0&&i.push(o[c])}return new $t(i,0)}function Mt(r){return r.pieceNum_>=r.pieces_.length}function rn(r,t){const i=Nt(r),o=Nt(t);if(i===null)return t;if(i===o)return rn(re(r),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Vx(r,t){const i=du(r,0),o=du(t,0);for(let c=0;c<i.length&&c<o.length;c++){const d=pa(i[c],o[c]);if(d!==0)return d}return i.length===o.length?0:i.length<o.length?-1:1}function Bb(r,t){if(Tr(r)!==Tr(t))return!1;for(let i=r.pieceNum_,o=t.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==t.pieces_[o])return!1;return!0}function Zn(r,t){let i=r.pieceNum_,o=t.pieceNum_;if(Tr(r)>Tr(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[o])return!1;++i,++o}return!0}class qx{constructor(t,i){this.errorPrefix_=i,this.parts_=du(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=$h(this.parts_[o]);Hb(this)}}function Gx(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=$h(t),Hb(r)}function Fx(r){const t=r.parts_.pop();r.byteLength_-=$h(t),r.parts_.length>0&&(r.byteLength_-=1)}function Hb(r){if(r.byteLength_>Py)throw new Error(r.errorPrefix_+"has a key path longer than "+Py+" bytes ("+r.byteLength_+").");if(r.parts_.length>Dy)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dy+") or object contains a cycle "+oa(r))}function oa(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends zb{static getInstance(){return new Tp}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return J(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=1e3,Yx=300*1e3,ky=30*1e3,Wx=1.3,Kx=3e4,Xx="server_kill",zy=3;class us extends kb{constructor(t,i,o,c,d,_,g,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=us.nextPersistentConnectionId_++,this.log_=Ru("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yl,this.maxReconnectDelay_=Yx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Lh.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const c=++this.requestNumber_,d={r:c,a:t,b:i};this.log_(xe(d)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[c]=o)}get(t){this.initConnection_();const i=new Cu,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:_=>{const g=_.d;_.s==="ok"?i.resolve(g):i.reject(g)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),i.promise}listen(t,i,o,c){this.initConnection_();const d=t._queryIdentifier,_=t._path.toString();this.log_("Listen called for "+_+" "+d),this.listens.has(_)||this.listens.set(_,new Map),J(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(_).has(d),"listen() called twice for same path/queryId.");const g={onComplete:c,hashFn:i,query:t,tag:o};this.listens.get(_).set(d,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+o+" for "+c);const d={p:o},_="q";t.tag&&(d.q=i._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest(_,d,g=>{const v=g.d,E=g.s;us.warnOnListenWarnings_(v,i),(this.listens.get(o)&&this.listens.get(o).get(c))===t&&(this.log_("listen response",g),E!=="ok"&&this.removeListen_(o,c),t.onComplete&&t.onComplete(E,v))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Ci(t,"w")){const o=vo(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();an(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ky)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=kC(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,c=>{const d=c.s,_=c.d||"error";this.authToken_===t&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),J(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,t._queryObject,i)}sendUnlisten_(t,i,o,c){this.log_("Unlisten on "+t+" for "+i);const d={p:t},_="n";c&&(d.q=o,d.t=c),this.sendRequest(_,d)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,c){const d={p:i,d:o};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(t,i,o,c){this.putInternal("p",t,i,o,c)}merge(t,i,o,c){this.putInternal("m",t,i,o,c)}putInternal(t,i,o,c,d){this.initConnection_();const _={p:i,d:o};d!==void 0&&(_.h=d),this.outstandingPuts_.push({action:t,request:_,onComplete:c}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const d=o.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+xe(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):j_("Unrecognized action received from server: "+xe(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Kx&&(this.reconnectDelay_=Yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+us.nextConnectionId_++,d=this.lastSessionId;let _=!1,g=null;const v=function(){g?g.close():(_=!0,o())},E=function(C){J(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(C)};this.realtime_={close:v,sendRequest:E};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,x]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);_?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=x&&x.token,g=new Zx(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,o,k=>{an(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(Xx)},d))}catch(C){this.log_("Failed to get token: "+C),_||(this.repoInfo_.nodeAdmin&&an(C),v())}}}interrupt(t){Ve("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ve("Resuming connection for reason: "+t),delete this.interruptReasons_[t],k_(this.interruptReasons_)&&(this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;i?o=i.map(d=>vp(d)).join("$"):o="default";const c=this.removeListen_(t,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,i){const o=new $t(t).toString();let c;if(this.listens.has(o)){const d=this.listens.get(o);c=d.get(i),d.delete(i),d.size===0&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(t,i){Ve("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zy&&(this.reconnectDelay_=ky,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ve("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+pb.replace(/\./g,"-")]=1,dp()?t["framework.cordova"]=1:ob()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Lh.getInstance().currentlyOnline();return k_(this.interruptReasons_)&&t}}us.nextPersistentConnectionId_=0;us.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Rt(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const o=new Rt(Eo,t),c=new Rt(Eo,i);return this.compare(o,c)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;class Zb extends Jh{static get __EMPTY_NODE(){return _h}static set __EMPTY_NODE(t){_h=t}compare(t,i){return pa(t.name,i.name)}isDefinedOn(t){throw Lo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(ha,_h)}makePost(t,i){return J(typeof t=="string","KeyIndex indexValue must always be a string."),new Rt(t,_h)}toString(){return".key"}}const _o=new Zb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i,o,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let _=1;for(;!t.isEmpty();)if(t=t,_=i?o(t.key,i):1,c&&(_*=-1),_<0)this.isReverse_?t=t.left:t=t.right;else if(_===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Pe{constructor(t,i,o,c,d){this.key=t,this.value=i,this.color=o??Pe.RED,this.left=c??mn.EMPTY_NODE,this.right=d??mn.EMPTY_NODE}copy(t,i,o,c,d){return new Pe(t??this.key,i??this.value,o??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let c=this;const d=o(t,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(t,i,o),null):d===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(t,i,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return mn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,c;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class Qx{copy(t,i,o,c,d){return this}insert(t,i,o){return new Pe(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mn{constructor(t,i=mn.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new mn(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(t){return new mn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(t){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(t,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(t){let i,o=this.root_,c=null;for(;!o.isEmpty();)if(i=this.comparator_(t,o.key),i===0){if(o.left.isEmpty())return c?c.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(c=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ph(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new ph(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new ph(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new ph(this.root_,null,this.comparator_,!0,t)}}mn.EMPTY_NODE=new Qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r,t){return pa(r.name,t.name)}function wp(r,t){return pa(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_;function Jx(r){q_=r}const jb=function(r){return typeof r=="number"?"number:"+yb(r):"string:"+r},Vb=function(r){if(r.isLeafNode()){const t=r.val();J(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ci(t,".sv"),"Priority must be a string or number.")}else J(r===q_||r.isEmpty(),"priority of unexpected type.");J(r===q_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy;class De{static set __childrenNodeConstructor(t){Uy=t}static get __childrenNodeConstructor(){return Uy}constructor(t,i=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new De(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Mt(t)?this:Nt(t)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=Nt(t);return o===null?i:i.isEmpty()&&o!==".priority"?this:(J(o!==".priority"||Tr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jb(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=yb(this.value_):t+=this.value_,this.lazyHash_=gb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===De.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof De.__childrenNodeConstructor?-1:(J(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,c=De.VALUE_TYPE_ORDER.indexOf(i),d=De.VALUE_TYPE_ORDER.indexOf(o);return J(c>=0,"Unknown leaf type: "+i),J(d>=0,"Unknown leaf type: "+o),c===d?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb,Gb;function tA(r){qb=r}function eA(r){Gb=r}class nA extends Jh{compare(t,i){const o=t.node.getPriority(),c=i.node.getPriority(),d=o.compareTo(c);return d===0?pa(t.name,i.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(ha,new De("[PRIORITY-POST]",Gb))}makePost(t,i){const o=qb(t);return new Rt(i,new De("[PRIORITY-POST]",o))}toString(){return".priority"}}const me=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=Math.log(2);class sA{constructor(t){const i=d=>parseInt(Math.log(d)/iA,10),o=d=>parseInt(Array(d+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const c=o(this.count);this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Mh=function(r,t,i,o){r.sort(t);const c=function(v,E){const T=E-v;let C,x;if(T===0)return null;if(T===1)return C=r[v],x=i?i(C):C,new Pe(x,C.node,Pe.BLACK,null,null);{const k=parseInt(T/2,10)+v,j=c(v,k),Y=c(k+1,E);return C=r[k],x=i?i(C):C,new Pe(x,C.node,Pe.BLACK,j,Y)}},d=function(v){let E=null,T=null,C=r.length;const x=function(j,Y){const Q=C-j,st=C;C-=j;const et=c(Q+1,st),at=r[Q],Dt=i?i(at):at;k(new Pe(Dt,at.node,Y,null,et))},k=function(j){E?(E.left=j,E=j):(T=j,E=j)};for(let j=0;j<v.count;++j){const Y=v.nextBitIsOne(),Q=Math.pow(2,v.count-(j+1));Y?x(Q,Pe.BLACK):(x(Q,Pe.BLACK),x(Q,Pe.RED))}return T},_=new sA(r.length),g=d(_);return new mn(o||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_;const lo={};class is{static get Default(){return J(lo&&me,"ChildrenNode.ts has not been loaded"),w_=w_||new is({".priority":lo},{".priority":me}),w_}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=vo(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof mn?i:null}hasIndex(t){return Ci(this.indexSet_,t.toString())}addIndex(t,i){J(t!==_o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let c=!1;const d=i.getIterator(Rt.Wrap);let _=d.getNext();for(;_;)c=c||t.isDefinedOn(_.node),o.push(_),_=d.getNext();let g;c?g=Mh(o,t.getCompare()):g=lo;const v=t.toString(),E={...this.indexSet_};E[v]=t;const T={...this.indexes_};return T[v]=g,new is(T,E)}addToIndexes(t,i){const o=Ah(this.indexes_,(c,d)=>{const _=vo(this.indexSet_,d);if(J(_,"Missing index implementation for "+d),c===lo)if(_.isDefinedOn(t.node)){const g=[],v=i.getIterator(Rt.Wrap);let E=v.getNext();for(;E;)E.name!==t.name&&g.push(E),E=v.getNext();return g.push(t),Mh(g,_.getCompare())}else return lo;else{const g=i.get(t.name);let v=c;return g&&(v=v.remove(new Rt(t.name,g))),v.insert(t,t.node)}});return new is(o,this.indexSet_)}removeFromIndexes(t,i){const o=Ah(this.indexes_,c=>{if(c===lo)return c;{const d=i.get(t.name);return d?c.remove(new Rt(t.name,d)):c}});return new is(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class yt{static get EMPTY_NODE(){return Wl||(Wl=new yt(new mn(wp),null,is.Default))}constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Vb(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wl}updatePriority(t){return this.children_.isEmpty()?this:new yt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Wl:i}}getChild(t){const i=Nt(t);return i===null?this:this.getImmediateChild(i).getChild(re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(J(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const o=new Rt(t,i);let c,d;i.isEmpty()?(c=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(t,i),d=this.indexMap_.addToIndexes(o,this.children_));const _=c.isEmpty()?Wl:this.priorityNode_;return new yt(c,_,d)}}updateChild(t,i){const o=Nt(t);if(o===null)return i;{J(Nt(t)!==".priority"||Tr(t)===1,".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(re(t),i);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,c=0,d=!0;if(this.forEachChild(me,(_,g)=>{i[_]=g.val(t),o++,d&&yt.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):d=!1}),!t&&d&&c<2*o){const _=[];for(const g in i)_[g]=i[g];return _}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jb(this.getPriority().val())+":"),this.forEachChild(me,(i,o)=>{const c=o.hash();c!==""&&(t+=":"+i+":"+c)}),this.lazyHash_=t===""?"":gb(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const c=this.resolveIndex_(o);if(c){const d=c.getPredecessorKey(new Rt(t,i));return d?d.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Rt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Rt(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Rt.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,t)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap);let d=c.peek();for(;d!=null&&i.compare(d,t)>0;)c.getNext(),d=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ou?-1:0}withIndex(t){if(t===_o||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new yt(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===_o||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(me),c=i.getIterator(me);let d=o.getNext(),_=c.getNext();for(;d&&_;){if(d.name!==_.name||!d.node.equals(_.node))return!1;d=o.getNext(),_=c.getNext()}return d===null&&_===null}else return!1;else return!1}}resolveIndex_(t){return t===_o?null:this.indexMap_.get(t.toString())}}yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rA extends yt{constructor(){super(new mn(wp),yt.EMPTY_NODE,is.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return yt.EMPTY_NODE}isEmpty(){return!1}}const Ou=new rA;Object.defineProperties(Rt,{MIN:{value:new Rt(Eo,yt.EMPTY_NODE)},MAX:{value:new Rt(ha,Ou)}});Zb.__EMPTY_NODE=yt.EMPTY_NODE;De.__childrenNodeConstructor=yt;Jx(Ou);eA(Ou);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=!0;function Ce(r,t=null){if(r===null)return yt.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),J(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new De(i,Ce(t))}if(!(r instanceof Array)&&aA){const i=[];let o=!1;if(qe(r,(_,g)=>{if(_.substring(0,1)!=="."){const v=Ce(g);v.isEmpty()||(o=o||!v.getPriority().isEmpty(),i.push(new Rt(_,v)))}}),i.length===0)return yt.EMPTY_NODE;const d=Mh(i,$x,_=>_.name,wp);if(o){const _=Mh(i,me.getCompare());return new yt(d,Ce(t),new is({".priority":_},{".priority":me}))}else return new yt(d,Ce(t),is.Default)}else{let i=yt.EMPTY_NODE;return qe(r,(o,c)=>{if(Ci(r,o)&&o.substring(0,1)!=="."){const d=Ce(c);(d.isLeafNode()||!d.isEmpty())&&(i=i.updateImmediateChild(o,d))}}),i.updatePriority(Ce(t))}}tA(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Jh{constructor(t){super(),this.indexPath_=t,J(!Mt(t)&&Nt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const o=this.extractChild(t.node),c=this.extractChild(i.node),d=o.compareTo(c);return d===0?pa(t.name,i.name):d}makePost(t,i){const o=Ce(t),c=yt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Rt(i,c)}maxPost(){const t=yt.EMPTY_NODE.updateChild(this.indexPath_,Ou);return new Rt(ha,t)}toString(){return du(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends Jh{compare(t,i){const o=t.node.compareTo(i.node);return o===0?pa(t.name,i.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,i){const o=Ce(t);return new Rt(i,o)}toString(){return".value"}}const uA=new lA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(r){return{type:"value",snapshotNode:r}}function bo(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function _u(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function pu(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function cA(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t){this.index_=t}updateChild(t,i,o,c,d,_){J(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(i);return g.getChild(c).equals(o.getChild(c))&&g.isEmpty()===o.isEmpty()||(_!=null&&(o.isEmpty()?t.hasChild(i)?_.trackChildChange(_u(i,g)):J(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?_.trackChildChange(bo(i,o)):_.trackChildChange(pu(i,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(i,o).withIndex(this.index_)}updateFullNode(t,i,o){return o!=null&&(t.isLeafNode()||t.forEachChild(me,(c,d)=>{i.hasChild(c)||o.trackChildChange(_u(c,d))}),i.isLeafNode()||i.forEachChild(me,(c,d)=>{if(t.hasChild(c)){const _=t.getImmediateChild(c);_.equals(d)||o.trackChildChange(pu(c,d,_))}else o.trackChildChange(bo(c,d))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?yt.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this.indexedFilter_=new Cp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mu.getStartPost_(t),this.endPost_=mu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&o}updateChild(t,i,o,c,d,_){return this.matches(new Rt(i,o))||(o=yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,o,c,d,_)}updateFullNode(t,i,o){i.isLeafNode()&&(i=yt.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(yt.EMPTY_NODE);const d=this;return i.forEachChild(me,(_,g)=>{d.matches(new Rt(_,g))||(c=c.updateImmediateChild(_,yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,c,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=i=>{const o=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new mu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,o,c,d,_){return this.rangedFilter_.matches(new Rt(i,o))||(o=yt.EMPTY_NODE),t.getImmediateChild(i).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,o,c,d,_):this.fullLimitUpdateChild_(t,i,o,d,_)}updateFullNode(t,i,o){let c;if(i.isLeafNode()||i.isEmpty())c=yt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=yt.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;d.hasNext()&&_<this.limit_;){const g=d.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))c=c.updateImmediateChild(g.name,g.node),_++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(yt.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let _=0;for(;d.hasNext();){const g=d.getNext();_<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?_++:c=c.updateImmediateChild(g.name,yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,c,o)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,o,c,d){let _;if(this.reverse_){const C=this.index_.getCompare();_=(x,k)=>C(k,x)}else _=this.index_.getCompare();const g=t;J(g.numChildren()===this.limit_,"");const v=new Rt(i,o),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(g.hasChild(i)){const C=g.getImmediateChild(i);let x=c.getChildAfterChild(this.index_,E,this.reverse_);for(;x!=null&&(x.name===i||g.hasChild(x.name));)x=c.getChildAfterChild(this.index_,x,this.reverse_);const k=x==null?1:_(x,v);if(T&&!o.isEmpty()&&k>=0)return d?.trackChildChange(pu(i,o,C)),g.updateImmediateChild(i,o);{d?.trackChildChange(_u(i,C));const Y=g.updateImmediateChild(i,yt.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(d?.trackChildChange(bo(x.name,x.node)),Y.updateImmediateChild(x.name,x.node)):Y}}else return o.isEmpty()?t:T&&_(E,v)>=0?(d!=null&&(d.trackChildChange(_u(E.name,E.node)),d.trackChildChange(bo(i,o))),g.updateImmediateChild(i,o).updateImmediateChild(E.name,yt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Eo}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ha}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const t=new xp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fA(r){return r.loadsAllData()?new Cp(r.getIndex()):r.hasLimit()?new hA(r):new mu(r)}function By(r){const t={};if(r.isDefault())return t;let i;if(r.index_===me?i="$priority":r.index_===uA?i="$value":r.index_===_o?i="$key":(J(r.index_ instanceof oA,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=xe(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=xe(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+xe(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=xe(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+xe(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function Hy(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==me&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends kb{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(J(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,o,c){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.log_=Ru("p:rest:"),this.listens_={}}listen(t,i,o,c){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const _=Nh.getListenId_(t,o),g={};this.listens_[_]=g;const v=By(t._queryParams);this.restRequest_(d+".json",v,(E,T)=>{let C=T;if(E===404&&(C=null,E=null),E===null&&this.onDataUpdate_(d,C,!1,o),vo(this.listens_,_)===g){let x;E?E===401?x="permission_denied":x="rest_error:"+E:x="ok",c(x,null)}})}unlisten(t,i){const o=Nh.getListenId_(t,i);delete this.listens_[o]}get(t){const i=By(t._queryParams),o=t._path.toString(),c=new Cu;return this.restRequest_(o+".json",i,(d,_)=>{let g=_;d===404&&(g=null,d=null),d===null?(this.onDataUpdate_(o,g,!1,null),c.resolve(g)):c.reject(new Error(g))}),c.promise}refreshAuthToken(t){}restRequest_(t,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(i.auth=c.accessToken),d&&d.token&&(i.ac=d.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+No(i);this.log_("Sending REST request for "+_);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&g.readyState===4){this.log_("REST Response for "+_+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=cu(g.responseText)}catch{an("Failed to parse JSON response for "+_+": "+g.responseText)}o(null,v)}else g.status!==401&&g.status!==404&&an("Got unsuccessful REST response for "+_+" Status: "+g.status),o(g.status);o=null}},g.open("GET",_,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.rootNode_=yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(){return{value:null,children:new Map}}function Yb(r,t,i){if(Mt(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const o=Nt(t);r.children.has(o)||r.children.set(o,Ih());const c=r.children.get(o);t=re(t),Yb(c,t,i)}}function G_(r,t,i){r.value!==null?i(t,r.value):_A(r,(o,c)=>{const d=new $t(t.toString()+"/"+o);G_(c,d,i)})}function _A(r,t){r.children.forEach((i,o)=>{t(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&qe(this.last_,(o,c)=>{i[o]=i[o]-c}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=10*1e3,mA=30*1e3,gA=300*1e3;class vA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new pA(t);const o=Zy+(mA-Zy)*Math.random();su(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),i={};let o=!1;qe(t,(c,d)=>{d>0&&Ci(this.statsToReport_,c)&&(i[c]=d,o=!0)}),o&&this.server_.reportStats(i),su(this.reportStats_.bind(this),Math.floor(Math.random()*2*gA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ii||(ii={}));function Ap(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Op(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,i,o){this.path=t,this.affectedTree=i,this.revert=o,this.type=ii.ACK_USER_WRITE,this.source=Ap()}operationForChild(t){if(Mt(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new $t(t));return new Dh(jt(),i,this.revert)}}else return J(Nt(this.path)===t,"operationForChild called for unrelated child."),new Dh(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,i){this.source=t,this.path=i,this.type=ii.LISTEN_COMPLETE}operationForChild(t){return Mt(this.path)?new gu(this.source,jt()):new gu(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,i,o){this.source=t,this.path=i,this.snap=o,this.type=ii.OVERWRITE}operationForChild(t){return Mt(this.path)?new fa(this.source,jt(),this.snap.getImmediateChild(t)):new fa(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,i,o){this.source=t,this.path=i,this.children=o,this.type=ii.MERGE}operationForChild(t){if(Mt(this.path)){const i=this.children.subtree(new $t(t));return i.isEmpty()?null:i.value?new fa(this.source,jt(),i.value):new So(this.source,jt(),i)}else return J(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new So(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,i,o){this.node_=t,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;const i=Nt(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function EA(r,t,i,o){const c=[],d=[];return t.forEach(_=>{_.type==="child_changed"&&r.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&d.push(cA(_.childName,_.snapshotNode))}),Kl(r,c,"child_removed",t,o,i),Kl(r,c,"child_added",t,o,i),Kl(r,c,"child_moved",d,o,i),Kl(r,c,"child_changed",t,o,i),Kl(r,c,"value",t,o,i),c}function Kl(r,t,i,o,c,d){const _=o.filter(g=>g.type===i);_.sort((g,v)=>SA(r,g,v)),_.forEach(g=>{const v=bA(r,g,d);c.forEach(E=>{E.respondsTo(g.type)&&t.push(E.createEvent(v,r.query_))})})}function bA(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function SA(r,t,i){if(t.childName==null||i.childName==null)throw Lo("Should only compare child_ events.");const o=new Rt(t.childName,t.snapshotNode),c=new Rt(i.childName,i.snapshotNode);return r.index_.compare(o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r,t){return{eventCache:r,serverCache:t}}function ru(r,t,i,o){return tf(new wr(t,i,o),r.serverCache)}function Wb(r,t,i,o){return tf(r.eventCache,new wr(t,i,o))}function Ph(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function da(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_;const TA=()=>(C_||(C_=new mn(ox)),C_);class se{static fromObject(t){let i=new se(null);return qe(t,(o,c)=>{i=i.set(new $t(o),c)}),i}constructor(t,i=TA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:jt(),value:this.value};if(Mt(t))return null;{const o=Nt(t),c=this.children.get(o);if(c!==null){const d=c.findRootMostMatchingPathAndValue(re(t),i);return d!=null?{path:pe(new $t(o),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mt(t))return this;{const i=Nt(t),o=this.children.get(i);return o!==null?o.subtree(re(t)):new se(null)}}set(t,i){if(Mt(t))return new se(i,this.children);{const o=Nt(t),d=(this.children.get(o)||new se(null)).set(re(t),i),_=this.children.insert(o,d);return new se(this.value,_)}}remove(t){if(Mt(t))return this.children.isEmpty()?new se(null):new se(null,this.children);{const i=Nt(t),o=this.children.get(i);if(o){const c=o.remove(re(t));let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),this.value===null&&d.isEmpty()?new se(null):new se(this.value,d)}else return this}}get(t){if(Mt(t))return this.value;{const i=Nt(t),o=this.children.get(i);return o?o.get(re(t)):null}}setTree(t,i){if(Mt(t))return i;{const o=Nt(t),d=(this.children.get(o)||new se(null)).setTree(re(t),i);let _;return d.isEmpty()?_=this.children.remove(o):_=this.children.insert(o,d),new se(this.value,_)}}fold(t){return this.fold_(jt(),t)}fold_(t,i){const o={};return this.children.inorderTraversal((c,d)=>{o[c]=d.fold_(pe(t,c),i)}),i(t,this.value,o)}findOnPath(t,i){return this.findOnPath_(t,jt(),i)}findOnPath_(t,i,o){const c=this.value?o(i,this.value):!1;if(c)return c;if(Mt(t))return null;{const d=Nt(t),_=this.children.get(d);return _?_.findOnPath_(re(t),pe(i,d),o):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,jt(),i)}foreachOnPath_(t,i,o){if(Mt(t))return this;{this.value&&o(i,this.value);const c=Nt(t),d=this.children.get(c);return d?d.foreachOnPath_(re(t),pe(i,c),o):new se(null)}}foreach(t){this.foreach_(jt(),t)}foreach_(t,i){this.children.inorderTraversal((o,c)=>{c.foreach_(pe(t,o),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,o)=>{o.value&&t(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.writeTree_=t}static empty(){return new ri(new se(null))}}function au(r,t,i){if(Mt(t))return new ri(new se(i));{const o=r.writeTree_.findRootMostValueAndPath(t);if(o!=null){const c=o.path;let d=o.value;const _=rn(c,t);return d=d.updateChild(_,i),new ri(r.writeTree_.set(c,d))}else{const c=new se(i),d=r.writeTree_.setTree(t,c);return new ri(d)}}}function F_(r,t,i){let o=r;return qe(i,(c,d)=>{o=au(o,pe(t,c),d)}),o}function jy(r,t){if(Mt(t))return ri.empty();{const i=r.writeTree_.setTree(t,new se(null));return new ri(i)}}function Y_(r,t){return ma(r,t)!=null}function ma(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(rn(i.path,t)):null}function Vy(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(me,(o,c)=>{t.push(new Rt(o,c))}):r.writeTree_.children.inorderTraversal((o,c)=>{c.value!=null&&t.push(new Rt(o,c.value))}),t}function Er(r,t){if(Mt(t))return r;{const i=ma(r,t);return i!=null?new ri(new se(i)):new ri(r.writeTree_.subtree(t))}}function W_(r){return r.writeTree_.isEmpty()}function To(r,t){return Kb(jt(),r.writeTree_,t)}function Kb(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((c,d)=>{c===".priority"?(J(d.value!==null,"Priority writes must always be leaf nodes"),o=d.value):i=Kb(pe(r,c),d,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(pe(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r,t){return Jb(t,r)}function wA(r,t,i,o,c){J(o>r.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),r.allWrites.push({path:t,snap:i,writeId:o,visible:c}),c&&(r.visibleWrites=au(r.visibleWrites,t,i)),r.lastWriteId=o}function CA(r,t,i,o){J(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:i,writeId:o,visible:!0}),r.visibleWrites=F_(r.visibleWrites,t,i),r.lastWriteId=o}function xA(r,t){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===t)return o}return null}function AA(r,t){const i=r.allWrites.findIndex(g=>g.writeId===t);J(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let c=o.visible,d=!1,_=r.allWrites.length-1;for(;c&&_>=0;){const g=r.allWrites[_];g.visible&&(_>=i&&RA(g,o.path)?c=!1:Zn(o.path,g.path)&&(d=!0)),_--}if(c){if(d)return OA(r),!0;if(o.snap)r.visibleWrites=jy(r.visibleWrites,o.path);else{const g=o.children;qe(g,v=>{r.visibleWrites=jy(r.visibleWrites,pe(o.path,v))})}return!0}else return!1}function RA(r,t){if(r.snap)return Zn(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Zn(pe(r.path,i),t))return!0;return!1}function OA(r){r.visibleWrites=Xb(r.allWrites,LA,jt()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function LA(r){return r.visible}function Xb(r,t,i){let o=ri.empty();for(let c=0;c<r.length;++c){const d=r[c];if(t(d)){const _=d.path;let g;if(d.snap)Zn(i,_)?(g=rn(i,_),o=au(o,g,d.snap)):Zn(_,i)&&(g=rn(_,i),o=au(o,jt(),d.snap.getChild(g)));else if(d.children){if(Zn(i,_))g=rn(i,_),o=F_(o,g,d.children);else if(Zn(_,i))if(g=rn(_,i),Mt(g))o=F_(o,jt(),d.children);else{const v=vo(d.children,Nt(g));if(v){const E=v.getChild(re(g));o=au(o,jt(),E)}}}else throw Lo("WriteRecord should have .snap or .children")}}return o}function Qb(r,t,i,o,c){if(!o&&!c){const d=ma(r.visibleWrites,t);if(d!=null)return d;{const _=Er(r.visibleWrites,t);if(W_(_))return i;if(i==null&&!Y_(_,jt()))return null;{const g=i||yt.EMPTY_NODE;return To(_,g)}}}else{const d=Er(r.visibleWrites,t);if(!c&&W_(d))return i;if(!c&&i==null&&!Y_(d,jt()))return null;{const _=function(E){return(E.visible||c)&&(!o||!~o.indexOf(E.writeId))&&(Zn(E.path,t)||Zn(t,E.path))},g=Xb(r.allWrites,_,t),v=i||yt.EMPTY_NODE;return To(g,v)}}}function MA(r,t,i){let o=yt.EMPTY_NODE;const c=ma(r.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(me,(d,_)=>{o=o.updateImmediateChild(d,_)}),o;if(i){const d=Er(r.visibleWrites,t);return i.forEachChild(me,(_,g)=>{const v=To(Er(d,new $t(_)),g);o=o.updateImmediateChild(_,v)}),Vy(d).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}else{const d=Er(r.visibleWrites,t);return Vy(d).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}}function NA(r,t,i,o,c){J(o||c,"Either existingEventSnap or existingServerSnap must exist");const d=pe(t,i);if(Y_(r.visibleWrites,d))return null;{const _=Er(r.visibleWrites,d);return W_(_)?c.getChild(i):To(_,c.getChild(i))}}function IA(r,t,i,o){const c=pe(t,i),d=ma(r.visibleWrites,c);if(d!=null)return d;if(o.isCompleteForChild(i)){const _=Er(r.visibleWrites,c);return To(_,o.getNode().getImmediateChild(i))}else return null}function DA(r,t){return ma(r.visibleWrites,t)}function PA(r,t,i,o,c,d,_){let g;const v=Er(r.visibleWrites,t),E=ma(v,jt());if(E!=null)g=E;else if(i!=null)g=To(v,i);else return[];if(g=g.withIndex(_),!g.isEmpty()&&!g.isLeafNode()){const T=[],C=_.getCompare(),x=d?g.getReverseIteratorFrom(o,_):g.getIteratorFrom(o,_);let k=x.getNext();for(;k&&T.length<c;)C(k,o)!==0&&T.push(k),k=x.getNext();return T}else return[]}function kA(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function kh(r,t,i,o){return Qb(r.writeTree,r.treePath,t,i,o)}function Lp(r,t){return MA(r.writeTree,r.treePath,t)}function qy(r,t,i,o){return NA(r.writeTree,r.treePath,t,i,o)}function zh(r,t){return DA(r.writeTree,pe(r.treePath,t))}function zA(r,t,i,o,c,d){return PA(r.writeTree,r.treePath,t,i,o,c,d)}function Mp(r,t,i){return IA(r.writeTree,r.treePath,t,i)}function $b(r,t){return Jb(pe(r.treePath,t),r.writeTree)}function Jb(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,o=t.childName;J(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),J(o!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(o);if(c){const d=c.type;if(i==="child_added"&&d==="child_removed")this.changeMap.set(o,pu(o,t.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&d==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&d==="child_changed")this.changeMap.set(o,_u(o,c.oldSnap));else if(i==="child_changed"&&d==="child_added")this.changeMap.set(o,bo(o,t.snapshotNode));else if(i==="child_changed"&&d==="child_changed")this.changeMap.set(o,pu(o,t.snapshotNode,c.oldSnap));else throw Lo("Illegal combination of changes: "+t+" occurred after "+c)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{getCompleteChild(t){return null}getChildAfterChild(t,i,o){return null}}const t0=new BA;class Np{constructor(t,i,o=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mp(this.writes_,t,o)}}getChildAfterChild(t,i,o){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:da(this.viewCache_),d=zA(this.writes_,c,i,1,o,t);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r){return{filter:r}}function ZA(r,t){J(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),J(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function jA(r,t,i,o,c){const d=new UA;let _,g;if(i.type===ii.OVERWRITE){const E=i;E.source.fromUser?_=K_(r,t,E.path,E.snap,o,c,d):(J(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered()&&!Mt(E.path),_=Uh(r,t,E.path,E.snap,o,c,g,d))}else if(i.type===ii.MERGE){const E=i;E.source.fromUser?_=qA(r,t,E.path,E.children,o,c,d):(J(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered(),_=X_(r,t,E.path,E.children,o,c,g,d))}else if(i.type===ii.ACK_USER_WRITE){const E=i;E.revert?_=YA(r,t,E.path,o,c,d):_=GA(r,t,E.path,E.affectedTree,o,c,d)}else if(i.type===ii.LISTEN_COMPLETE)_=FA(r,t,i.path,o,d);else throw Lo("Unknown operation type: "+i.type);const v=d.getChanges();return VA(t,_,v),{viewCache:_,changes:v}}function VA(r,t,i){const o=t.eventCache;if(o.isFullyInitialized()){const c=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Ph(r);(i.length>0||!r.eventCache.isFullyInitialized()||c&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&i.push(Fb(Ph(t)))}}function e0(r,t,i,o,c,d){const _=t.eventCache;if(zh(o,i)!=null)return t;{let g,v;if(Mt(i))if(J(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=da(t),T=E instanceof yt?E:yt.EMPTY_NODE,C=Lp(o,T);g=r.filter.updateFullNode(t.eventCache.getNode(),C,d)}else{const E=kh(o,da(t));g=r.filter.updateFullNode(t.eventCache.getNode(),E,d)}else{const E=Nt(i);if(E===".priority"){J(Tr(i)===1,"Can't have a priority with additional path components");const T=_.getNode();v=t.serverCache.getNode();const C=qy(o,i,T,v);C!=null?g=r.filter.updatePriority(T,C):g=_.getNode()}else{const T=re(i);let C;if(_.isCompleteForChild(E)){v=t.serverCache.getNode();const x=qy(o,i,_.getNode(),v);x!=null?C=_.getNode().getImmediateChild(E).updateChild(T,x):C=_.getNode().getImmediateChild(E)}else C=Mp(o,E,t.serverCache);C!=null?g=r.filter.updateChild(_.getNode(),E,C,T,c,d):g=_.getNode()}}return ru(t,g,_.isFullyInitialized()||Mt(i),r.filter.filtersNodes())}}function Uh(r,t,i,o,c,d,_,g){const v=t.serverCache;let E;const T=_?r.filter:r.filter.getIndexedFilter();if(Mt(i))E=T.updateFullNode(v.getNode(),o,null);else if(T.filtersNodes()&&!v.isFiltered()){const k=v.getNode().updateChild(i,o);E=T.updateFullNode(v.getNode(),k,null)}else{const k=Nt(i);if(!v.isCompleteForPath(i)&&Tr(i)>1)return t;const j=re(i),Q=v.getNode().getImmediateChild(k).updateChild(j,o);k===".priority"?E=T.updatePriority(v.getNode(),Q):E=T.updateChild(v.getNode(),k,Q,j,t0,null)}const C=Wb(t,E,v.isFullyInitialized()||Mt(i),T.filtersNodes()),x=new Np(c,C,d);return e0(r,C,i,c,x,g)}function K_(r,t,i,o,c,d,_){const g=t.eventCache;let v,E;const T=new Np(c,t,d);if(Mt(i))E=r.filter.updateFullNode(t.eventCache.getNode(),o,_),v=ru(t,E,!0,r.filter.filtersNodes());else{const C=Nt(i);if(C===".priority")E=r.filter.updatePriority(t.eventCache.getNode(),o),v=ru(t,E,g.isFullyInitialized(),g.isFiltered());else{const x=re(i),k=g.getNode().getImmediateChild(C);let j;if(Mt(x))j=o;else{const Y=T.getCompleteChild(C);Y!=null?Sp(x)===".priority"&&Y.getChild(Ub(x)).isEmpty()?j=Y:j=Y.updateChild(x,o):j=yt.EMPTY_NODE}if(k.equals(j))v=t;else{const Y=r.filter.updateChild(g.getNode(),C,j,x,T,_);v=ru(t,Y,g.isFullyInitialized(),r.filter.filtersNodes())}}}return v}function Gy(r,t){return r.eventCache.isCompleteForChild(t)}function qA(r,t,i,o,c,d,_){let g=t;return o.foreach((v,E)=>{const T=pe(i,v);Gy(t,Nt(T))&&(g=K_(r,g,T,E,c,d,_))}),o.foreach((v,E)=>{const T=pe(i,v);Gy(t,Nt(T))||(g=K_(r,g,T,E,c,d,_))}),g}function Fy(r,t,i){return i.foreach((o,c)=>{t=t.updateChild(o,c)}),t}function X_(r,t,i,o,c,d,_,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v=t,E;Mt(i)?E=o:E=new se(null).setTree(i,o);const T=t.serverCache.getNode();return E.children.inorderTraversal((C,x)=>{if(T.hasChild(C)){const k=t.serverCache.getNode().getImmediateChild(C),j=Fy(r,k,x);v=Uh(r,v,new $t(C),j,c,d,_,g)}}),E.children.inorderTraversal((C,x)=>{const k=!t.serverCache.isCompleteForChild(C)&&x.value===null;if(!T.hasChild(C)&&!k){const j=t.serverCache.getNode().getImmediateChild(C),Y=Fy(r,j,x);v=Uh(r,v,new $t(C),Y,c,d,_,g)}}),v}function GA(r,t,i,o,c,d,_){if(zh(c,i)!=null)return t;const g=t.serverCache.isFiltered(),v=t.serverCache;if(o.value!=null){if(Mt(i)&&v.isFullyInitialized()||v.isCompleteForPath(i))return Uh(r,t,i,v.getNode().getChild(i),c,d,g,_);if(Mt(i)){let E=new se(null);return v.getNode().forEachChild(_o,(T,C)=>{E=E.set(new $t(T),C)}),X_(r,t,i,E,c,d,g,_)}else return t}else{let E=new se(null);return o.foreach((T,C)=>{const x=pe(i,T);v.isCompleteForPath(x)&&(E=E.set(T,v.getNode().getChild(x)))}),X_(r,t,i,E,c,d,g,_)}}function FA(r,t,i,o,c){const d=t.serverCache,_=Wb(t,d.getNode(),d.isFullyInitialized()||Mt(i),d.isFiltered());return e0(r,_,i,o,t0,c)}function YA(r,t,i,o,c,d){let _;if(zh(o,i)!=null)return t;{const g=new Np(o,t,c),v=t.eventCache.getNode();let E;if(Mt(i)||Nt(i)===".priority"){let T;if(t.serverCache.isFullyInitialized())T=kh(o,da(t));else{const C=t.serverCache.getNode();J(C instanceof yt,"serverChildren would be complete if leaf node"),T=Lp(o,C)}T=T,E=r.filter.updateFullNode(v,T,d)}else{const T=Nt(i);let C=Mp(o,T,t.serverCache);C==null&&t.serverCache.isCompleteForChild(T)&&(C=v.getImmediateChild(T)),C!=null?E=r.filter.updateChild(v,T,C,re(i),g,d):t.eventCache.getNode().hasChild(T)?E=r.filter.updateChild(v,T,yt.EMPTY_NODE,re(i),g,d):E=v,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(_=kh(o,da(t)),_.isLeafNode()&&(E=r.filter.updateFullNode(E,_,d)))}return _=t.serverCache.isFullyInitialized()||zh(o,jt())!=null,ru(t,E,_,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,c=new Cp(o.getIndex()),d=fA(o);this.processor_=HA(d);const _=i.serverCache,g=i.eventCache,v=c.updateFullNode(yt.EMPTY_NODE,_.getNode(),null),E=d.updateFullNode(yt.EMPTY_NODE,g.getNode(),null),T=new wr(v,_.isFullyInitialized(),c.filtersNodes()),C=new wr(E,g.isFullyInitialized(),d.filtersNodes());this.viewCache_=tf(C,T),this.eventGenerator_=new yA(this.query_)}get query(){return this.query_}}function KA(r){return r.viewCache_.serverCache.getNode()}function XA(r){return Ph(r.viewCache_)}function QA(r,t){const i=da(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!Mt(t)&&!i.getImmediateChild(Nt(t)).isEmpty())?i.getChild(t):null}function Yy(r){return r.eventRegistrations_.length===0}function $A(r,t){r.eventRegistrations_.push(t)}function Wy(r,t,i){const o=[];if(i){J(t==null,"A cancel should cancel all event registrations.");const c=r.query._path;r.eventRegistrations_.forEach(d=>{const _=d.createCancelEvent(i,c);_&&o.push(_)})}if(t){let c=[];for(let d=0;d<r.eventRegistrations_.length;++d){const _=r.eventRegistrations_[d];if(!_.matches(t))c.push(_);else if(t.hasAnyCallback()){c=c.concat(r.eventRegistrations_.slice(d+1));break}}r.eventRegistrations_=c}else r.eventRegistrations_=[];return o}function Ky(r,t,i,o){t.type===ii.MERGE&&t.source.queryId!==null&&(J(da(r.viewCache_),"We should always have a full cache before handling merges"),J(Ph(r.viewCache_),"Missing event cache, even though we have a server cache"));const c=r.viewCache_,d=jA(r.processor_,c,t,i,o);return ZA(r.processor_,d.viewCache),J(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,n0(r,d.changes,d.viewCache.eventCache.getNode(),null)}function JA(r,t){const i=r.viewCache_.eventCache,o=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(me,(d,_)=>{o.push(bo(d,_))}),i.isFullyInitialized()&&o.push(Fb(i.getNode())),n0(r,o,i.getNode(),t)}function n0(r,t,i,o){const c=o?[o]:r.eventRegistrations_;return EA(r.eventGenerator_,t,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class i0{constructor(){this.views=new Map}}function tR(r){J(!Bh,"__referenceConstructor has already been defined"),Bh=r}function eR(){return J(Bh,"Reference.ts has not been loaded"),Bh}function nR(r){return r.views.size===0}function Ip(r,t,i,o){const c=t.source.queryId;if(c!==null){const d=r.views.get(c);return J(d!=null,"SyncTree gave us an op for an invalid query."),Ky(d,t,i,o)}else{let d=[];for(const _ of r.views.values())d=d.concat(Ky(_,t,i,o));return d}}function s0(r,t,i,o,c){const d=t._queryIdentifier,_=r.views.get(d);if(!_){let g=kh(i,c?o:null),v=!1;g?v=!0:o instanceof yt?(g=Lp(i,o),v=!1):(g=yt.EMPTY_NODE,v=!1);const E=tf(new wr(g,v,!1),new wr(o,c,!1));return new WA(t,E)}return _}function iR(r,t,i,o,c,d){const _=s0(r,t,o,c,d);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,_),$A(_,i),JA(_,i)}function sR(r,t,i,o){const c=t._queryIdentifier,d=[];let _=[];const g=Cr(r);if(c==="default")for(const[v,E]of r.views.entries())_=_.concat(Wy(E,i,o)),Yy(E)&&(r.views.delete(v),E.query._queryParams.loadsAllData()||d.push(E.query));else{const v=r.views.get(c);v&&(_=_.concat(Wy(v,i,o)),Yy(v)&&(r.views.delete(c),v.query._queryParams.loadsAllData()||d.push(v.query)))}return g&&!Cr(r)&&d.push(new(eR())(t._repo,t._path)),{removed:d,events:_}}function r0(r){const t=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function br(r,t){let i=null;for(const o of r.views.values())i=i||QA(o,t);return i}function a0(r,t){if(t._queryParams.loadsAllData())return nf(r);{const o=t._queryIdentifier;return r.views.get(o)}}function o0(r,t){return a0(r,t)!=null}function Cr(r){return nf(r)!=null}function nf(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh;function rR(r){J(!Hh,"__referenceConstructor has already been defined"),Hh=r}function aR(){return J(Hh,"Reference.ts has not been loaded"),Hh}let oR=1;class Xy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new se(null),this.pendingWriteTree_=kA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function l0(r,t,i,o,c){return wA(r.pendingWriteTree_,t,i,o,c),c?Po(r,new fa(Ap(),t,i)):[]}function lR(r,t,i,o){CA(r.pendingWriteTree_,t,i,o);const c=se.fromObject(i);return Po(r,new So(Ap(),t,c))}function mr(r,t,i=!1){const o=xA(r.pendingWriteTree_,t);if(AA(r.pendingWriteTree_,t)){let d=new se(null);return o.snap!=null?d=d.set(jt(),!0):qe(o.children,_=>{d=d.set(new $t(_),!0)}),Po(r,new Dh(o.path,d,i))}else return[]}function Lu(r,t,i){return Po(r,new fa(Rp(),t,i))}function uR(r,t,i){const o=se.fromObject(i);return Po(r,new So(Rp(),t,o))}function cR(r,t){return Po(r,new gu(Rp(),t))}function hR(r,t,i){const o=Pp(r,i);if(o){const c=kp(o),d=c.path,_=c.queryId,g=rn(d,t),v=new gu(Op(_),g);return zp(r,d,v)}else return[]}function u0(r,t,i,o,c=!1){const d=t._path,_=r.syncPointTree_.get(d);let g=[];if(_&&(t._queryIdentifier==="default"||o0(_,t))){const v=sR(_,t,i,o);nR(_)&&(r.syncPointTree_=r.syncPointTree_.remove(d));const E=v.removed;if(g=v.events,!c){const T=E.findIndex(x=>x._queryParams.loadsAllData())!==-1,C=r.syncPointTree_.findOnPath(d,(x,k)=>Cr(k));if(T&&!C){const x=r.syncPointTree_.subtree(d);if(!x.isEmpty()){const k=pR(x);for(let j=0;j<k.length;++j){const Y=k[j],Q=Y.query,st=d0(r,Y);r.listenProvider_.startListening(ou(Q),vu(r,Q),st.hashFn,st.onComplete)}}}!C&&E.length>0&&!o&&(T?r.listenProvider_.stopListening(ou(t),null):E.forEach(x=>{const k=r.queryToTagMap.get(sf(x));r.listenProvider_.stopListening(ou(x),k)}))}mR(r,E)}return g}function c0(r,t,i,o){const c=Pp(r,o);if(c!=null){const d=kp(c),_=d.path,g=d.queryId,v=rn(_,t),E=new fa(Op(g),v,i);return zp(r,_,E)}else return[]}function fR(r,t,i,o){const c=Pp(r,o);if(c){const d=kp(c),_=d.path,g=d.queryId,v=rn(_,t),E=se.fromObject(i),T=new So(Op(g),v,E);return zp(r,_,T)}else return[]}function dR(r,t,i,o=!1){const c=t._path;let d=null,_=!1;r.syncPointTree_.foreachOnPath(c,(x,k)=>{const j=rn(x,c);d=d||br(k,j),_=_||Cr(k)});let g=r.syncPointTree_.get(c);g?(_=_||Cr(g),d=d||br(g,jt())):(g=new i0,r.syncPointTree_=r.syncPointTree_.set(c,g));let v;d!=null?v=!0:(v=!1,d=yt.EMPTY_NODE,r.syncPointTree_.subtree(c).foreachChild((k,j)=>{const Y=br(j,jt());Y&&(d=d.updateImmediateChild(k,Y))}));const E=o0(g,t);if(!E&&!t._queryParams.loadsAllData()){const x=sf(t);J(!r.queryToTagMap.has(x),"View does not exist, but we have a tag");const k=gR();r.queryToTagMap.set(x,k),r.tagToQueryMap.set(k,x)}const T=ef(r.pendingWriteTree_,c);let C=iR(g,t,i,T,d,v);if(!E&&!_&&!o){const x=a0(g,t);C=C.concat(vR(r,t,x))}return C}function Dp(r,t,i){const c=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(t,(_,g)=>{const v=rn(_,t),E=br(g,v);if(E)return E});return Qb(c,t,d,i,!0)}function _R(r,t){const i=t._path;let o=null;r.syncPointTree_.foreachOnPath(i,(E,T)=>{const C=rn(E,i);o=o||br(T,C)});let c=r.syncPointTree_.get(i);c?o=o||br(c,jt()):(c=new i0,r.syncPointTree_=r.syncPointTree_.set(i,c));const d=o!=null,_=d?new wr(o,!0,!1):null,g=ef(r.pendingWriteTree_,t._path),v=s0(c,t,g,d?_.getNode():yt.EMPTY_NODE,d);return XA(v)}function Po(r,t){return h0(t,r.syncPointTree_,null,ef(r.pendingWriteTree_,jt()))}function h0(r,t,i,o){if(Mt(r.path))return f0(r,t,i,o);{const c=t.get(jt());i==null&&c!=null&&(i=br(c,jt()));let d=[];const _=Nt(r.path),g=r.operationForChild(_),v=t.children.get(_);if(v&&g){const E=i?i.getImmediateChild(_):null,T=$b(o,_);d=d.concat(h0(g,v,E,T))}return c&&(d=d.concat(Ip(c,r,o,i))),d}}function f0(r,t,i,o){const c=t.get(jt());i==null&&c!=null&&(i=br(c,jt()));let d=[];return t.children.inorderTraversal((_,g)=>{const v=i?i.getImmediateChild(_):null,E=$b(o,_),T=r.operationForChild(_);T&&(d=d.concat(f0(T,g,v,E)))}),c&&(d=d.concat(Ip(c,r,o,i))),d}function d0(r,t){const i=t.query,o=vu(r,i);return{hashFn:()=>(KA(t)||yt.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return o?hR(r,i._path,o):cR(r,i._path);{const d=cx(c,i);return u0(r,i,null,d)}}}}function vu(r,t){const i=sf(t);return r.queryToTagMap.get(i)}function sf(r){return r._path.toString()+"$"+r._queryIdentifier}function Pp(r,t){return r.tagToQueryMap.get(t)}function kp(r){const t=r.indexOf("$");return J(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new $t(r.substr(0,t))}}function zp(r,t,i){const o=r.syncPointTree_.get(t);J(o,"Missing sync point for query tag that we're tracking");const c=ef(r.pendingWriteTree_,t);return Ip(o,i,c,null)}function pR(r){return r.fold((t,i,o)=>{if(i&&Cr(i))return[nf(i)];{let c=[];return i&&(c=r0(i)),qe(o,(d,_)=>{c=c.concat(_)}),c}})}function ou(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(aR())(r._repo,r._path):r}function mR(r,t){for(let i=0;i<t.length;++i){const o=t[i];if(!o._queryParams.loadsAllData()){const c=sf(o),d=r.queryToTagMap.get(c);r.queryToTagMap.delete(c),r.tagToQueryMap.delete(d)}}}function gR(){return oR++}function vR(r,t,i){const o=t._path,c=vu(r,t),d=d0(r,i),_=r.listenProvider_.startListening(ou(t),c,d.hashFn,d.onComplete),g=r.syncPointTree_.subtree(o);if(c)J(!Cr(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((E,T,C)=>{if(!Mt(E)&&T&&Cr(T))return[nf(T).query];{let x=[];return T&&(x=x.concat(r0(T).map(k=>k.query))),qe(C,(k,j)=>{x=x.concat(j)}),x}});for(let E=0;E<v.length;++E){const T=v[E];r.listenProvider_.stopListening(ou(T),vu(r,T))}}return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Up(i)}node(){return this.node_}}class Bp{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=pe(this.path_,t);return new Bp(this.syncTree_,i)}node(){return Dp(this.syncTree_,this.path_)}}const yR=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Qy=function(r,t,i){if(!r||typeof r!="object")return r;if(J(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return ER(r[".sv"],t,i);if(typeof r[".sv"]=="object")return bR(r[".sv"],t);J(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},ER=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:J(!1,"Unexpected server value: "+r)}},bR=function(r,t,i){r.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&J(!1,"Unexpected increment value: "+o);const c=t.node();if(J(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return o;const _=c.getValue();return typeof _!="number"?o:_+o},_0=function(r,t,i,o){return Hp(t,new Bp(i,r),o)},p0=function(r,t,i){return Hp(r,new Up(t),i)};function Hp(r,t,i){const o=r.getPriority().val(),c=Qy(o,t.getImmediateChild(".priority"),i);let d;if(r.isLeafNode()){const _=r,g=Qy(_.getValue(),t,i);return g!==_.getValue()||c!==_.getPriority().val()?new De(g,Ce(c)):r}else{const _=r;return d=_,c!==_.getPriority().val()&&(d=d.updatePriority(new De(c))),_.forEachChild(me,(g,v)=>{const E=Hp(v,t.getImmediateChild(g),i);E!==v&&(d=d.updateImmediateChild(g,E))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t="",i=null,o={children:{},childCount:0}){this.name=t,this.parent=i,this.node=o}}function jp(r,t){let i=t instanceof $t?t:new $t(t),o=r,c=Nt(i);for(;c!==null;){const d=vo(o.node.children,c)||{children:{},childCount:0};o=new Zp(c,o,d),i=re(i),c=Nt(i)}return o}function ko(r){return r.node.value}function m0(r,t){r.node.value=t,Q_(r)}function g0(r){return r.node.childCount>0}function SR(r){return ko(r)===void 0&&!g0(r)}function rf(r,t){qe(r.node.children,(i,o)=>{t(new Zp(i,r,o))})}function v0(r,t,i,o){i&&t(r),rf(r,c=>{v0(c,t,!0)})}function TR(r,t,i){let o=r.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Mu(r){return new $t(r.parent===null?r.name:Mu(r.parent)+"/"+r.name)}function Q_(r){r.parent!==null&&wR(r.parent,r.name,r)}function wR(r,t,i){const o=SR(i),c=Ci(r.node.children,t);o&&c?(delete r.node.children[t],r.node.childCount--,Q_(r)):!o&&!c&&(r.node.children[t]=i.node,r.node.childCount++,Q_(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/[\[\].#$\/\u0000-\u001F\u007F]/,xR=/[\[\].#$\u0000-\u001F\u007F]/,x_=10*1024*1024,Vp=function(r){return typeof r=="string"&&r.length!==0&&!CR.test(r)},y0=function(r){return typeof r=="string"&&r.length!==0&&!xR.test(r)},AR=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),y0(r)},RR=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!gp(r)||r&&typeof r=="object"&&Ci(r,".sv")},OR=function(r,t,i,o){af(Qh(r,"value"),t,i)},af=function(r,t,i){const o=i instanceof $t?new qx(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+oa(o));if(typeof t=="function")throw new Error(r+"contains a function "+oa(o)+" with contents = "+t.toString());if(gp(t))throw new Error(r+"contains "+t.toString()+" "+oa(o));if(typeof t=="string"&&t.length>x_/3&&$h(t)>x_)throw new Error(r+"contains a string greater than "+x_+" utf8 bytes "+oa(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let c=!1,d=!1;if(qe(t,(_,g)=>{if(_===".value")c=!0;else if(_!==".priority"&&_!==".sv"&&(d=!0,!Vp(_)))throw new Error(r+" contains an invalid key ("+_+") "+oa(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Gx(o,_),af(r,g,o),Fx(o)}),c&&d)throw new Error(r+' contains ".value" child '+oa(o)+" in addition to actual children.")}},LR=function(r,t){let i,o;for(i=0;i<t.length;i++){o=t[i];const d=du(o);for(let _=0;_<d.length;_++)if(!(d[_]===".priority"&&_===d.length-1)){if(!Vp(d[_]))throw new Error(r+"contains an invalid key ("+d[_]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Vx);let c=null;for(i=0;i<t.length;i++){if(o=t[i],c!==null&&Zn(c,o))throw new Error(r+"contains a path "+c.toString()+" that is ancestor of another path "+o.toString());c=o}},MR=function(r,t,i,o){const c=Qh(r,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(c+" must be an object containing the children to replace.");const d=[];qe(t,(_,g)=>{const v=new $t(_);if(af(c,g,pe(i,v)),Sp(v)===".priority"&&!RR(g))throw new Error(c+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(v)}),LR(c,d)},E0=function(r,t,i,o){if(!y0(i))throw new Error(Qh(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NR=function(r,t,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),E0(r,t,i)},IR=function(r,t){if(Nt(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},DR=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Vp(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!AR(i))throw new Error(Qh(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qp(r,t){let i=null;for(let o=0;o<t.length;o++){const c=t[o],d=c.getPath();i!==null&&!Bb(d,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:d}),i.events.push(c)}i&&r.eventLists_.push(i)}function jn(r,t,i){qp(r,i),kR(r,o=>Zn(o,t)||Zn(t,o))}function kR(r,t){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const c=r.eventLists_[o];if(c){const d=c.path;t(d)?(zR(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function zR(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const o=i.getEventRunner();iu&&Ve("event: "+i.toString()),Do(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="repo_interrupt",BR=25;class HR{constructor(t,i,o,c){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ih(),this.transactionQueueTree_=new Zp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZR(r,t,i){if(r.stats_=Ep(r.repoInfo_),r.forceRestClient_||_x())r.server_=new Nh(r.repoInfo_,(o,c,d,_)=>{$y(r,o,c,d,_)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Jy(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xe(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new us(r.repoInfo_,t,(o,c,d,_)=>{$y(r,o,c,d,_)},o=>{Jy(r,o)},o=>{VR(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=yx(r.repoInfo_,()=>new vA(r.stats_,r.server_)),r.infoData_=new dA,r.infoSyncTree_=new Xy({startListening:(o,c,d,_)=>{let g=[];const v=r.infoData_.getNode(o._path);return v.isEmpty()||(g=Lu(r.infoSyncTree_,o._path,v),setTimeout(()=>{_("ok")},0)),g},stopListening:()=>{}}),Gp(r,"connected",!1),r.serverSyncTree_=new Xy({startListening:(o,c,d,_)=>(r.server_.listen(o,d,c,(g,v)=>{const E=_(g,v);jn(r.eventQueue_,o._path,E)}),[]),stopListening:(o,c)=>{r.server_.unlisten(o,c)}})}function jR(r){const i=r.infoData_.getNode(new $t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function of(r){return yR({timestamp:jR(r)})}function $y(r,t,i,o,c){r.dataUpdateCount++;const d=new $t(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let _=[];if(c)if(o){const v=Ah(i,E=>Ce(E));_=fR(r.serverSyncTree_,d,v,c)}else{const v=Ce(i);_=c0(r.serverSyncTree_,d,v,c)}else if(o){const v=Ah(i,E=>Ce(E));_=uR(r.serverSyncTree_,d,v)}else{const v=Ce(i);_=Lu(r.serverSyncTree_,d,v)}let g=d;_.length>0&&(g=wo(r,d)),jn(r.eventQueue_,g,_)}function Jy(r,t){Gp(r,"connected",t),t===!1&&YR(r)}function VR(r,t){qe(t,(i,o)=>{Gp(r,i,o)})}function Gp(r,t,i){const o=new $t("/.info/"+t),c=Ce(i);r.infoData_.updateSnapshot(o,c);const d=Lu(r.infoSyncTree_,o,c);jn(r.eventQueue_,o,d)}function Fp(r){return r.nextWriteId_++}function qR(r,t,i){const o=_R(r.serverSyncTree_,t);return o!=null?Promise.resolve(o):r.server_.get(t).then(c=>{const d=Ce(c).withIndex(t._queryParams.getIndex());dR(r.serverSyncTree_,t,i,!0);let _;if(t._queryParams.loadsAllData())_=Lu(r.serverSyncTree_,t._path,d);else{const g=vu(r.serverSyncTree_,t);_=c0(r.serverSyncTree_,t._path,d,g)}return jn(r.eventQueue_,t._path,_),u0(r.serverSyncTree_,t,i,null,!0),d},c=>(Nu(r,"get for query "+xe(t)+" failed: "+c),Promise.reject(new Error(c))))}function GR(r,t,i,o,c){Nu(r,"set",{path:t.toString(),value:i,priority:o});const d=of(r),_=Ce(i,o),g=Dp(r.serverSyncTree_,t),v=p0(_,g,d),E=Fp(r),T=l0(r.serverSyncTree_,t,v,E,!0);qp(r.eventQueue_,T),r.server_.put(t.toString(),_.val(!0),(x,k)=>{const j=x==="ok";j||an("set at "+t+" failed: "+x);const Y=mr(r.serverSyncTree_,E,!j);jn(r.eventQueue_,t,Y),$_(r,c,x,k)});const C=Wp(r,t);wo(r,C),jn(r.eventQueue_,C,[])}function FR(r,t,i,o){Nu(r,"update",{path:t.toString(),value:i});let c=!0;const d=of(r),_={};if(qe(i,(g,v)=>{c=!1,_[g]=_0(pe(t,g),Ce(v),r.serverSyncTree_,d)}),c)Ve("update() called with empty data.  Don't do anything."),$_(r,o,"ok",void 0);else{const g=Fp(r),v=lR(r.serverSyncTree_,t,_,g);qp(r.eventQueue_,v),r.server_.merge(t.toString(),i,(E,T)=>{const C=E==="ok";C||an("update at "+t+" failed: "+E);const x=mr(r.serverSyncTree_,g,!C),k=x.length>0?wo(r,t):t;jn(r.eventQueue_,k,x),$_(r,o,E,T)}),qe(i,E=>{const T=Wp(r,pe(t,E));wo(r,T)}),jn(r.eventQueue_,t,[])}}function YR(r){Nu(r,"onDisconnectEvents");const t=of(r),i=Ih();G_(r.onDisconnect_,jt(),(c,d)=>{const _=_0(c,d,r.serverSyncTree_,t);Yb(i,c,_)});let o=[];G_(i,jt(),(c,d)=>{o=o.concat(Lu(r.serverSyncTree_,c,d));const _=Wp(r,c);wo(r,_)}),r.onDisconnect_=Ih(),jn(r.eventQueue_,jt(),o)}function WR(r){r.persistentConnection_&&r.persistentConnection_.interrupt(UR)}function Nu(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Ve(i,...t)}function $_(r,t,i,o){t&&Do(()=>{if(i==="ok")t(null);else{const c=(i||"error").toUpperCase();let d=c;o&&(d+=": "+o);const _=new Error(d);_.code=c,t(_)}})}function b0(r,t,i){return Dp(r.serverSyncTree_,t,i)||yt.EMPTY_NODE}function Yp(r,t=r.transactionQueueTree_){if(t||lf(r,t),ko(t)){const i=T0(r,t);J(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&KR(r,Mu(t),i)}else g0(t)&&rf(t,i=>{Yp(r,i)})}function KR(r,t,i){const o=i.map(E=>E.currentWriteId),c=b0(r,t,o);let d=c;const _=c.hash();for(let E=0;E<i.length;E++){const T=i[E];J(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const C=rn(t,T.path);d=d.updateChild(C,T.currentOutputSnapshotRaw)}const g=d.val(!0),v=t;r.server_.put(v.toString(),g,E=>{Nu(r,"transaction put response",{path:v.toString(),status:E});let T=[];if(E==="ok"){const C=[];for(let x=0;x<i.length;x++)i[x].status=2,T=T.concat(mr(r.serverSyncTree_,i[x].currentWriteId)),i[x].onComplete&&C.push(()=>i[x].onComplete(null,!0,i[x].currentOutputSnapshotResolved)),i[x].unwatcher();lf(r,jp(r.transactionQueueTree_,t)),Yp(r,r.transactionQueueTree_),jn(r.eventQueue_,t,T);for(let x=0;x<C.length;x++)Do(C[x])}else{if(E==="datastale")for(let C=0;C<i.length;C++)i[C].status===3?i[C].status=4:i[C].status=0;else{an("transaction at "+v.toString()+" failed: "+E);for(let C=0;C<i.length;C++)i[C].status=4,i[C].abortReason=E}wo(r,t)}},_)}function wo(r,t){const i=S0(r,t),o=Mu(i),c=T0(r,i);return XR(r,c,o),o}function XR(r,t,i){if(t.length===0)return;const o=[];let c=[];const _=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const v=t[g],E=rn(i,v.path);let T=!1,C;if(J(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)T=!0,C=v.abortReason,c=c.concat(mr(r.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=BR)T=!0,C="maxretry",c=c.concat(mr(r.serverSyncTree_,v.currentWriteId,!0));else{const x=b0(r,v.path,_);v.currentInputSnapshot=x;const k=t[g].update(x.val());if(k!==void 0){af("transaction failed: Data returned ",k,v.path);let j=Ce(k);typeof k=="object"&&k!=null&&Ci(k,".priority")||(j=j.updatePriority(x.getPriority()));const Q=v.currentWriteId,st=of(r),et=p0(j,x,st);v.currentOutputSnapshotRaw=j,v.currentOutputSnapshotResolved=et,v.currentWriteId=Fp(r),_.splice(_.indexOf(Q),1),c=c.concat(l0(r.serverSyncTree_,v.path,et,v.currentWriteId,v.applyLocally)),c=c.concat(mr(r.serverSyncTree_,Q,!0))}else T=!0,C="nodata",c=c.concat(mr(r.serverSyncTree_,v.currentWriteId,!0))}jn(r.eventQueue_,i,c),c=[],T&&(t[g].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(C==="nodata"?o.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):o.push(()=>t[g].onComplete(new Error(C),!1,null))))}lf(r,r.transactionQueueTree_);for(let g=0;g<o.length;g++)Do(o[g]);Yp(r,r.transactionQueueTree_)}function S0(r,t){let i,o=r.transactionQueueTree_;for(i=Nt(t);i!==null&&ko(o)===void 0;)o=jp(o,i),t=re(t),i=Nt(t);return o}function T0(r,t){const i=[];return w0(r,t,i),i.sort((o,c)=>o.order-c.order),i}function w0(r,t,i){const o=ko(t);if(o)for(let c=0;c<o.length;c++)i.push(o[c]);rf(t,c=>{w0(r,c,i)})}function lf(r,t){const i=ko(t);if(i){let o=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[o]=i[c],o++);i.length=o,m0(t,i.length>0?i:void 0)}rf(t,o=>{lf(r,o)})}function Wp(r,t){const i=Mu(S0(r,t)),o=jp(r.transactionQueueTree_,t);return TR(o,c=>{A_(r,c)}),A_(r,o),v0(o,c=>{A_(r,c)}),i}function A_(r,t){const i=ko(t);if(i){const o=[];let c=[],d=-1;for(let _=0;_<i.length;_++)i[_].status===3||(i[_].status===1?(J(d===_-1,"All SENT items should be at beginning of queue."),d=_,i[_].status=3,i[_].abortReason="set"):(J(i[_].status===0,"Unexpected transaction status in abort"),i[_].unwatcher(),c=c.concat(mr(r.serverSyncTree_,i[_].currentWriteId,!0)),i[_].onComplete&&o.push(i[_].onComplete.bind(null,new Error("set"),!1,null))));d===-1?m0(t,void 0):i.length=d+1,jn(r.eventQueue_,Mu(t),c);for(let _=0;_<o.length;_++)Do(o[_])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){let t="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let c=i[o];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}function $R(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):an(`Invalid query segment '${i}' in query '${r}'`)}return t}const tE=function(r,t){const i=JR(r),o=i.namespace;i.domain==="firebase.com"&&fs(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||rx();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Ob(i.host,i.secure,o,c,t,"",o!==i.subdomain),path:new $t(i.pathString)}},JR=function(r){let t="",i="",o="",c="",d="",_=!0,g="https",v=443;if(typeof r=="string"){let E=r.indexOf("//");E>=0&&(g=r.substring(0,E-1),r=r.substring(E+2));let T=r.indexOf("/");T===-1&&(T=r.length);let C=r.indexOf("?");C===-1&&(C=r.length),t=r.substring(0,Math.min(T,C)),T<C&&(c=QR(r.substring(T,C)));const x=$R(r.substring(Math.min(r.length,C)));E=t.indexOf(":"),E>=0?(_=g==="https"||g==="wss",v=parseInt(t.substring(E+1),10)):E=t.length;const k=t.slice(0,E);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const j=t.indexOf(".");o=t.substring(0,j).toLowerCase(),i=t.substring(j+1),d=o}"ns"in x&&(d=x.ns)}return{host:t,port:v,domain:i,subdomain:o,secure:_,scheme:g,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,i,o,c){this.eventType=t,this.eventRegistration=i,this.snapshot=o,this.prevName=c}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xe(this.snapshot.exportVal())}}class eO{constructor(t,i,o){this.eventRegistration=t,this.error=i,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,i,o,c){this._repo=t,this._path=i,this._queryParams=o,this._orderByCalled=c}get key(){return Mt(this._path)?null:Sp(this._path)}get ref(){return new ps(this._repo,this._path)}get _queryIdentifier(){const t=Hy(this._queryParams),i=vp(t);return i==="{}"?"default":i}get _queryObject(){return Hy(this._queryParams)}isEqual(t){if(t=gn(t),!(t instanceof Kp))return!1;const i=this._repo===t._repo,o=Bb(this._path,t._path),c=this._queryIdentifier===t._queryIdentifier;return i&&o&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+jx(this._path)}}class ps extends Kp{constructor(t,i){super(t,i,new xp,!1)}get parent(){const t=Ub(this._path);return t===null?null:new ps(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class yu{constructor(t,i,o){this._node=t,this.ref=i,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new $t(t),o=Zh(this.ref,t);return new yu(this._node.getChild(i),o,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,c)=>t(new yu(c,Zh(this.ref,o),me)))}hasChild(t){const i=new $t(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xp(r,t){return r=gn(r),r._checkNotDeleted("ref"),t!==void 0?Zh(r._root,t):r._root}function Zh(r,t){return r=gn(r),Nt(r._path)===null?NR("child","path",t):E0("child","path",t),new ps(r._repo,pe(r._path,t))}function iO(r,t){r=gn(r),IR("set",r._path),OR("set",t,r._path);const i=new Cu;return GR(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}function sO(r,t){MR("update",t,r._path);const i=new Cu;return FR(r._repo,r._path,t,i.wrapCallback(()=>{})),i.promise}function rO(r){r=gn(r);const t=new nO(()=>{}),i=new Qp(t);return qR(r._repo,r,i).then(o=>new yu(o,new ps(r._repo,r._path),r._queryParams.getIndex()))}class Qp{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const o=i._queryParams.getIndex();return new tO("value",this,new yu(t.snapshotNode,new ps(i._repo,i._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new eO(this,t,i):null}matches(t){return t instanceof Qp?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tR(ps);rR(ps);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FIREBASE_DATABASE_EMULATOR_HOST",J_={};let oO=!1;function lO(r,t,i,o){const c=t.lastIndexOf(":"),d=t.substring(0,c),_=Mo(d);r.repoInfo_=new Ob(t,_,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),o&&(r.authTokenProvider_=o)}function uO(r,t,i,o,c){let d=o||r.options.databaseURL;d===void 0&&(r.options.projectId||fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let _=tE(d,c),g=_.repoInfo,v;typeof process<"u"&&Sy&&(v=Sy[aO]),v?(d=`http://${v}?ns=${g.namespace}`,_=tE(d,c),g=_.repoInfo):_.repoInfo.secure;const E=new mx(r.name,r.options,t);DR("Invalid Firebase Database URL",_),Mt(_.path)||fs("Database URL must point to the root of a Firebase Database (not including a child path).");const T=hO(g,r,E,new px(r,i));return new fO(T,r)}function cO(r,t){const i=J_[t];(!i||i[r.key]!==r)&&fs(`Database ${t}(${r.repoInfo_}) has already been deleted.`),WR(r),delete i[r.key]}function hO(r,t,i,o){let c=J_[t.name];c||(c={},J_[t.name]=c);let d=c[r.toURLString()];return d&&fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new HR(r,oO,i,o),c[r.toURLString()]=d,d}class fO{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ps(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fs("Cannot call "+t+" on a deleted database.")}}function dO(r=fb(),t){const i=mp(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const o=TC("database");o&&_O(i,...o)}return i}function _O(r,t,i,o={}){r=gn(r),r._checkNotDeleted("useEmulator");const c=`${t}:${i}`,d=r._repoInternal;if(r._instanceStarted){if(c===r._repoInternal.repoInfo_.host&&ua(o,d.repoInfo_.emulatorOptions))return;fs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let _;if(d.repoInfo_.nodeAdmin)o.mockUserToken&&fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),_=new yh(yh.OWNER);else if(o.mockUserToken){const g=typeof o.mockUserToken=="string"?o.mockUserToken:wC(o.mockUserToken,r.app.options.projectId);_=new yh(g)}Mo(t)&&(rb(t),ab("Database",!0)),lO(d,c,o,_)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){J1(Io),yo(new ca("database",(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),d=t.getProvider("app-check-internal");return uO(o,c,d,i)},"PUBLIC").setMultipleInstances(!0)),yr(Ty,wy,r),yr(Ty,wy,"esm2020")}us.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};us.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};pO();function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mO=C0,x0=new xu("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new _p("@firebase/auth");function gO(r,...t){jh.logLevel<=Qt.WARN&&jh.warn(`Auth (${Io}): ${r}`,...t)}function Eh(r,...t){jh.logLevel<=Qt.ERROR&&jh.error(`Auth (${Io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...t){throw $p(r,...t)}function bi(r,...t){return $p(r,...t)}function A0(r,t,i){const o={...mO(),[t]:i};return new xu("auth","Firebase",o).create(t,{appName:r.name})}function Sr(r){return A0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(r,...t){if(typeof r!="string"){const i=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(i,...o)}return x0.create(r,...t)}function vt(r,t,...i){if(!r)throw $p(t,...i)}function ss(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Eh(t),new Error(t)}function ds(r,t){r||ss(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){return typeof self<"u"&&self.location?.href||""}function vO(){return eE()==="http:"||eE()==="https:"}function eE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vO()||RC()||"connection"in navigator)?navigator.onLine:!0}function EO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=dp()||ob()}get(){return yO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static initialize(t,i,o){this.fetchImpl=t,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TO=new Iu(3e4,6e4);function ga(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Rr(r,t,i,o,c={}){return O0(r,c,async()=>{let d={},_={};o&&(t==="GET"?_=o:d={body:JSON.stringify(o)});const g=No({key:r.config.apiKey,..._}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const E={method:t,headers:v,...d};return AC()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(E.credentials="include"),R0.fetch()(await L0(r,r.config.apiHost,i,g),E)})}async function O0(r,t,i){r._canInitEmulator=!1;const o={...bO,...t};try{const c=new CO(r),d=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const _=await d.json();if("needConfirmation"in _)throw mh(r,"account-exists-with-different-credential",_);if(d.ok&&!("errorMessage"in _))return _;{const g=d.ok?_.errorMessage:_.error.message,[v,E]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(r,"credential-already-in-use",_);if(v==="EMAIL_EXISTS")throw mh(r,"email-already-in-use",_);if(v==="USER_DISABLED")throw mh(r,"user-disabled",_);const T=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw A0(r,T,E);ai(r,T)}}catch(c){if(c instanceof Ar)throw c;ai(r,"network-request-failed",{message:String(c)})}}async function uf(r,t,i,o,c={}){const d=await Rr(r,t,i,o,c);return"mfaPendingCredential"in d&&ai(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function L0(r,t,i,o){const c=`${t}${i}?${o}`,d=r,_=d.config.emulator?Jp(r.config,c):`${r.config.apiScheme}://${c}`;return SO.includes(i)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(_).toString():_}function wO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(bi(this.auth,"network-request-failed")),TO.get())})}}function mh(r,t,i){const o={appName:r.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=bi(r,t,o);return c.customData._tokenResponse=i,c}function nE(r){return r!==void 0&&r.enterprise!==void 0}class xO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return wO(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AO(r,t){return Rr(r,"GET","/v2/recaptchaConfig",ga(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(r,t){return Rr(r,"POST","/v1/accounts:delete",t)}async function Vh(r,t){return Rr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OO(r,t=!1){const i=gn(r),o=await i.getIdToken(t),c=tm(o);vt(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,_=d?.sign_in_provider;return{claims:c,token:o,authTime:lu(R_(c.auth_time)),issuedAtTime:lu(R_(c.iat)),expirationTime:lu(R_(c.exp)),signInProvider:_||null,signInSecondFactor:d?.sign_in_second_factor||null}}function R_(r){return Number(r)*1e3}function tm(r){const[t,i,o]=r.split(".");if(t===void 0||i===void 0||o===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const c=xh(i);return c?JSON.parse(c):(Eh("Failed to decode base64 JWT payload"),null)}catch(c){return Eh("Caught error parsing JWT payload as JSON",c?.toString()),null}}function iE(r){const t=tm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r,t,i=!1){if(i)return t;try{return await t}catch(o){throw o instanceof Ar&&LO(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function LO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(r){const t=r.auth,i=await r.getIdToken(),o=await Eu(r,Vh(t,{idToken:i}));vt(o?.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=c.providerUserInfo?.length?M0(c.providerUserInfo):[],_=IO(r.providerData,d),g=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!_?.length,E=g?v:!1,T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:_,metadata:new ep(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function NO(r){const t=gn(r);await qh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IO(r,t){return[...r.filter(o=>!t.some(c=>c.providerId===o.providerId)),...t]}function M0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(r,t){const i=await O0(r,{},async()=>{const o=No({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:d}=r.config,_=await L0(r,c,"/v1/token",`key=${d}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:o};return r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(v.credentials="include"),R0.fetch()(_,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PO(r,t){return Rr(r,"POST","/v2/accounts:revokeToken",ga(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=iE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:o,refreshToken:c,expiresIn:d}=await DO(t,i);this.updateTokensAndExpiration(o,c,Number(d))}updateTokensAndExpiration(t,i,o){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,i){const{refreshToken:o,accessToken:c,expirationTime:d}=i,_=new po;return o&&(vt(typeof o=="string","internal-error",{appName:t}),_.refreshToken=o),c&&(vt(typeof c=="string","internal-error",{appName:t}),_.accessToken=c),d&&(vt(typeof d=="number","internal-error",{appName:t}),_.expirationTime=d),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new MO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new ep(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Eu(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OO(this,t)}reload(){return NO(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),i&&await qh(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Sr(this.auth));const t=await this.getIdToken();return await Eu(this,RO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const o=i.displayName??void 0,c=i.email??void 0,d=i.phoneNumber??void 0,_=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,E=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:C,emailVerified:x,isAnonymous:k,providerData:j,stsTokenManager:Y}=i;vt(C&&Y,t,"internal-error");const Q=po.fromJSON(this.name,Y);vt(typeof C=="string",t,"internal-error"),cr(o,t.name),cr(c,t.name),vt(typeof x=="boolean",t,"internal-error"),vt(typeof k=="boolean",t,"internal-error"),cr(d,t.name),cr(_,t.name),cr(g,t.name),cr(v,t.name),cr(E,t.name),cr(T,t.name);const st=new si({uid:C,auth:t,email:c,emailVerified:x,displayName:o,isAnonymous:k,photoURL:_,phoneNumber:d,tenantId:g,stsTokenManager:Q,createdAt:E,lastLoginAt:T});return j&&Array.isArray(j)&&(st.providerData=j.map(et=>({...et}))),v&&(st._redirectEventId=v),st}static async _fromIdTokenResponse(t,i,o=!1){const c=new po;c.updateFromServerResponse(i);const d=new si({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o});return await qh(d),d}static async _fromGetAccountInfoResponse(t,i,o){const c=i.users[0];vt(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?M0(c.providerUserInfo):[],_=!(c.email&&c.passwordHash)&&!d?.length,g=new po;g.updateFromIdToken(o);const v=new si({uid:c.localId,auth:t,stsTokenManager:g,isAnonymous:_}),E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new ep(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(v,E),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function rs(r){ds(r instanceof Function,"Expected a class definition");let t=sE.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,sE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}N0.type="NONE";const rE=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,t,i){return`firebase:${r}:${t}:${i}`}class mo{constructor(t,i,o){this.persistence=t,this.auth=i,this.userKey=o;const{config:c,name:d}=this.auth;this.fullUserKey=bh(this.userKey,c.apiKey,d),this.fullPersistenceKey=bh("persistence",c.apiKey,d),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Vh(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,o="authUser"){if(!i.length)return new mo(rs(rE),t,o);const c=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let d=c[0]||rs(rE);const _=bh(o,t.config.apiKey,t.name);let g=null;for(const E of i)try{const T=await E._get(_);if(T){let C;if(typeof T=="string"){const x=await Vh(t,{idToken:T}).catch(()=>{});if(!x)break;C=await si._fromGetAccountInfoResponse(t,x,T)}else C=si._fromJSON(t,T);E!==d&&(g=C),d=E;break}}catch{}const v=c.filter(E=>E._shouldAllowMigration);return!d._shouldAllowMigration||!v.length?new mo(d,t,o):(d=v[0],g&&await d._set(_,g.toJSON()),await Promise.all(i.map(async E=>{if(E!==d)try{await E._remove(_)}catch{}})),new mo(d,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U0(t))return"Blackberry";if(B0(t))return"Webos";if(D0(t))return"Safari";if((t.includes("chrome/")||P0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(i);if(o?.length===2)return o[1]}return"Other"}function I0(r=on()){return/firefox\//i.test(r)}function D0(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P0(r=on()){return/crios\//i.test(r)}function k0(r=on()){return/iemobile/i.test(r)}function z0(r=on()){return/android/i.test(r)}function U0(r=on()){return/blackberry/i.test(r)}function B0(r=on()){return/webos/i.test(r)}function em(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kO(r=on()){return em(r)&&!!window.navigator?.standalone}function zO(){return OC()&&document.documentMode===10}function H0(r=on()){return em(r)||z0(r)||B0(r)||U0(r)||/windows phone/i.test(r)||k0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,t=[]){let i;switch(r){case"Browser":i=aE(on());break;case"Worker":i=`${aE(on())}-${r}`;break;default:i=r}const o=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Io}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const o=d=>new Promise((_,g)=>{try{const v=t(d);_(v)}catch(v){g(v)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const o of this.queue)await o(t),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(r,t={}){return Rr(r,"GET","/v2/passwordPolicy",ga(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=6;class ZO{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HO,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=t.length>=o),c&&(i.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let c=0;c<t.length;c++)o=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,i,o,c,d){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t,i,o,c){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new UO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Vh(this,{idToken:t}),o=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(_,_))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,_=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===_)&&g?.user&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=EO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Sr(this));const i=t?gn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BO(this),i=new ZO(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xu("auth","Firebase",t())}onAuthStateChanged(t,i,o){return this.registerStateListener(this.authStateSubscription,t,i,o)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,o){return this.registerStateListener(this.idTokenSubscription,t,i,o)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await PO(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const o=await this.getOrInitRedirectPersistenceManager(i);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,o,c){if(this._deleted)return()=>{};const d=typeof i=="function"?i:i.next.bind(i);let _=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{_||d(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,o,c);return()=>{_=!0,v()}}else{const v=t.addObserver(i);return()=>{_=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zo(r){return gn(r)}class oE{constructor(t){this.auth=t,this.observer=null,this.addObserver=BC(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VO(r){cf=r}function j0(r){return cf.loadJS(r)}function qO(){return cf.recaptchaEnterpriseScript}function GO(){return cf.gapiScript}function FO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class YO{constructor(){this.enterprise=new WO}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class WO{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const KO="recaptcha-enterprise",V0="NO_RECAPTCHA";class XO{constructor(t){this.type=KO,this.auth=zo(t)}async verify(t="verify",i=!1){async function o(d){if(!i){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(_,g)=>{AO(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new xO(v);return d.tenantId==null?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,_(E.siteKey)}}).catch(v=>{g(v)})})}function c(d,_,g){const v=window.grecaptcha;nE(v)?v.enterprise.ready(()=>{v.enterprise.execute(d,{action:t}).then(E=>{_(E)}).catch(()=>{_(V0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YO().execute("siteKey",{action:"verify"}):new Promise((d,_)=>{o(this.auth).then(g=>{if(!i&&nE(window.grecaptcha))c(g,d,_);else{if(typeof window>"u"){_(new Error("RecaptchaVerifier is only supported in browser"));return}let v=qO();v.length!==0&&(v+=g),j0(v).then(()=>{c(g,d,_)}).catch(E=>{_(E)})}}).catch(g=>{_(g)})})}}async function lE(r,t,i,o=!1,c=!1){const d=new XO(r);let _;if(c)_=V0;else try{_=await d.verify(i)}catch{_=await d.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:E,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return o?Object.assign(g,{captchaResp:_}):Object.assign(g,{captchaResponse:_}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function uE(r,t,i,o,c){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await lE(r,t,i,i==="getOobCode");return o(r,d)}else return o(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await lE(r,t,i,i==="getOobCode");return o(r,_)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(r,t){const i=mp(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),d=i.getOptions();if(ua(d,t??{}))return c;ai(c,"already-initialized")}return i.initialize({options:t})}function $O(r,t){const i=t?.persistence||[],o=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(o,t?.popupRedirectResolver)}function JO(r,t,i){const o=zo(r);vt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const c=!1,d=q0(t),{host:_,port:g}=tL(t),v=g===null?"":`:${g}`,E={url:`${d}//${_}${v}/`},T=Object.freeze({host:_,port:g,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){vt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),vt(ua(E,o.config.emulator)&&ua(T,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=E,o.emulatorConfig=T,o.settings.appVerificationDisabledForTesting=!0,Mo(_)?(rb(`${d}//${_}${v}`),ab("Auth",!0)):eL()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function tL(r){const t=q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const d=c[1];return{host:d,port:cE(o.substr(d.length+1))}}else{const[d,_]=o.split(":");return{host:d,port:cE(_)}}}function cE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function eL(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function nL(r,t){return Rr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(r,t){return uf(r,"POST","/v1/accounts:signInWithPassword",ga(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(r,t){return uf(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,t))}async function rL(r,t){return uf(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends nm{constructor(t,i,o,c=null){super("password",o),this._email=t,this._password=i,this._tenantId=c}static _fromEmailAndPassword(t,i){return new bu(t,i,"password")}static _fromEmailAndCode(t,i,o=null){return new bu(t,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(t,i,"signInWithPassword",iL);case"emailLink":return sL(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(t,o,"signUpPassword",nL);case"emailLink":return rL(t,{idToken:i,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,t){return uf(r,"POST","/v1/accounts:signInWithIdp",ga(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="http://localhost";class _a extends nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ai("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:c,...d}=i;if(!o||!c)return null;const _=new _a(o,c);return _.idToken=d.idToken||void 0,_.accessToken=d.accessToken||void 0,_.secret=d.secret,_.nonce=d.nonce,_.pendingToken=d.pendingToken||null,_}_getIdTokenResponse(t){const i=this.buildRequest();return go(t,i)}_linkToIdToken(t,i){const o=this.buildRequest();return o.idToken=i,go(t,o)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,go(t,i)}buildRequest(){const t={requestUri:aL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=No(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lL(r){const t=$l(Jl(r)).link,i=t?$l(Jl(t)).deep_link_id:null,o=$l(Jl(r)).deep_link_id;return(o?$l(Jl(o)).link:null)||o||i||t||r}class im{constructor(t){const i=$l(Jl(t)),o=i.apiKey??null,c=i.oobCode??null,d=oL(i.mode??null);vt(o&&c&&d,"argument-error"),this.apiKey=o,this.operation=d,this.code=c,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=lL(t);try{return new im(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(t,i){return bu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const o=im.parseLink(i);return vt(o,"argument-error"),bu._fromEmailAndCode(t,o.code,o.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Du{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return _a._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:o}=t;if(!i&&!o)return null;try{return dr.credential(i,o)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Du{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Du{constructor(){super("twitter.com")}static credential(t,i){return _a._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=t;if(!i||!o)return null;try{return pr.credential(i,o)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,o,c=!1){const d=await si._fromIdTokenResponse(t,o,c),_=hE(o);return new Co({user:d,providerId:_,_tokenResponse:o,operationType:i})}static async _forOperation(t,i,o){await t._updateTokensIfNecessary(o,!0);const c=hE(o);return new Co({user:t,providerId:c,_tokenResponse:o,operationType:i})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Ar{constructor(t,i,o,c){super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,i,o,c){return new Gh(t,i,o,c)}}function F0(r,t,i,o){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(r,d,t,o):d})}async function uL(r,t,i=!1){const o=await Eu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Co._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(r,t,i=!1){const{auth:o}=r;if(ei(o.app))return Promise.reject(Sr(o));const c="reauthenticate";try{const d=await Eu(r,F0(o,c,t,r),i);vt(d.idToken,o,"internal-error");const _=tm(d.idToken);vt(_,o,"internal-error");const{sub:g}=_;return vt(r.uid===g,o,"user-mismatch"),Co._forOperation(r,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&ai(o,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(r,t,i=!1){if(ei(r.app))return Promise.reject(Sr(r));const o="signIn",c=await F0(r,o,t),d=await Co._fromIdTokenResponse(r,o,c);return i||await r._updateCurrentUser(d.user),d}async function hL(r,t){return Y0(zo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(r){const t=zo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function dL(r,t,i){return ei(r.app)?Promise.reject(Sr(r)):hL(gn(r),Uo.credential(t,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&fL(r),o})}function _L(r,t,i,o){return gn(r).onIdTokenChanged(t,i,o)}function pL(r,t,i){return gn(r).beforeAuthStateChanged(t,i)}function mL(r,t,i,o){return gn(r).onAuthStateChanged(t,i,o)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=1e3,vL=10;class K0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&t(i,c,o)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((_,g,v)=>{this.notifyListeners(_,v)});return}const o=t.key;i?this.detachListener():this.stopPolling();const c=()=>{const _=this.storage.getItem(o);!i&&this.localCache[o]===_||this.notifyListeners(o,_)},d=this.storage.getItem(o);zO()&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,vL):c()}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:o}),!0)})},gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}K0.type="LOCAL";const yL=K0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}X0.type="SESSION";const Q0=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;const o=new hf(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:o,eventType:c,data:d}=i.data,_=this.handlersMap[c];if(!_?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const g=Array.from(_).map(async E=>E(i.origin,d)),v=await EL(g);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(r="",t=10){let i="";for(let o=0;o<t;o++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,_;return new Promise((g,v)=>{const E=sm("",20);c.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},o);_={messageChannel:c,onMessage(C){const x=C;if(x.data.eventId===E)switch(x.data.status){case"ack":clearTimeout(T),d=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),g(x.data.response);break;default:clearTimeout(T),clearTimeout(d),v(new Error("invalid_response"));break}}},this.handlers.add(_),c.port1.addEventListener("message",_.onMessage),this.target.postMessage({eventType:t,eventId:E,data:i},[c.port2])}).finally(()=>{_&&this.removeMessageHandler(_)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function SL(r){Si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function TL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){return navigator?.serviceWorker?.controller||null}function CL(){return $0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebaseLocalStorageDb",xL=1,Yh="firebaseLocalStorage",tS="fbase_key";class Pu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ff(r,t){return r.transaction([Yh],t?"readwrite":"readonly").objectStore(Yh)}function AL(){const r=indexedDB.deleteDatabase(J0);return new Pu(r).toPromise()}function np(){const r=indexedDB.open(J0,xL);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(Yh,{keyPath:tS})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(Yh)?t(o):(o.close(),await AL(),t(await np()))})})}async function fE(r,t,i){const o=ff(r,!0).put({[tS]:t,value:i});return new Pu(o).toPromise()}async function RL(r,t){const i=ff(r,!1).get(t),o=await new Pu(i).toPromise();return o===void 0?null:o.value}function dE(r,t){const i=ff(r,!0).delete(t);return new Pu(i).toPromise()}const OL=800,LL=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(t){let i=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(i++>LL)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(CL()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TL(),!this.activeServiceWorker)return;this.sender=new bL(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await np();return await fE(t,Fh,"1"),await dE(t,Fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>fE(o,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(o=>RL(o,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const d=ff(c,!1).getAll();return new Pu(d).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(t.length!==0)for(const{fbase_key:c,value:d}of t)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const ML=eS;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(r,t){return t?rs(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends nm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,i){return go(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function IL(r){return Y0(r.auth,new rm(r),r.bypassAuthState)}function DL(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),cL(i,new rm(r),r.bypassAuthState)}async function PL(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),uL(i,new rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,i,o,c,d=!1){this.auth=t,this.resolver=o,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:o,postBody:c,tenantId:d,error:_,type:g}=t;if(_){this.reject(_);return}const v={auth:this.auth,requestUri:i,sessionId:o,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return PL;case"reauthViaPopup":case"reauthViaRedirect":return DL;default:ai(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Iu(2e3,1e4);class ho extends nS{constructor(t,i,o,c,d){super(t,i,c,d),this.provider=o,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kL.get())};t()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="pendingRedirect",Sh=new Map;class UL extends nS{constructor(t,i,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let t=Sh.get(this.auth._key());if(!t){try{const o=await BL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(i){t=()=>Promise.reject(i)}Sh.set(this.auth._key(),t)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BL(r,t){const i=jL(t),o=ZL(r);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function HL(r,t){Sh.set(r._key(),t)}function ZL(r){return rs(r._redirectPersistence)}function jL(r){return bh(zL,r.config.apiKey,r.name)}async function VL(r,t,i=!1){if(ei(r.app))return Promise.reject(Sr(r));const o=zo(r),c=NL(o,t),_=await new UL(o,c,i).execute();return _&&!i&&(delete _.user._redirectEventId,await o._persistUserIfCurrent(_.user),await o._setRedirectUser(null,t)),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=600*1e3;class GL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(i=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FL(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iS(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const o=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qL&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function FL(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(r,t={}){return Rr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KL=/^https?/;async function XL(r){if(r.config.emulator)return;const{authorizedDomains:t}=await YL(r);for(const i of t)try{if(QL(i))return}catch{}ai(r,"unauthorized-domain")}function QL(r){const t=tp(),{protocol:i,hostname:o}=new URL(t);if(r.startsWith("chrome-extension://")){const _=new URL(r);return _.hostname===""&&o===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&_.hostname===o}if(!KL.test(i))return!1;if(WL.test(r))return o===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Iu(3e4,6e4);function pE(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function JL(r){return new Promise((t,i)=>{function o(){pE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pE(),i(bi(r,"network-request-failed"))},timeout:$L.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)o();else{const c=FO("iframefcb");return Si()[c]=()=>{gapi.load?o():i(bi(r,"network-request-failed"))},j0(`${GO()}?onload=${c}`).catch(d=>i(d))}}).catch(t=>{throw Th=null,t})}let Th=null;function tM(r){return Th=Th||JL(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Iu(5e3,15e3),nM="__/auth/iframe",iM="emulator/auth/iframe",sM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aM(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Jp(t,iM):`https://${r.config.authDomain}/${nM}`,o={apiKey:t.apiKey,appName:r.name,v:Io},c=rM.get(r.config.apiHost);c&&(o.eid=c);const d=r._getFrameworks();return d.length&&(o.fw=d.join(",")),`${i}?${No(o).slice(1)}`}async function oM(r){const t=await tM(r),i=Si().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:aM(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sM,dontclear:!0},o=>new Promise(async(c,d)=>{await o.restyle({setHideOnLeave:!1});const _=bi(r,"network-request-failed"),g=Si().setTimeout(()=>{d(_)},eM.get());function v(){Si().clearTimeout(g),c(o)}o.ping(v).then(v,()=>{d(_)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,cM=600,hM="_blank",fM="http://localhost";class mE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dM(r,t,i,o=uM,c=cM){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),_=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const v={...lM,width:o.toString(),height:c.toString(),top:d,left:_},E=on().toLowerCase();i&&(g=P0(E)?hM:i),I0(E)&&(t=t||fM,v.scrollbars="yes");const T=Object.entries(v).reduce((x,[k,j])=>`${x}${k}=${j},`,"");if(kO(E)&&g!=="_self")return _M(t||"",g),new mE(null);const C=window.open(t||"",g,T);vt(C,r,"popup-blocked");try{C.focus()}catch{}return new mE(C)}function _M(r,t){const i=document.createElement("a");i.href=r,i.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="__/auth/handler",mM="emulator/auth/handler",gM=encodeURIComponent("fac");async function gE(r,t,i,o,c,d){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const _={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:o,v:Io,eventId:c};if(t instanceof G0){t.setDefaultLanguage(r.languageCode),_.providerId=t.providerId||"",k_(t.getCustomParameters())||(_.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,C]of Object.entries({}))_[T]=C}if(t instanceof Du){const T=t.getScopes().filter(C=>C!=="");T.length>0&&(_.scopes=T.join(","))}r.tenantId&&(_.tid=r.tenantId);const g=_;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await r._getAppCheckToken(),E=v?`#${gM}=${encodeURIComponent(v)}`:"";return`${vM(r)}?${No(g).slice(1)}${E}`}function vM({config:r}){return r.emulator?Jp(r,mM):`https://${r.authDomain}/${pM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="webStorageSupport";class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q0,this._completeRedirectFn=VL,this._overrideRedirectResult=HL}async _openPopup(t,i,o,c){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const d=await gE(t,i,o,tp(),c);return dM(t,d,sm())}async _openRedirect(t,i,o,c){await this._originValidation(t);const d=await gE(t,i,o,tp(),c);return SL(d),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:c,promise:d}=this.eventManagers[i];return c?Promise.resolve(c):(ds(d,"If manager is not set, promise should be"),d)}const o=this.initAndGetManager(t);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(t){const i=await oM(t),o=new GL(t);return i.register("authEvent",c=>(vt(c?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=i,o}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(O_,{type:O_},c=>{const d=c?.[0]?.[O_];d!==void 0&&i(!!d),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XL(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return H0()||D0()||em()}}const EM=yM;var vE="@firebase/auth",yE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TM(r){yo(new ca("auth",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),d=t.getProvider("app-check-internal"),{apiKey:_,authDomain:g}=o.options;vt(_&&!_.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:_,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(r)},E=new jO(o,c,d,v);return $O(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,o)=>{t.getProvider("auth-internal").initialize()})),yo(new ca("auth-internal",t=>{const i=zo(t.getProvider("auth").getImmediate());return(o=>new bM(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(vE,yE,SM(r)),yr(vE,yE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=300,CM=sb("authIdTokenMaxAge")||wM;let EE=null;const xM=r=>async t=>{const i=t&&await t.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>CM)return;const c=i?.token;EE!==c&&(EE=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function xo(r=fb()){const t=mp(r,"auth");if(t.isInitialized())return t.getImmediate();const i=QO(r,{popupRedirectResolver:EM,persistence:[ML,yL,Q0]}),o=sb("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(o,location.origin);if(location.origin===d.origin){const _=xM(d.toString());pL(i,_,()=>_(i.currentUser)),_L(i,g=>_(g))}}const c=nb("auth");return c&&JO(i,`http://${c}`),i}function AM(){return document.getElementsByTagName("head")?.[0]??document}VO({loadJS(r){return new Promise((t,i)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=t,o.onerror=c=>{const d=bi("internal-error");d.customData=c,i(d)},o.type="text/javascript",o.charset="UTF-8",AM().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TM("Browser");const RM={apiKey:"AIzaSyAxxocdjMi0CkRYSwNlfa2chCE653Cqat8",authDomain:"yatai-now-test01.firebaseapp.com",databaseURL:"https://yatai-now-test01-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"yatai-now-test01",storageBucket:"yatai-now-test01.firebasestorage.app",messagingSenderId:"585308141782",appId:"1:585308141782:web:4c1c1cbe228720dca2b177"},OM=hb(RM),am=dO(OM);function LM(r,t,i,o,c){const _=xo().currentUser?.uid;return iO(Xp(am,`${r}/${_}`),{class:"shop",y_ido:t,x_keido:i,name:o,description:c,areagroupid:"area01"})}async function sS(r){const t=await rO(Zh(Xp(am),r));return t.exists()?Object.entries(t.val()).map(([i,o])=>({ownerid:i,...o})):[]}async function MM(r,t){const o=xo().currentUser?.uid;return sO(Xp(am,`${r}/${o}`),t)}async function NM(r,t){const i=xo();try{return(await dL(i,r+"@u.tsukuba.example.test.ac.jp",t)).user.uid}catch(o){return console.error(":",o.code,o.message),null}}const rS="/yatai-now/assets/2025_11_19-Cen88AjE.svg",aS="/yatai-now/assets/pin400x300-CytIBKwI.png",bE=Oo.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),IM=Oo.icon({iconUrl:aS,iconSize:[60,45],iconAnchor:[30,45],popupAnchor:[1,-34]});function DM(r){return D_({zoomend:function(t){const o=t.target.getZoom();r.onZoomChange(o)}}),null}function PM(){const t=xr().state,[i,o]=z.useState([]),c=18,[d,_]=z.useState(c),g=d>=19?"shop":"area",v=[[36.108,140.098],[36.112,140.104]];z.useEffect(()=>{async function T(){const C=await sS(t);o(C)}T()},[]);function E(T){if(t==="0")return F.jsx(tu,{position:[T.lat,T.lng],icon:bE,children:F.jsx(eu,{children:F.jsxs("div",{children:[F.jsx("strong",{children:T.name}),F.jsx("br",{}),F.jsxs("p",{children:["",T.description]})]})})},T.shopname);if(t==="1"){if(T.class!==g)return null;if(T.class==="area"){const C=i.filter(function(x){return x.class==="shop"&&x.areagroupid===T.id}).map(function(x){return x.name});return F.jsxs(tu,{position:[T.y_ido,T.x_keido],icon:bE,children:[F.jsx(P_,{direction:"top",offset:[0,-40],permanent:!0,children:F.jsx("strong",{children:T.name})}),F.jsx(eu,{children:F.jsxs("div",{children:[F.jsx("strong",{children:T.name}),F.jsx("br",{}),F.jsxs("p",{children:["",T.description]}),F.jsx("img",{src:T.imageURL,style:{width:"100%",maxWidth:"300px",height:"auto"}}),F.jsxs("p",{children:["",T.teamname]}),C.length>0&&F.jsxs("div",{children:[F.jsx("p",{children:""}),F.jsx("ul",{children:C.map(function(x){return F.jsx("li",{children:x},x)})})]})]})})]},T.id)}else if(T.class==="shop")return F.jsxs(tu,{position:[T.y_ido,T.x_keido],icon:IM,children:[F.jsx(P_,{direction:"top",offset:[0,-40],permanent:!0,children:F.jsx("strong",{children:T.name})}),F.jsx(eu,{children:F.jsxs("div",{children:[F.jsx("strong",{children:T.name}),F.jsx("br",{}),F.jsxs("p",{children:["",T.description]}),F.jsx("img",{src:T.imageURL,style:{width:"100%",maxWidth:"300px",height:"auto"}}),F.jsxs("p",{children:["",T.teamname]}),F.jsxs("p",{children:["",T.place]}),F.jsxs("p",{children:["",T.type]}),F.jsxs("p",{children:["",T.starttime,"~",T.endtime]}),F.jsxs("p",{children:["",T.storage]})]})})]},T.ownerid)}}return F.jsxs("div",{className:uy["leafmap-screen"],children:[F.jsxs("header",{className:"common-header",children:[F.jsx("button",{className:"common-btn-back",onClick:()=>os(pn.TopPage),children:"< "}),F.jsxs("div",{className:uy["header-right-buttons"],children:[F.jsx("button",{className:"common-btn-header",onClick:()=>os(pn.ORG_LOGIN),children:""}),F.jsx("button",{className:"common-btn-header",onClick:()=>os(pn.VEND_LOGIN),children:""})]})]}),F.jsxs(QE,{center:[36.110251,140.100381],zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,crs:Oo.CRS.Simple,children:[F.jsx(XE,{url:rS,bounds:v}),F.jsx(DM,{onZoomChange:T=>_(T)}),i.map(T=>E(T))]})]})}const kM="_btn_15zrm_27",hr={"login-screen":"_login-screen_15zrm_1","login-header":"_login-header_15zrm_13","btn-back":"_btn-back_15zrm_27","login-container":"_login-container_15zrm_57","login-form":"_login-form_15zrm_93","login-input":"_login-input_15zrm_107",btn:kM};function zM(){const r=t=>{t.preventDefault(),console.log("Organizer login attempt")};return F.jsxs("div",{className:`screen-general ${hr["login-screen"]}`,children:[F.jsx("header",{className:hr["login-header"],children:F.jsx("button",{className:hr["btn-back"],onClick:()=>os(pn.MainMap,"1"),children:"< "})}),F.jsxs("div",{className:hr["login-container"],children:[F.jsx("h2",{children:""}),F.jsxs("form",{className:hr["login-form"],onSubmit:r,children:[F.jsx("input",{className:hr["login-input"],type:"text",placeholder:"ID"}),F.jsx("input",{className:hr["login-input"],type:"password",placeholder:""}),F.jsx("button",{className:hr.btn,type:"submit",children:""})]})]})]})}const UM="_btn_119tf_1",ns={"login-screen":"_login-screen_119tf_1","login-header":"_login-header_119tf_1","btn-back":"_btn-back_119tf_1","login-container":"_login-container_119tf_1","login-form":"_login-form_119tf_1","login-input":"_login-input_119tf_1",btn:UM,"login-error":"_login-error_119tf_1"};function BM(){const[r,t]=z.useState(""),[i,o]=z.useState(""),[c,d]=z.useState("");z.useEffect(()=>{const g=xo();g.currentUser&&(console.log(": UID =",g.currentUser.uid),(async()=>(await new Promise(E=>setTimeout(E,400)),os(pn.VEND_UPLOAD)))())},[]);const _=async g=>{if(g.preventDefault(),r===""||i===""){d("");return}const v=await NM(r,i);v?(console.log(": UID =",v),os(pn.VEND_UPLOAD)):d("")};return F.jsxs("div",{className:`screen-general ${ns["login-screen"]}`,children:[F.jsx("header",{className:ns["login-header"],children:F.jsx("button",{className:ns["btn-back"],onClick:()=>os(pn.MainMap,"1"),children:"< "})}),F.jsxs("div",{className:ns["login-container"],children:[F.jsx("h2",{children:""}),F.jsxs("form",{className:ns["login-form"],onSubmit:_,children:[F.jsx("input",{className:ns["login-input"],type:"text",placeholder:"ID",value:r,onChange:g=>t(g.target.value)}),F.jsx("input",{className:ns["login-input"],type:"password",placeholder:"",value:i,onChange:g=>o(g.target.value)}),c&&F.jsx("p",{className:ns["login-error"],children:c}),F.jsx("button",{className:ns.btn,type:"submit",children:""})]})]})]})}const Xl={"leafmap-footer":"_leafmap-footer_b7n0z_237","btn-create":"_btn-create_b7n0z_253","pin-input-row":"_pin-input-row_b7n0z_269","leafmap-screen":"_leafmap-screen_b7n0z_285"},HM="/yatai-now/assets/pin256_green-DO2m2vZD.png",ZM=Oo.icon({iconUrl:aS,iconSize:[60,45],iconAnchor:[30,45],popupAnchor:[1,-34]}),SE=Oo.icon({iconUrl:HM,iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[10,-10]});function jM(){const[i,o]=z.useState(18),c=[[36.108,140.098],[36.112,140.104]],[d,_]=z.useState([]),[g,v]=z.useState(null),[E,T]=z.useState(!1),[C,x]=z.useState(null),[k,j]=z.useState({name:"",descr:""});function Y(){x(null),j({name:"",descr:""})}function Q(){return D_({zoomend:pt=>{o(pt.target.getZoom())}}),null}async function st(pt){const It=await sS("1"),Gt=pt?.uid||null,Bt=It.find(zt=>zt.ownerid===Gt);Bt&&v(Bt);const ye=It.filter(zt=>zt.ownerid!==Gt);_(ye)}async function et(pt,It,Gt,Bt){g?await MM("1",{y_ido:pt,x_keido:It,name:Gt,description:Bt}):await LM("1",pt,It,Gt,Bt);function ye(Vt){return new Promise(Vn=>setTimeout(Vn,Vt))}await ye(1e3);const zt=xo();await st(zt.currentUser)}z.useEffect(()=>{const pt=xo(),It=mL(pt,async Gt=>{st(Gt)});return()=>It()},[]);const at=z.useRef(null);z.useEffect(()=>{if(at.current){const pt=at.current.getContainer();pt.style.cursor=E?"crosshair":"auto"}},[E]);function Dt(pt,It){return F.jsxs(tu,{position:[pt.y_ido,pt.x_keido],icon:It,children:[F.jsx(P_,{direction:"top",offset:[0,-40],permanent:!0,children:F.jsx("strong",{children:pt.name})}),F.jsx(eu,{children:F.jsxs("div",{children:[F.jsx("strong",{children:pt.name}),F.jsx("br",{}),F.jsxs("p",{children:["",pt.description]}),pt.imageURL&&F.jsx("img",{src:pt.imageURL,style:{width:"100%",maxWidth:"300px",height:"auto"},alt:"shop"}),F.jsxs("p",{children:["",pt.teamname]})]})})]},pt.ownerid||Math.random())}function _t({isCreating:pt}){return D_({click(It){pt&&x([It.latlng.lat,It.latlng.lng])}}),null}return F.jsxs("div",{className:`screen-general ${Xl["leafmap-screen"]}`,children:[F.jsx("header",{className:"common-header",children:F.jsx("button",{className:"common-btn-back",onClick:()=>os(pn.MainMap,"1"),children:"< "})}),F.jsxs(QE,{ref:at,center:[36.110251,140.100381],zoom:18,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,crs:Oo.CRS.Simple,children:[F.jsx(XE,{url:rS,bounds:c}),F.jsx(Q,{}),F.jsx(_t,{isCreating:E}),d.map(pt=>Dt(pt,ZM)),!E&&g&&Dt(g,SE),C&&F.jsx(tu,{position:C,icon:SE,children:F.jsx(eu,{children:F.jsxs("div",{style:{width:"240px"},children:[F.jsx("strong",{children:""}),F.jsxs("div",{className:Xl["pin-input-row"],children:[F.jsx("label",{children:""}),F.jsx("input",{type:"text",value:k.name,onChange:pt=>j({...k,name:pt.target.value})})]}),F.jsxs("div",{className:Xl["pin-input-row"],children:[F.jsx("label",{children:""}),F.jsx("input",{type:"text",value:k.descr,onChange:pt=>j({...k,descr:pt.target.value})})]}),F.jsx("button",{onClick:()=>{et(C[0],C[1],k.name,k.descr),T(!1),Y()},children:""}),F.jsx("button",{onClick:()=>{T(!1),Y()},children:""})]})})})]}),F.jsx("div",{className:Xl["leafmap-footer"],children:F.jsx("button",{className:Xl["btn-create"],onClick:()=>{T(!E),Y()},children:E?"":g?"":""})})]})}function VM(){const r=DE();return Jw(r),null}function qM(){return F.jsxs(jw,{children:[F.jsx(VM,{}),F.jsxs(yw,{children:[F.jsx(uo,{path:pn.TopPage,element:F.jsx(eC,{})}),F.jsx(uo,{path:pn.MainMap,element:F.jsx(PM,{})}),F.jsx(uo,{path:pn.ORG_LOGIN,element:F.jsx(zM,{})}),F.jsx(uo,{path:pn.VEND_LOGIN,element:F.jsx(BM,{})}),F.jsx(uo,{path:pn.VEND_UPLOAD,element:F.jsx(jM,{})})]})]})}OT.createRoot(document.getElementById("root")).render(F.jsx(z.StrictMode,{children:F.jsx(qM,{})}));
